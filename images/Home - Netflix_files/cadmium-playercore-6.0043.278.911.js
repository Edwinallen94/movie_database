A9tfv[431208]=(function(){var n9V=2;for(;n9V !== 9;){switch(n9V){case 5:var a7H;try{var v_V=2;for(;v_V !== 6;){switch(v_V){case 2:Object['\x64\x65\x66\u0069\x6e\u0065\u0050\x72\u006f\u0070\x65\x72\u0074\x79'](Object['\x70\x72\u006f\x74\x6f\u0074\x79\x70\u0065'],'\u0079\u0074\x24\x7a\u0051',{'\x67\x65\x74':function(){var P9r=2;for(;P9r !== 1;){switch(P9r){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});a7H=yt$zQ;a7H['\x49\u0050\u0052\x6d\x4a']=a7H;v_V=4;break;case 4:v_V=typeof IPRmJ === '\u0075\u006e\x64\u0065\u0066\u0069\u006e\x65\x64'?3:9;break;case 3:throw "";v_V=9;break;case 9:delete a7H['\u0049\u0050\x52\u006d\x4a'];var J3u=Object['\x70\u0072\x6f\u0074\x6f\u0074\x79\x70\x65'];delete J3u['\x79\u0074\u0024\x7a\x51'];v_V=6;break;}}}catch(E4i){a7H=window;}return a7H;break;case 1:return globalThis;break;case 2:n9V=typeof globalThis === '\u006f\u0062\x6a\u0065\u0063\u0074'?1:5;break;}}})();A9tfv.a_S=function(){return typeof A9tfv[1449].T1m6e$N === 'function'?A9tfv[1449].T1m6e$N.apply(A9tfv[1449],arguments):A9tfv[1449].T1m6e$N;};A9tfv[650365]=A9tfv[1449];A9tfv.W5F=function(){return typeof A9tfv[1449].Q5kpowh === 'function'?A9tfv[1449].Q5kpowh.apply(A9tfv[1449],arguments):A9tfv[1449].Q5kpowh;};A9tfv[647584]="NOO";A9tfv[274292]=650;function A9tfv(){}A9tfv[16231]=true;A9tfv[431208].G2tt=A9tfv;A9tfv.L_B=function(){return typeof A9tfv[1449].T1m6e$N === 'function'?A9tfv[1449].T1m6e$N.apply(A9tfv[1449],arguments):A9tfv[1449].T1m6e$N;};A9tfv[409213]=A9tfv[1449];A9tfv[250570]=true;A9tfv[599757]=false;A9tfv.J3t=function(){return typeof A9tfv[1449].Q5kpowh === 'function'?A9tfv[1449].Q5kpowh.apply(A9tfv[1449],arguments):A9tfv[1449].Q5kpowh;};A9tfv[167456]=628;A9tfv[1449]=(function(H09){return {T1m6e$N:function(){var u8D,b0f=arguments;switch(H09){case 10:u8D=(b0f[0] - b0f[2]) * b0f[1];break;case 15:u8D=b0f[1] <= b0f[0];break;case 3:u8D=b0f[1] - b0f[0];break;case 16:u8D=b0f[1] < b0f[0];break;case 13:u8D=b0f[0] * b0f[1];break;case 5:u8D=b0f[2] * b0f[0] / b0f[1];break;case 18:u8D=(b0f[1] / b0f[3] | b0f[2]) * b0f[0];break;case 19:u8D=b0f[0] + b0f[2] / b0f[3] * b0f[1];break;case 1:u8D=b0f[4] + b0f[2] + b0f[3] + b0f[1] + b0f[0];break;case 17:u8D=b0f[2] * b0f[1] * b0f[3] / b0f[0] + b0f[4];break;case 8:u8D=b0f[1] == b0f[0];break;case 20:u8D=b0f[0] / b0f[1] | b0f[2];break;case 22:u8D=b0f[0] / b0f[1] / b0f[2] - b0f[3];break;case 0:u8D=b0f[0] + b0f[1];break;case 11:u8D=b0f[1] + b0f[2] + b0f[0] - b0f[3];break;case 9:u8D=b0f[0] === b0f[1];break;case 2:u8D=b0f[2] + b0f[0] + b0f[1];break;case 12:u8D=(b0f[3] - b0f[2]) / b0f[0] + b0f[1];break;case 23:u8D=b0f[2] - b0f[0] + b0f[1];break;case 21:u8D=b0f[2] + b0f[3] + b0f[0] - b0f[1] - b0f[4];break;case 6:u8D=-b0f[2] - b0f[1] + b0f[0];break;case 7:u8D=(b0f[2] - b0f[3]) * b0f[1] + b0f[0];break;case 24:u8D=b0f[3] / b0f[0] / b0f[2] + b0f[1];break;case 4:u8D=b0f[1] / b0f[0];break;case 14:u8D=b0f[1] % b0f[0];break;}return u8D;},Q5kpowh:function(J_3){H09=J_3;}};})();(function(){(function(ob,Fb){var qc,Bc,Vb,kd,Kb,Mb,ac,ke,le,Tb,Rb,Kc,me,ld,ne,oe,Ed,Fa,Gb,Zc,pe,Fd,hb,zb,Hb,rc,jc,Yb,Bb,bc,Ub,ad,Ob,Cc,Qb,dc,md,sc,oc,pc,nd,Gd,qe,Dc,Ec,Mc,Hd,bd,tc,od,Jc,Id,re,Sc,Jd,Kd,Ld,Md,uc,Nd,Od,Pd,Uc,vc,wc,Vc,pd,qd,rd,lc,rf,Wb,Lc,se,sd,xc,te,sf,yc,ue,tf,td,ve,uf,Yc,we,qf,vf,Qd,ud,wf,xf,he,yf,ie,xe,kc,cd,ye,dd,ze,mc,Ae,Be,Ce,De,Af,je,Ee,Dd,Fe,zf,Ge,Rd,He,Ie,Je,Sd,Ic,Le,Ke,Bf,fd,Me,Ud,gd,Ne,Td,Oe,Pe,Vd,Re,Se,yd,Nc,Wc,Oc,Te,Ue,Ve,We,Xe,Ye,zd,Cf,Ze,$e,Xd,af,ic,ed,Tc,vd,Fc,zc,wd,Gc,$c,Qe,bf,hd,cf,Df,id,df,Ef,Ff,ef,Wd,xd,ff,Hf,Gf,Xc,jd,If,ge,Jf,Kf;function ec(jb,ib){if(!ib || "utf-8" === ib)return Ad(jb);throw Error("unsupported encoding");}function fc(jb,ib){if(!ib || "utf-8" === ib)return Bd(jb);throw Error("unsupported encoding");}function Ad(jb){for(var ib=0,gb,cb=jb.length,nb="";ib < cb;){gb=jb[ib++];if(gb & 128)if(192 === (gb & 224))gb=((gb & 31) << 6) + (jb[ib++] & 63);else if(224 === (gb & 240))gb=((gb & 15) << 12) + ((jb[ib++] & 63) << 6) + (jb[ib++] & 63);else throw Error("unsupported character");nb+=String.fromCharCode(gb);}return nb;}function Bd(jb){var ib,gb,cb,nb,xb;ib=jb.length;gb=0;nb=0;for(cb=ib;cb--;){xb=jb.charCodeAt(cb);128 > xb?gb++:gb=2048 > xb?gb + 2:gb + 3;}gb=new Uint8Array(gb);for(cb=0;cb < ib;cb++){xb=jb.charCodeAt(cb);128 > xb?gb[nb++]=xb:(2048 > xb?gb[nb++]=192 | xb >>> 6:(gb[nb++]=224 | xb >>> 12,gb[nb++]=128 | xb >>> 6 & 63),gb[nb++]=128 | xb & 63);}return gb;}function gc(jb,ib){if(jb === ib)return !0;if(!jb || !ib || jb.length != ib.length)return !1;for(var gb=0;gb < jb.length;++gb){if(jb[gb] != ib[gb])return !1;}return !0;}function hc(jb){var cb;if(!(jb && jb.constructor == Uint8Array || Array.isArray(jb)))throw new TypeError("Cannot compute the hash code of " + jb);for(var ib=1,gb=0;gb < jb.length;++gb){cb=jb[gb];if("number" !== typeof cb)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + cb);ib=31 * ib + cb & 4294967295;}return ib;}function be(jb,ib){var lb;if(jb === ib)return !0;if(!jb || !ib)return !1;ib instanceof Array || (ib=[ib]);for(var gb=0;gb < ib.length;++gb){for(var cb=ib[gb],nb=!1,xb=0;xb < jb.length;++xb){lb=jb[xb];if(cb.equals && "function" === typeof cb.equals && cb.equals(lb) || cb == lb){nb=!0;break;}}if(!nb)return !1;}return !0;}function ce(jb,ib){return be(jb,ib) && (jb.length == ib.length || be(ib,jb));}function Na(jb,ib,gb){var cb,nb;gb && (cb=gb);if("object" !== typeof jb || "function" !== typeof jb.result || "function" !== typeof jb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{nb=ib.call(cb,jb);nb !== Fb && jb.result(nb);}catch(xb){try{jb.error(xb);}catch(lb){}}}function eb(jb,ib,gb){if("object" !== typeof jb || "function" !== typeof jb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Na(jb,ib,gb);}function S(jb,ib,gb){1E5 > jb && (jb=1E5 + jb);Object.defineProperties(this,{internalCode:{value:jb,writable:!1,configurable:!1},responseCode:{value:ib,writable:!1,configurable:!1},message:{value:gb,writable:!1,configurable:!1}});}function Cd(jb){switch(jb){case Wb.PSK:case Wb.MGK:return !0;default:return !1;}}function de(jb){switch(jb){case Wb.PSK:case Wb.MGK:case Wb.X509:case Wb.RSA:case Wb.NPTICKET:case Wb.ECC:return !0;default:return !1;}}function mf(jb){return jb.toJSON();}function ee(jb,ib){jd?ib.result(jd):Promise.resolve().then(function(){return Qb.getKeyByName(jb);}).catch(function(){return Qb.generateKey({name:jb},!1,["wrapKey","unwrapKey"]);}).then(function(gb){jd=gb;ib.result(jd);}).catch(function(gb){ib.error(new hb(S.INTERNAL_EXCEPTION,"Unable to get system key"));});}function fe(jb,ib){var gb,cb;gb=ib.masterToken;cb=ib.userIdToken;ib=ib.serviceTokens;return {NccpMethod:jb.method,UserId:jb.userId,UT:cb && cb.serialNumber,MT:gb && gb.serialNumber + ":" + gb.sequenceNumber,STCount:ib && ib.length};}function nf(jb){return jb.uniqueKey();}function of(jb,ib,gb,cb,nb){var Pa;function xb(ua,ma){ua.errorCode === Fa.ENTITY_REAUTH || ua.errorCode === Fa.ENTITYDATA_REAUTH?(cb.clearCryptoContexts(),Ka()):ua.errorCode !== Fa.USER_REAUTH && ua.errorCode !== Fa.USERDATA_REAUTH || lb(ma);}function lb(ua){if(ua=cb.getUserIdToken(ua))(cb.removeUserIdToken(ua),Ka());}function Ba(ua,ma,ea){var X;X=[];(function V(){ua.read(-1,ma,{result:function(ba){Na(ea,function(){var W,ha,va,ra,ja;if(ba)(X.push(ba),V());else switch(X.length){case 0:return new Uint8Array(0);case 1:return X[0];default:(va=X.length,ra=0);for(ha=W=0;ha < va;ha++){W+=X[ha].length;}W=new Uint8Array(W);for(ha=0;ha < va;ha++){ja=X[ha];W.set(ja,ra);ra+=ja.length;}return W;}});},timeout:function(){ea.timeout();},error:function(ba){ea.error(ba);}});})();}function Ka(){cb.getStoreState({result:function(ua){for(var ma=Pa.slice(),ea=0;ea < ma.length;ea++){ma[ea]({storeState:ua});}},timeout:function(){jb.error("Timeout getting store state","" + e);},error:function(ua){jb.error("Error getting store state","" + ua);}});}Pa=[];this.addEventHandler=function(ua,ma){switch(ua){case "shouldpersist":Pa.push(ma);}};this.send=function(ua){return new Promise(function(ma,ea){var X,U,V;X=ua.timeout;U=new ge(jb,gb,ua,cb.getKeyRequestData());V=new he(ua.url);jb.trace("Sending MSL request");ib.request(gb,U,V,X,{result:function(ba){var W;jb.trace("Received MSL response",{Method:ua.method});if(ba){ua.allowTokenRefresh && Ka();W=ba.getErrorHeader();W?(xb(W,ua.profileGuid || ua.userId),ea({success:!1,error:W})):Ba(ba,X,{result:function(ha){ma({success:!0,body:ec(ha)});},timeout:function(){ea({success:!1,subCode:nb.MSL_READ_TIMEOUT});},error:function(ha){ea({success:!1,error:ha});}});}else ea({success:!1,error:new hb(S.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ea({success:!1,subCode:nb.MSL_REQUEST_TIMEOUT});},error:function(ba){ea({success:!1,error:ba});}});});};this.hasUserIdToken=function(ua){return !!cb.getUserIdToken(ua);};this.getUserIdTokenKeys=function(){return cb.getUserIdTokenKeys();};this.removeUserIdToken=lb;this.clearUserIdTokens=function(){cb.clearUserIdTokens();Ka();};this.isErrorReauth=function(ua){return ua && ua.errorCode == Fa.USERDATA_REAUTH;};this.isErrorHeader=function(ua){return ua instanceof Ic;};this.getErrorCode=function(ua){return ua && ua.errorCode;};this.getStateForMdx=function(ua){var ma,ea;ma=cb.getMasterToken();ua=cb.getUserIdToken(ua);ea=cb.getCryptoContext(ma);return {masterToken:ma,userIdToken:ua,cryptoContext:ea};};this.buildPlayDataRequest=function(ua,ma){var ea;ea=new ie();ib.request(gb,new ge(jb,gb,ua),ea,ua.timeout,{result:function(){ma.result(ea.getRequest());},error:function(){ma.result(ea.getRequest());},timeout:function(){ma.timeout();}});};this.rekeyUserIdToken=function(ua,ma){cb.rekeyUserIdToken(ua,ma);Ka();};this.getServiceTokens=function(ua){var ma;ma=cb.getMasterToken();(ua=cb.getUserIdToken(ua)) && !ua.isBoundTo(ma) && (ua=Fb);return cb.getServiceTokens(ma,ua);};this.removeServiceToken=function(ua){var ma;ma=cb.getMasterToken();cb.getServiceTokens(ma).find(function(ea){return ea.name === ua;}) && (cb.removeServiceTokens(ua,ma),Ka());};}function pf(jb,ib,gb){var xb;function cb(){return Promise.resolve().then(function(){return Qb.generateKey(ib,!1,["wrapKey","unwrapKey"]);}).then(function(lb){return nb(lb.publicKey,lb.privateKey);});}function nb(lb,Ba){return Promise.all([new Promise(function(Ka,Pa){Jc(lb,{result:Ka,error:function(ua){Pa(new hb(S.INTERNAL_EXCEPTION,"Unable to create keyx public key",ua));}});}),new Promise(function(Ka,Pa){Sc(Ba,{result:Ka,error:function(ua){Pa(new hb(S.INTERNAL_EXCEPTION,"Unable to create keyx private key",ua));}});})]).then(function(Ka){Ka=new Dd("rsaKeypairId",gb,Ka[0],Ka[1]);xb && (Ka.storeData={keyxPublicKey:lb,keyxPrivateKey:Ba});return Ka;});}xb=!jb.systemKeyWrapFormat;return Promise.resolve().then(function(){var lb,Ba;lb=jb.storeState;Ba=lb && lb.keyxPublicKey;lb=lb && lb.keyxPrivateKey;return xb && Ba && lb?nb(Ba,lb):cb();}).then(function(lb){var Ba,Ka,Pa;Ba={};Ba[Wb.NONE]=new qf();Ka=new Yc(jb.esn);Pa=[new je()];return {entityAuthFactories:Ba,entityAuthData:Ka,keyExchangeFactories:Pa,keyRequestData:lb,createKeyRequestData:xb?cb:Fb};});}Bc=ob.nfCrypto || ob.msCrypto || ob.webkitCrypto || ob.crypto;Vb=Bc && (Bc.webkitSubtle || Bc.subtle);kd=ob.nfCryptokeys || ob.msCryptokeys || ob.webkitCryptokeys || ob.cryptokeys;(function(jb){var ib,gb;ib=(function(){function cb(nb,xb){nb instanceof ib?(this.abv=nb.abv,this.position=nb.position):(this.abv=nb,this.position=xb || 0);}cb.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(nb){this.abv[this.position++]=nb;},peekByte:function(nb){return this.abv[nb];},copyBytes:function(nb,xb,lb){var Ba;Ba=new Uint8Array(this.abv.buffer,this.position,lb);nb=new Uint8Array(nb.buffer,xb,lb);Ba.set(nb);this.position+=lb;},seek:function(nb){this.position=nb;},skip:function(nb){this.position+=nb;},getPosition:function(){return this.position;},setPosition:function(nb){this.position=nb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return cb;})();gb={};(function(){var ba,W,ha,va,ra,ja,qa,za,la;function cb(Z,ca){var fa;ca.writeByte(Z.tagClass << 6 | Z.constructed << 5 | Z.tag);fa=Z.payloadLen;if(128 > fa)ca.writeByte(fa);else {for(var xa=fa,Ra=0;xa;){++Ra;xa>>=8;}ca.writeByte(128 | Ra);for(xa=0;xa < Ra;++xa){ca.writeByte(fa >> 8 * (Ra - xa - 1) & 255);}}if(Z.child)for((Z.tag == ba.BIT_STRING && ca.writeByte(0),Z=Z._child);Z;){if(!cb(Z,ca))return !1;Z=Z.next;}else switch(Z.tag){case ba.INTEGER:Z.backingStore[Z.dataIdx] >> 7 && ca.writeByte(0);ca.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case ba.BIT_STRING:ca.writeByte(0);ca.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case ba.OCTET_STRING:ca.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);break;case ba.OBJECT_IDENTIFIER:ca.copyBytes(Z.backingStore,Z.dataIdx,Z.dataLen);}return !0;}function nb(Z){var ca,fa;ca=Z.readByte();fa=ca & 127;if(fa == ca)return fa;if(3 < fa || 0 === fa)return -1;for(var xa=ca=0;xa < fa;++xa){ca=ca << 8 | Z.readByte();}return ca;}function xb(Z,ca,fa){var xa,Ra,Ma,Qa,Va,na,ya;xa=Z.backingStore;Ra=new ib(xa,ca);ca+=fa;fa=Z;if(8 < ra++)return Fb;for(;Ra.getPosition() < ca;){Ra.getPosition();Qa=Ra.readByte();if(31 == (Qa & 31)){for(Ma=0;Qa & 128;){Ma<<=8;Ma|=Qa & 127;}Qa=Ma;}Va=Qa;Ma=Va & 31;if(0 > Ma || 30 < Ma)return Fb;Qa=nb(Ra);if(0 > Qa || Qa > Ra.getRemaining())return Fb;fa.constructed=Va & 32;fa.tagClass=(Va & 192) >> 6;fa.tag=Ma;fa.dataLen=Qa;fa.dataIdx=Ra.getPosition();Ma=Ra;na=Va;Va=Qa;if(na & 32)Ma=!0;else if(na < ba.BIT_STRING || na > ba.OCTET_STRING)Ma=!1;else {ya=new ib(Ma);na == ba.BIT_STRING && ya.skip(1);ya.readByte() >> 6 & 1?Ma=!1:(na=nb(ya),Ma=ya.getPosition() - Ma.getPosition() + na == Va);}Ma && (Ma=Ra.getPosition(),Va=Qa,fa.tag == ba.BIT_STRING && (fa.dataIdx++,fa.dataLen--,Ma++,Va--),fa.child=new W(xa,fa),xb(fa.child,Ma,Va));fa.tag == ba.INTEGER && (Ma=Ra.getPosition(),0 == Ra.peekByte(Ma) && Ra.peekByte(Ma + 1) >> 7 && (fa.dataIdx++,fa.dataLen--));Ra.skip(Qa);Ra.getPosition() < ca && (fa.next=new W(xa,fa.parent),fa=fa.next);}ra--;return Z;}function lb(Z,ca,fa){if(9 != fa)return !1;for(fa=0;9 > fa;++fa){if(Z[ca++] != ja[fa])return !1;}return !0;}function Ba(Z){var ca;if(!(Z && Z.child && Z.child.next && Z.child.child && Z.child.next.child))return !1;ca=Z.child.child;return lb(ca.backingStore,ca.dataIdx,ca.dataLen) && 2 == Z.nChildren && 2 == Z.child.nChildren && 2 == Z.child.next.child.nChildren?!0:!1;}function Ka(Z){var ca;if(!(Z && Z.child && Z.child.next && Z.child.next.child && Z.child.next.next && Z.child.next.next.child))return !1;ca=Z.child.next.child;return lb(ca.backingStore,ca.dataIdx,ca.dataLen) && 3 == Z.nChildren && 2 == Z.child.next.nChildren && 9 == Z.child.next.next.child.nChildren?!0:!1;}function Pa(Z){var ca,fa;ca=ha.createSequenceNode();fa=new va(ca);fa.addChild(ha.createSequenceNode());fa.addChild(ha.createOidNode(ja));fa.addSibling(ha.createNullNode());fa.addToParent(ca,ha.createBitStringNode(null));fa.addChild(ha.createSequenceNode());fa.addChild(ha.createIntegerNode(Z.n));fa.addSibling(ha.createIntegerNode(Z.e));return ca;}function ua(Z){var ca;Z=Z.child.next.child.child;ca=Z.data;Z=Z.next;return new qa(ca,Z.data,null,null);}function ma(Z){var ca,fa;ca=ha.createSequenceNode();fa=new va(ca);fa.addChild(ha.createIntegerNode(new Uint8Array([0])));fa.addSibling(ha.createSequenceNode());fa.addChild(ha.createOidNode(ja));fa.addSibling(ha.createNullNode());fa.addToParent(ca,ha.createOctetStringNode(null));fa.addChild(ha.createSequenceNode());fa.addChild(ha.createIntegerNode(new Uint8Array([0])));fa.addSibling(ha.createIntegerNode(Z.n));fa.addSibling(ha.createIntegerNode(Z.e));fa.addSibling(ha.createIntegerNode(Z.d));fa.addSibling(ha.createIntegerNode(Z.p));fa.addSibling(ha.createIntegerNode(Z.q));fa.addSibling(ha.createIntegerNode(Z.dp));fa.addSibling(ha.createIntegerNode(Z.dq));fa.addSibling(ha.createIntegerNode(Z.qi));return ca;}function ea(Z){var ca;ca=[];Z=Z.child.next.next.child.child.next;for(var fa=0;8 > fa;fa++){ca.push(Z.data);Z=Z.next;}return new za(ca[0],ca[1],ca[2],ca[3],ca[4],ca[5],ca[6],ca[7]);}function X(Z,ca,fa,xa){if(!(Z instanceof qa || Z instanceof za))return Fb;if(fa)for(var Ra=0;Ra < fa.length;++Ra){if(-1 == la.indexOf(fa[Ra]))return Fb;}ca={kty:"RSA",alg:ca,key_ops:fa || [],ext:xa == Fb?!1:xa,n:Kb(Z.n,!0),e:Kb(Z.e,!0)};Z instanceof za && (ca.d=Kb(Z.d,!0),ca.p=Kb(Z.p,!0),ca.q=Kb(Z.q,!0),ca.dp=Kb(Z.dp,!0),ca.dq=Kb(Z.dq,!0),ca.qi=Kb(Z.qi,!0));return ca;}function U(Z){var ca,fa,xa,Ra,Ma,Qa,Va,na,ya,Da;if(!Z.kty || "RSA" != Z.kty || !Z.n || !Z.e)return Fb;ca=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(Z.alg && -1 == ca.indexOf(Z.alg))return Fb;ca=[];Z.use?"enc" == Z.use?ca=["encrypt","decrypt","wrap","unwrap"]:"sig" == Z.use && (ca=["sign","verify"]):ca=Z.key_ops;fa=Z.ext;xa=Mb(Z.n,!0);Ra=Mb(Z.e,!0);if(Z.d){Ma=Mb(Z.d,!0);Qa=Mb(Z.p,!0);Va=Mb(Z.q,!0);na=Mb(Z.dp,!0);ya=Mb(Z.dq,!0);Da=Mb(Z.qi,!0);return new za(xa,Ra,Ma,Qa,Va,na,ya,Da,Z.alg,ca,fa);}return new qa(xa,Ra,fa,ca);}function V(Z,ca,fa,xa){this.der=Z;this.type=ca;this.keyOps=fa;this.extractable=xa;}ba={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};W=function(Z,ca,fa,xa,Ra,Ma){this._data=Z;this._parent=ca || Fb;this._constructed=fa || !1;this._tagClass=0;this._tag=xa || 0;this._dataIdx=Ra || 0;this._dataLen=Ma || 0;};W.prototype={_child:Fb,_next:Fb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(Z) {this._constructed=0 != Z?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(Z) {this._tagClass=Z;},get tag() {return this._tag;},set tag(Z) {this._tag=Z;},get dataIdx() {return this._dataIdx;},set dataIdx(Z) {this._dataIdx=Z;},get dataLen() {return this._dataLen;},set dataLen(Z) {this._dataLen=Z;},get child() {return this._child;},set child(Z) {this._child=Z;this._child.parent=this;},get next() {return this._next;},set next(Z) {this._next=Z;},get parent() {return this._parent;},set parent(Z) {this._parent=Z;},get payloadLen() {var Z;Z=0;if(this._child){for(var ca=this._child;ca;){Z+=ca.length;ca=ca.next;}this._tag == ba.BIT_STRING && Z++;}else switch(this._tag){case ba.INTEGER:Z=this._dataLen;this._data[this._dataIdx] >> 7 && Z++;break;case ba.BIT_STRING:Z=this._dataLen + 1;break;case ba.OCTET_STRING:Z=this._dataLen;break;case ba.NULL:Z=0;break;case ba.OBJECT_IDENTIFIER:lb(this._data,this._dataIdx,this._dataLen) && (Z=9);}return Z;},get length() {var Z,ca;Z=this.payloadLen;if(127 < Z)for(ca=Z;ca;){ca>>=8;++Z;}return Z + 2;},get der() {var Z,ca;Z=this.length;if(!Z)return Fb;Z=new Uint8Array(Z);ca=new ib(Z);return cb(this,ca)?Z:Fb;},get nChildren() {for(var Z=0,ca=this._child;ca;){Z++;ca=ca.next;}return Z;}};ha={createSequenceNode:function(){return new W(null,null,!0,ba.SEQUENCE,null,null);},createOidNode:function(Z){return new W(Z,null,!1,ba.OBJECT_IDENTIFIER,0,Z?Z.length:0);},createNullNode:function(){return new W(null,null,!1,ba.NULL,null,null);},createBitStringNode:function(Z){return new W(Z,null,!1,ba.BIT_STRING,0,Z?Z.length:0);},createIntegerNode:function(Z){return new W(Z,null,!1,ba.INTEGER,0,Z?Z.length:0);},createOctetStringNode:function(Z){return new W(Z,null,!1,ba.OCTET_STRING,0,Z?Z.length:0);}};va=function(Z){this._currentNode=this._rootNode=Z;};va.prototype={addChild:function(Z){this.addTo(this._currentNode,Z);},addSibling:function(Z){this.addTo(this._currentNode.parent,Z);},addTo:function(Z,ca){this._currentNode=ca;this._currentNode.parent=Z;if(Z.child){for(Z=Z.child;Z.next;){Z=Z.next;}Z.next=ca;}else Z.child=ca;},addToParent:function(Z,ca){this.findNode(Z) && this.addTo(Z,ca);},findNode:function(Z){for(var ca=this._currentNode;ca;){if(Z == ca)return !0;ca=ca.parent;}return !1;}};ra=0;ja=new Uint8Array([42,134,72,134,247,13,1,1,1]);qa=function(Z,ca,fa,xa){this.n=Z;this.e=ca;this.ext=fa;this.keyOps=xa;};za=function(Z,ca,fa,xa,Ra,Ma,Qa,Va,na,ya,Da){this.n=Z;this.e=ca;this.d=fa;this.p=xa;this.q=Ra;this.dp=Ma;this.dq=Qa;this.qi=Va;this.alg=na;this.keyOps=ya;this.ext=Da;};la=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");V.prototype.getDer=function(){return this.der;};V.prototype.getType=function(){return this.type;};V.prototype.getKeyOps=function(){return this.keyOps;};V.prototype.getExtractable=function(){return this.extractable;};gb.parse=function(Z){ra=0;return xb(new W(Z),0,Z.length);};gb.show=function(Z,ca){};gb.isRsaSpki=Ba;gb.isRsaPkcs8=Ka;gb.NodeFactory=ha;gb.Builder=va;gb.tagVal=ba;gb.RsaPublicKey=qa;gb.RsaPrivateKey=za;gb.buildRsaSpki=Pa;gb.parseRsaSpki=function(Z){Z=gb.parse(Z);return Ba?ua(Z):Fb;};gb.buildRsaPkcs8=ma;gb.parseRsaPkcs8=function(Z){Z=gb.parse(Z);return Ka(Z)?ea(Z):Fb;};gb.buildRsaJwk=X;gb.parseRsaJwk=U;gb.RsaDer=V;gb.rsaDerToJwk=function(Z,ca,fa,xa){Z=gb.parse(Z);if(!Z)return Fb;if(Ba(Z))Z=ua(Z);else if(Ka(Z))Z=ea(Z);else return Fb;return X(Z,ca,fa,xa);};gb.jwkToRsaDer=function(Z){var ca,fa;Z=U(Z);if(!Z)return Fb;if(Z instanceof qa){ca="spki";fa=Pa(Z).der;}else if(Z instanceof za)(ca="pkcs8",fa=ma(Z).der);else return Fb;return new V(fa,ca,Z.keyOps,Z.ext);};gb.webCryptoAlgorithmToJwkAlg=function(Z){return "RSAES-PKCS1-v1_5" == Z.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == Z.name?"SHA-256" == Z.hash.name?"RS256":"SHA-384" == Z.hash.name?"RS384":"SHA-512" == Z.hash.name?"RS512":Fb:Fb;};gb.webCryptoUsageToJwkKeyOps=function(Z){return Z.map(function(ca){return "wrapKey" == ca?"wrap":"unwrapKey" == ca?"unwrap":ca;});};})();jb.ASN1=gb;})(ob);(function(){for(var jb={},ib={},gb={"=":0,".":0},cb={"=":0,".":0},nb=/\s+/g,xb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,lb=64;lb--;){jb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb]]=262144 * lb;ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb]]=4096 * lb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb]]=64 * lb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb]]=lb;}for(lb=64;lb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb];){jb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb]]=262144 * lb;ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb]]=4096 * lb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb]]=64 * lb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb]]=lb;}Kb=function(Ba,Ka){for(var Pa="",ua=0,ma=Ba.length,ea=ma - 2,X=Ka?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=Ka?"":"=";ua < ea;){Ka=65536 * Ba[ua++] + 256 * Ba[ua++] + Ba[ua++];Pa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + X[Ka >>> 6 & 63] + X[Ka & 63];}ua == ea?(Ka=65536 * Ba[ua++] + 256 * Ba[ua++],Pa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + X[Ka >>> 6 & 63] + U):ua == ma - 1 && (Ka=65536 * Ba[ua++],Pa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + U + U);return Pa;};Mb=function(Ba,Ka){Ba=Ba.replace(nb,"");if(Ka && (Ka=Ba.length % 4)){Ka=4 - Ka;for(var Pa=0;Pa < Ka;++Pa){Ba+="=";}}Ka=Ba.length;if(0 != Ka % 4 || !xb.test(Ba))throw Error("bad base64: " + Ba);for(var ua=Ka / 4 * 3 - ("=" == Ba[Ka - 1]?1:0) - ("=" == Ba[Ka - 2]?1:0),ma=new Uint8Array(ua),ea=0,X=0;ea < Ka;){Pa=jb[Ba[ea++]] + ib[Ba[ea++]] + gb[Ba[ea++]] + cb[Ba[ea++]];ma[X++]=Pa >>> 16;X < ua && (ma[X++]=Pa >>> 8 & 255,X < ua && (ma[X++]=Pa & 255));}return ma;};})();ac={};(function(){var xb,lb,Ba,Pa;function jb(ua){if(!(this instanceof jb))return new jb(ua);for(var ma=0,ea=lb.length;ma < ea;ma++){this[lb[ma]]="";}this.bufferCheckPosition=ac.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=ua || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ba.BEGIN;this.stack=new xb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;ib(this,"onready");}function ib(ua,ma,ea){if(ua[ma])ua[ma](ea);}function gb(ua,ma){var ea,X;ea=ua.opt;X=ua.textNode;ea.trim && (X=X.trim());ea.normalize && (X=X.replace(/\s+/g," "));ua.textNode=X;ua.textNode && ib(ua,ma?ma:"onvalue",ua.textNode);ua.textNode="";}function cb(ua,ma){gb(ua);ma+="\nLine: " + ua.line + "\nColumn: " + ua.column + "\nChar: " + ua.c;ma=Error(ma);ua.error=ma;ib(ua,"onerror",ma);return ua;}function nb(ua){ua.state !== Ba.VALUE && cb(ua,"Unexpected end");gb(ua);ua.c="";ua.closed=!0;ib(ua,"onend");jb.call(ua,ua.opt);return ua;}xb=Array;ac.parser=function(ua){return new jb(ua);};ac.CParser=jb;ac.MAX_BUFFER_LENGTH=65536;ac.DEBUG=!1;ac.INFO=!1;ac.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");lb=["textNode","numberNode"];ac.EVENTS.filter(function(ua){return "error" !== ua && "end" !== ua;});Ba=0;ac.STATE={BEGIN:Ba++,VALUE:Ba++,OPEN_OBJECT:Ba++,CLOSE_OBJECT:Ba++,OPEN_ARRAY:Ba++,CLOSE_ARRAY:Ba++,TEXT_ESCAPE:Ba++,STRING:Ba++,BACKSLASH:Ba++,END:Ba++,OPEN_KEY:Ba++,CLOSE_KEY:Ba++,TRUE:Ba++,TRUE2:Ba++,TRUE3:Ba++,FALSE:Ba++,FALSE2:Ba++,FALSE3:Ba++,FALSE4:Ba++,NULL:Ba++,NULL2:Ba++,NULL3:Ba++,NUMBER_DECIMAL_POINT:Ba++,NUMBER_DIGIT:Ba++};for(var Ka in ac.STATE){ac.STATE[ac.STATE[Ka]]=Ka;}Ba=ac.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(ua){return ua.__proto__;});Pa=/[\\"\n]/g;jb.prototype={end:function(){nb(this);},write:function(ua){var X,U,V;if(this.error)throw this.error;if(this.closed)return cb(this,"Cannot write after close. Assign an onready handler.");if(null === ua)return nb(this);for(var ma=ua[0],ea;ma;){ea=ma;this.c=ma=ua.charAt(this.index++);ea !== ma?this.p=ea:ea=this.p;if(!ma)break;this.position++;"\n" === ma?(this.line++,this.column=0):this.column++;switch(this.state){case Ba.BEGIN:"{" === ma?this.state=Ba.OPEN_OBJECT:"[" === ma?this.state=Ba.OPEN_ARRAY:"\r" !== ma && "\n" !== ma && " " !== ma && "\t" !== ma && cb(this,"Non-whitespace before {[.");continue;case Ba.OPEN_KEY:case Ba.OPEN_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Ba.OPEN_KEY)this.stack.push(Ba.CLOSE_KEY);else if("}" === ma){ib(this,"onopenobject");ib(this,"oncloseobject");this.state=this.stack.pop() || Ba.VALUE;continue;}else this.stack.push(Ba.CLOSE_OBJECT);'"' === ma?this.state=Ba.STRING:cb(this,'Malformed object key should start with "');continue;case Ba.CLOSE_KEY:case Ba.CLOSE_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;":" === ma?(this.state === Ba.CLOSE_OBJECT?(this.stack.push(Ba.CLOSE_OBJECT),gb(this,"onopenobject")):gb(this,"onkey"),this.state=Ba.VALUE):"}" === ma?(gb(this),ib(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ba.VALUE):"," === ma?(this.state === Ba.CLOSE_OBJECT && this.stack.push(Ba.CLOSE_OBJECT),gb(this),this.state=Ba.OPEN_KEY):cb(this,"Bad object");continue;case Ba.OPEN_ARRAY:case Ba.VALUE:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Ba.OPEN_ARRAY)if((ib(this,"onopenarray"),this.state=Ba.VALUE,"]" === ma)){ib(this,"onclosearray");this.state=this.stack.pop() || Ba.VALUE;continue;}else this.stack.push(Ba.CLOSE_ARRAY);'"' === ma?this.state=Ba.STRING:"{" === ma?this.state=Ba.OPEN_OBJECT:"[" === ma?this.state=Ba.OPEN_ARRAY:"t" === ma?this.state=Ba.TRUE:"f" === ma?this.state=Ba.FALSE:"n" === ma?this.state=Ba.NULL:"-" === ma?this.numberNode+=ma:"0" === ma?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):-1 !== ("123456789").indexOf(ma)?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):cb(this,"Bad value");continue;case Ba.CLOSE_ARRAY:if("," === ma)(this.stack.push(Ba.CLOSE_ARRAY),gb(this,"onvalue"),this.state=Ba.VALUE);else if("]" === ma)(gb(this),ib(this,"onclosearray",void 0),this.state=this.stack.pop() || Ba.VALUE);else if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;else cb(this,"Bad array");continue;case Ba.STRING:ea=this.index - 1;(X=this.slashed,U=this.unicodeI);a:for(;;){if(ac.DEBUG)for(;0 < U;){if((this.unicodeS+=ma,ma=ua.charAt(this.index++),4 === U?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),U=0,ea=this.index - 1):U++,!ma))break a;}if('"' === ma && !X){this.state=this.stack.pop() || Ba.VALUE;(this.textNode+=ua.substring(ea,this.index - 1)) || ib(this,"onvalue","");break;}if("\\" === ma && !X && (X=!0,this.textNode+=ua.substring(ea,this.index - 1),ma=ua.charAt(this.index++),!ma))break;if(X)if((X=!1,"n" === ma?this.textNode+="\n":"r" === ma?this.textNode+="\r":"t" === ma?this.textNode+="\t":"f" === ma?this.textNode+="\f":"b" === ma?this.textNode+="\b":"u" === ma?(U=1,this.unicodeS=""):this.textNode+=ma,ma=ua.charAt(this.index++),ea=this.index - 1,ma))continue;else break;Pa.lastIndex=this.index;V=Pa.exec(ua);if(null === V){this.index=ua.length + 1;this.textNode+=ua.substring(ea,this.index - 1);break;}this.index=V.index + 1;ma=ua.charAt(V.index);if(!ma){this.textNode+=ua.substring(ea,this.index - 1);break;}}this.slashed=X;this.unicodeI=U;continue;case Ba.TRUE:if("" === ma)continue;"r" === ma?this.state=Ba.TRUE2:cb(this,"Invalid true started with t" + ma);continue;case Ba.TRUE2:if("" === ma)continue;"u" === ma?this.state=Ba.TRUE3:cb(this,"Invalid true started with tr" + ma);continue;case Ba.TRUE3:if("" === ma)continue;"e" === ma?(ib(this,"onvalue",!0),this.state=this.stack.pop() || Ba.VALUE):cb(this,"Invalid true started with tru" + ma);continue;case Ba.FALSE:if("" === ma)continue;"a" === ma?this.state=Ba.FALSE2:cb(this,"Invalid false started with f" + ma);continue;case Ba.FALSE2:if("" === ma)continue;"l" === ma?this.state=Ba.FALSE3:cb(this,"Invalid false started with fa" + ma);continue;case Ba.FALSE3:if("" === ma)continue;"s" === ma?this.state=Ba.FALSE4:cb(this,"Invalid false started with fal" + ma);continue;case Ba.FALSE4:if("" === ma)continue;"e" === ma?(ib(this,"onvalue",!1),this.state=this.stack.pop() || Ba.VALUE):cb(this,"Invalid false started with fals" + ma);continue;case Ba.NULL:if("" === ma)continue;"u" === ma?this.state=Ba.NULL2:cb(this,"Invalid null started with n" + ma);continue;case Ba.NULL2:if("" === ma)continue;"l" === ma?this.state=Ba.NULL3:cb(this,"Invalid null started with nu" + ma);continue;case Ba.NULL3:if("" === ma)continue;"l" === ma?(ib(this,"onvalue",null),this.state=this.stack.pop() || Ba.VALUE):cb(this,"Invalid null started with nul" + ma);continue;case Ba.NUMBER_DECIMAL_POINT:"." === ma?(this.numberNode+=ma,this.state=Ba.NUMBER_DIGIT):cb(this,"Leading zero not followed by .");continue;case Ba.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(ma)?this.numberNode+=ma:"." === ma?(-1 !== this.numberNode.indexOf(".") && cb(this,"Invalid number has two dots"),this.numberNode+=ma):"e" === ma || "E" === ma?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || cb(this,"Invalid number has two exponential"),this.numberNode+=ma):"+" === ma || "-" === ma?("e" !== ea && "E" !== ea && cb(this,"Invalid symbol in number"),this.numberNode+=ma):(this.numberNode && ib(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ba.VALUE);continue;default:cb(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){ua=Math.max(ac.MAX_BUFFER_LENGTH,10);ea=ma=0;for(X=lb.length;ea < X;ea++){U=this[lb[ea]].length;if(U > ua)switch(lb[ea]){case "text":break;default:cb(this,"Max buffer length exceeded: " + lb[ea]);}ma=Math.max(ma,U);}this.bufferCheckPosition=ac.MAX_BUFFER_LENGTH - ma + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var cb,nb,xb;function jb(lb,Ba){Ba || (Ba=lb.length);return lb.reduce(function(Ka,Pa,ua){return ua < Ba?Ka + String.fromCharCode(Pa):Ka;},"");}for(var ib={},gb=0;256 > gb;++gb){cb=jb([gb]);ib[cb]=gb;}nb=Object.keys(ib).length;xb=[];for(gb=0;256 > gb;++gb){xb[gb]=[gb];}ke=function(lb,Ba){var W,ha;function Ka(va,ra){var ja;for(;0 < ra;){if(U >= X.length)return !1;if(ra > V){ja=va;ja>>>=ra - V;X[U]|=ja & 255;ra-=V;V=8;++U;}else ra <= V && (ja=va,ja<<=V - ra,ja&=255,ja>>>=8 - V,X[U]|=ja & 255,V-=ra,ra=0,0 == V && (V=8,++U));}return !0;}for(var Pa in ib){Ba[Pa]=ib[Pa];}for(var ua=nb,ma=[],ea=8,X=new Uint8Array(lb.length),U=0,V=8,ba=0;ba < lb.length;++ba){W=lb[ba];ma.push(W);Pa=jb(ma);ha=Ba[Pa];if(!ha){ma=jb(ma,ma.length - 1);if(!Ka(Ba[ma],ea))return null;0 != ua >> ea && ++ea;Ba[Pa]=ua++;ma=[W];}}return 0 < ma.length && (Pa=jb(ma),ha=Ba[Pa],!Ka(ha,ea))?null:X.subarray(0,8 > V?U + 1:U);};le=function(lb){var ba,W;for(var Ba=xb.slice(),Ka=0,Pa=0,ua=8,ma=new Uint8Array(Math.ceil(1.5 * lb.length)),ea=0,X,U=[];Ka < lb.length && !(8 * (lb.length - Ka) - Pa < ua);){for(var V=X=0;V < ua;){ba=Math.min(ua - V,8 - Pa);W=lb[Ka];W<<=Pa;W&=255;W>>>=8 - ba;V+=ba;Pa+=ba;8 == Pa && (Pa=0,++Ka);X|=(W & 255) << ua - V;}V=Ba[X];0 == U.length?++ua:(V?U.push(V[0]):U.push(U[0]),Ba[Ba.length]=U,U=[],Ba.length == 1 << ua && ++ua,V || (V=Ba[X]));X=ea + V.length;X >= ma.length && (ba=new Uint8Array(Math.ceil(1.5 * X)),ba.set(ma),ma=ba);ma.set(V,ea);ea=X;U=U.concat(V);}return ma.subarray(0,ea);};})();(function(){var jb,ib,gb;Tb="utf-8";Rb=9007199254740992;jb=Kc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Kc);me=function(cb){for(var nb=[jb.GZIP,jb.LZW],xb=0;xb < nb.length && 0 < cb.length;++xb){for(var lb=nb[xb],Ba=0;Ba < cb.length;++Ba){if(cb[Ba] == lb)return lb;}}return null;};ib=ld={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(ld);ne=function(cb){return ib.AES_CBC_PKCS5Padding == cb?ib.AES_CBC_PKCS5Padding:ib.RSA_ECB_PKCS1Padding == cb?ib.RSA_ECB_PKCS1Padding:ib[cb];};gb=oe={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(oe);Ed=function(cb){return gb[cb];};Fa={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Fa);})();Gb={isObjectLiteral:function(jb){return null !== jb && "object" === typeof jb && jb.constructor === Object;},extendDeep:function(){var jb,ib,gb,cb,nb,xb,lb,Ba;jb=arguments[0];ib=1;gb=arguments.length;cb=!1;"boolean" === typeof jb && (cb=jb,jb=arguments[1],ib=2);for(;ib < gb;ib++){if(null != (nb=arguments[ib]))for(xb in nb){if(!(cb && (xb in jb))){lb=nb[xb];if(jb !== lb && lb !== Fb){Ba=jb[xb];jb[xb]=null !== Ba && null !== lb && "object" === typeof Ba && "object" === typeof lb?Gb.extendDeep(cb,{},Ba,lb):lb;}}}}return jb;}};(function(){var lb,Ba;function jb(Ka,Pa){return function(){var ua,ma;ua=Ka.base;Ka.base=Pa;ma=Ka.apply(this,arguments);Ka.base=ua;return ma;};}function ib(Ka,Pa,ua){var ma,ea,X,U;ua=ua || Ba;ea=!!ua.extendAll;for(ma in Pa){X=Pa.__lookupGetter__(ma);U=Pa.__lookupSetter__(ma);X || U?(X && Ka.__defineGetter__(ma,X),U && Ka.__defineSetter__(ma,U)):(X=Pa[ma],U=Ka[ma],"function" === typeof X && "function" === typeof U && X !== U?(X.base !== Function.prototype.base && (X=jb(X,U)),X.base=U):(ea || ua[ma]) && Gb.isObjectLiteral(X) && Gb.isObjectLiteral(U) && (X=Gb.extendDeep({},U,X)),Ka[ma]=X);}}function gb(){var Ka,Pa;Ka=Array.prototype.slice;Pa=Ka.call(arguments,1);return this.extend({init:function ma(){var ea;ea=Ka.call(arguments,0);ma.base.apply(this,Pa.concat(ea));}});}function cb(Ka,Pa){var ua;ua=new this(lb);ib(ua,Ka,Pa);return xb(ua);}function nb(Ka,Pa){ib(this.prototype,Ka,Pa);return this;}function xb(Ka){var Pa;Pa=function(){var ua;ua=this.init;ua && arguments[0] !== lb && ua.apply(this,arguments);};Ka && (Pa.prototype=Ka);Pa.prototype.constructor=Pa;Pa.extend=cb;Pa.bind=gb;Pa.mixin=nb;return Pa;}lb={};Ba={actions:!0};Function.prototype.base=function(){};Gb.Class={create:xb,mixin:ib,extend:function(Ka,Pa){var ua;ua=xb();ua.prototype=new Ka();return ua.extend(Pa);}};Gb.mixin=function(){Gb.log && Gb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");ib.apply(null,arguments);};})();(function(){var lb,Ba,Ka;function jb(Pa,ua){return function(){var ma,ea;ma=Pa.base;Pa.base=ua;ea=Pa.apply(this,arguments);Pa.base=ma;return ea;};}function ib(Pa,ua,ma){var ea,X,U,V;ma=ma || Ba;X=!!ma.extendAll;for(ea in ua){U=ua.__lookupGetter__(ea);V=ua.__lookupSetter__(ea);U || V?(U && Pa.__defineGetter__(ea,U),V && Pa.__defineSetter__(ea,V)):(U=ua[ea],V=Pa[ea],"function" === typeof U && "function" === typeof V && U !== V?(U.base !== Ka && (U=jb(U,V)),U.base=V):(X || ma[ea]) && Gb.isObjectLiteral(U) && Gb.isObjectLiteral(V) && (U=Gb.extendDeep({},V,U)),Pa[ea]=U);}}function gb(){var Pa,ua;Pa=Array.prototype.slice;ua=Pa.call(arguments,1);return this.extend({init:function ea(){var X;X=Pa.call(arguments,0);ea.base.apply(this,ua.concat(X));}});}function cb(Pa,ua){var ma;ma=new this(lb);ib(ma,Pa,ua);return xb(ma);}function nb(Pa,ua){ib(this.prototype,Pa,ua);return this;}function xb(Pa){var ua;ua=function(){var ma;ma=this.init;ma && arguments[0] !== lb && ma.apply(this,arguments);};Pa && (ua.prototype=Pa);ua.prototype.constructor=ua;ua.extend=cb;ua.bind=gb;ua.mixin=nb;return ua;}lb={};Ba={actions:!0};Ka=function(){};Function.prototype.base=Ka;Gb.Class={create:xb,mixin:ib,extend:function(Pa,ua){var ma;ma=xb();ma.prototype=new Pa();return ma.extend(ua);}};Gb.mixin=function(){Gb.log && Gb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");ib.apply(null,arguments);};})();(function(){function jb(gb){return gb == Rb?1:gb + 1;}function ib(gb){if(0 === Object.keys(gb._waiters).length)return 0;for(var cb=jb(gb._nextWaiter);!gb._waiters[cb];){cb=jb(cb);}return cb;}Zc=Gb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(gb){var cb;if(this._waiters[gb]){cb=this._waiters[gb];delete this._waiters[gb];gb == this._nextWaiter && (this._nextWaiter=ib(this));cb.call(this,Fb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(gb,cb){var nb,xb;nb=this;xb=jb(this._lastWaiter);this._lastWaiter=xb;eb(cb,function(){var lb,Ba;if(0 < this._queue.length){lb=this._queue.shift();setTimeout(function(){cb.result(lb);},0);}else {-1 != gb && (Ba=setTimeout(function(){delete nb._waiters[xb];xb == nb._nextWaiter && (nb._nextWaiter=ib(nb));cb.timeout();},gb));this._waiters[xb]=function(Ka){clearTimeout(Ba);setTimeout(function(){cb.result(Ka);},0);};this._nextWaiter || (this._nextWaiter=xb);}},nb);return xb;},add:function(gb){var cb;if(this._nextWaiter){cb=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=ib(this);cb.call(this,gb);}else this._queue.push(gb);}});})();(function(){var jb;jb=0 - Rb;pe=Gb.Class.create({nextBoolean:function(){var ib;ib=new Uint8Array(1);Bc.getRandomValues(ib);return ib[0] & 1?!0:!1;},nextInt:function(ib){var gb;if(null !== ib && ib !== Fb){if("number" !== typeof ib)throw new TypeError("n must be of type number");if(1 > ib)throw new RangeError("n must be greater than zero");--ib;gb=new Uint8Array(4);Bc.getRandomValues(gb);return Math.floor(((gb[3] & 127) << 24 | gb[2] << 16 | gb[1] << 8 | gb[0]) / 2147483648 * (ib - 0 + 1));}ib=new Uint8Array(4);Bc.getRandomValues(ib);gb=(ib[3] & 127) << 24 | ib[2] << 16 | ib[1] << 8 | ib[0];return ib[3] & 128?-gb:gb;},nextLong:function(){var gb;for(var ib=jb;ib == jb;){ib=new Uint8Array(7);Bc.getRandomValues(ib);gb=16777216 * ((ib[6] & 31) << 24 | ib[5] << 16 | ib[4] << 8 | ib[3]) + (ib[2] << 16 | ib[1] << 8 | ib[0]);ib=ib[6] & 128?-gb - 1:gb;}return ib;},nextBytes:function(ib){Bc.getRandomValues(ib);}});})();(function(){function jb(cb){return cb == Rb?1:cb + 1;}function ib(cb){if(0 === Object.keys(cb._waitingReaders).length)return 0;for(var nb=jb(cb._nextReader);!cb._waitingReaders[nb];){nb=jb(nb);}return nb;}function gb(cb){if(0 === Object.keys(cb._waitingWriters).length)return 0;for(var nb=jb(cb._nextWriter);!cb._waitingWriters[nb];){nb=jb(nb);}return nb;}Fd=Gb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(cb){var nb;if(this._waitingReaders[cb]){nb=this._waitingReaders[cb];delete this._waitingReaders[cb];cb == this._nextReader && (this._nextReader=ib(this));nb.call(this,!0);}this._waitingWriters[cb] && (nb=this._waitingWriters[cb],delete this._waitingWriters[cb],cb == this._nextWriter && (this._nextWriter=gb(this)),nb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(cb,nb){var xb,lb;xb=this;lb=jb(this._lastNumber);this._lastNumber=lb;eb(nb,function(){var Ba;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[lb]=!0,lb);-1 != cb && (Ba=setTimeout(function(){delete xb._waitingReaders[lb];lb == xb._nextReader && (xb._nextReader=ib(xb));nb.timeout();},cb));this._waitingReaders[lb]=function(Ka){clearTimeout(Ba);Ka?setTimeout(function(){nb.result(Fb);},0):(xb._readers[lb]=!0,setTimeout(function(){nb.result(lb);},0));};this._nextReader || (this._nextReader=lb);},xb);return lb;},writeLock:function(cb,nb){var xb,lb;xb=this;lb=jb(this._lastNumber);this._lastNumber=lb;eb(nb,function(){var Ba;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=lb;-1 != cb && (Ba=setTimeout(function(){delete xb._waitingWriters[lb];lb == xb._nextWriter && (xb._nextWriter=gb(xb));nb.timeout();},cb));this._waitingWriters[lb]=function(Ka){clearTimeout(Ba);Ka?setTimeout(function(){nb.result(Fb);},0):(xb._writer=lb,setTimeout(function(){nb.result(lb);},0));};this._nextWriter || (this._nextWriter=lb);},xb);return lb;},unlock:function(cb){if(cb == this._writer)this._writer=null;else {if(!this._readers[cb])throw new Bb("There is no reader or writer with ticket number " + cb + ".");delete this._readers[cb];}if(this._nextWriter)0 < Object.keys(this._readers).length || (cb=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=gb(this),cb.call(this,!1));else {for(var nb=this._nextReader;0 < Object.keys(this._waitingReaders).length;nb=jb(nb)){this._waitingReaders[nb] && (cb=this._waitingReaders[nb],delete this._waitingReaders[nb],cb.call(this,!1));}this._nextReader=0;}}});})();Gb.Class.mixin(S,{JSON_PARSE_ERROR:new S(0,Fa.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new S(1,Fa.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new S(2,Fa.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new S(3,Fa.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new S(4,Fa.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new S(5,Fa.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new S(6,Fa.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new S(7,Fa.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new S(8,Fa.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new S(9,Fa.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new S(10,Fa.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new S(11,Fa.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new S(12,Fa.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new S(13,Fa.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new S(14,Fa.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new S(15,Fa.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new S(16,Fa.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new S(17,Fa.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new S(18,Fa.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new S(19,Fa.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new S(20,Fa.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new S(21,Fa.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new S(22,Fa.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new S(23,Fa.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new S(24,Fa.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new S(25,Fa.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new S(26,Fa.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new S(27,Fa.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new S(28,Fa.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new S(29,Fa.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new S(30,Fa.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new S(31,Fa.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new S(32,Fa.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new S(33,Fa.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new S(34,Fa.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new S(35,Fa.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new S(36,Fa.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new S(37,Fa.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new S(38,Fa.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new S(39,Fa.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new S(40,Fa.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new S(41,Fa.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new S(42,Fa.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new S(43,Fa.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new S(44,Fa.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new S(45,Fa.FAIL,"Error exporting key."),DIGEST_ERROR:new S(46,Fa.FAIL,"Error in digest."),UNSUPPORTED_KEY:new S(47,Fa.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new S(48,Fa.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new S(49,Fa.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new S(50,Fa.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new S(51,Fa.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new S(52,Fa.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new S(53,Fa.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new S(54,Fa.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new S(55,Fa.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new S(56,Fa.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new S(57,Fa.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new S(58,Fa.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new S(59,Fa.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new S(60,Fa.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new S(61,Fa.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new S(62,Fa.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new S(1E3,Fa.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new S(1001,Fa.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new S(1002,Fa.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new S(1003,Fa.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(1004,Fa.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(1005,Fa.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new S(1006,Fa.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new S(1007,Fa.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new S(1008,Fa.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new S(1009,Fa.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new S(1010,Fa.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new S(1011,Fa.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new S(1012,Fa.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new S(1013,Fa.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new S(1014,Fa.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new S(2E3,Fa.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new S(2001,Fa.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new S(2002,Fa.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new S(2003,Fa.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new S(2004,Fa.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new S(2005,Fa.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2006,Fa.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2007,Fa.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new S(2008,Fa.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new S(2009,Fa.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new S(2010,Fa.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new S(2011,Fa.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new S(2012,Fa.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new S(2013,Fa.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new S(2014,Fa.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new S(2015,Fa.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new S(2016,Fa.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new S(2017,Fa.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new S(2018,Fa.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new S(2019,Fa.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new S(2020,Fa.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new S(3E3,Fa.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new S(3001,Fa.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new S(3002,Fa.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new S(3003,Fa.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new S(3004,Fa.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3005,Fa.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3006,Fa.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new S(3007,Fa.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new S(3008,Fa.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new S(3009,Fa.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new S(4E3,Fa.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new S(4001,Fa.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new S(4002,Fa.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new S(4003,Fa.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new S(4004,Fa.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new S(4005,Fa.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new S(4006,Fa.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new S(4007,Fa.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new S(4008,Fa.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new S(4009,Fa.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new S(4010,Fa.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new S(4011,Fa.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new S(4012,Fa.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new S(4013,Fa.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new S(4014,Fa.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new S(4015,Fa.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new S(4016,Fa.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new S(4017,Fa.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new S(4018,Fa.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new S(4019,Fa.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new S(4020,Fa.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new S(4021,Fa.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new S(4022,Fa.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new S(4023,Fa.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new S(4024,Fa.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new S(4025,Fa.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new S(4026,Fa.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new S(5E3,Fa.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new S(5001,Fa.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new S(5002,Fa.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new S(5003,Fa.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new S(5004,Fa.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new S(5005,Fa.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new S(5006,Fa.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new S(5007,Fa.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new S(5008,Fa.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new S(5009,Fa.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new S(5010,Fa.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new S(5011,Fa.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new S(5012,Fa.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new S(5013,Fa.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new S(5014,Fa.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new S(5015,Fa.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new S(5016,Fa.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new S(5017,Fa.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new S(5018,Fa.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new S(5019,Fa.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new S(5020,Fa.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new S(5021,Fa.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new S(5022,Fa.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new S(5023,Fa.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new S(5024,Fa.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new S(5025,Fa.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new S(5026,Fa.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new S(5027,Fa.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new S(5028,Fa.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new S(5029,Fa.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new S(5030,Fa.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new S(5031,Fa.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new S(5032,Fa.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new S(5033,Fa.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new S(5034,Fa.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new S(5035,Fa.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new S(5036,Fa.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new S(5037,Fa.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new S(5038,Fa.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new S(5039,Fa.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new S(5040,Fa.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new S(6E3,Fa.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new S(6001,Fa.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new S(6002,Fa.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new S(6003,Fa.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new S(6004,Fa.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new S(6005,Fa.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new S(6006,Fa.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new S(6007,Fa.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new S(6008,Fa.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new S(6009,Fa.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new S(6010,Fa.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new S(6011,Fa.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new S(6012,Fa.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new S(6013,Fa.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new S(6014,Fa.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new S(6015,Fa.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new S(6016,Fa.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new S(6017,Fa.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new S(6018,Fa.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(6019,Fa.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new S(6020,Fa.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new S(6021,Fa.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new S(6022,Fa.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new S(6023,Fa.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new S(6024,Fa.FAIL,"Invalid header data."),PAYLOAD_INVALID:new S(6025,Fa.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new S(6026,Fa.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new S(6027,Fa.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new S(6028,Fa.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new S(6029,Fa.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new S(6030,Fa.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new S(6031,Fa.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new S(6032,Fa.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new S(6033,Fa.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new S(6034,Fa.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new S(6035,Fa.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new S(6036,Fa.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new S(6037,Fa.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new S(7E3,Fa.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new S(7001,Fa.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new S(7002,Fa.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new S(7003,Fa.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new S(7004,Fa.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new S(7005,Fa.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new S(7006,Fa.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new S(7007,Fa.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new S(7008,Fa.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new S(7009,Fa.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new S(7010,Fa.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new S(7011,Fa.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new S(7012,Fa.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new S(7013,Fa.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new S(7014,Fa.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new S(7015,Fa.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new S(7016,Fa.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new S(8E3,Fa.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new S(8001,Fa.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new S(8002,Fa.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new S(8003,Fa.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new S(8004,Fa.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new S(8005,Fa.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new S(8006,Fa.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new S(8007,Fa.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new S(8008,Fa.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new S(8009,Fa.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new S(8010,Fa.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new S(8011,Fa.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new S(8012,Fa.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new S(9E3,Fa.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new S(9001,Fa.FAIL,"Error communicating with MSL entity."),NONE:new S(9999,Fa.FAIL,"Special unit test error.")});Object.freeze(S);(function(){hb=Gb.Class.create(Error());hb.mixin({init:function(jb,ib,gb){var nb,xb,lb;function cb(){return xb?xb:this.cause && this.cause instanceof hb?this.cause.messageId:Fb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);nb=jb.message;ib && (nb+=" [" + ib + "]");lb=this.stack;Object.defineProperties(this,{message:{value:nb,writable:!1,configurable:!0},error:{value:jb,writable:!1,configurable:!0},cause:{value:gb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:cb,set:function(Ba){if(0 > Ba || Ba > Rb)throw new RangeError("Message ID " + Ba + " is outside the valid range.");cb() || (xb=Ba);},configurable:!0},stack:{get:function(){var Ba;Ba=this.toString();lb && (Ba+="\n" + lb);gb && gb.stack && (Ba+="\nCaused by " + gb.stack);return Ba;},configurable:!0}});},setEntity:function(jb){!jb || this.masterToken || this.entityAuthenticationData || (jb instanceof ic?this.masterToken=jb:jb instanceof Lc && (this.entityAuthenticationData=jb));return this;},setUser:function(jb){!jb || this.userIdToken || this.userAuthenticationData || (jb instanceof Tc?this.userIdToken=jb:jb instanceof $c && (this.userAuthenticationData=jb));return this;},setMessageId:function(jb){this.messageId=jb;return this;},toString:function(){return this.name + ": " + this.message;}});})();zb=hb.extend({init:function nb(ib,gb,cb){nb.base.call(this,ib,gb,cb);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Hb=hb.extend({init:function xb(gb,cb,nb){xb.base.call(this,gb,cb,nb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});rc=hb.extend({init:function lb(cb,nb,xb){lb.base.call(this,cb,nb,xb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){jc=Gb.Class.create(Error());jc.mixin({init:function(cb,nb,xb){var lb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},requestCause:{value:xb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ba;Ba=this.toString();lb && (Ba+="\n" + lb);nb && nb.stack && (Ba+="\nCaused by " + nb.stack);return Ba;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Yb=Gb.Class.create(Error());Yb.mixin({init:function(cb,nb){var xb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);xb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var lb;lb=this.toString();xb && (lb+="\n" + xb);nb && nb.stack && (lb+="\nCaused by " + nb.stack);return lb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Bb=Gb.Class.create(Error());Bb.mixin({init:function(cb,nb){var xb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);xb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var lb;lb=this.toString();xb && (lb+="\n" + xb);nb && nb.stack && (lb+="\nCaused by " + nb.stack);return lb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){bc=Gb.Class.create(Error());bc.mixin({init:function(cb,nb){var xb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);xb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var lb;lb=this.toString();xb && (lb+="\n" + xb);nb && nb.stack && (lb+="\nCaused by " + nb.stack);return lb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ub=hb.extend({init:function Ba(nb,xb,lb){Ba.base.call(this,nb,xb,lb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});ad=hb.extend({init:function Ba(xb,lb){Ba.base.call(this,xb);Object.defineProperties(this,{masterToken:{value:lb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ob=hb.extend({init:function Pa(lb,Ba,Ka){Pa.base.call(this,lb,Ba,Ka);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Cc=hb.extend({init:function ua(Ba,Ka,Pa){ua.base.call(this,Ba,Ka,Pa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var ma;function Ba(ea){return "undefined" === typeof ea?!1:ea;}function Ka(ea){return ea && ea.length?(dc === ma.V2014_02 && (ea=ea.map(function(X){return "wrap" == X?"wrapKey":"unwrap" == X?"unwrapKey":X;})),ea):dc === ma.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Pa(ea,X,U,V,ba){return Promise.resolve().then(function(){return Vb.importKey(ea,X,U,V,ba);}).catch(function(W){var ha;if("spki" !== ea && "pkcs8" !== ea)throw W;W=ASN1.webCryptoAlgorithmToJwkAlg(U);ha=ASN1.webCryptoUsageToJwkKeyOps(ba);W=ASN1.rsaDerToJwk(X,W,ha,V);if(!W)throw Error("Could not make valid JWK from DER input");W=JSON.stringify(W);return Vb.importKey("jwk",Bd(W),U,V,ba);});}function ua(ea,X){return Promise.resolve().then(function(){return Vb.exportKey(ea,X);}).catch(function(U){if("spki" !== ea && "pkcs8" !== ea)throw U;return Vb.exportKey("jwk",X).then(function(V){V=JSON.parse(Ad(new Uint8Array(V)));V=ASN1.jwkToRsaDer(V);if(!V)throw Error("Could not make valid DER from JWK input");return V.getDer().buffer;});});}ma=md={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(md);dc=ma.LATEST;Qb={encrypt:function(ea,X,U){switch(dc){case ma.LEGACY:return new Promise(function(V,ba){var W;W=Vb.encrypt(ea,X,U);W.oncomplete=function(ha){V(ha.target.result);};W.onerror=function(ha){ba(ha);};});case ma.V2014_01:case ma.V2014_02:return Vb.encrypt(ea,X,U).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ea,X,U){switch(dc){case ma.LEGACY:return new Promise(function(V,ba){var W;W=Vb.decrypt(ea,X,U);W.oncomplete=function(ha){V(ha.target.result);};W.onerror=function(ha){ba(ha);};});case ma.V2014_01:case ma.V2014_02:return Vb.decrypt(ea,X,U).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ea,X,U){switch(dc){case ma.LEGACY:return new Promise(function(V,ba){var W;W=Vb.sign(ea,X,U);W.oncomplete=function(ha){V(ha.target.result);};W.onerror=function(ha){ba(ha);};});case ma.V2014_01:case ma.V2014_02:return Vb.sign(ea,X,U).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ea,X,U,V){switch(dc){case ma.LEGACY:return new Promise(function(ba,W){var ha;ha=Vb.verify(ea,X,U,V);ha.oncomplete=function(va){ba(va.target.result);};ha.onerror=function(va){W(va);};});case ma.V2014_01:case ma.V2014_02:return Vb.verify(ea,X,U,V);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ea,X){switch(dc){case ma.LEGACY:return new Promise(function(U,V){var ba;ba=Vb.digest(ea,X);ba.oncomplete=function(W){U(W.target.result);};ba.onerror=function(W){V(W);};});case ma.V2014_01:case ma.V2014_02:return Vb.digest(ea,X).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ea,X,U){var V,ba;V=Ba(X);ba=Ka(U);switch(dc){case ma.LEGACY:return new Promise(function(W,ha){var va;va=Vb.generateKey(ea,V,ba);va.oncomplete=function(ra){W(ra.target.result);};va.onerror=function(ra){ha(ra);};});case ma.V2014_01:case ma.V2014_02:return Vb.generateKey(ea,V,ba);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ea,X,U,V,ba){var W,ha;W=Ba(V);ha=Ka(ba);switch(dc){case ma.LEGACY:return new Promise(function(va,ra){var ja;ja=Vb.deriveKey(ea,X,U,W,ha);ja.oncomplete=function(qa){va(qa.target.result);};ja.onerror=function(qa){ra(qa);};});case ma.V2014_01:case ma.V2014_02:return Vb.deriveKey(ea,X,U,W,ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ea,X,U,V,ba){var W,ha;W=Ba(V);ha=Ka(ba);switch(dc){case ma.LEGACY:return new Promise(function(va,ra){var ja;ja=Vb.importKey(ea,X,U,W,ha);ja.oncomplete=function(qa){va(qa.target.result);};ja.onerror=function(qa){ra(qa);};});case ma.V2014_01:case ma.V2014_02:return Pa(ea,X,U,W,ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ea,X){switch(dc){case ma.LEGACY:return new Promise(function(U,V){var ba;ba=Vb.exportKey(ea,X);ba.oncomplete=function(W){U(W.target.result);};ba.onerror=function(W){V(W);};});case ma.V2014_01:case ma.V2014_02:return ua(ea,X).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ea,X,U,V){switch(dc){case ma.LEGACY:return new Promise(function(ba,W){var ha;ha=Vb.wrapKey(X,U,V);ha.oncomplete=function(va){ba(va.target.result);};ha.onerror=function(va){W(va);};});case ma.V2014_01:case ma.V2014_02:return Vb.wrapKey(ea,X,U,V).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ea,X,U,V,ba,W,ha){switch(dc){case ma.LEGACY:return new Promise(function(va,ra){var ja;ja=Vb.unwrapKey(X,ba,U);ja.oncomplete=function(qa){va(qa.target.result);};ja.onerror=function(qa){ra(qa);};});case ma.V2014_01:case ma.V2014_02:return Vb.unwrapKey(ea,X,U,V,ba,Ba(W),Ka(ha));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};kd && kd.getKeyByName && (Qb.getKeyByName=function(ea){switch(dc){case ma.LEGACY:return new Promise(function(X,U){var V;V=kd.getKeyByName(ea);V.oncomplete=function(ba){X(ba.target.result);};V.onerror=function(ba){U(ba);};});case ma.V2014_01:case ma.V2014_02:return kd.getKeyByName(ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});ob.netflix=ob.netflix || ({});ob.netflix.crypto=Qb;})();sc={name:"AES-KW"};oc={name:"AES-CBC"};pc={name:"HMAC",hash:{name:"SHA-256"}};nd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Gd={name:"RSAES-PKCS1-v1_5"};qe={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Dc=["encrypt","decrypt"];Ec=["wrap","unwrap"];Mc=["sign","verify"];(function(){Hd=Gb.Class.create({init:function(Ba,Ka,Pa){var ma;function ua(ea){Na(Ka,function(){var X;X=ea?Kb(ea):Fb;Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},keyData:{value:ea,writable:!1,configurable:!1},keyDataB64:{value:X,writable:!1,configurable:!1}});return this;},ma);}ma=this;Na(Ka,function(){if(!Ba || "object" != typeof Ba)throw new zb(S.INVALID_SYMMETRIC_KEY);!Pa && Ba.extractable?Qb.exportKey("raw",Ba).then(function(ea){ua(new Uint8Array(ea));},function(ea){Ka.error(new zb(S.KEY_EXPORT_ERROR,"raw"));}):ua(Pa);},ma);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});bd=function(Ba,Ka){new Hd(Ba,Ka);};tc=function(Ba,Ka,Pa,ua){Na(ua,function(){try{Ba="string" == typeof Ba?Mb(Ba):Ba;}catch(ma){throw new zb(S.INVALID_SYMMETRIC_KEY,"keydata " + Ba,ma);}Qb.importKey("raw",Ba,Ka,!0,Pa).then(function(ma){new Hd(ma,ua,Ba);},function(ma){ua.error(new zb(S.INVALID_SYMMETRIC_KEY));});});};})();(function(){od=Gb.Class.create({init:function(Ba,Ka,Pa){var ma;function ua(ea){Na(Ka,function(){Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},encoded:{value:ea,writable:!1,configurable:!1}});return this;},ma);}ma=this;Na(Ka,function(){if(!Ba || "object" != typeof Ba || "public" != Ba.type)throw new TypeError("Only original public crypto keys are supported.");!Pa && Ba.extractable?Qb.exportKey("spki",Ba).then(function(ea){ua(new Uint8Array(ea));},function(ea){Ka.error(new zb(S.KEY_EXPORT_ERROR,"spki"));}):ua(Pa);});},getEncoded:function(){return this.encoded;}});Jc=function(Ba,Ka){new od(Ba,Ka);};Id=function(Ba,Ka,Pa,ua){Na(ua,function(){try{Ba="string" == typeof Ba?Mb(Ba):Ba;}catch(ma){throw new zb(S.INVALID_PUBLIC_KEY,"spki " + Ba,ma);}Qb.importKey("spki",Ba,Ka,!0,Pa).then(function(ma){new od(ma,ua,Ba);},function(ma){ua.error(new zb(S.INVALID_PUBLIC_KEY));});});};})();(function(){re=Gb.Class.create({init:function(Ba,Ka,Pa){var ma;function ua(ea){Na(Ka,function(){Object.defineProperties(ma,{rawKey:{value:Ba,writable:!1,configurable:!1},encoded:{value:ea,writable:!1,configurable:!1}});return this;},ma);}ma=this;Na(Ka,function(){if(!Ba || "object" != typeof Ba || "private" != Ba.type)throw new TypeError("Only original private crypto keys are supported.");!Pa && Ba.extractable?Qb.exportKey("pkcs8",Ba).then(function(ea){ua(new Uint8Array(ea));},function(ea){Ka.error(new zb(S.KEY_EXPORT_ERROR,"pkcs8"));}):ua(Pa);});},getEncoded:function(){return this.encoded;}});Sc=function(Ba,Ka){new re(Ba,Ka);};})();(function(){var Ba;Ba=Md={V1:1,V2:2};Jd=Gb.Class.create({init:function(Ka,Pa,ua,ma){Na(ma,function(){var ea,X,U,V;ea=Ba.V1;X=Ka;U=null;for(V in ld){if(ld[V] == Ka){ea=Ba.V2;X=null;U=Ka;break;}}Object.defineProperties(this,{version:{value:ea,writable:!1,enumerable:!1,configurable:!1},keyId:{value:X,writable:!1,configurable:!1},cipherSpec:{value:U,writable:!1,configurable:!1},iv:{value:Pa,writable:!1,configurable:!1},ciphertext:{value:ua,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ka;Ka={};switch(this.version){case Ba.V1:Ka.keyid=this.keyId;this.iv && (Ka.iv=Kb(this.iv));Ka.ciphertext=Kb(this.ciphertext);Ka.sha256="AA==";break;case Ba.V2:Ka.version=this.version;Ka.cipherspec=this.cipherSpec;this.iv && (Ka.iv=Kb(this.iv));Ka.ciphertext=Kb(this.ciphertext);break;default:throw new Bb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ka;}});Kd=function(Ka,Pa,ua,ma){new Jd(Ka,Pa,ua,ma);};Ld=function(Ka,Pa,ua){Na(ua,function(){var ma,ea,X,U,V,ba,W;ma=Ka.keyid;ea=Ka.cipherspec;X=Ka.iv;U=Ka.ciphertext;V=Ka.sha256;if(!Pa)if((Pa=Ka.version) && "number" === typeof Pa && Pa === Pa){ba=!1;for(W in Ba){if(Ba[W] == Pa){ba=!0;break;}}if(!ba)throw new zb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}else Pa=Ba.V1;switch(Pa){case Ba.V1:if("string" !== typeof ma || X && "string" !== typeof X || "string" !== typeof U || "string" !== typeof V)throw new Hb(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));break;case Ba.V2:W=Ka.version;if(W != Ba.V2)throw new zb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));if("string" !== typeof ea || X && "string" !== typeof X || "string" !== typeof U)throw new Hb(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));ea=ne(ea);if(!ea)throw new zb(S.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ka));ma=ea;break;default:throw new zb(S.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}try{X && (X=Mb(X));U=Mb(U);}catch(ha){throw new zb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ka),ha);}new Jd(ma,X,U,ua);});};})();(function(){var Ba;Ba=Pd={V1:1,V2:2};uc=Gb.Class.create({init:function(Ka,Pa,ua){var ma;switch(Ka){case Ba.V1:ma=ua;break;case Ba.V2:ma={};ma.version=Ka;ma.algorithm=Pa;ma.signature=Kb(ua);ma=fc(JSON.stringify(ma),Tb);break;default:throw new Bb("Signature envelope version " + Ka + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ka,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Pa,writable:!1,configurable:!1},signature:{value:ua,writable:!1,configurable:!1},bytes:{value:ma,writable:!1,configurable:!1}});}});Nd=function(){var Ka,Pa,ua,ma;if(2 == arguments.length){Ka=Ba.V1;Pa=arguments[0];ua=null;ma=arguments[1];}else 3 == arguments.length && (Ka=Ba.V2,ua=arguments[0],Pa=arguments[1],ma=arguments[2]);Na(ma,function(){return new uc(Ka,ua,Pa);});};Od=function(Ka,Pa,ua){Na(ua,function(){var ma,ea,X,U,V,ba,W;if(Pa)switch(Pa){case Ba.V1:return new uc(Ba.V1,null,Ka);case Ba.V2:try{ma=ec(Ka,Tb);ea=JSON.parse(ma);X=parseInt(ea.version);U=ea.algorithm;V=ea.signature;if(!X || "number" !== typeof X || X != X || "string" !== typeof U || "string" !== typeof V)throw new Hb(S.JSON_PARSE_ERROR,"signature envelope " + Kb(Ka));if(Ba.V2 != X)throw new zb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Kb(Ka));ba=Ed(U);if(!ba)throw new zb(S.UNIDENTIFIED_ALGORITHM,"signature envelope " + Kb(Ka));W=Mb(V);if(!W)throw new zb(S.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ka));return new uc(Ba.V2,ba,W);}catch(ha){if(ha instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"signature envelope " + Kb(Ka),ha);throw ha;}default:throw new zb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Kb(Ka));}try{ma=ec(Ka,Tb);ea=JSON.parse(ma);}catch(ha){ea=null;}if(ea && ea.version){if((ma=ea.version,"number" !== typeof ma || ma !== ma))ma=Ba.V1;}else ma=Ba.V1;switch(ma){case Ba.V1:return new uc(ma,null,Ka);case Ba.V2:ba=ea.algorithm;V=ea.signature;if("string" !== typeof ba || "string" !== typeof V)return new uc(Ba.V1,null,Ka);ba=Ed(ba);if(!ba)return new uc(Ba.V1,null,Ka);try{W=Mb(V);}catch(ha){return new uc(Ba.V1,null,Ka);}return new uc(ma,ba,W);default:throw new zb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ka);}});};})();Uc=Gb.Class.create({encrypt:function(Ba,Ka){},decrypt:function(Ba,Ka){},wrap:function(Ba,Ka){},unwrap:function(Ba,Ka,Pa,ua){},sign:function(Ba,Ka){},verify:function(Ba,Ka,Pa){}});(function(){var Ba;Ba=wc={RSA_OAEP:nd.name,A128KW:sc.name};qc="A128GCM";vc=Gb.Class.create({init:function(Ka,Pa,ua,ma,ea){switch(Pa){case Ba.RSA_OAEP:ea=ea && (ea.rawKey || ea);ma=ma && (ma.rawKey || ma);break;case Ba.A128KW:ea=ma=ma && (ma.rawKey || ma);break;default:throw new Bb("Unsupported algorithm: " + Pa);}Object.defineProperties(this,{_ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:ua,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ea,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Pa){Pa.error(new zb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ka,Pa){Pa.error(new zb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(Ka,Pa){Na(Pa,function(){Qb.wrapKey("jwe+jwk",Ka.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(ua){Pa.result(ua);},function(ua){Pa.error(new zb(S.WRAP_ERROR));});},this);},unwrap:function(Ka,Pa,ua,ma){function ea(X){Na(ma,function(){switch(X.type){case "secret":bd(X,ma);break;case "public":Jc(X,ma);break;case "private":Sc(X,ma);break;default:throw new zb(S.UNSUPPORTED_KEY,"type: " + X.type);}});}Na(ma,function(){Qb.unwrapKey("jwe+jwk",Ka,this._unwrapKey,this._unwrapKey.algorithm,Pa,!1,ua).then(function(X){ea(X);},function(){ma.error(new zb(S.UNWRAP_ERROR));});},this);},sign:function(Ka,Pa){Pa.error(new zb(S.SIGN_NOT_SUPPORTED));},verify:function(Ka,Pa,ua){ua.error(new zb(S.VERIFY_NOT_SUPPORTED));}});})();Vc=Uc.extend({encrypt:function(Ba,Ka){Ka.result(Ba);},decrypt:function(Ba,Ka){Ka.result(Ba);},wrap:function(Ba,Ka){Ka.result(Ba);},unwrap:function(Ba,Ka,Pa,ua){ua.result(Ba);},sign:function(Ba,Ka){Ka.result(new Uint8Array(0));},verify:function(Ba,Ka,Pa){Pa.result(!0);}});(function(){var Ba;Ba=qd={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};pd=Uc.extend({init:function U(Pa,ua,ma,ea,X){U.base.call(this);ma && (ma=ma.rawKey);ea && (ea=ea.rawKey);Object.defineProperties(this,{id:{value:ua,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ea,writable:!1,enumerable:!1,configurable:!1},transform:{value:X == Ba.ENCRYPT_DECRYPT_PKCS1?Gd:X == Ba.ENCRYPT_DECRYPT_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:X == Ba.WRAP_UNWRAP_PKCS1?Gd:X == Ba.WRAP_UNWRAP_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:X == Ba.SIGN_VERIFY?qe:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Pa,ua){var ma;ma=this;Na(ua,function(){if("nullOp" == this.transform)return Pa;if(!this.publicKey)throw new zb(S.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Pa.length)return Pa;Qb.encrypt(ma.transform,ma.publicKey,Pa).then(function(ea){Kd(ma.id,null,ea,{result:function(X){var U;try{U=JSON.stringify(X);ua.result(fc(U,Tb));}catch(V){ua.error(new zb(S.ENCRYPT_ERROR,null,V));}},error:function(X){X instanceof hb || (X=new zb(S.ENCRYPT_ERROR,null,X));ua.error(X);}});},function(ea){ua.error(new zb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Pa,ua){var ma;ma=this;Na(ua,function(){var ea,X;if("nullOp" == this.transform)return Pa;if(!this.privateKey)throw new zb(S.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Pa.length)return Pa;try{ea=ec(Pa,Tb);X=JSON.parse(ea);}catch(U){if(U instanceof SyntaxError)throw new zb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,U);throw new zb(S.DECRYPT_ERROR,null,U);}Ld(X,Md.V1,{result:function(U){var V;try{if(U.keyId != ma.id)throw new zb(S.ENVELOPE_KEY_ID_MISMATCH);V=ua.result;Qb.decrypt(ma.transform,ma.privateKey,U.ciphertext).then(V,function(ba){ua.error(new zb(S.DECRYPT_ERROR));});}catch(ba){ba instanceof hb?ua.error(ba):ua.error(new zb(S.DECRYPT_ERROR,null,ba));}},error:function(U){U instanceof Hb && (U=new zb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,U));U instanceof hb || (U=new zb(S.DECRYPT_ERROR,null,U));ua.error(U);}});},this);},wrap:function(Pa,ua){Na(ua,function(){var ma;if("nullOp" == this.wrapTransform || !this.publicKey)throw new zb(S.WRAP_NOT_SUPPORTED,"no public key");ma=ua.result;Qb.wrapKey("jwk",Pa.rawKey,this.publicKey,this.wrapTransform).then(ma,function(ea){ua.error(new zb(S.WRAP_ERROR));});},this);},unwrap:function(Pa,ua,ma,ea){function X(U){Na(ea,function(){switch(U.type){case "secret":bd(U,ea);break;case "public":Jc(U,ea);break;case "private":Sc(U,ea);break;default:throw new zb(S.UNSUPPORTED_KEY,"type: " + U.type);}});}Na(ea,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new zb(S.UNWRAP_NOT_SUPPORTED,"no private key");Qb.unwrapKey("jwk",Pa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},ua,!1,ma).then(X,function(U){ea.error(new zb(S.UNWRAP_ERROR));});},this);},sign:function(Pa,ua){Na(ua,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new zb(S.SIGN_NOT_SUPPORTED,"no private key");Qb.sign(this.algo,this.privateKey,Pa).then(function(ma){Nd(ma,{result:function(ea){ua.result(ea.bytes);},error:ua.error});},function(ma){ua.error(new zb(S.SIGNATURE_ERROR));});},this);},verify:function(Pa,ua,ma){var ea;ea=this;Na(ma,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new zb(S.VERIFY_NOT_SUPPORTED,"no public key");Od(ua,Pd.V1,{result:function(X){Na(ma,function(){var U;U=ma.result;Qb.verify(this.algo,this.publicKey,X.signature,Pa).then(U,function(V){ma.error(new zb(S.SIGNATURE_ERROR));});},ea);},error:ma.error});},this);}});})();(function(){rd=Uc.extend({init:function X(Ka,Pa,ua,ma,ea){X.base.call(this);ua=ua && ua.rawKey;ma=ma && ma.rawKey;ea=ea && ea.rawKey;Object.defineProperties(this,{ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},id:{value:Pa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ea,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Pa){var ua;ua=this;Na(Pa,function(){var ma;if(!this.encryptionKey)throw new zb(S.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;ma=new Uint8Array(16);this.ctx.getRandom().nextBytes(ma);Qb.encrypt({name:oc.name,iv:ma},ua.encryptionKey,Ka).then(function(ea){ea=new Uint8Array(ea);Kd(ua.id,ma,ea,{result:function(X){var U;try{U=JSON.stringify(X);Pa.result(fc(U,Tb));}catch(V){Pa.error(new zb(S.ENCRYPT_ERROR,null,V));}},error:function(X){X instanceof hb || (X=new zb(S.ENCRYPT_ERROR,null,X));Pa.error(X);}});},function(ea){Pa.error(new zb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Ka,Pa){var ua;ua=this;Na(Pa,function(){var ma,ea;if(!this.encryptionKey)throw new zb(S.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;try{ma=ec(Ka,Tb);ea=JSON.parse(ma);}catch(X){if(X instanceof SyntaxError)throw new zb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,X);throw new zb(S.DECRYPT_ERROR,null,X);}Ld(ea,Md.V1,{result:function(X){try{if(X.keyId != ua.id)throw new zb(S.ENVELOPE_KEY_ID_MISMATCH);Qb.decrypt({name:oc.name,iv:X.iv},ua.encryptionKey,X.ciphertext).then(function(U){U=new Uint8Array(U);Pa.result(U);},function(){Pa.error(new zb(S.DECRYPT_ERROR));});}catch(U){U instanceof hb?Pa.error(U):Pa.error(new zb(S.DECRYPT_ERROR,null,U));}},error:function(X){X instanceof Hb && (X=new zb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,X));X instanceof hb || (X=new zb(S.DECRYPT_ERROR,null,X));Pa.error(X);}});},this);},wrap:function(Ka,Pa){Na(Pa,function(){if(!this.wrapKey)throw new zb(S.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Qb.wrapKey("raw",Ka.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(ua){Pa.result(ua);},function(ua){Pa.error(new zb(S.WRAP_ERROR));});},this);},unwrap:function(Ka,Pa,ua,ma){function ea(X){Na(ma,function(){switch(X.type){case "secret":bd(X,ma);break;case "public":Jc(X,ma);break;case "private":Sc(X,ma);break;default:throw new zb(S.UNSUPPORTED_KEY,"type: " + X.type);}});}Na(ma,function(){if(!this.wrapKey)throw new zb(S.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Qb.unwrapKey("raw",Ka,this.wrapKey,this.wrapKey.algorithm,Pa,!1,ua).then(function(X){ea(X);},function(X){ma.error(new zb(S.UNWRAP_ERROR));});},this);},sign:function(Ka,Pa){var ua;ua=this;Na(Pa,function(){if(!this.hmacKey)throw new zb(S.SIGN_NOT_SUPPORTED,"no HMAC key.");Qb.sign(pc,this.hmacKey,Ka).then(function(ma){Na(Pa,function(){var ea;ea=new Uint8Array(ma);Nd(ea,{result:function(X){Pa.result(X.bytes);},error:Pa.error});},ua);},function(){Pa.error(new zb(S.HMAC_ERROR));});},this);},verify:function(Ka,Pa,ua){var ma;ma=this;Na(ua,function(){if(!this.hmacKey)throw new zb(S.VERIFY_NOT_SUPPORTED,"no HMAC key.");Od(Pa,Pd.V1,{result:function(ea){Na(ua,function(){Qb.verify(pc,this.hmacKey,ea.signature,Ka).then(function(X){ua.result(X);},function(X){ua.error(new zb(S.HMAC_ERROR));});},ma);},error:ua.error});},this);}});})();lc=rd.extend({init:function X(Ka,Pa,ua,ma,ea){if(ua || ma || ea)X.base.call(this,Ka,ua + "_" + Pa.sequenceNumber,ma,ea,null);else {if(!Pa.isDecrypted())throw new ad(S.MASTERTOKEN_UNTRUSTED,Pa);X.base.call(this,Ka,Pa.identity + "_" + Pa.sequenceNumber,Pa.encryptionKey,Pa.hmacKey,null);}}});rf=Uc.extend({encrypt:function(Ka,Pa){Pa.result(Ka);},decrypt:function(Ka,Pa){Pa.result(Ka);},wrap:function(Ka,Pa){Pa.error(new Bb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ka,Pa,ua,ma){ma.error(new Bb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ka,Pa){Pa.result(new Uint8Array(0));},verify:function(Ka,Pa,ua){ua.result(!1);}});Wb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Wb);(function(){Lc=Gb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ka){return this === Ka?!0:Ka instanceof Lc?this.scheme == Ka.scheme:!1;},toJSON:function(){var Ka;Ka={};Ka.scheme=this.scheme;Ka.authdata=this.getAuthData();return Ka;}});se=function(Ka,Pa){var ua,ma;ua=Pa.scheme;ma=Pa.authdata;if(!ua || !ma)throw new Hb(S.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Pa));if(!Wb[ua])throw new rc(S.UNIDENTIFIED_ENTITYAUTH_SCHEME,ua);Pa=Ka.getEntityAuthenticationFactory(ua);if(!Pa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,ua);return Pa.createData(Ka,ma);};})();sd=Gb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},createData:function(Ka,Pa){},getCryptoContext:function(Ka,Pa){}});(function(){xc=Lc.extend({init:function ua(Pa){ua.base.call(this,Wb.MGK);Object.defineProperties(this,{identity:{value:Pa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Pa;Pa={};Pa.identity=this.identity;return Pa;},equals:function ma(ua){return this === ua?!0:ua instanceof xc?ma.base.call(this,this,ua) && this.identity == ua.identity:!1;}});te=function(ua){var ma;ma=ua.identity;if(!ma)throw new Hb(S.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(ua));return new xc(ma);};})();sf=sd.extend({init:function ua(Pa){ua.base.call(this,Wb.MGK);Object.defineProperties(this,{localIdentity:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Pa,ua){return te(ua);},getCryptoContext:function(Pa,ua){if(!(ua instanceof xc))throw new Bb("Incorrect authentication data type " + JSON.stringify(ua) + ".");if(ua.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + ua.identity).setEntity(ua);return new Vc();}});(function(){yc=Lc.extend({init:function ma(ua){ma.base.call(this,Wb.PSK);Object.defineProperties(this,{identity:{value:ua,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ua;ua={};ua.identity=this.identity;return ua;},equals:function ea(ma){return this === ma?!0:ma instanceof yc?ea.base.call(this,this,ma) && this.identity == ma.identity:!1;}});ue=function(ma){var ea;ea=ma.identity;if(!ea)throw new Hb(S.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(ma));return new yc(ea);};})();tf=sd.extend({init:function ma(ua){ma.base.call(this,Wb.PSK);Object.defineProperties(this,{localIdentity:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ua,ma){return ue(ma);},getCryptoContext:function(ua,ma){if(!(ma instanceof yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.getIdentity() != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + ma.identity).setEntity(ma);return new Vc();}});(function(){td=Lc.extend({init:function X(ma,ea){X.base.call(this,Wb.RSA);Object.defineProperties(this,{identity:{value:ma,writable:!1,configurable:!1},publicKeyId:{value:ea,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ma;ma={};ma.identity=this.identity;ma.pubkeyid=this.publicKeyId;return ma;},equals:function X(ea){return this === ea?!0:ea instanceof td?X.base.call(this,this,ea) && this.identity == ea.identity && this.publicKeyId == ea.publicKeyId:!1;}});ve=function(ea){var X,U;X=ea.identity;U=ea.pubkeyid;if(!X || "string" !== typeof X || !U || "string" !== typeof U)throw new Hb(S.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ea));return new td(X,U);};})();uf=sd.extend({init:function ea(ma){ea.base.call(this,Wb.RSA);Object.defineProperties(this,{store:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ma,ea){return ve(ea);},getCryptoContext:function(ma,ea){var X,U,V;if(!(ea instanceof td))throw new Bb("Incorrect authentication data type " + ea + ".");X=ea.identity;U=ea.publicKeyId;V=this.store.getPublicKey(U);if(!V)throw new rc(S.RSA_PUBLICKEY_NOT_FOUND,U).setEntity(ea);return new pd(ma,X,null,V,qd.SIGN_VERIFY);}});(function(){Yc=Lc.extend({init:function X(ea){X.base.call(this,Wb.NONE);Object.defineProperties(this,{identity:{value:ea,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ea;ea={};ea.identity=this.identity;return ea;},equals:function U(X){return this === X?!0:X instanceof Yc?U.base.call(this,this,X) && this.identity == X.identity:!1;}});we=function(X){var U;U=X.identity;if(!U)throw new Hb(S.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(X));return new Yc(U);};})();qf=sd.extend({init:function ea(){ea.base.call(this,Wb.NONE);},createData:function(ea,X){return we(X);},getCryptoContext:function(ea,X){if(!(X instanceof Yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(X) + ".");return new Vc();}});vf=Gb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ea,X){if(!(X instanceof od))throw new Bb("Incorrect key data type " + X + ".");this.rsaKeys[ea]=X;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ea){delete this.rsaKeys[ea];},getPublicKey:function(ea){return this.rsaKeys[ea];}});Qd=Gb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ea,X,U){}});ud=Gb.Class.create({abort:function(){},close:function(ea,X){},write:function(ea,X,U,V,ba){},flush:function(ea,X){}});wf=Gb.Class.create({init:function(ea){Object.defineProperties(this,{_data:{value:ea,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Yb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ea,X,U){eb(U,function(){var V;if(this._closed)throw new Yb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ea && (ea=this._data.length - this._currentPosition);V=this._data.subarray(this._currentPosition,this._currentPosition + ea);this._currentPosition+=V.length;return V;},this);}});xf=Gb.Class.create({init:function(){var ea;ea={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ea);},abort:function(){},close:function(ea,X){this._closed=!0;X.result(!0);},write:function(ea,X,U,V,ba){eb(ba,function(){var W;if(this._closed)throw new Yb("Stream is already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > U)throw new RangeError("Length cannot be negative.");if(X + U > ea.length)throw new RangeError("Offset plus length cannot be greater than the array length.");W=ea.subarray(X,U);this._buffered.push(W);return W.length;},this);},flush:function(ea,X){var U;for(;0 < this._buffered.length;){if((ea=this._buffered.shift(),this._result)){U=new Uint8Array(this._result.length + ea.length);U.set(this._result);U.set(ea,this._result.length);this._result=U;}else this._result=new Uint8Array(ea);}X.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});yf=Gb.Class.create({getResponse:function(ea,X,U){}});(function(){var ea,X;ea=ud.extend({init:function(U,V){U={_httpLocation:{value:U,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:V,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new xf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Zc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,U);},setTimeout:function(U){this._timeout=U;},getResponse:function(U,V){var ba;ba=this;this._responseQueue.poll(U,{result:function(W){eb(V,function(){W && this._responseQueue.add(W);return W;},ba);},timeout:function(){eb(V,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();V.timeout();},ba);},error:function(W){eb(V,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw W;},ba);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(U,V){var ba;ba=this;eb(V,function(){var W;if(this._response)return !0;W=this._buffer.toByteArray();0 < W.length && (this._abortToken=this._httpLocation.getResponse({body:W},this._timeout,{result:function(ha){ba._response={response:ha};ba._responseQueue.add(ba._response);},timeout:function(){ba._response={isTimeout:!0};ba._responseQueue.add(ba._response);},error:function(ha){ba._response={isError:!0,error:ha};ba._responseQueue.add(ba._response);}}));return !0;},this);},write:function(U,V,ba,W,ha){eb(ha,function(){if(this._response)throw new Yb("HttpOutputStream already closed.");this._buffer.write(U,V,ba,W,ha);},this);},flush:function(U,V){eb(V,function(){if(this._response)return !0;this._buffer.flush(U,V);},this);}});X=Qd.extend({init:function(U){Object.defineProperties(this,{_out:{value:U,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Fb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(U,V,ba){var ha;function W(va){eb(ba,function(){if(!va)return new Uint8Array(0);this._out.getResponse(V,{result:function(ra){eb(ba,function(){var ja;if(ra.isTimeout)(this._timedout=!0,ba.timeout());else {if(ra.isError)throw (this._exception=ra.error || new Yb("Unknown HTTP exception."),this._exception);if(!ra.response)throw (this._exception=new Yb("Missing HTTP response."),this._exception);ra.response.json !== Fb && (this._json=ra.response.json,this.getJSON=function(){return ha._json;});ja=ra.response.content || Bd("string" === typeof ra.response.body?ra.response.body:JSON.stringify(this._json));this._buffer=new wf(ja);this._buffer.read(U,V,ba);}},ha);},timeout:function(){ba.timeout();},error:function(ra){ba.error(ra);}});},ha);}ha=this;eb(ba,function(){if(this._exception)throw this._exception;if(this._timedout)ba.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(U,V,ba):this._out.close(V,{result:function(va){W(va);},timeout:function(){ba.timeout();},error:function(va){ba.error(va);}});}},ha);}});he=Gb.Class.create({init:function(U,V){Object.defineProperties(this,{_httpLocation:{value:U,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:V,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(U){this._timeout=U;},openConnection:function(){var U;U=new ea(this._httpLocation,this._timeout);return {input:new X(U),output:U};}});})();(function(){var ea,X;ea=ud.extend({init:function(){var U;U={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,U);},setTimeout:function(){},getResponse:function(U,V){V.result({success:!1,content:null,errorHttpCode:Fb,errorSubCode:Fb});},abort:function(){},close:function(U,V){V.result(!0);},write:function(U,V,ba,W,ha){var va,ra;try{if(0 > V)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(V + ba > U.length)throw new RangeError("Offset plus length cannot be greater than the array length.");va=U.subarray(V,ba);ra=new Uint8Array(this._buffer.length + va.length);ra.set(this._buffer);ra.set(va,this._buffer.length);this._buffer=ra;ha.result(va.length);}catch(ja){ha.error(ja);}},flush:function(U,V){V.result(!0);},request:function(){return this._buffer;}});X=Qd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(U,V,ba){ba.result(new Uint8Array(16));}});ie=Gb.Class.create({init:function(){var U;U={output:{value:new ea(),writable:!1,enumerable:!1,configurable:!1},input:{value:new X(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,U);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Ad(this.output.request());}});})();xe=function(ea,X,U){(function(V,ba,W){V.read(-1,ba,{result:function(ha){ha && ha.length?W(null,ha):W(null,null);},timeout:function(){U.timeout();},error:function(ha){W(ha,null);}});})(ea,X,function(V,ba){var W,ha;if(V)U.error(V);else if(ba){if(ea.getJSON !== Fb && "function" === typeof ea.getJSON)U.result(ea.getJSON());else {V=U.result;ba=new zf(ec(ba,"utf-8"));W=[];for(ha=ba.nextValue();ha !== Fb;){W.push(ha);ha=ba.nextValue();}V.call(U,W);}}else U.result(null);});};kc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kc);(function(){cd=Gb.Class.create({init:function(ea){Object.defineProperties(this,{keyExchangeScheme:{value:ea,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ea;ea={};ea.scheme=this.keyExchangeScheme;ea.keydata=this.getKeydata();return ea;},equals:function(ea){return this === ea?!0:ea instanceof cd?this.keyExchangeScheme == ea.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});ye=function(ea,X,U){Na(U,function(){var V,ba,W;V=X.scheme;ba=X.keydata;if(!V || !ba || "object" !== typeof ba)throw new Hb(S.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(X));if(!kc[V])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,V);W=ea.getKeyExchangeFactory(V);if(!W)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,V);W.createRequestData(ea,ba,U);});};})();(function(){dd=Gb.Class.create({init:function(ea,X){Object.defineProperties(this,{masterToken:{value:ea,writable:!1,configurable:!1},keyExchangeScheme:{value:X,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ea;ea={};ea.mastertoken=this.masterToken;ea.scheme=this.keyExchangeScheme;ea.keydata=this.getKeydata();return ea;},equals:function(ea){return this === ea?!0:ea instanceof dd?this.masterToken.equals(ea.masterToken) && this.keyExchangeScheme == ea.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});ze=function(ea,X,U){Na(U,function(){var V,ba,W;V=X.mastertoken;ba=X.scheme;W=X.keydata;if(!ba || !V || "object" !== typeof V || !W || "object" !== typeof W)throw new Hb(S.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(X));if(!kc[ba])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,ba);ed(ea,V,{result:function(ha){Na(U,function(){var va;va=ea.getKeyExchangeFactory(ba);if(!va)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,ba);return va.createResponseData(ea,ha,W);});},error:function(ha){U.error(ha);}});});};})();(function(){var ea;ea=Gb.Class.create({init:function(X,U){Object.defineProperties(this,{keyResponseData:{value:X,writable:!1,configurable:!1},cryptoContext:{value:U,writable:!1,configurable:!1}});}});mc=Gb.Class.create({init:function(X){Object.defineProperties(this,{scheme:{value:X,writable:!1,configurable:!1}});},createRequestData:function(X,U,V){},createResponseData:function(X,U,V){},generateResponse:function(X,U,V,ba){},getCryptoContext:function(X,U,V,ba,W){},generateSessionKeys:function(X,U){Na(U,function(){var V,ba;V=new Uint8Array(16);ba=new Uint8Array(32);X.getRandom().nextBytes(V);X.getRandom().nextBytes(ba);tc(V,oc,Dc,{result:function(W){tc(ba,pc,Mc,{result:function(ha){U.result({encryptionKey:W,hmacKey:ha});},error:function(ha){U.error(new zb(S.SESSION_KEY_CREATION_FAILURE,null,ha));}});},error:function(W){U.error(new zb(S.SESSION_KEY_CREATION_FAILURE,null,W));}});});},importSessionKeys:function(X,U,V){tc(X,oc,Dc,{result:function(ba){tc(U,pc,Mc,{result:function(W){V.result({encryptionKey:ba,hmacKey:W});},error:function(W){V.error(W);}});},error:function(ba){V.error(ba);}});}});mc.KeyExchangeData=ea;})();(function(){var X,U,V;function ea(ba,W,ha,va,ra){Na(ra,function(){var ja,qa;switch(W){case X.PSK:(ja=new yc(va),qa=ba.getEntityAuthenticationFactory(Wb.PSK));if(!qa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,W);ja=qa.getCryptoContext(ba,ja);return new vc(ba,wc.A128KW,qc,Fb);case X.MGK:ja=new xc(va);qa=ba.getEntityAuthenticationFactory(Wb.MGK);if(!qa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,W);ja=qa.getCryptoContext(ba,ja);return new vc(ba,wc.A128KW,qc,Fb);case X.WRAP:ja=ba.getMslCryptoContext();ja.unwrap(ha,sc,Ec,{result:function(za){Na(ra,function(){return new vc(ba,wc.A128KW,qc,za);});},error:ra.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,W);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};U=Ae=cd.extend({init:function va(W,ha){va.base.call(this,kc.JWE_LADDER);switch(W){case X.WRAP:if(!ha)throw new Bb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ha=null;}Object.defineProperties(this,{mechanism:{value:W,writable:!1,configurable:!1},wrapdata:{value:ha,writable:!1,configurable:!1}});},getKeydata:function(){var W;W={};W.mechanism=this.mechanism;this.wrapdata && (W.wrapdata=Kb(this.wrapdata));return W;},equals:function va(ha){return ha === this?!0:ha instanceof Ae?va.base.call(this,ha) && this.mechanism == ha.mechanism && gc(this.wrapdata,ha.wrapdata):!1;},uniqueKey:function va(){var ra;ra=va.base.call(this) + ":" + this.mechanism;this.wrapdata && (ra+=":" + hc(this.wrapdata));return ra;}});V=Be=dd.extend({init:function Z(ra,ja,qa,za,la){Z.base.call(this,ra,kc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:ja,writable:!1,configurable:!1},wrapdata:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ra;ra={};ra.wrapkey=Kb(this.wrapKey);ra.wrapdata=Kb(this.wrapdata);ra.encryptionkey=Kb(this.encryptionKey);ra.hmackey=Kb(this.hmacKey);return ra;},equals:function qa(ja){return this === ja?!0:ja instanceof Be?qa.base.call(this,ja) && gc(this.wrapKey,ja.wrapKey) && gc(this.wrapdata,ja.wrapdata) && gc(this.encryptionKey,ja.encryptionKey) && gc(this.hmacKey,ja.hmacKey):!1;},uniqueKey:function qa(){return qa.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});mc.extend({init:function la(za){la.base.call(this,kc.JWE_LADDER);Object.defineProperties(this,{repository:{value:za,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(za,la,Z){Na(Z,function(){var ca,fa,xa;ca=la.mechanism;fa=la.wrapdata;if(!ca || ca == X.WRAP && (!fa || "string" !== typeof fa))throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(la));if(!X[ca])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,ca);switch(ca){case X.WRAP:try{xa=Mb(fa);}catch(Ra){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + la.toString());}if(null == xa || 0 == xa.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + la.toString());break;default:xa=null;}return new U(ca,xa);});},createResponseData:function(za,la,Z){var ca,fa,xa,Ra,Ma,Qa,Va;za=Z.wrapkey;ca=Z.wrapdata;fa=Z.encryptionkey;xa=Z.hmackey;if(!(za && "string" === typeof za && ca && "string" === typeof ca && fa && "string" === typeof fa && xa) || "string" !== typeof xa)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Z));try{Ra=Mb(za);Ma=Mb(ca);}catch(na){throw new zb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(Z),na);}try{Qa=Mb(fa);}catch(na){throw new zb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(Z),na);}try{Va=Mb(xa);}catch(na){throw new zb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(Z),na);}return new V(la,Ra,Ma,Qa,Va);},generateResponse:function(za,la,Z,ca){var Qa,Va;function fa(na,ya,Da){Qa.generateSessionKeys(za,{result:function(Ja){Na(ca,function(){xa(na,ya,Da,Ja.encryptionKey,Ja.hmacKey);},Qa);},error:function(Ja){Na(ca,function(){Ja instanceof hb && Ja.setEntity(Va);throw Ja;});}});}function xa(na,ya,Da,Ja,Ca){Na(ca,function(){ea(za,la.mechanism,la.wrapdata,na,{result:function(Ta){Ta.wrap(ya,{result:function(Ia){Ra(ya,Da,Ja,Ca,Ia);},error:function(Ia){Na(ca,function(){Ia instanceof hb && Ia.setEntity(Va);throw Ia;});}});},error:function(Ta){Na(ca,function(){Ta instanceof hb && Ta.setEntity(Va);throw Ta;});}});},Qa);}function Ra(na,ya,Da,Ja,Ca){Na(ca,function(){var Ta;Ta=new vc(za,wc.A128KW,qc,na);Ta.wrap(Da,{result:function(Ia){Ta.wrap(Ja,{result:function(Za){Ma(ya,Ca,Da,Ia,Ja,Za);},error:function(Za){Na(ca,function(){Za instanceof hb && Za.setEntity(Va);throw Za;});}});},error:function(Ia){Na(ca,function(){Ia instanceof hb && Ia.setEntity(Va);throw Ia;});}});},Qa);}function Ma(na,ya,Da,Ja,Ca,Ta){Na(ca,function(){var Ia;Ia=za.getTokenFactory();Va?Ia.renewMasterToken(za,Va,Da,Ca,{result:function(Za){Na(ca,function(){var db,Xa;db=new lc(za,Za);Xa=new V(Za,ya,na,Ja,Ta);return new mc.KeyExchangeData(Xa,db,ca);},Qa);},error:function(Za){Na(ca,function(){Za instanceof hb && Za.setEntity(Va);throw Za;});}}):Ia.createMasterToken(za,Z,Da,Ca,{result:function(Za){Na(ca,function(){var db,Xa;db=new lc(za,Za);Xa=new V(Za,ya,na,Ja,Ta);return new mc.KeyExchangeData(Xa,db,ca);},Qa);},error:ca.error});},Qa);}Qa=this;Na(ca,function(){var na,ya;if(!(la instanceof U))throw new Bb("Key request data " + JSON.stringify(la) + " was not created by this factory.");na=Z;if(Z instanceof ic){if(!Z.isVerified())throw new ad(S.MASTERTOKEN_UNTRUSTED,Z);Va=Z;na=Z.identity;}ya=new Uint8Array(16);za.getRandom().nextBytes(ya);tc(ya,sc,Ec,{result:function(Da){Na(ca,function(){za.getMslCryptoContext().wrap(Da,{result:function(Ja){fa(na,Da,Ja);},error:function(Ja){Na(ca,function(){Ja instanceof hb && Ja.setEntity(Va);throw Ja;},Qa);}});},Qa);},error:function(Da){Na(ca,function(){throw new zb(S.WRAP_KEY_CREATION_FAILURE,null,Da).setEntity(Va);},Qa);}});},Qa);},getCryptoContext:function(za,la,Z,ca,fa){var Ra;function xa(Ma,Qa,Va,na,ya){Na(fa,function(){var Da;Da=new vc(za,wc.A128KW,qc,ya);Da.unwrap(Qa.encryptionKey,oc,Dc,{result:function(Ja){Da.unwrap(Qa.hmacKey,pc,Mc,{result:function(Ca){Na(fa,function(){this.repository.addCryptoContext(Qa.wrapdata,Da);this.repository.removeCryptoContext(Va);return new lc(za,Qa.masterToken,na,Ja,Ca);},Ra);},error:function(Ca){Na(fa,function(){Ca instanceof hb && Ca.setEntity(Ma);throw Ca;});}});},error:function(Ja){Na(fa,function(){Ja instanceof hb && Ja.setEntity(Ma);throw Ja;});}});},Ra);}Ra=this;Na(fa,function(){var Ma,Qa;if(!(la instanceof U))throw new Bb("Key request data " + JSON.stringify(la) + " was not created by this factory.");if(!(Z instanceof V))throw new Bb("Key response data " + JSON.stringify(Z) + " was not created by this factory.");Ma=la.mechanism;Qa=la.wrapdata;za.getEntityAuthenticationData(null,{result:function(Va){Na(fa,function(){var na,ya,Da;na=Va.getIdentity();switch(Ma){case X.PSK:ya=new yc(na);Da=za.getEntityAuthenticationFactory(Wb.PSK);if(!Da)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Va);ya=Da.getCryptoContext(za,ya);ya=new vc(za,wc.A128KW,qc,Fb);break;case X.MGK:ya=new xc(na);Da=za.getEntityAuthenticationFactory(Wb.MGK);if(!Da)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Va);ya=Da.getCryptoContext(za,ya);ya=new vc(za,wc.A128KW,qc,ya.wrapKey);break;case X.WRAP:ya=this.repository.getCryptoContext(Qa);if(!ya)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Kb(Qa)).setEntity(Va);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Va);}ya.unwrap(Z.wrapKey,sc,Ec,{result:function(Ja){xa(Va,Z,Qa,na,Ja);},error:function(Ja){Na(fa,function(){Ja instanceof hb && Ja.setEntity(Va);throw Ja;});}});},Ra);},error:fa.error});},Ra);}});})();(function(){var X,U,V,ba;function ea(W,ha,va,ra,ja){Na(ja,function(){var qa,za;switch(ha){case X.PSK:(qa=new yc(ra),za=W.getEntityAuthenticationFactory(Wb.PSK));if(!za)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ha);qa=za.getCryptoContext(W,qa);return new ba(Fb);case X.MGK:qa=new xc(ra);za=W.getEntityAuthenticationFactory(Wb.MGK);if(!za)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ha);qa=za.getCryptoContext(W,qa);return new ba(Fb);case X.WRAP:qa=W.getMslCryptoContext();qa.unwrap(va,sc,Ec,{result:function(la){Na(ja,function(){return new ba(la);});},error:ja.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ha);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};U=Ce=cd.extend({init:function ra(ha,va){ra.base.call(this,kc.JWK_LADDER);switch(ha){case X.WRAP:if(!va)throw new Bb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:va=null;}Object.defineProperties(this,{mechanism:{value:ha,writable:!1,configurable:!1},wrapdata:{value:va,writable:!1,configurable:!1}});},getKeydata:function(){var ha;ha={};ha.mechanism=this.mechanism;this.wrapdata && (ha.wrapdata=Kb(this.wrapdata));return ha;},equals:function ra(va){return va === this?!0:va instanceof Ce?ra.base.call(this,va) && this.mechanism == va.mechanism && gc(this.wrapdata,va.wrapdata):!1;},uniqueKey:function ra(){var ja;ja=ra.base.call(this) + ":" + this.mechanism;this.wrapdata && (ja+=":" + hc(this.wrapdata));return ja;}});V=De=dd.extend({init:function ca(ja,qa,za,la,Z){ca.base.call(this,ja,kc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:qa,writable:!1,configurable:!1},wrapdata:{value:za,writable:!1,configurable:!1},encryptionKey:{value:la,writable:!1,configurable:!1},hmacKey:{value:Z,writable:!1,configurable:!1}});},getKeydata:function(){var ja;ja={};ja.wrapkey=Kb(this.wrapKey);ja.wrapdata=Kb(this.wrapdata);ja.encryptionkey=Kb(this.encryptionKey);ja.hmackey=Kb(this.hmacKey);return ja;},equals:function za(qa){return this === qa?!0:qa instanceof De?za.base.call(this,qa) && gc(this.wrapKey,qa.wrapKey) && gc(this.wrapdata,qa.wrapdata) && gc(this.encryptionKey,qa.encryptionKey) && gc(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function za(){return za.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});ba=Uc.extend({init:function(za){za && za.rawKey && (za=za.rawKey);Object.defineProperties(this,{_wrapKey:{value:za,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(za,la){la.error(new zb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(za,la){la.error(new zb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(za,la){Na(la,function(){Qb.wrapKey("jwk",za.rawKey,this._wrapKey,sc).then(function(Z){la.result(Z);},function(Z){la.error(new zb(S.WRAP_ERROR));});},this);},unwrap:function(za,la,Z,ca){function fa(xa){Na(ca,function(){switch(xa.type){case "secret":bd(xa,ca);break;case "public":Jc(xa,ca);break;case "private":Sc(xa,ca);break;default:throw new zb(S.UNSUPPORTED_KEY,"type: " + xa.type);}});}Na(ca,function(){Qb.unwrapKey("jwk",za,this._wrapKey,sc,la,!1,Z).then(function(xa){fa(xa);},function(xa){ca.error(new zb(S.UNWRAP_ERROR));});},this);},sign:function(za,la){la.error(new zb(S.SIGN_NOT_SUPPORTED));},verify:function(za,la,Z){Z.error(new zb(S.VERIFY_NOT_SUPPORTED));}});mc.extend({init:function Z(la){Z.base.call(this,kc.JWK_LADDER);Object.defineProperties(this,{repository:{value:la,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(la,Z,ca){Na(ca,function(){var fa,xa,Ra;fa=Z.mechanism;xa=Z.wrapdata;if(!fa || fa == X.WRAP && (!xa || "string" !== typeof xa))throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Z));if(!X[fa])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,fa);switch(fa){case X.WRAP:try{Ra=Mb(xa);}catch(Ma){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + Z.toString());}if(null == Ra || 0 == Ra.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + Z.toString());break;default:Ra=null;}return new U(fa,Ra);});},createResponseData:function(la,Z,ca){var fa,xa,Ra,Ma,Qa,Va,na;la=ca.wrapkey;fa=ca.wrapdata;xa=ca.encryptionkey;Ra=ca.hmackey;if(!(la && "string" === typeof la && fa && "string" === typeof fa && xa && "string" === typeof xa && Ra) || "string" !== typeof Ra)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ca));try{Ma=Mb(la);Qa=Mb(fa);}catch(ya){throw new zb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ca),ya);}try{Va=Mb(xa);}catch(ya){throw new zb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ca),ya);}try{na=Mb(Ra);}catch(ya){throw new zb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ca),ya);}return new V(Z,Ma,Qa,Va,na);},generateResponse:function(la,Z,ca,fa){var Va,na;function xa(ya,Da,Ja){Va.generateSessionKeys(la,{result:function(Ca){Na(fa,function(){Ra(ya,Da,Ja,Ca.encryptionKey,Ca.hmacKey);},Va);},error:function(Ca){Na(fa,function(){Ca instanceof hb && Ca.setEntity(na);throw Ca;});}});}function Ra(ya,Da,Ja,Ca,Ta){Na(fa,function(){ea(la,Z.mechanism,Z.wrapdata,ya,{result:function(Ia){Ia.wrap(Da,{result:function(Za){Ma(Da,Ja,Ca,Ta,Za);},error:function(Za){Na(fa,function(){Za instanceof hb && Za.setEntity(na);throw Za;});}});},error:function(Ia){Na(fa,function(){Ia instanceof hb && Ia.setEntity(na);throw Ia;});}});},Va);}function Ma(ya,Da,Ja,Ca,Ta){Na(fa,function(){var Ia;Ia=new ba(ya);Ia.wrap(Ja,{result:function(Za){Ia.wrap(Ca,{result:function(db){Qa(Da,Ta,Ja,Za,Ca,db);},error:function(db){Na(fa,function(){db instanceof hb && db.setEntity(na);throw db;});}});},error:function(Za){Na(fa,function(){Za instanceof hb && Za.setEntity(na);throw Za;});}});},Va);}function Qa(ya,Da,Ja,Ca,Ta,Ia){Na(fa,function(){var Za;Za=la.getTokenFactory();na?Za.renewMasterToken(la,na,Ja,Ta,{result:function(db){Na(fa,function(){var Xa,mb;Xa=new lc(la,db);mb=new V(db,Da,ya,Ca,Ia);return new mc.KeyExchangeData(mb,Xa,fa);},Va);},error:function(db){Na(fa,function(){db instanceof hb && db.setEntity(na);throw db;});}}):Za.createMasterToken(la,ca,Ja,Ta,{result:function(db){Na(fa,function(){var Xa,mb;Xa=new lc(la,db);mb=new V(db,Da,ya,Ca,Ia);return new mc.KeyExchangeData(mb,Xa,fa);},Va);},error:fa.error});},Va);}Va=this;Na(fa,function(){var ya,Da;if(!(Z instanceof U))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");ya=ca;if(ca instanceof ic){if(!ca.isVerified())throw new ad(S.MASTERTOKEN_UNTRUSTED,ca);na=ca;ya=ca.identity;}Da=new Uint8Array(16);la.getRandom().nextBytes(Da);tc(Da,sc,Ec,{result:function(Ja){Na(fa,function(){la.getMslCryptoContext().wrap(Ja,{result:function(Ca){xa(ya,Ja,Ca);},error:function(Ca){Na(fa,function(){Ca instanceof hb && Ca.setEntity(na);throw Ca;},Va);}});},Va);},error:function(Ja){Na(fa,function(){throw new zb(S.WRAP_KEY_CREATION_FAILURE,null,Ja).setEntity(na);},Va);}});},Va);},getCryptoContext:function(la,Z,ca,fa,xa){var Ma;function Ra(Qa,Va,na,ya,Da){Na(xa,function(){var Ja;Ja=new ba(Da);Ja.unwrap(Va.encryptionKey,oc,Dc,{result:function(Ca){Ja.unwrap(Va.hmacKey,pc,Mc,{result:function(Ta){Na(xa,function(){this.repository.addCryptoContext(Va.wrapdata,Ja);this.repository.removeCryptoContext(na);return new lc(la,Va.masterToken,ya,Ca,Ta);},Ma);},error:function(Ta){Na(xa,function(){Ta instanceof hb && Ta.setEntity(Qa);throw Ta;});}});},error:function(Ca){Na(xa,function(){Ca instanceof hb && Ca.setEntity(Qa);throw Ca;});}});},Ma);}Ma=this;Na(xa,function(){var Qa,Va;if(!(Z instanceof U))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");if(!(ca instanceof V))throw new Bb("Key response data " + JSON.stringify(ca) + " was not created by this factory.");Qa=Z.mechanism;Va=Z.wrapdata;la.getEntityAuthenticationData(null,{result:function(na){Na(xa,function(){var ya,Da,Ja;ya=na.getIdentity();switch(Qa){case X.PSK:Da=new yc(ya);Ja=la.getEntityAuthenticationFactory(Wb.PSK);if(!Ja)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(na);Da=Ja.getCryptoContext(la,Da);Da=new ba(Da.wrapKey);break;case X.MGK:Da=new xc(ya);Ja=la.getEntityAuthenticationFactory(Wb.MGK);if(!Ja)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(na);Da=Ja.getCryptoContext(la,Da);Da=new ba(Da.wrapKey);break;case X.WRAP:Da=this.repository.getCryptoContext(Va);if(!Da)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Kb(Va)).setEntity(na);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Qa).setEntity(na);}Da.unwrap(ca.wrapKey,sc,Ec,{result:function(Ca){Ra(na,ca,Va,ya,Ca);},error:function(Ca){Na(xa,function(){Ca instanceof hb && Ca.setEntity(na);throw Ca;});}});},Ma);},error:xa.error});},Ma);}});})();Af=Gb.Class.create({addCryptoContext:function(ea,X){},getCryptoContext:function(ea){},removeCryptoContext:function(ea){}});(function(){var X,U,V,ba;function ea(W,ha,va,ra,ja){switch(va){case X.JWE_RSA:case X.JWEJS_RSA:return new vc(W,wc.RSA_OAEP,qc,ra,ja);case X.JWK_RSA:return new pd(W,ha,ra,ja,qd.WRAP_UNWRAP_OAEP);case X.JWK_RSAES:return new pd(W,ha,ra,ja,qd.WRAP_UNWRAP_PKCS1);default:throw new zb(S.UNSUPPORTED_KEYX_MECHANISM,va);}}X=Ee={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};U=Dd=cd.extend({init:function qa(ha,va,ra,ja){qa.base.call(this,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ha,writable:!1,configurable:!1},mechanism:{value:va,writable:!1,configurable:!1},publicKey:{value:ra,writable:!1,configurable:!1},privateKey:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){var ha;ha={};ha.keypairid=this.keyPairId;ha.mechanism=this.mechanism;ha.publickey=Kb(this.publicKey.getEncoded());return ha;},equals:function ra(va){var ja;if(va === this)return !0;if(!(va instanceof Dd))return !1;ja=this.privateKey === va.privateKey || this.privateKey && va.privateKey && gc(this.privateKey.getEncoded(),va.privateKey.getEncoded());return ra.base.call(this,va) && this.keyPairId == va.keyPairId && this.mechanism == va.mechanism && gc(this.publicKey.getEncoded(),va.publicKey.getEncoded()) && ja;},uniqueKey:function ra(){var ja,qa;ja=this.publicKey.getEncoded();qa=this.privateKey && this.privateKey.getEncoded();ja=ra.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + hc(ja);qa && (ja+=":" + hc(qa));return ja;}});V=function(ra,ja){Na(ja,function(){var qa,za,la,Z;qa=ra.keypairid;za=ra.mechanism;la=ra.publickey;if(!qa || "string" !== typeof qa || !za || !la || "string" !== typeof la)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ra));if(!X[za])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,za);try{Z=Mb(la);switch(za){case X.JWE_RSA:case X.JWEJS_RSA:case X.JWK_RSA:Id(Z,nd,Ec,{result:function(ca){ja.result(new U(qa,za,ca,null));},error:function(ca){ja.error(ca);}});break;case X.JWK_RSAES:Id(Z,Gd,Ec,{result:function(ca){ja.result(new U(qa,za,ca,null));},error:function(ca){ja.error(ca);}});break;default:throw new zb(S.UNSUPPORTED_KEYX_MECHANISM,za);}}catch(ca){if(!(ca instanceof hb))throw new zb(S.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ra),ca);throw ca;}});};ba=Fe=dd.extend({init:function Z(ja,qa,za,la){Z.base.call(this,ja,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:qa,writable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ja;ja={};ja.keypairid=this.keyPairId;ja.encryptionkey=Kb(this.encryptionKey);ja.hmackey=Kb(this.hmacKey);return ja;},equals:function za(qa){return this === qa?!0:qa instanceof Fe?za.base.call(this,qa) && this.keyPairId == qa.keyPairId && gc(this.encryptionKey,qa.encryptionKey) && gc(this.hmacKey,qa.hmacKey):!1;},uniqueKey:function za(){return za.base.call(this) + ":" + this.keyPairId + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});je=mc.extend({init:function la(){la.base.call(this,kc.ASYMMETRIC_WRAPPED);},createRequestData:function(la,Z,ca){V(Z,ca);},createResponseData:function(la,Z,ca){var fa,xa,Ra,Ma;la=ca.keypairid;fa=ca.encryptionkey;xa=ca.hmackey;if(!la || "string" !== typeof la || !fa || "string" !== typeof fa || !xa || "string" !== typeof xa)throw new Hb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ca));try{Ra=Mb(fa);}catch(Qa){throw new zb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ca),Qa);}try{Ma=Mb(xa);}catch(Qa){throw new zb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ca),Qa);}return new ba(Z,la,Ra,Ma);},generateResponse:function(la,Z,ca,fa){var Ma;function xa(Qa,Va){Na(fa,function(){var na;na=ea(la,Z.keyPairId,Z.mechanism,null,Z.publicKey);na.wrap(Qa,{result:function(ya){Na(fa,function(){na.wrap(Va,{result:function(Da){Ra(Qa,ya,Va,Da);},error:function(Da){Na(fa,function(){Da instanceof hb && ca instanceof ic && Da.setEntity(ca);throw Da;},Ma);}});},Ma);},error:function(ya){Na(fa,function(){ya instanceof hb && ca instanceof ic && ya.setEntity(ca);throw ya;},Ma);}});},Ma);}function Ra(Qa,Va,na,ya){Na(fa,function(){var Da;Da=la.getTokenFactory();ca instanceof ic?Da.renewMasterToken(la,ca,Qa,na,{result:function(Ja){Na(fa,function(){var Ca,Ta;Ca=new lc(la,Ja);Ta=new ba(Ja,Z.keyPairId,Va,ya);return new mc.KeyExchangeData(Ta,Ca,fa);},Ma);},error:function(Ja){Na(fa,function(){Ja instanceof hb && Ja.setEntity(ca);throw Ja;},Ma);}}):Da.createMasterToken(la,ca,Qa,na,{result:function(Ja){Na(fa,function(){var Ca,Ta;Ca=new lc(la,Ja);Ta=new ba(Ja,Z.keyPairId,Va,ya);return new mc.KeyExchangeData(Ta,Ca,fa);},Ma);},error:fa.error});},Ma);}Ma=this;Na(fa,function(){if(!(Z instanceof U))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");this.generateSessionKeys(la,{result:function(Qa){xa(Qa.encryptionKey,Qa.hmacKey);},error:function(Qa){Na(fa,function(){Qa instanceof hb && ca instanceof ic && Qa.setEntity(ca);throw Qa;},Ma);}});},Ma);},getCryptoContext:function(la,Z,ca,fa,xa){var Ra;Ra=this;Na(xa,function(){var Ma,Qa,Va;if(!(Z instanceof U))throw new Bb("Key request data " + JSON.stringify(Z) + " was not created by this factory.");if(!(ca instanceof ba))throw new Bb("Key response data " + JSON.stringify(ca) + " was not created by this factory.");Ma=Z.keyPairId;Qa=ca.keyPairId;if(Ma != Qa)throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ma + "; response " + Qa).setEntity(fa);Qa=Z.privateKey;if(!Qa)throw new Ub(S.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(fa);Va=ea(la,Ma,Z.mechanism,Qa,null);Va.unwrap(ca.encryptionKey,oc,Dc,{result:function(na){Va.unwrap(ca.hmacKey,pc,Mc,{result:function(ya){la.getEntityAuthenticationData(null,{result:function(Da){Na(xa,function(){var Ja;Ja=Da.getIdentity();return new lc(la,ca.masterToken,Ja,na,ya);},Ra);},error:function(Da){Na(xa,function(){Da instanceof hb && Da.setEntity(fa);throw Da;},Ra);}});},error:function(ya){Na(xa,function(){ya instanceof hb && ya.setEntity(fa);throw ya;},Ra);}});},error:function(na){Na(xa,function(){na instanceof hb && na.setEntity(fa);throw na;},Ra);}});},Ra);}});})();zf=Gb.Class.create({init:function(ea){var X,U,V,ba,W,ha,va,ra;X=ac.parser();U=[];V=[];va=0;ra=!1;X.onerror=function(ja){ra || (ra=!0,X.end());};X.onopenobject=function(ja){var qa;if(ba)(ba[ha]={},V.push(ba),ba=ba[ha]);else if(W){qa={};V.push(W);W.push(qa);ba=qa;W=Fb;}else ba={};ha=ja;};X.oncloseobject=function(){var ja;ja=V.pop();ja?"object" === typeof ja?ba=ja:(ba=Fb,W=ja):(U.push(ba),va=X.index,ba=Fb);};X.onopenarray=function(){var ja;if(ba)(ba[ha]=[],V.push(ba),W=ba[ha],ba=Fb);else if(W){ja=[];V.push(W);W.push(ja);W=ja;}else W=[];};X.onclosearray=function(){var ja;ja=V.pop();ja?"object" === typeof ja?(ba=ja,W=Fb):W=ja:(U.push(W),va=X.index,W=Fb);};X.onkey=function(ja){ha=ja;};X.onvalue=function(ja){ba?ba[ha]=ja:W?W.push(ja):(U.push(ja),va=X.index);};X.write(ea).close();Object.defineProperties(this,{_values:{value:U,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:va,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Fb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ea,X,U,V,ba;ea=Rd="entityauthdata";X=He="mastertoken";U=Ie="headerdata";V=Je="errordata";ba=Sd="signature";Ge=function(W,ha,va,ra){Na(ra,function(){var ja,qa,za,la,Z,ca;ja=ha[ea];qa=ha[X];za=ha[ba];if(ja && "object" !== typeof ja || qa && "object" !== typeof qa || "string" !== typeof za)throw new Hb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ha));try{la=Mb(za);}catch(fa){throw new Ob(S.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ha),fa);}Z=null;ja && (Z=se(W,ja));ca=ha[U];if(ca != Fb && null != ca){if("string" !== typeof ca)throw new Hb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ha));qa?ed(W,qa,{result:function(fa){Td(W,ca,Z,fa,la,va,ra);},error:function(fa){ra.error(fa);}}):Td(W,ca,Z,null,la,va,ra);}else if((ja=ha[V],ja != Fb && null != ja)){if("string" !== typeof ja)throw new Hb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ha));Ke(W,ja,Z,la,ra);}else throw new Hb(S.JSON_PARSE_ERROR,JSON.stringify(ha));});};})();(function(){function ea(X,U){this.errordata=X;this.signature=U;}Ic=Gb.Class.create({init:function(X,U,V,ba,W,ha,va,ra,ja,qa){var za;za=this;Na(qa,function(){var la,Z;0 > ha && (ha=-1);if(0 > ba || ba > Rb)throw new Bb("Message ID " + ba + " is out of range.");if(!U)throw new Ob(S.MESSAGE_ENTITY_NOT_FOUND);if(ja)return (Object.defineProperties(this,{entityAuthenticationData:{value:U,writable:!1,configurable:!1},recipient:{value:V,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:W,writable:!1,configurable:!1},internalCode:{value:ha,writable:!1,configurable:!1},errorMessage:{value:va,writable:!1,configurable:!1},userMessage:{value:ra,writable:!1,configurable:!1},errordata:{value:ja.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ja.signature,writable:!1,enumerable:!1,configurable:!1}}),this);la={};V && (la.recipient=V);la.messageid=ba;la.errorcode=W;0 < ha && (la.internalcode=ha);va && (la.errormsg=va);ra && (la.usermsg=ra);try{Z=X.getEntityAuthenticationFactory(U.scheme).getCryptoContext(X,U);}catch(ca){throw (ca instanceof hb && (ca.setEntity(U),ca.setMessageId(ba)),ca);}la=fc(JSON.stringify(la),Tb);Z.encrypt(la,{result:function(ca){Na(qa,function(){Z.sign(ca,{result:function(fa){Na(qa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:U,writable:!1,configurable:!1},recipient:{value:V,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:W,writable:!1,configurable:!1},internalCode:{value:ha,writable:!1,configurable:!1},errorMessage:{value:va,writable:!1,configurable:!1},userMessage:{value:ra,writable:!1,configurable:!1},errordata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:fa,writable:!1,enumerable:!1,configurable:!1}});return this;},za);},error:function(fa){Na(qa,function(){fa instanceof hb && (fa.setEntity(U),fa.setMessageId(ba));throw fa;},za);}});},za);},error:function(ca){Na(qa,function(){ca instanceof hb && (ca.setEntity(U),ca.setMessageId(ba));throw ca;},za);}});},za);},toJSON:function(){var X;X={};X[Rd]=this.entityAuthenticationData;X[Je]=Kb(this.errordata);X[Sd]=Kb(this.signature);return X;}});Le=function(X,U,V,ba,W,ha,va,ra,ja){new Ic(X,U,V,ba,W,ha,va,ra,null,ja);};Ke=function(X,U,V,ba,W){Na(W,function(){var ha,va,ra;if(!V)throw new Ob(S.MESSAGE_ENTITY_NOT_FOUND);try{ha=V.scheme;va=X.getEntityAuthenticationFactory(ha);if(!va)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,ha);ra=va.getCryptoContext(X,V);}catch(ja){throw (ja instanceof hb && ja.setEntity(V),ja);}try{U=Mb(U);}catch(ja){throw new Ob(S.HEADER_DATA_INVALID,U,ja).setEntity(V);}if(!U || 0 == U.length)throw new Ob(S.HEADER_DATA_MISSING,U).setEntity(V);ra.verify(U,ba,{result:function(ja){Na(W,function(){if(!ja)throw new zb(S.MESSAGE_VERIFICATION_FAILED).setEntity(V);ra.decrypt(U,{result:function(qa){Na(W,function(){var za,la,Z,ca,fa,xa,Ra,Ma;za=ec(qa,Tb);try{la=JSON.parse(za);}catch(Va){if(Va instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"errordata " + za,Va).setEntity(V);throw Va;}Z=la.recipient !== Fb?la.recipient:null;ca=parseInt(la.messageid);fa=parseInt(la.errorcode);xa=parseInt(la.internalcode);Ra=la.errormsg;Ma=la.usermsg;if(Z && "string" !== typeof Z || !ca || ca != ca || !fa || fa != fa || la.internalcode && xa != xa || Ra && "string" !== typeof Ra || Ma && "string" !== typeof Ma)throw new Hb(S.JSON_PARSE_ERROR,"errordata " + za).setEntity(V);if(0 > ca || ca > Rb)throw new Ob(S.MESSAGE_ID_OUT_OF_RANGE,"errordata " + za).setEntity(V);la=!1;for(var Qa in Fa){if(Fa[Qa] == fa){la=!0;break;}}la || (fa=Fa.FAIL);if(xa){if(0 > xa)throw new Ob(S.INTERNAL_CODE_NEGATIVE,"errordata " + za).setEntity(V).setMessageId(ca);}else xa=-1;za=new ea(U,ba);new Ic(X,V,Z,ca,fa,xa,Ra,Ma,za,W);});},error:function(qa){Na(W,function(){qa instanceof hb && qa.setEntity(V);throw qa;});}});});},error:function(ja){Na(W,function(){ja instanceof hb && ja.setEntity(V);throw ja;});}});});};})();Bf=Gb.Class.create({getUserMessage:function(ea,X){}});(function(){Ud=function(ea,X){var U;if(!ea || !X)return null;U=ea.compressionAlgorithms.filter(function(V){for(var ba=0;ba < X.compressionAlgorithms.length;++ba){if(V == X.compressionAlgorithms[ba])return !0;}return !1;});ea=ea.languages.filter(function(V){for(var ba=0;ba < X.languages.length;++ba){if(V == X.languages[ba])return !0;}return !1;});return new fd(U,ea);};fd=Gb.Class.create({init:function(ea,X){ea || (ea=[]);X || (X=[]);ea.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ea,writable:!1,enumerable:!0,configurable:!1},languages:{value:X,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ea;ea={};ea.compressionalgos=this.compressionAlgorithms;ea.languages=this.languages;return ea;},equals:function(ea){return this === ea?!0:ea instanceof fd?ce(this.compressionAlgorithms,ea.compressionAlgorithms) && ce(this.languages,ea.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Me=function(ea){var X,U,ba;X=ea.compressionalgos;U=ea.languages;if(X && !(X instanceof Array) || U && !(U instanceof Array))throw new Hb(S.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ea));ea=[];for(var V=0;X && V < X.length;++V){ba=X[V];Kc[ba] && ea.push(ba);}return new fd(ea,U);};})();(function(){var qa,za;function ea(la,Z,ca,fa,xa){this.customer=la;this.sender=Z;this.messageCryptoContext=ca;this.headerdata=fa;this.signature=xa;}function X(la,Z,ca,fa,xa,Ra,Ma,Qa,Va,na,ya,Da,Ja,Ca,Ta,Ia,Za,db,Xa,mb){return {cryptoContext:{value:Z,writable:!1,configurable:!1},customer:{value:ca,writable:!1,configurable:!1},entityAuthenticationData:{value:fa,writable:!1,configurable:!1},masterToken:{value:xa,writable:!1,configurable:!1},sender:{value:Ra,writable:!1,configurable:!1},messageId:{value:Ma,writable:!1,configurable:!1},nonReplayableId:{value:Ia,writable:!1,configurable:!1},keyRequestData:{value:Qa,writable:!1,configurable:!1},keyResponseData:{value:Va,writable:!1,configurable:!1},userAuthenticationData:{value:na,writable:!1,configurable:!1},userIdToken:{value:ya,writable:!1,configurable:!1},serviceTokens:{value:Da,writable:!1,configurable:!1},peerMasterToken:{value:Ja,writable:!1,configurable:!1},peerUserIdToken:{value:Ca,writable:!1,configurable:!1},peerServiceTokens:{value:Ta,writable:!1,configurable:!1},messageCapabilities:{value:db,writable:!1,configurable:!1},renewable:{value:Za,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:mb,writable:!1,enumerable:!1,configurable:!1}};}function U(la,Z,ca){var fa;if(ca){if(Z=la.getMslStore().getCryptoContext(ca))return Z;if(!ca.isVerified() || !ca.isDecrypted())throw new ad(S.MASTERTOKEN_UNTRUSTED,ca);return new lc(la,ca);}ca=Z.scheme;fa=la.getEntityAuthenticationFactory(ca);if(!fa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,ca);return fa.getCryptoContext(la,Z);}function V(la,Z,ca,fa,xa){Na(xa,function(){Z.verify(ca,fa,{result:function(Ra){Na(xa,function(){if(!Ra)throw new zb(S.MESSAGE_VERIFICATION_FAILED);Z.decrypt(ca,{result:function(Ma){Na(xa,function(){return ec(Ma,Tb);});},error:function(Ma){xa.error(Ma);}});});},error:function(Ra){xa.error(Ra);}});});}function ba(la,Z,ca){Na(ca,function(){if(Z)ze(la,Z,ca);else return null;});}function W(la,Z,ca,fa){Na(fa,function(){if(Z)vd(la,Z,ca,fa);else return null;});}function ha(la,Z,ca,fa){Na(fa,function(){if(ca)Qe(la,Z,ca,fa);else return null;});}function va(la,Z,ca,fa,xa,Ra,Ma){var Va;function Qa(na,ya,Da){var Ja,Ca;if(ya >= na.length){Ja=[];for(Ca in Va){Ja.push(Va[Ca]);}Da.result(Ja);}else {Ja=na[ya];if("object" !== typeof Ja)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + Ra);wd(la,Ja,ca,fa,xa,{result:function(Ta){Na(Da,function(){Va[Ta.uniqueKey()]=Ta;Qa(na,ya + 1,Da);});},error:function(Ta){Da.error(Ta);}});}}Va={};Na(Ma,function(){if(Z){if(!(Z instanceof Array))throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + Ra);Qa(Z,0,Ma);}else return [];});}function ra(la,Z,ca,fa,xa,Ra){function Ma(Va,na,ya){Na(ya,function(){var Da;Da=na.peermastertoken;if(Da && "object" !== typeof Da)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + xa);if(!Da)return null;ed(Va,Da,ya);});}function Qa(Va,na,ya,Da){Na(Da,function(){var Ja;Ja=na.peeruseridtoken;if(Ja && "object" !== typeof Ja)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ja)return null;vd(Va,Ja,ya,Da);});}Na(Ra,function(){if(!la.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ma(la,Z,{result:function(Va){Na(Ra,function(){var na;na=ca?ca.masterToken:Va;Qa(la,Z,na,{result:function(ya){Na(Ra,function(){va(la,Z.peerservicetokens,na,ya,fa,xa,{result:function(Da){Na(Ra,function(){return {peerMasterToken:Va,peerUserIdToken:ya,peerServiceTokens:Da};});},error:function(Da){Na(Ra,function(){Da instanceof hb && (Da.setEntity(na),Da.setUser(ya));throw Da;});}});});},error:function(ya){Na(Ra,function(){ya instanceof hb && ya.setEntity(na);throw ya;});}});});},error:Ra.error});});}function ja(la,Z,ca,fa){var Ra;function xa(Ma,Qa){Na(fa,function(){if(Qa >= Ma.length)return Ra;ye(la,Ma[Qa],{result:function(Va){Na(fa,function(){Ra.push(Va);xa(Ma,Qa + 1);});},error:function(Va){fa.error(Va);}});});}Ra=[];Na(fa,function(){var Ma;Ma=Z.keyrequestdata;if(!Ma)return Ra;if(!(Ma instanceof Array))throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + ca);xa(Ma,0);});}qa=Oe=Gb.Class.create({init:function(la,Z,ca,fa,xa,Ra,Ma,Qa,Va){Object.defineProperties(this,{messageId:{value:la,writable:!1,configurable:!1},nonReplayableId:{value:Z,writable:!1,configurable:!1},renewable:{value:ca,writable:!1,configurable:!1},capabilities:{value:fa,writable:!1,configurable:!1},keyRequestData:{value:xa,writable:!1,configurable:!1},keyResponseData:{value:Ra,writable:!1,configurable:!1},userAuthData:{value:Ma,writable:!1,configurable:!1},userIdToken:{value:Qa,writable:!1,configurable:!1},serviceTokens:{value:Va,writable:!1,configurable:!1}});}});za=Pe=Gb.Class.create({init:function(la,Z,ca){Object.defineProperties(this,{peerMasterToken:{value:la,writable:!1,configurable:!1},peerUserIdToken:{value:Z,writable:!1,configurable:!1},peerServiceTokens:{value:ca,writable:!1,configurable:!1}});}});gd=Gb.Class.create({init:function(la,Z,ca,fa,xa,Ra,Ma){var Va;function Qa(na){Na(Ma,function(){var ya,Da,Ja,Ca,Ta,Ia,Za,db,Xa,mb,pb,tb,ub,vb,Eb,Db,pa;Z=ca?null:Z;ya=fa.nonReplayableId;Da=fa.renewable;Ja=fa.capabilities;Ca=fa.messageId;Ta=fa.keyRequestData?fa.keyRequestData:[];Ia=fa.keyResponseData;Za=fa.userAuthData;db=fa.userIdToken;Xa=fa.serviceTokens?fa.serviceTokens:[];if(la.isPeerToPeer()){mb=xa.peerMasterToken;pb=xa.peerUserIdToken;tb=xa.peerServiceTokens?xa.peerServiceTokens:[];}else (pb=mb=null,tb=[]);if(0 > Ca || Ca > Rb)throw new Bb("Message ID " + Ca + " is out of range.");if(!Z && !ca)throw new Bb("Message entity authentication data or master token must be provided.");if(Ia){if(la.isPeerToPeer()){ub=ca;vb=Ia.masterToken;}else (ub=Ia.masterToken,vb=mb);}else (ub=ca,vb=mb);if(db && (!ub || !db.isBoundTo(ub)))throw new Bb("User ID token must be bound to a master token.");if(pb && (!vb || !pb.isBoundTo(vb)))throw new Bb("Peer user ID token must be bound to a peer master token.");Xa.forEach(function(Ea){if(Ea.isMasterTokenBound() && (!ub || !Ea.isBoundTo(ub)))throw new Bb("Master token bound service tokens must be bound to the provided master token.");if(Ea.isUserIdTokenBound() && (!db || !Ea.isBoundTo(db)))throw new Bb("User ID token bound service tokens must be bound to the provided user ID token.");},this);tb.forEach(function(Ea){if(Ea.isMasterTokenBound() && (!vb || !Ea.isBoundTo(vb)))throw new Bb("Master token bound peer service tokens must be bound to the provided peer master token.");if(Ea.isUserIdTokenBound() && (!pb || !Ea.isBoundTo(pb)))throw new Bb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ra){pa=Ra.customer;Eb=Ra.messageCryptoContext;Db=X(la,Eb,pa,Z,ca,na,Ca,Ta,Ia,Za,db,Xa,mb,pb,tb,ya,Da,Ja,Ra.headerdata,Ra.signature);Object.defineProperties(this,Db);return this;}pa=db?db.customer:null;Db={};na && (Db.sender=na);Db.messageid=Ca;"number" === typeof ya && (Db.nonreplayableid=ya);Db.renewable=Da;Ja && (Db.capabilities=Ja);0 < Ta.length && (Db.keyrequestdata=Ta);Ia && (Db.keyresponsedata=Ia);Za && (Db.userauthdata=Za);db && (Db.useridtoken=db);0 < Xa.length && (Db.servicetokens=Xa);mb && (Db.peermastertoken=mb);pb && (Db.peeruseridtoken=pb);0 < tb.length && (Db.peerservicetokens=tb);try{Eb=U(la,Z,ca);}catch(Ea){throw (Ea instanceof hb && (Ea.setEntity(ca),Ea.setEntity(Z),Ea.setUser(db),Ea.setUser(Za),Ea.setMessageId(Ca)),Ea);}Db=fc(JSON.stringify(Db),Tb);Eb.encrypt(Db,{result:function(Ea){Na(Ma,function(){Eb.sign(Ea,{result:function(Oa){Na(Ma,function(){var r;r=X(la,Eb,pa,Z,ca,na,Ca,Ta,Ia,Za,db,Xa,mb,pb,tb,ya,Da,Ja,Ea,Oa);Object.defineProperties(this,r);return this;},Va);},error:function(Oa){Na(Ma,function(){Oa instanceof hb && (Oa.setEntity(ca),Oa.setEntity(Z),Oa.setUser(db),Oa.setUser(Za),Oa.setMessageId(Ca));throw Oa;},Va);}});},Va);},error:function(Ea){Na(Ma,function(){Ea instanceof hb && (Ea.setEntity(ca),Ea.setEntity(Z),Ea.setUser(db),Ea.setUser(Za),Ea.setMessageId(Ca));throw Ea;},Va);}});},Va);}Va=this;Na(Ma,function(){Ra?Qa(Ra.sender):ca?la.getEntityAuthenticationData(null,{result:function(na){na=na.getIdentity();Qa(na);},error:Ma.error}):Qa(null);},Va);},isEncrypting:function(){return this.masterToken || Cd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var la;la={};this.masterToken?la[He]=this.masterToken:la[Rd]=this.entityAuthenticationData;la[Ie]=Kb(this.headerdata);la[Sd]=Kb(this.signature);return la;}});Ne=function(la,Z,ca,fa,xa,Ra){new gd(la,Z,ca,fa,xa,null,Ra);};Td=function(la,Z,ca,fa,xa,Ra,Ma){Na(Ma,function(){var Qa,Va;ca=fa?null:ca;if(!ca && !fa)throw new Ob(S.MESSAGE_ENTITY_NOT_FOUND);Qa=Z;try{Z=Mb(Qa);}catch(na){throw new Ob(S.HEADER_DATA_INVALID,Qa,na);}if(!Z || 0 == Z.length)throw new Ob(S.HEADER_DATA_MISSING,Qa);try{Va=U(la,ca,fa);}catch(na){throw (na instanceof hb && (na.setEntity(fa),na.setEntity(ca)),na);}V(la,Va,Z,xa,{result:function(na){Na(Ma,function(){var ya,Da,Ja,Ca,Ta;try{ya=JSON.parse(na);}catch(Ia){if(Ia instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + na,Ia).setEntity(fa).setEntity(ca);throw Ia;}Da=parseInt(ya.messageid);if(!Da || Da != Da)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + na).setEntity(fa).setEntity(ca);if(0 > Da || Da > Rb)throw new Ob(S.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + na).setEntity(fa).setEntity(ca);Ja=fa?ya.sender:null;if(fa && (!Ja || "string" !== typeof Ja))throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + na).setEntity(fa).setEntity(ca).setMessageId(Da);Ca=ya.keyresponsedata;if(Ca && "object" !== typeof Ca)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + na).setEntity(fa).setEntity(ca).setMessageId(Da);Ta=Ma;Ma={result:function(Ia){Ta.result(Ia);},error:function(Ia){Ia instanceof hb && (Ia.setEntity(fa),Ia.setEntity(ca),Ia.setMessageId(Da));Ta.error(Ia);}};ba(la,Ca,{result:function(Ia){Na(Ma,function(){var Za,db;Za=!la.isPeerToPeer() && Ia?Ia.masterToken:fa;db=ya.useridtoken;if(db && "object" !== typeof db)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + na);W(la,db,Za,{result:function(Xa){Na(Ma,function(){var mb;mb=ya.userauthdata;if(mb && "object" !== typeof mb)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + na);ha(la,Za,mb,{result:function(pb){Na(Ma,function(){var tb,ub,vb;if(pb){tb=pb.scheme;ub=la.getUserAuthenticationFactory(tb);if(!ub)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,tb).setUser(Xa).setUser(pb);tb=fa?fa.identity:ca.getIdentity();vb=ub.authenticate(la,tb,pb,Xa);}else vb=Xa?Xa.customer:null;va(la,ya.servicetokens,Za,Xa,Ra,na,{result:function(Eb){Na(Ma,function(){var Db,pa,Ea,Oa;Db=ya.nonreplayableid !== Fb?parseInt(ya.nonreplayableid):null;pa=ya.renewable;if(Db != Db || "boolean" !== typeof pa)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + na);if(0 > Db || Db > Rb)throw new Ob(S.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + na);Ea=null;Oa=ya.capabilities;if(Oa){if("object" !== typeof Oa)throw new Hb(S.JSON_PARSE_ERROR,"headerdata " + na);Ea=Me(Oa);}ja(la,ya,na,{result:function(r){ra(la,ya,Ia,Ra,na,{result:function(b){Na(Ma,function(){var a,c,l,f;a=b.peerMasterToken;c=b.peerUserIdToken;l=b.peerServiceTokens;f=new qa(Da,Db,pa,Ea,r,Ia,pb,Xa,Eb);a=new za(a,c,l);c=new ea(vb,Ja,Va,Z,xa);new gd(la,ca,fa,f,a,c,Ma);});},error:Ma.error});},error:function(r){Na(Ma,function(){r instanceof hb && (r.setUser(Xa),r.setUser(pb));throw r;});}});});},error:function(Eb){Na(Ma,function(){Eb instanceof hb && (Eb.setEntity(Za),Eb.setUser(Xa),Eb.setUser(pb));throw Eb;});}});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});};})();(function(){function ea(X,U){this.payload=X;this.signature=U;}Vd=Gb.Class.create({init:function(X,U,V,ba,W,ha,va,ra){var ja;ja=this;Na(ra,function(){var qa,za;if(0 > X || X > Rb)throw new Bb("Sequence number " + X + " is outside the valid range.");if(0 > U || U > Rb)throw new Bb("Message ID " + U + " is outside the valid range.");if(va)return (Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:U,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:W,writable:!1,configurable:!1},endofmsg:{value:V,writable:!1,enumerable:!1,configurable:!1},payload:{value:va.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:va.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ba){qa=Wd(ba,W);qa || (ba=null,qa=W);}else (ba=null,qa=W);za={};za.sequencenumber=X;za.messageid=U;V && (za.endofmsg=V);ba && (za.compressionalgo=ba);za.data=Kb(qa);qa=fc(JSON.stringify(za),Tb);ha.encrypt(qa,{result:function(la){Na(ra,function(){ha.sign(la,{result:function(Z){Na(ra,function(){Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:U,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:W,writable:!1,configurable:!1},endofmsg:{value:V,writable:!1,enumerable:!1,configurable:!1},payload:{value:la,writable:!1,enumerable:!1,configurable:!1},signature:{value:Z,writable:!1,enumerable:!1,configurable:!1}});return this;},ja);},error:function(Z){ra.error(Z);}});},ja);},error:function(la){ra.error(la);}});},ja);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var X;X={};X.payload=Kb(this.payload);X.signature=Kb(this.signature);return X;}});Re=function(X,U,V,ba,W,ha,va){new Vd(X,U,V,ba,W,ha,null,va);};Se=function(X,U,V){Na(V,function(){var ba,W,ha,va;ba=X.payload;W=X.signature;if(!ba || "string" !== typeof ba || "string" !== typeof W)throw new Hb(S.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(X));try{ha=Mb(ba);}catch(ra){throw new Ob(S.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(X),ra);}try{va=Mb(W);}catch(ra){throw new Ob(S.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(X),ra);}U.verify(ha,va,{result:function(ra){Na(V,function(){if(!ra)throw new zb(S.PAYLOAD_VERIFICATION_FAILED);U.decrypt(ha,{result:function(ja){Na(V,function(){var qa,za,la,Z,ca,fa,xa;qa=ec(ja,Tb);try{za=JSON.parse(qa);}catch(Ra){if(Ra instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"payload chunk payload " + qa,Ra);throw Ra;}la=parseInt(za.sequencenumber);Z=parseInt(za.messageid);ca=za.endofmsg;fa=za.compressionalgo;za=za.data;if(!la || la != la || !Z || Z != Z || ca && "boolean" !== typeof ca || fa && "string" !== typeof fa || "string" !== typeof za)throw new Hb(S.JSON_PARSE_ERROR,"payload chunk payload " + qa);if(0 > la || la > Rb)throw new hb(S.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + qa);if(0 > Z || Z > Rb)throw new hb(S.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + qa);ca || (ca=!1);if(fa && !Kc[fa])throw new Ob(S.UNIDENTIFIED_COMPRESSION,fa);try{xa=Mb(za);}catch(Ra){throw new Ob(S.PAYLOAD_DATA_CORRUPT,za,Ra);}if(xa && 0 != xa.length)qa=fa?xd(fa,xa):xa;else {if(0 < za.length)throw new Ob(S.PAYLOAD_DATA_CORRUPT,za);if(ca)qa=new Uint8Array(0);else throw new Ob(S.PAYLOAD_DATA_MISSING,za);}xa=new ea(ha,va);new Vd(la,Z,ca,fa,qa,U,xa,V);});},error:function(ja){V.error(ja);}});});},error:function(ra){V.error(ra);}});});};})();(function(){var V,ba;function ea(W,ha,va,ra,ja){var za,la,Z,ca,fa;function qa(){Na(ja,function(){var xa,Ra;la >= ha.length && (la=0,++za);if(za >= Z.length){if(ca)throw ca;throw new Ub(S.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ha));}xa=Z[za];Ra=ha[la];xa.scheme != Ra.keyExchangeScheme?(++la,qa()):xa.generateResponse(W,Ra,fa,{result:function(Ma){ja.result(Ma);},error:function(Ma){Na(ja,function(){if(!(Ma instanceof hb))throw Ma;ca=Ma;++la;qa();});}});});}za=0;la=0;Z=W.getKeyExchangeFactories();fa=va?va:ra;qa();}function X(W,ha,va,ra,ja){Na(ja,function(){var qa;qa=ha.keyRequestData;if(ha.isRenewable() && 0 < qa.length)ra?ra.isRenewable() || ra.isExpired()?ea(W,qa,ra,null,ja):W.getTokenFactory().isNewestMasterToken(W,ra,{result:function(za){Na(ja,function(){if(za)return null;ea(W,qa,ra,null,ja);});},error:ja.error}):ea(W,qa,null,va.getIdentity(),ja);else return null;});}function U(W,ha,va,ra){Na(ra,function(){var ja,qa,za,la;ja=ha.userIdToken;qa=ha.userAuthenticationData;za=ha.messageId;if(ja && ja.isVerified()){if(ja.isRenewable() && ha.isRenewable() || ja.isExpired() || !ja.isBoundTo(va)){qa=W.getTokenFactory();qa.renewUserIdToken(W,ja,va,ra);return;}}else if(ha.isRenewable() && va && qa){ja=ha.customer;if(!ja){ja=qa.scheme;la=W.getUserAuthenticationFactory(ja);if(!la)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,ja).setEntity(va).setUser(qa).setMessageId(za);ja=la.authenticate(W,va.identity,qa,null);}qa=W.getTokenFactory();qa.createUserIdToken(W,ja,va,ra);return;}return ja;});}V=new Uint8Array(0);ba=Nc=function(W){if(0 > W || W > Rb)throw new Bb("Message ID " + W + " is outside the valid range.");return W == Rb?0:W + 1;};Wc=function(W){if(0 > W || W > Rb)throw new Bb("Message ID " + W + " is outside the valid range.");return 0 == W?Rb:W - 1;};Oc=function(W,ha,va,ra,ja){Na(ja,function(){var qa;if(ra == Fb || null == ra){qa=W.getRandom();do {ra=qa.nextLong();}while(0 > ra || ra > Rb);}else if(0 > ra || ra > Rb)throw new Bb("Message ID " + ra + " is outside the valid range.");W.getEntityAuthenticationData(null,{result:function(za){Na(ja,function(){var la;la=W.getMessageCapabilities();return new yd(W,ra,la,za,ha,va,null,null,null,null,null);});},error:function(za){ja.error(za);}});});};Te=function(W,ha,va){Na(va,function(){var ja,qa,za,la,Z,ca;function ra(fa){Na(va,function(){fa instanceof hb && (fa.setEntity(ja),fa.setEntity(qa),fa.setUser(za),fa.setUser(la),fa.setMessageId(Z));throw fa;});}ja=ha.masterToken;qa=ha.entityAuthenticationData;za=ha.userIdToken;la=ha.userAuthenticationData;Z=ha.messageId;ca=ba(Z);X(W,ha,qa,ja,{result:function(fa){Na(va,function(){var xa;xa=fa?fa.keyResponseData.masterToken:xa=ja;W.getEntityAuthenticationData(null,{result:function(Ra){Na(va,function(){U(W,ha,xa,{result:function(Ma){Na(va,function(){var Qa,Va,na;za=Ma;Qa=Ud(ha.messageCapabilities,W.getMessageCapabilities());Va=ha.keyResponseData;na=ha.serviceTokens;return W.isPeerToPeer()?new yd(W,ca,Qa,Ra,Va?Va.masterToken:ha.peerMasterToken,ha.peerUserIdToken,ha.peerServiceTokens,ja,za,na,fa):new yd(W,ca,Qa,Ra,Va?Va.masterToken:ja,za,na,null,null,null,fa);});},error:ra});});},error:ra});});},error:ra});});};Ue=function(W,ha,va,ra,ja){Na(ja,function(){W.getEntityAuthenticationData(null,{result:function(qa){Na(ja,function(){var za,la;if(ha != Fb && null != ha)za=ba(ha);else {la=W.getRandom();do {za=la.nextInt();}while(0 > za || za > Rb);}Le(W,qa,za,va.responseCode,va.internalCode,va.message,ra,ja);});},error:function(qa){ja.error(qa);}});});};yd=Gb.Class.create({init:function(W,ha,va,ra,ja,qa,za,la,Z,ca,fa){var xa,Ra,Ma,Qa,Va;if(!W.isPeerToPeer() && (la || Z))throw new Bb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");xa=fa && !W.isPeerToPeer()?fa.keyResponseData.masterToken:ja;Ra=[];xa=W.getMslStore().getServiceTokens(xa,qa);Ra.push.apply(Ra,xa);za && za.forEach(function(na){Ra.push(na);},this);Ma=[];if(W.isPeerToPeer()){Qa=la;Va=Z;za=fa?fa.keyResponseData.masterToken:la;Z=W.getMslStore().getServiceTokens(za,Z);Ma.push.apply(Ma,Z);ca && ca.forEach(function(na){Ma.push(na);},this);}Object.defineProperties(this,{_ctx:{value:W,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ra,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:ja,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ha,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:va,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:fa,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:qa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ra,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Qa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Va,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Cd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Cd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || de(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || de(this._entityAuthData.scheme);},getHeader:function(W){Na(W,function(){var ha,va,ra;ha=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;va=[];for(ra in this._keyRequestData){va.push(this._keyRequestData[ra]);}if(this._nonReplayable){if(!this._masterToken)throw new Ob(S.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ra=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ra=null;ha=new Oe(this._messageId,ra,this._renewable,this._capabilities,va,ha,this._userAuthData,this._userIdToken,this._serviceTokens);va=new Pe(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Ne(this._ctx,this._entityAuthData,this._masterToken,ha,va,W);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(W){this._nonReplayable=W;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(W){this._renewable=W;return this;},setAuthTokens:function(W,ha){var va,ja;if(ha && !ha.isBoundTo(W))throw new Bb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new Bb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{va=this._ctx.getMslStore().getServiceTokens(W,ha);}catch(qa){if(qa instanceof hb)throw new Bb("Invalid master token and user ID token combination despite checking above.",qa);throw qa;}for(var ra=this._serviceTokens.length - 1;0 <= ra;--ra){ja=this._serviceTokens[ra];(ja.isUserIdTokenBound() && !ja.isBoundTo(ha) || ja.isMasterTokenBound() && !ja.isBoundTo(W)) && this._serviceTokens.splice(ra,1);}va.forEach(function(qa){this.excludeServiceToken(qa.name,qa.isMasterTokenBound(),qa.isUserIdTokenBound());this._serviceTokens.push(qa);},this);this._masterToken=W;this._userIdToken=ha;},setUserAuthenticationData:function(W){this._userAuthData=W;return this;},setCustomer:function(W,ha){var va;va=this;Na(ha,function(){var ra;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new Bb("User ID token or peer user ID token already exists for the remote user.");ra=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ra)throw new Bb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,W,ra,{result:function(ja){Na(ha,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=ja:(this._userIdToken=ja,this._userAuthData=null);return !0;},va);},error:function(ja){ha.error(ja);}});},va);},addKeyRequestData:function(W){this._keyRequestData[W.uniqueKey()]=W;return this;},removeKeyRequestData:function(W){delete this._keyRequestData[W.uniqueKey()];return this;},addServiceToken:function(W){var ha;ha=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(W.isMasterTokenBound() && !W.isBoundTo(ha))throw new Ob(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; mt " + JSON.stringify(ha)).setEntity(ha);if(W.isUserIdTokenBound() && !W.isBoundTo(this._userIdToken))throw new Ob(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ha).setUser(this._userIdToken);this.excludeServiceToken(W.name,W.isMasterTokenBound(),W.isUserIdTokenBound());this._serviceTokens.push(W);return this;},addServiceTokenIfAbsent:function(W){var va;for(var ha=this._serviceTokens.length - 1;0 <= ha;--ha){va=this._serviceTokens[ha];if(va.name == W.name && va.isMasterTokenBound() == W.isMasterTokenBound() && va.isUserIdTokenBound() == W.isUserIdTokenBound())return this;}this.addServiceToken(W);return this;},excludeServiceToken:function(){var W,ha,va,ja;if(1 == arguments.length){W=arguments[0];ha=W.name;va=W.isMasterTokenBound();W=W.isUserIdTokenBound();}else (arguments.length=3,ha=arguments[0],va=arguments[1],W=arguments[2]);for(var ra=this._serviceTokens.length - 1;0 <= ra;--ra){ja=this._serviceTokens[ra];ja.name == ha && ja.isMasterTokenBound() == va && ja.isUserIdTokenBound() == W && this._serviceTokens.splice(ra,1);}return this;},deleteServiceToken:function(){var W,ha,va,ra;if(2 == arguments.length){W=arguments[0];ha=W.name;W.isMasterTokenBound();W.isUserIdTokenBound();va=arguments[1];}else (arguments.length=4,ha=arguments[0],va=arguments[3]);ra=this;Na(va,function(){var ja,qa;ja=originalToken.isMasterTokenBound()?this._masterToken:null;qa=originalToken.isUserIdTokenBound()?this._userIdToken:null;zc(this._ctx,ha,V,ja,qa,!1,null,new Vc(),{result:function(za){Na(va,function(){return this.addServiceToken(za);},ra);},error:function(za){za instanceof hb && (za=new Bb("Failed to create and add empty service token to message.",za));va.error(za);}});},ra);},getServiceTokens:function(){var W;W=[];W.push.apply(W,this._serviceTokens);return W;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(W,ha){var va,ja;if(!this._ctx.isPeerToPeer())throw new Bb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ha && !W)throw new Bb("Peer master token cannot be null when setting peer user ID token.");if(ha && !ha.isBoundTo(W))throw new Ob(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ha + "; mt " + W).setEntity(W).setUser(ha);try{va=this._ctx.getMslStore().getServiceTokens(W,ha);}catch(qa){if(qa instanceof hb)throw new Bb("Invalid peer master token and user ID token combination despite proper check.",qa);throw qa;}for(var ra=this._peerServiceTokens.length - 1;0 <= ra;--ra){ja=this._peerServiceTokens[ra];(ja.isUserIdTokenBound() && !ja.isBoundTo(ha) || ja.isMasterTokenBound() && !ja.isBoundTo(W)) && this._peerServiceTokens.slice(ra,1);}va.forEach(function(qa){this.excludePeerServiceToken(qa.name,qa.isMasterTokenBound(),qa.isUserIdTokenBound());this._peerServiceTokens.push(qa);},this);this._peerUserIdToken=ha;this._peerMasterToken=W;return this;},addPeerServiceToken:function(W){if(!this._ctx.isPeerToPeer())throw new Bb("Cannot set peer service tokens when not in peer-to-peer mode.");if(W.isMasterTokenBound() && !W.isBoundTo(this._peerMasterToken))throw new Ob(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(W.isUserIdTokenBound() && !W.isBoundTo(this._peerUserIdToken))throw new Ob(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(W.name,W.isMasterTokenBound(),W.isUserIdTokenBound());this._peerServiceTokens.push(W);return this;},addPeerServiceTokenIfAbsent:function(W){var va;for(var ha=this._peerServiceTokens.length - 1;0 <= ha;--ha){va=this._peerServiceTokens[ha];if(va.name == W.name && va.isMasterTokenBound() == W.isMasterTokenBound() && va.isUserIdTokenBound() == W.isUserIdTokenBound())return this;}this.addPeerServiceToken(W);return this;},excludePeerServiceToken:function(){var W,ha,va,ja;if(1 == arguments.length){W=arguments[0];ha=W.name;va=W.isMasterTokenBound();W=W.isUserIdTokenBound();}else (arguments.length=3,ha=arguments[0],va=arguments[1],W=arguments[2]);for(var ra=this._peerServiceTokens.length - 1;0 <= ra;--ra){ja=this._peerServiceTokens[ra];ja.name == ha && ja.isMasterTokenBound() == va && ja.isUserIdTokenBound() == W && this._peerServiceTokens.splice(ra,1);}return this;},deletePeerServiceToken:function(){var W,ha,va,ra,ja,qa;if(2 == arguments.length){W=arguments[0];ha=W.name;va=W.isMasterTokenBound();ra=W.isUserIdTokenBound();ja=arguments[1];}else (arguments.length=4,ha=arguments[0],va=arguments[1],ra=arguments[2],ja=arguments[3]);qa=this;Na(ja,function(){zc(this._ctx,ha,V,va?this._peerMasterToken:null,ra?this._peerUserIdToken:null,!1,null,new Vc(),{result:function(za){Na(ja,function(){return this.addPeerServiceToken(za);},qa);},error:function(za){za instanceof hb && (za=new Bb("Failed to create and add empty peer service token to message.",za));ja.error(za);}});},qa);},getPeerServiceTokens:function(){var W;W=[];W.push.apply(W,this._peerServiceTokens);return W;}});})();(function(){function ea(U,V){return V[U]?V[U]:V[""];}function X(U){var V;V=U.builder.getKeyExchangeData();return V && !U.ctx.isPeerToPeer()?V.keyResponseData.masterToken:U.builder.getMasterToken();}Ve=Gb.Class.create({init:function(U,V,ba){U={ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:V.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ba,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,U);},isPrimaryMasterTokenAvailable:function(){return X(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(U){try{return (this.builder.addServiceToken(U),!0);}catch(V){if(V instanceof Ob)return !1;throw V;}},addPeerServiceToken:function(U){try{return (this.builder.addPeerServiceToken(U),!0);}catch(V){if(V instanceof Ob)return !1;throw V;}},addUnboundPrimaryServiceToken:function(U,V,ba,W,ha){var va;va=this;Na(ha,function(){var ra;ra=ea(U,this.cryptoContexts);if(!ra)return !1;zc(this.ctx,U,V,null,null,ba,W,ra,{result:function(ja){Na(ha,function(){try{this.builder.addServiceToken(ja);}catch(qa){if(qa instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},va);},error:function(ja){ha.error(ja);}});},va);},addUnboundPeerServiceToken:function(U,V,ba,W,ha){var va;va=this;Na(ha,function(){var ra;ra=ea(U,this.cryptoContexts);if(!ra)return !1;zc(this.ctx,U,V,null,null,ba,W,ra,{result:function(ja){Na(ha,function(){try{this.builder.addPeerServiceToken(ja);}catch(qa){if(qa instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},va);},error:function(ja){ha.error(ja);}});},va);},addMasterBoundPrimaryServiceToken:function(U,V,ba,W,ha){var va;va=this;Na(ha,function(){var ra,ja;ra=X(this);if(!ra)return !1;ja=ea(U,this.cryptoContexts);if(!ja)return !1;zc(this.ctx,U,V,ra,null,ba,W,ja,{result:function(qa){Na(ha,function(){try{this.builder.addServiceToken(qa);}catch(za){if(za instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token.",za);throw za;}return !0;},va);},error:function(qa){ha.error(qa);}});},va);},addMasterBoundPeerServiceToken:function(U,V,ba,W,ha){var va;va=this;Na(ha,function(){var ra,ja;ra=this.builder.getPeerMasterToken();if(!ra)return !1;ja=ea(U,this.cryptoContexts);if(!ja)return !1;zc(this.ctx,U,V,ra,null,ba,W,ja,{result:function(qa){Na(ha,function(){try{this.builder.addPeerServiceToken(qa);}catch(za){if(za instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token.",za);throw za;}return !0;},va);},error:function(qa){ha.error(qa);}});},va);},addUserBoundPrimaryServiceToken:function(U,V,ba,W,ha){var va;va=this;Na(ha,function(){var ra,ja,qa;ra=X(this);if(!ra)return !1;ja=this.builder.getUserIdToken();if(!ja)return !1;qa=ea(U,this.cryptoContexts);if(!qa)return !1;zc(this.ctx,U,V,ra,ja,ba,W,qa,{result:function(za){Na(ha,function(){try{this.builder.addServiceToken(za);}catch(la){if(la instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",la);throw la;}return !0;},va);},error:function(za){ha.error(za);}});},va);},addUserBoundPeerServiceToken:function(U,V,ba,W,ha){var va;va=this;Na(ha,function(){var ra,ja,qa;ra=this.builder.getPeerMasterToken();if(!ra)return !1;ja=this.builder.getPeerUserIdToken();if(!ja)return !1;qa=ea(U,this.cryptoContexts);if(!qa)return !1;zc(this.ctx,U,V,ra,ja,ba,W,qa,{result:function(za){Na(ha,function(){try{this.builder.addPeerServiceToken(za);}catch(la){if(la instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",la);throw la;}return !0;},va);},error:function(za){ha.error(za);}});},va);},excludePrimaryServiceToken:function(){var U,V,ba,W;if(1 == arguments.length){U=arguments[0];V=U.name;ba=U.isMasterTokenBound();W=U.isUserIdTokenBound();}else (arguments.length=3,V=arguments[0],ba=arguments[1],W=arguments[2]);for(var ha=this.builder.getServiceTokens(),va=0;va < ha.length;++va){if((U=ha[va],U.name == V && U.isMasterTokenBound() == ba && U.isUserIdTokenBound() == W))return (this.builder.excludeServiceToken(V,ba,W),!0);}return !1;},excludePeerServiceToken:function(){var U,V,ba,W;if(1 == arguments.length){U=arguments[0];V=U.name;ba=U.isMasterTokenBound();W=U.isUserIdTokenBound();}else (arguments.length=3,V=arguments[0],ba=arguments[1],W=arguments[2]);for(var ha=this.builder.getPeerServiceTokens(),va=0;va < ha.length;++va){if((U=ha[va],U.name == V && U.isMasterTokenBound() == ba && U.isUserIdTokenBound() == W))return (this.builder.excludePeerServiceToken(V,ba,W),!0);}return !1;},deletePrimaryServiceToken:function(){var U,V,ba,W,ha;if(2 == arguments.length){U=arguments[0];V=U.name;ba=U.isMasterTokenBound();W=U.isUserIdTokenBound();ha=arguments[1];}else 4 == arguments.length && (V=arguments[0],ba=arguments[1],W=arguments[2],ha=arguments[3]);Na(ha,function(){var ja;for(var va=this.builder.getServiceTokens(),ra=0;ra < va.length;++ra){ja=va[ra];if(ja.name == V && ja.isMasterTokenBound() == ba && ja.isUserIdTokenBound() == W){this.builder.deleteServiceToken(V,ba,W,{result:function(){ha.result(!0);},error:function(qa){ha.error(qa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var U,V,ba,W,ha;if(2 == arguments.length){U=arguments[0];V=U.name;ba=U.isMasterTokenBound();W=U.isUserIdTokenBound();ha=arguments[1];}else 4 == arguments.length && (V=arguments[0],ba=arguments[1],W=arguments[2],ha=arguments[3]);Na(ha,function(){var ja;for(var va=this.builder.getPeerServiceTokens(),ra=0;ra < va.length;++ra){ja=va[ra];if(ja.name == V && ja.isMasterTokenBound() == ba && ja.isUserIdTokenBound() == W){this.builder.deletePeerServiceToken(V,ba,W,{result:function(){ha.result(!0);},error:function(qa){ha.error(qa);}});return;}}return !1;},this);}});})();(function(){function ea(X,U,V,ba){Na(ba,function(){var ha,va,ra,ja,qa,za;function W(){Na(ba,function(){var la;if(za >= V.length){if(qa)throw qa;throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(V));}la=V[za];ra != la.keyExchangeScheme?(++za,W()):ja.getCryptoContext(X,la,va,ha,{result:ba.result,error:function(Z){Na(ba,function(){if(!(Z instanceof hb))throw Z;qa=Z;++za;W();});}});});}ha=U.masterToken;va=U.keyResponseData;if(!va)return null;ra=va.keyExchangeScheme;ja=X.getKeyExchangeFactory(ra);if(!ja)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,ra);za=0;W();});}We=Qd.extend({init:function(X,U,V,ba,W,ha,va){var ra;ra=this;eb(va,function(){var ca;function ja(){ra._ready=!0;ra._readyQueue.add(!0);}function qa(fa,xa){var Ra;try{Ra=xa.masterToken;fa.getTokenFactory().isMasterTokenRevoked(fa,Ra,{result:function(Ma){Ma?(ra._errored=new ad(Ma,Ra).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ja()):za(fa,xa);},error:function(Ma){Ma instanceof hb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ra._errored=Ma;ja();}});}catch(Ma){Ma instanceof hb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ra._errored=Ma;ja();}}function za(fa,xa){var Ra,Ma;try{Ra=xa.masterToken;Ma=xa.userIdToken;Ma?fa.getTokenFactory().isUserIdTokenRevoked(fa,Ra,Ma,{result:function(Qa){Qa?(ra._errored=new MslUserIdTokenException(Qa,Ma).setEntity(Ra).setUser(Ma).setMessageId(xa.messageId),ja()):la(fa,xa);},error:function(Qa){Qa instanceof hb && (Qa.setEntity(xa.masterToken),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ra._errored=Qa;ja();}}):la(fa,xa);}catch(Qa){Qa instanceof hb && (Qa.setEntity(xa.masterToken),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ra._errored=Qa;ja();}}function la(fa,xa){var Ra;try{Ra=xa.masterToken;Ra.isExpired()?xa.isRenewable() && 0 != xa.keyRequestData.length?fa.getTokenFactory().isMasterTokenRenewable(fa,Ra,{result:function(Ma){Ma?(ra._errored=new Ob(Ma,"Master token is expired and not renewable.").setEntity(Ra).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ja()):Z(fa,xa);},error:function(Ma){Ma instanceof hb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ra._errored=Ma;ja();}}):(ra._errored=new Ob(S.MESSAGE_EXPIRED,JSON.stringify(xa)).setEntity(Ra).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ja()):Z(fa,xa);}catch(Ma){Ma instanceof hb && (Ma.setEntity(xa.masterToken),Ma.setUser(xa.userIdToken),Ma.setUser(xa.userAuthenticationData),Ma.setMessageId(xa.messageId));ra._errored=Ma;ja();}}function Z(fa,xa){var Ra,Ma;try{Ra=xa.masterToken;Ma=xa.nonReplayableId;"number" === typeof Ma?Ra?fa.getTokenFactory().acceptNonReplayableId(fa,Ra,Ma,{result:function(Qa){Qa || (ra._errored=new Ob(S.MESSAGE_REPLAYED,JSON.stringify(xa)).setEntity(Ra).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId));ja();},error:function(Qa){Qa instanceof hb && (Qa.setEntity(Ra),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ra._errored=Qa;ja();}}):(ra._errored=new Ob(S.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(xa)).setEntity(xa.entityAuthenticationData).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),ja()):ja();}catch(Qa){Qa instanceof hb && (Qa.setEntity(xa.masterToken),Qa.setEntity(xa.entityAuthenticationData),Qa.setUser(xa.userIdToken),Qa.setUser(xa.userAuthenticationData),Qa.setMessageId(xa.messageId));ra._errored=Qa;ja();}}ca={_source:{value:U,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:V,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ha,writable:!1,enumerable:!1,configurable:!1},_header:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Fb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);xe(ra._source,ha,{result:function(fa){ra._json=fa;ra._jsonIndex=0;null === ra._json?(ra._errored=new Hb(S.MESSAGE_DATA_MISSING),ja()):Ge(X,ra._json[ra._jsonIndex++],W,{result:function(xa){var Ra;ra._header=xa;if(ra._header instanceof Ic)(ra._keyxCryptoContext=null,ra._cryptoContext=null,ja());else {Ra=ra._header;ea(X,Ra,ba,{result:function(Ma){var Qa;try{ra._keyxCryptoContext=Ma;X.isPeerToPeer() || !ra._keyxCryptoContext?ra._cryptoContext=Ra.cryptoContext:ra._cryptoContext=ra._keyxCryptoContext;try{Qa=Ra.masterToken;Qa && (X.isPeerToPeer() || Qa.isVerified())?qa(X,Ra):Z(X,Ra);}catch(Va){Va instanceof hb && (Va.setEntity(Ra.masterToken),Va.setUser(Ra.userIdToken),Va.setUser(Ra.userAuthenticationData),Va.setMessageId(Ra.messageId));ra._errored=Va;ja();}}catch(Va){Va instanceof hb && (Va.setEntity(Ra.masterToken),Va.setEntity(Ra.entityAuthenticationData),Va.setUser(Ra.userIdToken),Va.setUser(Ra.userAuthenticationData),Va.setMessageId(Ra.messageId));ra._errored=Va;ja();}},error:function(Ma){Ma instanceof hb && (Ma.setEntity(Ra.masterToken),Ma.setEntity(Ra.entityAuthenticationData),Ma.setUser(Ra.userIdToken),Ma.setUser(Ra.userAuthenticationData),Ma.setMessageId(Ra.messageId));ra._errored=Ma;ja();}});}},error:function(xa){ra._errored=xa;ja();}});},timeout:function(){ra._timedout=!0;ja();},error:function(fa){ra._errored=fa;ja();}});return this;},ra);},nextData:function(X,U){var V;V=this;eb(U,function(){var W;function ba(ha){eb(ha,function(){var va;if(this._jsonIndex < this._json.length)return va=this._json[this._jsonIndex++];xe(this._source,this._timeout,{result:function(ra){ra && ra.length && 0 < ra.length?(ra.forEach(function(ja){this._json.push(ja);}),ba(ha)):(this._eom=!0,ha.result(null));},timeout:function(){ha.timeout();},error:function(ra){ha.error(ra);}});},V);}W=this.getMessageHeader();if(!W)throw new Bb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ba({result:function(ha){eb(U,function(){if(!ha)return null;if("object" !== typeof ha)throw new Hb(S.MESSAGE_FORMAT_ERROR);Se(ha,this._cryptoContext,{result:function(va){eb(U,function(){var ra,ja,qa,za;ra=W.masterToken;ja=W.entityAuthenticationData;qa=W.userIdToken;za=W.getUserAuthenticationData;if(va.messageId != W.messageId)throw new Ob(S.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + va.messageId + " header mid " + W.messageId).setEntity(ra).setEntity(ja).setUser(qa).setUser(za);if(va.sequenceNumber != this._payloadSequenceNumber)throw new Ob(S.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + va.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ra).setEntity(ja).setUser(qa).setUser(za);++this._payloadSequenceNumber;va.isEndOfMessage() && (this._eom=!0);ra=va.data;this._payloads.push(ra);this._payloadIndex=-1;return ra;},V);},error:function(va){va instanceof SyntaxError && (va=new Hb(S.JSON_PARSE_ERROR,"payloadchunk",va));U.error(va);}});},V);},timeout:function(){U.timeout();},error:function(ha){U.error(ha);}});},V);},isReady:function(X,U){var ba;function V(){eb(U,function(){if(this._aborted)return !1;if(this._timedout)U.timeout();else {if(this._errored)throw this._errored;return !0;}},ba);}ba=this;eb(U,function(){this._ready?V():this._readyQueue.poll(X,{result:function(W){eb(U,function(){if(W === Fb)return !1;V();},ba);},timeout:function(){U.timeout();},error:function(W){U.error(W);}});},ba);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorHeader:function(){return this._header instanceof Ic?this._header:null;},getIdentity:function(){var X,U;X=this.getMessageHeader();if(X){U=X.masterToken;return U?U.identity:X.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var X;X=this.getMessageHeader();return X?X.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(X){this._closeSource=X;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(X,U,V){var W;function ba(){eb(V,function(){var va,ra,ja,qa;function ha(za){eb(za,function(){var la,Z,ca;if(ra && qa >= ra.length)return ra.subarray(0,qa);la=-1;if(this._currentPayload){Z=this._currentPayload.length - this._payloadOffset;if(!ra){ca=Z;if(-1 != this._payloadIndex)for(var fa=this._payloadIndex;fa < this._payloads.length;++fa){ca+=this._payloads[fa].length;}0 < ca && (ra=new Uint8Array(ca));}Z=Math.min(Z,ra?ra.length - qa:0);0 < Z && (la=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + Z),ra.set(la,ja),la=Z,ja+=Z,this._payloadOffset+=Z);}-1 != la?(qa+=la,ha(za)):this.nextData(U,{result:function(xa){eb(za,function(){if(this._aborted)return ra?ra.subarray(0,qa):new Uint8Array(0);this._currentPayload=xa;this._payloadOffset=0;if(this._currentPayload)ha(za);else return 0 == qa && 0 != X?null:ra?ra.subarray(0,qa):new Uint8Array(0);},W);},timeout:function(){za.timeout(ra?ra.subarray(0,qa):new Uint8Array(0));},error:function(xa){eb(za,function(){xa instanceof hb && (xa=new Yb("Error reading the payload chunk.",xa));if(0 < qa)return (W._readException=xa,ra.subarray(0,qa));throw xa;},W);}});},W);}if(this._aborted)return new Uint8Array(0);if(this._timedout)V.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){va=this._readException;this._readException=null;throw va;}ra=-1 != X?new Uint8Array(X):Fb;ja=0;qa=0;ha(V);}},W);}W=this;eb(V,function(){if(-1 > X)throw new RangeError("read requested with illegal length " + X);this._ready?ba():this._readyQueue.poll(U,{result:function(ha){ha === Fb?V.result(!1):ba();},timeout:function(){V.timeout(new Uint8Array(0));},error:function(ha){V.error(ha);}});},W);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Xe=function(X,U,V,ba,W,ha,va){new We(X,U,V,ba,W,ha,va);};})();(function(){Ye=ud.extend({init:function(ea,X,U,V,ba,W,ha){var va;va=this;eb(ha,function(){var ja,qa,za;function ra(){va._ready=!0;va._readyQueue.add(!0);}ja=Ud(ea.getMessageCapabilities(),V.messageCapabilities);qa=null;ja && (qa=me(ja.compressionAlgorithms));ja={_destination:{value:X,writable:!1,enumerable:!1,configurable:!1},_charset:{value:U,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ja,writable:!1,enumerable:!1,configurable:!1},_header:{value:V,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:qa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ba,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ja);za=fc(JSON.stringify(V),U);X.write(za,0,za.length,W,{result:function(la){try{va._aborted?ra():la < za.length?(va._timedout=!0,ra()):X.flush(W,{result:function(Z){va._aborted || (va._timedout=!Z);ra();},timeout:function(){va._timedout=!0;ra();},error:function(Z){va._errored=Z;ra();}});}catch(Z){va._errored=Z;ra();}},timeout:function(){va._timedout=!0;ra();},error:function(la){va._errored=la;ra();}});return this;},va);},setCompressionAlgorithm:function(ea,X,U){var ba;function V(){ba.flush(X,{result:function(W){eb(U,function(){if(!W)throw new Yb("flush() aborted");this._compressionAlgo=ea;return !0;},ba);},timeout:function(){U.timeout();},error:function(W){U.error(W);}});}ba=this;eb(U,function(){if(!this.getMessageHeader())throw new Bb("Cannot write payload data for an error message.");if(this._compressionAlgo == ea)return !0;if(ea){if(!this._capabilities)return !1;for(var W=this._capabilities.compressionAlgorithms,ha=0;ha < W.length;++ha){if(W[ha] == ea){V();return;}}return !1;}V();},ba);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorMessage:function(){return this._header instanceof Ic?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ea,X){var U;U=this;eb(X,function(){if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ea,{result:function(V){eb(X,function(){V && (this._currentPayload=null);return V;},U);},timeout:function(){X.timeout();},error:function(V){X.error(V);}});}},U);},flush:function(ea,X){var V;function U(){eb(X,function(){var ba,W,ja;if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ba=this.getMessageHeader();if(!ba)return !0;W=0;this._currentPayload && this._currentPayload.forEach(function(qa){W+=qa.length;});for(var ha=new Uint8Array(W),va=0,ra=0;this._currentPayload && ra < this._currentPayload.length;++ra){ja=this._currentPayload[ra];ha.set(ja,va);va+=ja.length;}Re(this._payloadSequenceNumber,ba.messageId,this._closed,this._compressionAlgo,ha,this._cryptoContext,{result:function(qa){eb(X,function(){var za;this._payloads.push(qa);za=fc(JSON.stringify(qa),this._charset);this._destination.write(za,0,za.length,ea,{result:function(la){eb(X,function(){if(this._aborted)return !1;la < qa.length?X.timeout():this._destination.flush(ea,{result:function(Z){eb(X,function(){if(this._aborted)return !1;if(Z)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);X.timeout();},V);},timeout:function(){X.timeout();},error:function(Z){Z instanceof hb && (Z=new Yb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",Z));X.error(Z);}});},V);},timeout:function(la){X.timeout();},error:function(la){la instanceof hb && (la=new Yb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",la));X.error(la);}});},V);},error:function(qa){qa instanceof hb && (qa=new Yb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",qa));X.error(qa);}});}},V);}V=this;eb(X,function(){this._ready?U():this._readyQueue.poll(ea,{result:function(ba){ba === Fb?X.result(!1):U();},timeout:function(){X.timeout();},error:function(ba){X.error(ba);}});},V);},write:function(ea,X,U,V,ba){eb(ba,function(){var W;if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Yb("Message output stream already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > U)throw new RangeError("Length cannot be negative.");if(X + U > ea.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new Bb("Cannot write payload data for an error message.");W=ea.subarray(X,X + U);this._currentPayload.push(W);return W.length;}},this);}});zd=function(ea,X,U,V,ba,W,ha){new Ye(ea,X,U,V,ba,W,ha);};})();Cf=Gb.Class.create({sentHeader:function(ea){},receivedHeader:function(ea){}});Object.freeze({USERDATA_REAUTH:Fa.USERDATA_REAUTH,SSOTOKEN_REJECTED:Fa.SSOTOKEN_REJECTED});Ze=Gb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ea,X,U,V){},getCustomer:function(){},getKeyRequestData:function(ea){},updateServiceTokens:function(ea,X,U){},write:function(ea,X,U){},getDebugContext:function(){}});Gb.Class.create({getInputStream:function(ea){},getOutputStream:function(ea){}});(function(){var va,ra,ja,qa,za,la,Z,ca,fa,xa,Ra,Ma;function ea(Qa){return function(){Qa.abort();};}function X(Qa,Va){Object.defineProperties(this,{masterToken:{value:Qa,writable:!1,configurable:!1},ticket:{value:Va,writable:!1,configurable:!1}});}function U(Qa,Va){Object.defineProperties(this,{builder:{value:Qa,writable:!1,configurable:!1},msgCtx:{value:Va,writable:!1,configurable:!1}});}function V(Qa,Va,na){Object.defineProperties(this,{requestHeader:{value:Qa,writable:!1,configurable:!1},payloads:{value:Va,writable:!1,configurable:!1},handshake:{value:na,writable:!1,configurable:!1}});}function ba(Qa,Va){Object.defineProperties(this,{requestHeader:{value:Va.requestHeader,writable:!1,configurable:!1},payloads:{value:Va.payloads,writable:!1,configurable:!1},handshake:{value:Va.handshake,writable:!1,configurable:!1},response:{value:Qa,writable:!1,configurable:!1}});}function W(Qa){for(;Qa;){if(Qa instanceof bc)return !0;Qa=Qa instanceof hb?Qa.cause:Fb;}return !1;}function ha(Qa,Va,na,ya,Da,Ja,Ca,Ta,Ia){Ue(Va,ya,Da,Ja,{result:function(Za){na && na.sentHeader(Za);zd(Va,Ca,Tb,Za,null,null,Ta,{result:function(db){Qa.setAbort(function(){db.abort();});db.close(Ta,{result:function(Xa){eb(Ia,function(){if(!Xa)throw new bc("sendError aborted.");return Xa;});},timeout:function(){Ia.timeout();},error:function(Xa){Ia.error(Xa);}});},timeout:function(){},error:function(db){Ia.error(db);}});},error:function(Za){Ia.error(Za);}});}va=ud.extend({close:function(Qa,Va){Va.result(!0);},write:function(Qa,Va,na,ya,Da){Na(Da,function(){return Math.min(Qa.length - Va,na);});},flush:function(Qa,Va){Va.result(!0);}});ra=Bf.extend({getUserMessage:function(Qa,Va){return null;}});ja=Ze.extend({init:function(Qa){Object.defineProperties(this,{_appCtx:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Qa,Va,na,ya){this._appCtx.getUserAuthData(Qa,Va,na,ya);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Qa){this._appCtx.getKeyRequestData(Qa);},updateServiceTokens:function(Qa,Va,na){this._appCtx.updateServiceTokens(Qa,Va,na);},write:function(Qa,Va,na){this._appCtx.write(Qa,Va,na);},getDebugContext:function(){return this._appCtx.getDebugContext();}});qa=ja.extend({init:function ya(Va,na){ya.base.call(this,na);Object.defineProperties(this,{_payloads:{value:Va,writable:!1,enumerable:!1,configurable:!1}});},write:function(Va,na,ya){var Ja;function Da(Ca,Ta){var Ia;if(Ca == Ja._payloads.length)ya.result(!0);else {Ia=Ja._payloads[Ca];Va.setCompressionAlgorithm(Ia.compressionAlgo,na,{result:function(Za){Va.write(Ia.data,0,Ia.data.length,na,{result:function(db){eb(ya,function(){Ia.isEndOfMessage()?Da(Ca + 1,Ta):Va.flush(na,{result:function(Xa){ya.result(Xa);},timeout:function(){ya.timeout();},error:function(Xa){ya.error(Xa);}});},Ja);},timeout:function(db){ya.timeout(db);},error:function(db){ya.error(db);}});},timeout:function(){},error:function(Za){ya.error(Za);}});}}Ja=this;Da(0);}});za=ja.extend({init:function ya(na){ya.base.call(this,na);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(na,ya,Da){Da.result(!0);}});la={};Z=Gb.Class.create({init:function(na){na || (na=new ra());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:na,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(na){this._filterFactory=na;},getNewestMasterToken:function(na,ya,Da,Ja){var Ca;Ca=this;eb(Ja,function(){var Ta,Ia,Za,db,Xa;Ta=ya.getMslStore();Ia=Ta.getMasterToken();if(!Ia)return null;Za=Ia.uniqueKey();db=this._masterTokenLocks[Za];db || (db=new Fd(),this._masterTokenLocks[Za]=db);Xa=db.readLock(Da,{result:function(mb){eb(Ja,function(){var pb;if(mb === Fb)throw new bc("getNewestMasterToken aborted.");pb=Ta.getMasterToken();if(Ia.equals(pb))return new X(Ia,mb);db.unlock(mb);db.writeLock(Da,{result:function(tb){eb(Ja,function(){if(tb === Fb)throw new bc("getNewestMasterToken aborted.");delete this._masterTokenLocks[Za];db.unlock(tb);return this.getNewestMasterToken(na,ya,Da,Ja);},Ca);},timeout:function(){Ja.timeout();},error:function(tb){Ja.error(tb);}});},Ca);},timeout:function(){Ja.timeout();},error:function(mb){Ja.error(mb);}});na.setAbort(function(){Xa && (db.cancel(Xa),Xa=Fb);});},Ca);},deleteMasterToken:function(na,ya){var Da;if(ya){Da=this;setTimeout(function(){var Ja,Ca;Ja=ya.uniqueKey();Ca=Da._masterTokenLocks[Ja];Ca || (Ca=new Fd(),Da._masterTokenLocks[Ja]=Ca);Ca.writeLock(-1,{result:function(Ta){na.getMslStore().removeCryptoContext(ya);delete Da._masterTokenLocks[Ja];Ca.unlock(Ta);},timeout:function(){throw new Bb("Unexpected timeout received.");},error:function(Ta){throw Ta;}});},0);}},releaseMasterToken:function(na){var ya;if(na && na.masterToken){ya=na.masterToken.uniqueKey();ya=this._masterTokenLocks[ya];if(!ya)throw new Bb("Master token read/write lock does not exist when it should.");ya.unlock(na.ticket);}},updateOutgoingCryptoContexts:function(na,ya,Da){var Ja;Ja=na.getMslStore();!na.isPeerToPeer() && Da && (Ja.setCryptoContext(Da.keyResponseData.masterToken,Da.cryptoContext),this.deleteMasterToken(na,ya.masterToken));},updateIncomingCryptoContexts:function(na,ya,Da){var Ja,Ca;Ja=Da.getMessageHeader();if(Ja){Ca=na.getMslStore();if(Ja=Ja.keyResponseData)(Ca.setCryptoContext(Ja.masterToken,Da.getKeyExchangeCryptoContext()),this.deleteMasterToken(na,ya.masterToken));}},storeServiceTokens:function(na,ya,Da,Ja){var Ia,Za;na=na.getMslStore();for(var Ca=[],Ta=0;Ta < Ja.length;++Ta){Ia=Ja[Ta];if(!Ia.isBoundTo(ya) || !ya.isVerified()){Za=Ia.data;Za && 0 == Za.length?na.removeServiceTokens(Ia.name,Ia.isMasterTokenBound()?ya:null,Ia.isUserIdTokenBound()?Da:null):Ca.push(Ia);}}0 < Ca.length && na.addServiceTokens(Ca);},buildRequest:function(na,ya,Da,Ja,Ca){var Ta;Ta=this;this.getNewestMasterToken(na,ya,Ja,{result:function(Ia){Na(Ca,function(){var Za,db,Xa;Za=Ia && Ia.masterToken;if(Za){db=Da.getUserId();Xa=ya.getMslStore();db=(db=db?Xa.getUserIdToken(db):null) && db.isBoundTo(Za)?db:null;}else db=null;Oc(ya,Za,db,null,{result:function(mb){Na(Ca,function(){mb.setNonReplayable(Da.isNonReplayable());return {builder:mb,tokenTicket:Ia};});},error:function(mb){Na(Ca,function(){this.releaseMasterToken(Ia);mb instanceof hb && (mb=new Bb("User ID token not bound to master token despite internal check.",mb));throw mb;},Ta);}});},Ta);},timeout:function(){Ca.timeout();},error:function(Ia){Ca.error(Ia);}});},buildResponse:function(na,ya,Da,Ja,Ca,Ta){var Ia;Ia=this;Te(ya,Ja,{result:function(Za){eb(Ta,function(){Za.setNonReplayable(Da.isNonReplayable());if(!ya.isPeerToPeer() && !Ja.keyResponseData)return {builder:Za,tokenTicket:null};this.getNewestMasterToken(na,ya,Ca,{result:function(db){eb(Ta,function(){var Xa,mb,pb;Xa=db && db.masterToken;if(Xa){mb=Da.getUserId();pb=ya.getMslStore();mb=(mb=mb?pb.getUserIdToken(mb):null) && mb.isBoundTo(Xa)?mb:null;}else mb=null;Za.setAuthTokens(Xa,mb);return {builder:Za,tokenTicket:db};},Ia);},timeout:function(){Ta.timeout();},error:function(db){Ta.error(db);}});},Ia);},error:function(Za){Ta.error(Za);}});},buildErrorResponse:function(na,ya,Da,Ja,Ca,Ta,Ia){var Xa;function Za(mb,pb){eb(Ia,function(){var tb,ub;tb=Nc(Ca.messageId);ub=new qa(pb,Da);Oc(ya,null,null,tb,{result:function(vb){eb(Ia,function(){ya.isPeerToPeer() && vb.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);vb.setNonReplayable(ub.isNonReplayable());return {errorResult:new U(vb,ub),tokenTicket:null};},Xa);},error:function(vb){Ia.error(vb);}});},Xa);}function db(mb,pb){Xa.getNewestMasterToken(na,ya,Ta,{result:function(tb){eb(Ia,function(){var ub,vb,Eb;ub=tb && tb.masterToken;vb=Nc(Ca.messageId);Eb=new qa(pb,Da);Oc(ya,ub,null,vb,{result:function(Db){eb(Ia,function(){ya.isPeerToPeer() && Db.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);Db.setNonReplayable(Eb.isNonReplayable());return {errorResult:new U(Db,Eb),tokenTicket:tb};},Xa);},error:function(Db){Ia.error(Db);}});},Xa);},timeout:function(){Ia.timeout();},error:function(tb){Ia.error(tb);}});}Xa=this;eb(Ia,function(){var mb,pb,tb,ub;mb=Ja.requestHeader;pb=Ja.payloads;tb=Ca.errorCode;switch(tb){case Fa.ENTITYDATA_REAUTH:case Fa.ENTITY_REAUTH:ya.getEntityAuthenticationData(tb,{result:function(vb){eb(Ia,function(){if(!vb)return null;Za(mb,pb);},Xa);},error:function(vb){Ia.error(vb);}});break;case Fa.USERDATA_REAUTH:case Fa.SSOTOKEN_REJECTED:Da.getUserAuthData(tb,!1,!0,{result:function(vb){eb(Ia,function(){if(!vb)return null;db(mb,pb);},Xa);},error:function(vb){Ia.error(vb);}});break;case Fa.USER_REAUTH:db(mb,pb);break;case Fa.KEYX_REQUIRED:tb=Nc(Ca.messageId);ub=new qa(pb,Da);Oc(ya,null,null,tb,{result:function(vb){eb(Ia,function(){ya.isPeerToPeer() && vb.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);vb.setRenewable(!0);vb.setNonReplayable(ub.isNonReplayable());return {errorResult:new U(vb,ub),tokenTicket:null};},Xa);},error:function(vb){Ia.error(vb);}});break;case Fa.EXPIRED:this.getNewestMasterToken(na,ya,Ta,{result:function(vb){eb(Ia,function(){var Eb,Db,pa,Ea;Eb=vb && vb.masterToken;Db=mb.userIdToken;pa=Nc(Ca.messageId);Ea=new qa(pb,Da);Oc(ya,Eb,Db,pa,{result:function(Oa){eb(Ia,function(){ya.isPeerToPeer() && Oa.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);mb.masterToken.equals(Eb) && Oa.setRenewable(!0);Oa.setNonReplayable(Ea.isNonReplayable());return {errorResult:new U(Oa,Ea),tokenTicket:vb};},Xa);},error:function(Oa){Ia.error(Oa);}},Xa);},Xa);},timeout:function(){Ia.timeout();},error:function(vb){Ia.error(vb);}});break;case Fa.REPLAYED:this.getNewestMasterToken(na,ya,Ta,{result:function(vb){eb(Ia,function(){var Eb,Db,pa,Ea;Eb=vb && vb.masterToken;Db=mb.userIdToken;pa=Nc(Ca.messageId);Ea=new qa(pb,Da);Oc(ya,Eb,Db,pa,{result:function(Oa){eb(Ia,function(){ya.isPeerToPeer() && Oa.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);mb.masterToken.equals(Eb)?(Oa.setRenewable(!0),Oa.setNonReplayable(!1)):Oa.setNonReplayable(Ea.isNonReplayable());return {errorResult:new U(Oa,Ea),tokenTicket:vb};},Xa);},error:function(Oa){Ia.error(Oa);}});},Xa);},timeout:function(){Ia.timeout();},error:function(vb){Ia.error(vb);}});break;default:return null;}},Xa);},cleanupContext:function(na,ya,Da){switch(Da.errorCode){case Fa.ENTITY_REAUTH:this.deleteMasterToken(na,ya.masterToken);break;case Fa.USER_REAUTH:(Da=ya.userIdToken,ya.masterToken && Da && na.getMslStore().removeUserIdToken(Da));}},send:function(na,ya,Da,Ja,Ca,Ta,Ia){var tb;function Za(ub,vb,Eb){eb(Ia,function(){var Db;Db=Ca.getPeerUserIdToken();!ya.isPeerToPeer() && !vb || ya.isPeerToPeer() && !Db?(Db=Da.getCustomer())?Ca.setCustomer(Db,{result:function(pa){eb(Ia,function(){vb=Ca.getUserIdToken();db(ub,vb,Eb);},tb);},error:function(pa){Ia.error(pa);}}):db(ub,vb,Eb):db(ub,vb,Eb);},tb);}function db(ub,vb,Eb){eb(Ia,function(){var Db,pa;Db=!Eb && (!Da.isEncrypted() || Ca.willEncryptPayloads()) && (!Da.isIntegrityProtected() || Ca.willIntegrityProtectPayloads()) && (!Da.isNonReplayable() || Ca.isNonReplayable() && ub);Db || Ca.setNonReplayable(!1);pa=[];Ca.isRenewable() && (!ub || ub.isRenewable() || Da.isNonReplayable())?Da.getKeyRequestData({result:function(Ea){eb(Ia,function(){var r;for(var Oa=0;Oa < Ea.length;++Oa){r=Ea[Oa];pa.push(r);Ca.addKeyRequestData(r);}Xa(ub,vb,Db,pa);},tb);},error:function(Ea){Ia.error(Ea);}}):Xa(ub,vb,Db,pa);},tb);}function Xa(ub,vb,Eb,Db){eb(Ia,function(){var pa;pa=new Ve(ya,Da,Ca);Da.updateServiceTokens(pa,!Eb,{result:function(Ea){Ca.getHeader({result:function(Oa){eb(Ia,function(){var r,b;r=Da.getDebugContext();r && r.sentHeader(Oa);r=Ca.getKeyExchangeData();this.updateOutgoingCryptoContexts(ya,Oa,r);this.storeServiceTokens(ya,ub,vb,Oa.serviceTokens);r=!ya.isPeerToPeer() && r?r.cryptoContext:Oa.cryptoContext;if(na.isAborted())throw new bc("send aborted.");b=null != this._filterFactory?this._filterFactory.getOutputStream(Ja):Ja;zd(ya,b,Tb,Oa,r,Ta,{result:function(a){na.setAbort(function(){a.abort();});mb(a,Oa,Eb);},timeout:function(){Ia.timeout();},error:function(a){Ia.error(a);}});},tb);},timeout:function(){Ia.timeout();},error:function(Oa){Ia.error(Oa);}});},error:function(Ea){Ia.error(Ea);}});},tb);}function mb(ub,vb,Eb){var Db,pa;if(Eb)Da.write(ub,Ta,{result:function(Ea){eb(Ia,function(){if(na.isAborted())throw new bc("MessageOutputStream write aborted.");pb(ub,vb,Eb);},tb);},timeout:function(){Ia.timeout();},error:function(Ea){Ia.error(Ea);}});else {Db=new va();pa=new Vc();zd(ya,Db,Tb,vb,pa,Ta,{result:function(Ea){Da.write(Ea,Ta,{result:function(Oa){eb(Ia,function(){if(na.isAborted())throw new bc("MessageOutputStream proxy write aborted.");Ea.close(Ta,{result:function(r){eb(Ia,function(){var b;if(!r)throw new bc("MessageOutputStream proxy close aborted.");b=Ea.getPayloads();pb(ub,vb,Eb,b);},tb);},timeout:function(){Ia.timeout();},error:function(r){Ia.error(r);}});},tb);},timeout:function(){Ia.timeout();},error:function(Oa){Ia.error(Oa);}});},timeout:function(){Ia.timeout();},error:function(Ea){Ia.error(Ea);}});}}function pb(ub,vb,Eb,Db){ub.close(Ta,{result:function(pa){eb(Ia,function(){if(!pa)throw new bc("MessageOutputStream close aborted.");Db || (Db=ub.getPayloads());return new V(vb,Db,!Eb);},tb);},timeout:function(){Ia.timeout();},error:function(pa){Ia.error(pa);}});}tb=this;eb(Ia,function(){var ub,vb,Eb,Db;ub=Ca.getMasterToken();vb=Ca.getUserIdToken();Eb=!1;if(Da.getUserId()){Db=!vb;Da.getUserAuthData(null,Ca.isRenewable(),Db,{result:function(pa){eb(Ia,function(){pa && (Ca.willEncryptHeader() && Ca.willIntegrityProtectHeader()?Ca.setUserAuthenticationData(pa):Eb=!0);Za(ub,vb,Eb);},tb);},error:function(pa){Ia.error(pa);}});}else Za(ub,vb,Eb);},tb);},receive:function(na,ya,Da,Ja,Ca,Ta,Ia){var Za;Za=this;eb(Ia,function(){var db,Xa,mb;if(na.isAborted())throw new bc("receive aborted.");db=[];Ca && (db=Ca.keyRequestData.filter(function(){return !0;}));Xa=Da.getCryptoContexts();mb=this._filterFactory?this._filterFactory.getInputStream(Ja):Ja;Xe(ya,mb,Tb,db,Xa,Ta,{result:function(pb){na.setAbort(function(){pb.abort();});pb.isReady(Ta,{result:function(tb){eb(Ia,function(){var ub,vb,Eb,Db;if(!tb)throw new bc("MessageInputStream aborted.");ub=pb.getMessageHeader();vb=pb.getErrorHeader();Eb=Da.getDebugContext();Eb && Eb.receivedHeader(ub?ub:vb);if(Ca && (Eb=vb?vb.errorCode:null,ub || Eb != Fa.FAIL && Eb != Fa.TRANSIENT_FAILURE && Eb != Fa.ENTITY_REAUTH && Eb != Fa.ENTITYDATA_REAUTH)){Eb=ub?ub.messageId:vb.messageId;Db=Nc(Ca.messageId);if(Eb != Db)throw new Ob(S.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + Db + "; received " + Eb);}ya.getEntityAuthenticationData(null,{result:function(pa){eb(Ia,function(){var Ea,Oa,r,b;Ea=pa.getIdentity();if(ub){Oa=ub.entityAuthenticationData;r=ub.masterToken;Oa=r?ub.sender:Oa.getIdentity();if(r && r.isDecrypted() && r.identity != Oa || Ea == Oa)throw new Ob(S.UNEXPECTED_MESSAGE_SENDER,Oa);Ca && this.updateIncomingCryptoContexts(ya,Ca,pb);Ea=ub.keyResponseData;ya.isPeerToPeer()?(Ea=Ea?Ea.masterToken:ub.peerMasterToken,r=ub.peerUserIdToken,Oa=ub.peerServiceTokens):(Ea=Ea?Ea.masterToken:ub.masterToken,r=ub.userIdToken,Oa=ub.serviceTokens);b=Da.getUserId();b && r && !r.isVerified() && ya.getMslStore().addUserIdToken(b,r);this.storeServiceTokens(ya,Ea,r,Oa);}else if((Oa=vb.entityAuthenticationData.getIdentity(),Ea == Oa))throw new Ob(S.UNEXPECTED_MESSAGE_SENDER,Oa);return pb;},Za);},error:Ia.error});},Za);},timeout:function(){Ia.timeout();},error:function(tb){Ia.error(tb);}});},timeout:function(){Ia.timeout();},error:function(pb){Ia.error(pb);}});},Za);},sendReceive:function(na,ya,Da,Ja,Ca,Ta,Ia,Za,db){var mb;function Xa(pb,tb){eb(db,function(){Ta.setRenewable(tb);this.send(na,ya,Da,Ca,Ta,Ia,{result:function(ub){eb(db,function(){var vb;vb=ub.requestHeader.keyRequestData;Za || ub.handshake || !vb.isEmpty()?this.receive(na,ya,Da,Ja,ub.requestHeader,Ia,{result:function(Eb){eb(db,function(){tb && this.releaseRenewalLock(ya,pb,Eb);return new ba(Eb,ub);},mb);},timeout:function(){eb(db,function(){tb && this.releaseRenewalLock(ya,pb,null);db.timeout();},mb);},error:function(Eb){eb(db,function(){tb && this.releaseRenewalLock(ya,pb,null);throw Eb;},mb);}}):eb(db,function(){tb && this.releaseRenewalLock(ya,pb,null);return new ba(null,ub);},mb);},mb);},timeout:function(){eb(db,function(){tb && this.releaseRenewalLock(ya,pb,null);db.timeout();},mb);},error:function(ub){eb(db,function(){tb && this.releaseRenewalLock(ya,pb,null);throw ub;},mb);}});},mb);}mb=this;eb(db,function(){var pb;pb=new Zc();this.acquireRenewalLock(na,ya,Da,pb,Ta,Ia,{result:function(tb){Xa(pb,tb);},timeout:function(){db.timeout();},error:function(tb){tb instanceof bc?db.result(null):db.error(tb);}});},mb);},acquireRenewalLock:function(na,ya,Da,Ja,Ca,Ta,Ia){var Xa;function Za(mb,pb,tb){eb(Ia,function(){var Eb,Db;if(na.isAborted())throw new bc("acquireRenewalLock aborted.");for(var ub=null,vb=0;vb < this._renewingContexts.length;++vb){Eb=this._renewingContexts[vb];if(Eb.ctx === ya){ub=Eb.queue;break;}}if(!ub)return (this._renewingContexts.push({ctx:ya,queue:Ja}),!0);Db=ub.poll(Ta,{result:function(pa){eb(Ia,function(){var Ea;if(pa === Fb)throw new bc("acquireRenewalLock aborted.");ub.add(pa);if(pa === la || pa.isExpired())Za(pa,pb,tb);else {if(tb && !pb || pb && !pb.isBoundTo(pa)){Ea=ya.getMslStore().getUserIdToken(tb);pb=Ea && Ea.isBoundTo(pa)?Ea:null;}Ca.setAuthTokens(pa,pb);Ca.isRenewable() && pa.equals(mb)?Za(pa,pb,tb):Da.isRequestingTokens() && !pb?Za(pa,pb,tb):db(pa,pb);}},Xa);},timeout:function(){},error:function(pa){}});na.setAbort(function(){Db && (ub.cancel(Db),Db=Fb);});},Xa);}function db(mb,pb){eb(Ia,function(){var vb;if(na.isAborted())throw new bc("acquireRenewalLock aborted.");if(!mb || mb.isRenewable() || !pb && Da.getUserId() || pb && pb.isRenewable()){for(var tb=null,ub=0;ub < this._renewingContexts.length;++ub){vb=this._renewingContexts[ub];if(vb.ctx === ya){tb=vb.queue;break;}}if(!tb)return (this._renewingContexts.push({ctx:ya,queue:Ja}),!0);}return !1;},Xa);}Xa=this;eb(Ia,function(){var mb,pb,tb;mb=Ca.getMasterToken();pb=Ca.getUserIdToken();tb=Da.getUserId();Da.isEncrypted() && !Ca.willEncryptPayloads() || Da.isIntegrityProtected() && !Ca.willIntegrityProtectPayloads() || Ca.isRenewable() || !mb && Da.isNonReplayable() || mb && mb.isExpired() || !(pb || !tb || Ca.willEncryptHeader() && Ca.willIntegrityProtectHeader()) || Da.isRequestingTokens() && (!mb || tb && !pb)?Za(mb,pb,tb):db(mb,pb);},Xa);},releaseRenewalLock:function(na,ya,Da){var Ia;for(var Ja,Ca,Ta=0;Ta < this._renewingContexts.length;++Ta){Ia=this._renewingContexts[Ta];if(Ia.ctx === na){Ja=Ta;Ca=Ia.queue;break;}}if(Ca !== ya)throw new Bb("Attempt to release renewal lock that is not owned by this queue.");Da?(Da=Da.messageHeader)?(Ca=Da.keyResponseData)?ya.add(Ca.masterToken):(na=na.isPeerToPeer()?Da.peerMasterToken:Da.masterToken)?ya.add(na):ya.add(la):ya.add(la):ya.add(la);this._renewingContexts.splice(Ja,1);}});$e=Gb.Class.create({init:function(){var na;na={_impl:{value:new Z(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,na);},setFilterFactory:function(na){this._impl.setFilterFactory(na);},shutdown:function(){this._shutdown=!0;},receive:function(na,ya,Da,Ja,Ca,Ta){var Ia;if(this._shutdown)throw new hb("MslControl is shutdown.");Ia=new ca(this._impl,na,ya,Da,Ja,Ca);setTimeout(function(){Ia.call(Ta);},0);return ea(Ia);},respond:function(na,ya,Da,Ja,Ca,Ta,Ia){var Za;if(this._shutdown)throw new hb("MslControl is shutdown.");Za=new fa(this._impl,na,ya,Da,Ja,Ca,Ta);setTimeout(function(){Za.call(Ia);},0);return ea(Za);},error:function Da(na,ya,Da,Ja,Ca,Ta,Ia){var Za;if(this._shutdown)throw new hb("MslControl is shutdown.");Za=new xa(this._impl,na,ya,Da,Ja,Ca,Ta);setTimeout(function(){Za.call(Ia);},0);return ea(Za);},request:function(na,ya){var Da,Ja,Ca,Ta,Ia,Za;if(this._shutdown)throw new hb("MslControl is shutdown.");if(5 == arguments.length){Ja=arguments[2];Ca=Da=null;Ta=arguments[3];Ia=arguments[4];if(na.isPeerToPeer()){Ia.error(new Bb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ja=null,Da=arguments[2],Ca=arguments[3],Ta=arguments[4],Ia=arguments[5],!na.isPeerToPeer())){Ia.error(new Bb("This method cannot be used in trusted network mode."));return;}Za=new Ma(this._impl,na,ya,Ja,Da,Ca,null,0,Ta);setTimeout(function(){Za.call(Ia);},0);return ea(Za);}});ca=Gb.Class.create({init:function(na,ya,Da,Ja,Ca,Ta){Object.defineProperties(this,{_ctrl:{value:na,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Fb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(na){this._abortFunc=na;},call:function(na){var Ca;function ya(Ta){eb(na,function(){var Ia;Ia=Ta.messageHeader;if(!Ia)return Ta;this.setAbort(function(){Ta.abort();});Ta.mark(Number.MAX_VALUE);Ta.read(1,Ca._timeout,{result:function(Za){eb(na,function(){if(Za && 0 == Za.length)return null;if(Za)return (Ta.reset(),Ta);Da(Ta);},Ca);},timeout:function(){na.timeout();},error:function(Za){eb(na,function(){var db,Xa,mb;if(W(Za))return null;db=Ia?Ia.messageId:null;if(Za instanceof Yb){Xa=S.MSL_COMMS_FAILURE;mb=Za;}else (Xa=S.INTERNAL_EXCEPTION,mb=new Bb("Error peeking into the message payloads."));ha(this,this._ctx,this._msgCtx.getDebugContext(),db,Xa,null,this._output,this._timeout,{result:function(pb){na.error(mb);},timeout:function(){na.timeout();},error:function(pb){eb(na,function(){if(W(pb))return null;throw new jc("Error peeking into the message payloads.",pb,Za);},Ca);}});},Ca);}});},Ca);}function Da(Ta){eb(na,function(){Ta.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Ta.messageHeader,this._timeout,{result:function(Ia){eb(na,function(){var Za,db,Xa,mb,pb;Za=Ia.builder;db=Ia.tokenTicket;Xa=Ta.messageHeader;mb=new za(this._msgCtx);if(!this._ctx.isPeerToPeer() || Xa.isEncrypting() || Xa.keyResponseData)Ja(Xa,Za,mb,db);else {pb=new Ma(this._ctrl,this._ctx,mb,null,this._input,this._output,Ia,1,this._timeout);this.setAbort(function(){pb.abort();});pb.call(na);}},Ca);},timeout:function(){na.timeout();},error:function(Ia){eb(na,function(){var Za,db,Xa,mb;if(W(Ia))return null;if(Ia instanceof hb){Za=Ia.messageId;db=Ia.error;Xa=Ta.messageHeader.messageCapabilities;Xa=this._ctrl.messageRegistry.getUserMessage(db,Xa?Xa.languages:null);mb=Ia;}else (Za=requestHeader?requestHeader.messageId:null,db=S.INTERNAL_EXCEPTION,Xa=null,mb=new Bb("Error creating an automatic handshake response.",Ia));ha(this,this._ctx,this._msgCtx.getDebugContext(),Za,db,Xa,this._output,this._timeout,{result:function(pb){na.error(mb);},timeout:function(){na.timeout();},error:function(pb){eb(na,function(){if(W(pb))return null;throw new jc("Error creating an automatic handshake response.",pb,Ia);},Ca);}});},Ca);}});},Ca);}function Ja(Ta,Ia,Za,db){eb(na,function(){Ia.setRenewable(!1);this._ctrl.send(this._ctx,Za,this._output,Ia,this._timeout,{result:function(Xa){eb(na,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(db);return null;},Ca);},timeout:function(){eb(na,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(db);na.timeout();},Ca);},error:function(Xa){eb(na,function(){var mb,pb,tb,ub;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(db);if(W(Xa))return null;if(Xa instanceof hb){mb=Xa.messageId;pb=Xa.error;tb=Ta?Ta.messageCapabilities:null;tb=this._ctrl.messageRegistry.getUserMessage(pb,tb?tb.languages:null);ub=Xa;}else Xa instanceof Yb?(mb=Ta?Ta.messageId:null,pb=S.MSL_COMMS_FAILURE,tb=null,ub=Xa):(mb=Ta?Ta.messageId:null,pb=S.INTERNAL_EXCEPTION,tb=null,ub=new Bb("Error sending an automatic handshake response.",Xa));ha(this,this._ctx,this._msgCtx.getDebugContext(),mb,pb,tb,this._output,this._timeout,{result:function(vb){na.error(ub);},timeout:function(){na.timeout();},error:function(vb){eb(na,function(){if(W(vb))return null;throw new jc("Error sending an automatic handshake response.",vb,Xa);},Ca);}});},Ca);}});},Ca);}Ca=this;eb(na,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Ta){ya(Ta);},timeout:function(){na.timeout();},error:function(Ta){eb(na,function(){var Ia,Za,db,Xa;if(W(Ta))return null;if(Ta instanceof hb){Ia=Ta.messageId;Za=Ta.error;db=this._ctrl.messageRegistry.getUserMessage(Za,null);Xa=Ta;}else (Ia=null,Za=S.INTERNAL_EXCEPTION,db=null,Xa=new Bb("Error receiving the message header.",Ta));ha(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Za,db,this._output,this._timeout,{result:function(mb){na.error(Xa);},timeout:function(){na.timeout();},error:function(mb){eb(na,function(){if(W(mb))return null;throw new jc("Error receiving the message header.",mb,Ta);},Ca);}});},Ca);}});},Ca);}});fa=Gb.Class.create({init:function(na,ya,Da,Ja,Ca,Ta,Ia){Object.defineProperties(this,{_ctrl:{value:na,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Fb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(na){this._abortFunc=na;},trustedNetworkExecute:function(na,ya,Da){var Ja;Ja=this;eb(Da,function(){var Ca,Ta;if(12 < ya + 1)return !1;if(Ca=this._msgCtx.isIntegrityProtected() && !na.willIntegrityProtectHeader()?S.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !na.willEncryptPayloads()?S.RESPONSE_REQUIRES_ENCRYPTION:null){Ta=Wc(na.getMessageId());ha(this,this._ctx,this._msgCtx.getDebugContext(),Ta,Ca,null,this._output,this._timeout,{result:function(Ia){Da.result(!1);},timeout:function(){Da.timeout();},error:function(Ia){eb(Da,function(){if(W(Ia))return !1;throw new jc("Response requires encryption or integrity protection but cannot be protected: " + Ca,Ia,null);},Ja);}});}else !this._msgCtx.getCustomer() || na.getMasterToken() || na.getKeyExchangeData()?(na.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,na,this._timeout,{result:function(Ia){Da.result(!0);},timeout:function(){Da.timeout();},error:function(Ia){Da.error(Ia);}})):(Ta=Wc(na.getMessageId()),ha(this,this._ctx,this._msgCtx.getDebugContext(),Ta,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ia){Da.result(!1);},timeout:function(){Da.timeout();},error:function(Ia){eb(Da,function(){if(W(Ia))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Ia,null);},Ja);}}));},Ja);},peerToPeerExecute:function(na,ya,Da,Ja){var Ta;function Ca(Ia){eb(Ja,function(){var Za;Za=Ia.response;Za.close();Za=Za.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ia.requestHeader,Za);this._ctrl.buildErrorResponse(this,this._ctx,na,Ia,Za,{result:function(db){eb(Ja,function(){var Xa,mb;if(!db)return !1;Xa=db.errorResult;mb=db.tokenTicket;this.peerToPeerExecute(Xa.msgCtx,Xa.builder,Da,{result:function(pb){eb(Ja,function(){this._ctrl.releaseMasterToken(mb);return pb;},Ta);},timeout:function(){eb(Ja,function(){this._ctrl.releaseMasterToken(mb);Ja.timeout();},Ta);},error:function(pb){eb(Ja,function(){this._ctrl.releaseMasterToken(mb);throw pb;},Ta);}});},Ta);}});},Ta);}Ta=this;eb(Ja,function(){var Ia;if(12 < Da + 2)return !1;if(null != na.getCustomer() && null == ya.getPeerMasterToken() && null == ya.getKeyExchangeData()){Ia=Wc(ya.getMessageId());ha(this,this._ctx,na.getDebugContext(),Ia,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Za){Ja.result(!1);},timeout:function(){Ja.timeout();},error:function(Za){eb(Ja,function(){if(W(Za))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Za,null);},Ta);}});}else this._ctrl.sendReceive(this._ctx,na,this._input,this._output,ya,this._timeout,!1,{result:function(Za){eb(Ja,function(){var mb,pb,tb;function db(){mb.read(32768,Ta._timeout,{result:function(ub){eb(Ja,function(){ub?db():Xa();},Ta);},timeout:function(){Ja.timeout();},error:function(ub){Ja.error(ub);}});}function Xa(){eb(Ja,function(){var ub;ub=new qa(Za.payloads,na);this._ctrl.buildResponse(this,this._ctx,ub,pb,this._timeout,{result:function(vb){eb(Ja,function(){var Eb;Eb=vb.tokenTicket;this.peerToPeerExecute(ub,vb.builder,Da,{result:function(Db){eb(Ja,function(){this._ctrl.releaseMasterToken(Eb);return Db;},Ta);},timeout:function(){eb(Ja,function(){this._ctrl.releaseMasterToken(Eb);Ja.timeout();},Ta);},error:function(Db){eb(Ja,function(){this._ctrl.releaseMasterToken(Eb);throw Db;},Ta);}});},Ta);},timeout:function(){Ja.timeout();},error:function(vb){Ja.error(vb);}});},Ta);}mb=Za.response;Da+=2;if(!mb)return !0;pb=mb.getMessageHeader();if(pb){tb=Za.payloads;tb=0 < tb.length && 0 < tb[0].data.length;if(Za.handshake && tb)db();else return !0;}else Ca(Za);},Ta);},timeout:function(){Ja.timeout();},error:function(Za){Ja.error(Za);}});},Ta);},call:function(na){var ya;ya=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Da){eb(na,function(){var Ja,Ca;Ja=Da.builder;Ca=Da.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ja,3,{result:function(Ta){eb(na,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);return Ta;},ya);},timeout:function(){eb(na,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);na.timeout();},ya);},error:function(Ta){eb(na,function(){var Ia,Za,db,Xa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);if(W(Ta))return !1;Ia=Wc(Ja.getMessageId());if(Ta instanceof hb){Za=Ta.error;db=this._request.messageCapabilities;db=this._ctrl.messageRegistry.getUserMessage(Za,db?db.languages:null);Xa=Ta;}else Ta instanceof Yb?(Za=S.MSL_COMMS_FAILURE,db=null,Xa=Ta):(Za=S.INTERNAL_EXCEPTION,db=null,Xa=new Bb("Error sending the response.",Ta));ha(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Za,db,this._output,this._timeout,{result:function(mb){na.error(Xa);},timeout:function(){na.timeout();},error:function(mb){eb(na,function(){if(W(mb))return !1;throw new jc("Error sending the response.",mb,null);},ya);}});},ya);}}):this.trustedNetworkExecute(Ja,3,{result:function(Ta){eb(na,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);return Ta;},ya);},timeout:function(){eb(na,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);na.timeout();},ya);},error:function(Ta){eb(na,function(){var Ia,Za,db,Xa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ca);if(W(Ta))return !1;Ia=Wc(Ja.getMessageId());if(Ta instanceof hb){Za=Ta.error;db=this._request.messageCapabilities;db=this._ctrl.messageRegistry.getUserMessage(Za,db?db.languages:null);Xa=Ta;}else Ta instanceof Yb?(Za=S.MSL_COMMS_FAILURE,db=null,Xa=Ta):(Za=S.INTERNAL_EXCEPTION,db=null,Xa=new Bb("Error sending the response.",Ta));ha(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Za,db,this._output,this._timeout,{result:function(mb){na.error(Xa);},timeout:function(){na.timeout();},error:function(mb){eb(na,function(){if(W(mb))return !1;throw new jc("Error sending the response.",mb,null);},ya);}});},ya);}});},ya);},timeout:function(){na.timeout();},error:function(Da){eb(na,function(){var Ja,Ca,Ta,Ia;if(W(Da))return !1;if(Da instanceof hb){Ja=Da.messageId;Ca=Da.error;Ta=this._request.messageCapabilities;Ta=this._ctrl.messageRegistry.getUserMessage(Ca,Ta?Ta.languages:null);Ia=Da;}else (Ja=null,Ca=S.INTERNAL_EXCEPTION,Ta=null,Ia=new Bb("Error building the response.",Da));ha(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Ca,Ta,this._output,this._timeout,{result:function(Za){na.error(Ia);},timeout:function(){na.timeout();},error:function(Za){eb(na,function(){if(W(Za))return null;throw new jc("Error building the response.",Za,Da);},ya);}});},ya);}});}});xa=Gb.Class.create({init:function(na,ya,Da,Ja,Ca,Ta,Ia){Object.defineProperties(this,{_ctrl:{value:na,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Fb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(na){this._abortFunc=na;},call:function(na){var ya;ya=this;eb(na,function(){var Da,Ja;if(this._appError == ENTITY_REJECTED)Da=this._request.masterToken?S.MASTERTOKEN_REJECTED_BY_APP:S.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Da=this._request.userIdToken?S.USERIDTOKEN_REJECTED_BY_APP:S.USER_REJECTED_BY_APP;else throw new Bb("Unhandled application error " + this._appError + ".");Ja=this._request.messageCapabilities;Ja=this._ctrl.messageRegistry.getUserMessage(Da,Ja?Ja.languages:null);ha(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Da,Ja,this._output,this._timeout,{result:function(Ca){na.result(Ca);},timeout:na.timeout,error:function(Ca){eb(na,function(){if(W(Ca))return !1;if(Ca instanceof hb)throw Ca;throw new Bb("Error building the error response.",Ca);},ya);}});},ya);}});Ra={result:function(){},timeout:function(){},error:function(){}};Ma=Gb.Class.create({init:function(na,ya,Da,Ja,Ca,Ta,Ia,Za,db){var Xa;if(Ia){Xa=Ia.builder;Ia=Ia.tokenTicket;}else Ia=Xa=null;Object.defineProperties(this,{_ctrl:{value:na,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Da,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ca,writable:!0,enumerable:!1,configurable:!1},_output:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Xa,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ia,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:db,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Za,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Fb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(na){this._abortFunc=na;},execute:function(na,ya,Da,Ja,Ca){var Za;function Ta(db){function Xa(mb){eb(Ca,function(){var pb;pb=db.response;return mb?mb:pb;},Za);}eb(Ca,function(){var mb,pb;mb=db.response;mb.close();pb=mb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,db.requestHeader,pb);this._ctrl.buildErrorResponse(this,this._ctx,na,db,pb,Da,{result:function(tb){eb(Ca,function(){var ub,vb,Eb,Db;if(!tb)return mb;ub=tb.errorResult;vb=tb.tokenTicket;Eb=ub.builder;ub=ub.msgCtx;if(this._ctx.isPeerToPeer())this.execute(ub,Eb,this._timeout,Ja,{result:function(pa){eb(Ca,function(){this._ctrl.releaseMasterToken(vb);Xa(pa);},Za);},timeout:function(){eb(Ca,function(){this._ctrl.releaseMasterToken(vb);Ca.timeout();},Za);},error:function(pa){eb(Ca,function(){this._ctrl.releaseMasterToken(vb);Ca.error(pa);},Za);}});else {this._openedStreams && (this._input.close(),this._output.close(Da,Ra));Db=new Ma(this._ctrl,this._ctx,ub,this._remoteEntity,null,null,{builder:Eb,tokenTicket:vb},Ja,this._timeout);this.setAbort(function(){Db.abort();});Db.call({result:function(pa){Xa(pa);},timeout:function(){Ca.timeout();},error:function(pa){Ca.error(pa);}});}},Za);},timeout:function(){Ca.timeout();},error:function(tb){Ca.error(tb);}});},Za);}function Ia(db){eb(Ca,function(){var pb,tb,ub,vb,Eb;function Xa(){pb.read(32768,Za._timeout,{result:function(Db){Db?Xa():mb();},timeout:function(){Ca.timeout();},error:function(Db){Ca.error(Db);}});}function mb(){eb(Ca,function(){var Db;Db=new qa(db.payloads,na);this._ctrl.buildResponse(this,this._ctx,na,tb,Da,{result:function(pa){eb(Ca,function(){var Ea;Ea=pa.tokenTicket;this.execute(Db,pa.builder,this._timeout,Ja,{result:function(Oa){eb(Ca,function(){this._ctrl.releaseMasterToken(Ea);return Oa;},Za);},timeout:function(){eb(Ca,function(){this._ctrl.releaseMasterToken(Ea);Ca.timeout();},Za);},error:function(Oa){eb(Ca,function(){this._ctrl.releaseMasterToken(Ea);throw Oa;},Za);}});},Za);},timeout:function(){Ca.timeout();},error:function(pa){Ca.error(pa);}});},Za);}pb=db.response;tb=pb.getMessageHeader();ub=db.payloads;ub=0 < ub.length && 0 < ub[0].data.length;if(!this._ctx.isPeerToPeer()){if(!db.handshake || !ub)return pb;this._openedStreams && (this._input.close(),this._output.close(Da,Ra));vb=new qa(db.payloads,na);this._ctrl.buildResponse(this,this._ctx,na,tb,Da,{result:function(Db){eb(Ca,function(){var pa;pa=new Ma(this._ctrl,this._ctx,vb,this._remoteEntity,null,null,Db,Ja,this._timeout);this.setAbort(function(){pa.abort();});pa.call(Ca);},Za);},timeout:function(){Ca.timeout();},error:function(Db){Ca.error(Db);}});}else if(db.handshake && ub)Xa();else if(0 < tb.keyRequestData.length){Eb=new za(na);this._ctrl.buildResponse(this,this._ctx,Eb,tb,Da,{result:function(Db){eb(Ca,function(){var pa,Ea;pa=Db.builder;Ea=Db.tokenTicket;pb.mark();pb.read(1,this._timeout,{result:function(Oa){eb(Ca,function(){function r(){pb.read(32768,Za._timeout,{result:function(a){a?r():b();},timeout:function(){Ca.timeout();},error:function(a){Ca.error(a);}});}function b(){Za.execute(Eb,pa,Za._timeout,Ja,{result:function(a){eb(Ca,function(){this._ctrl.releaseMasterToken(Ea);return a;},Za);},timeout:function(){eb(Ca,function(){this._ctrl.releaseMasterToken(Ea);Ca.timeout();},Za);},error:function(a){eb(Ca,function(){this._ctrl.releaseMasterToken(Ea);throw a;},Za);}});}if(Oa){if((pb.reset(),12 >= Ja + 1))(pa.setRenewable(!1),this._ctrl.send(this,this._ctx,Eb,this._output,pa,this._timeout,{result:function(a){eb(Ca,function(){this.releaseMasterToken(Ea);return pb;},Za);},timeout:function(){Ca.timeout();},error:function(a){Ca.error(a);}}));else return (this.releaseMasterToken(Ea),pb);}else r();},Za);},timeout:function(){eb(Ca,function(){this.releaseMasterToken(Ea);Ca.timeout();},Za);},error:function(Oa){eb(Ca,function(){this.releaseMasterToken(Ea);throw Oa;},Za);}});},Za);},timeout:function(){Ca.timeout();},error:function(Db){Ca.error(Db);}});}},Za);}Za=this;eb(Ca,function(){if(12 < Ja + 2)return null;this._ctrl.sendReceive(this,this._ctx,na,this._input,this._output,ya,Da,!0,{result:function(db){eb(Ca,function(){var Xa;if(!db)return null;Xa=db.response;Ja+=2;Xa.getMessageHeader()?Ia(db):Ta(db);},Za);},timeout:function(){Ca.timeout();},error:function(db){Ca.error(db);}});},Za);},call:function(na){var Da;function ya(Ja,Ca,Ta){eb(na,function(){this.execute(this._msgCtx,Ja,Ta,this._msgCount,{result:function(Ia){eb(na,function(){this._ctrl.releaseMasterToken(Ca);this._openedStreams && this._output.close(Ta,Ra);Ia && Ia.closeSource(this._openedStreams);return Ia;},Da);},timeout:function(){eb(na,function(){this._ctrl.releaseMasterToken(Ca);this._openedStreams && (this._output.close(Ta,Ra),this._input.close());na.timeout();},Da);},error:function(Ia){eb(na,function(){this._ctrl.releaseMasterToken(Ca);this._openedStreams && (this._output.close(Ta,Ra),this._input.close());if(W(Ia))return null;throw Ia;},Da);}});},Da);}Da=this;eb(na,function(){var Ja,Ca,Ta;Ja=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Ca=Date.now();Ta=this._remoteEntity.openConnection();this._output=Ta.output;this._input=Ta.input;-1 != Ja && (Ja=this._timeout - (Date.now() - Ca));this._openedStreams=!0;}catch(Ia){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ra);this._input && this._input.close();if(W(Ia))return null;throw Ia;}this._builder?ya(this._builder,this._tokenTicket,Ja):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ia){eb(na,function(){ya(Ia.builder,Ia.tokenTicket,Ja);},Da);},timeout:function(){eb(na,function(){this._openedStreams && (this._output.close(this._timeout,Ra),this._input.close());na.timeout();},Da);},error:function(Ia){eb(na,function(){this._openedStreams && (this._output.close(this._timeout,Ra),this._input.close());if(W(Ia))return null;throw Ia;},Da);}});},Da);}});})();(function(){Xd=Gb.Class.create({init:function(ea){Object.defineProperties(this,{id:{value:ea,writable:!1,configurable:!1}});},toJSON:function(){var ea;ea={};ea.id=this.id;return ea;},equals:function(ea){return this === ea?!0:ea instanceof Xd?this.id == ea.id:!1;},uniqueKey:function(){return this.id;}});af=function(ea){var X;X=ea.id;if(!X)throw new Hb(S.JSON_PARSE_ERROR,JSON.stringify(ea));return new Xd(X);};})();Gb.Class.create({isNewestMasterToken:function(ea,X,U){},isMasterTokenRevoked:function(ea,X){},acceptNonReplayableId:function(ea,X,U,V){},createMasterToken:function(ea,X,U,V,ba){},isMasterTokenRenewable:function(ea,X,U){},renewMasterToken:function(ea,X,U,V,ba){},isUserIdTokenRevoked:function(ea,X,U,V){},createUserIdToken:function(ea,X,U,V){},renewUserIdToken:function(ea,X,U,V){}});(function(){function ea(X,U,V,ba){this.sessiondata=X;this.tokendata=U;this.signature=V;this.verified=ba;}ic=Gb.Class.create({init:function(X,U,V,ba,W,ha,va,ra,ja,qa,za){var la;la=this;Na(za,function(){var Z,ca,fa,xa,Ra;if(V.getTime() < U.getTime())throw new Bb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ba || ba > Rb)throw new Bb("Sequence number " + ba + " is outside the valid range.");if(0 > W || W > Rb)throw new Bb("Serial number " + W + " is outside the valid range.");Z=Math.floor(U.getTime() / 1E3);ca=Math.floor(V.getTime() / 1E3);if(qa)fa=qa.sessiondata;else {xa={};ha && (xa.issuerdata=ha);xa.identity=va;xa.encryptionkey=Kb(ra.toByteArray());xa.hmackey=Kb(ja.toByteArray());fa=fc(JSON.stringify(xa),Tb);}if(qa)return (Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ca,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:ha,writable:!1,configurable:!1},identity:{value:va,writable:!1,configurable:!1},encryptionKey:{value:ra,writable:!1,configurable:!1},hmacKey:{value:ja,writable:!1,configurable:!1},sessiondata:{value:fa,writable:!1,enumerable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:qa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ra=X.getMslCryptoContext();Ra.encrypt(fa,{result:function(Ma){Na(za,function(){var Qa,Va;Qa={};Qa.renewalwindow=Z;Qa.expiration=ca;Qa.sequencenumber=ba;Qa.serialnumber=W;Qa.sessiondata=Kb(Ma);Va=fc(JSON.stringify(Qa),Tb);Ra.sign(Va,{result:function(na){Na(za,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ca,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:W,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ha,writable:!1,configurable:!1},identity:{value:va,writable:!1,configurable:!1},encryptionKey:{value:ra,writable:!1,configurable:!1},hmacKey:{value:ja,writable:!1,configurable:!1},sessiondata:{value:fa,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:na,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(na){za.error(na);}});},la);},error:function(Ma){za.error(Ma);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(X){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(X){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(X){var U;if(this.sequenceNumber == X.sequenceNumber)return this.expiration > X.expiration;if(this.sequenceNumber > X.sequenceNumber){U=this.sequenceNumber - Rb + 127;return X.sequenceNumber >= U;}U=X.sequenceNumber - Rb + 127;return this.sequenceNumber < U;},toJSON:function(){var X;X={};X.tokendata=Kb(this.tokendata);X.signature=Kb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof ic?this.serialNumber == X.serialNumber && this.sequenceNumber == X.sequenceNumber && this.expiration.getTime() == X.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});ed=function(X,U,V){Na(V,function(){var ba,W,ha,va,ra;ba=X.getMslCryptoContext();W=U.tokendata;ha=U.signature;if("string" !== typeof W || "string" !== typeof ha)throw new Hb(S.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(U));try{va=Mb(W);}catch(ja){throw new hb(S.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(U),ja);}if(!va || 0 == va.length)throw new Hb(S.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(U));try{ra=Mb(ha);}catch(ja){throw new hb(S.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(U),ja);}ba.verify(va,ra,{result:function(ja){Na(V,function(){var qa,za,la,Z,ca,fa,xa,Ra,Ma,Qa;qa=ec(va,Tb);try{za=JSON.parse(qa);la=parseInt(za.renewalwindow);Z=parseInt(za.expiration);ca=parseInt(za.sequencenumber);fa=parseInt(za.serialnumber);xa=za.sessiondata;}catch(Va){if(Va instanceof SyntaxError)throw new Hb(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + qa,Va);throw Va;}if(!la || la != la || !Z || Z != Z || "number" !== typeof ca || ca != ca || "number" !== typeof fa || fa != fa || "string" !== typeof xa)throw new Hb(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + qa);if(Z < la)throw new hb(S.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + qa);if(0 > ca || ca > Rb)throw new hb(S.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + qa);if(0 > fa || fa > Rb)throw new hb(S.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + qa);Ra=new Date(1E3 * la);Ma=new Date(1E3 * Z);try{Qa=Mb(xa);}catch(Va){throw new hb(S.MASTERTOKEN_SESSIONDATA_INVALID,xa,Va);}if(!Qa || 0 == Qa.length)throw new hb(S.MASTERTOKEN_SESSIONDATA_MISSING,xa);ja?ba.decrypt(Qa,{result:function(Va){Na(V,function(){var na,ya,Da,Ja,Ca,Ta;na=ec(Va,Tb);try{ya=JSON.parse(na);Da=ya.issuerdata;Ja=ya.identity;Ca=ya.encryptionkey;Ta=ya.hmackey;}catch(Ia){if(Ia instanceof SyntaxError)throw new Hb(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + na,Ia);throw Ia;}if(Da && "object" !== typeof Da || !Ja || "string" !== typeof Ca || "string" !== typeof Ta)throw new Hb(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + na);tc(Ca,oc,Dc,{result:function(Ia){tc(Ta,pc,Mc,{result:function(Za){Na(V,function(){var db;db=new ea(Va,va,ra,ja);new ic(X,Ra,Ma,ca,fa,Da,Ja,Ia,Za,db,V);});},error:function(Za){V.error(new zb(S.MASTERTOKEN_KEY_CREATION_ERROR,Za));}});},error:function(Ia){V.error(new zb(S.MASTERTOKEN_KEY_CREATION_ERROR,Ia));}});});},error:function(Va){V.error(Va);}}):(la=new ea(null,va,ra,ja),new ic(X,Ra,Ma,ca,fa,null,null,null,null,la,V));});},error:function(ja){V.error(ja);}});});};})();(function(){function ea(X,U,V){this.tokendata=X;this.signature=U;this.verified=V;}Tc=Gb.Class.create({init:function(X,U,V,ba,W,ha,va,ra,ja){var qa;qa=this;Na(ja,function(){var za,la,Z,ca,fa,xa,Ra;if(V.getTime() < U.getTime())throw new Bb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ba)throw new Bb("Cannot construct a user ID token without a master token.");if(0 > W || W > Rb)throw new Bb("Serial number " + W + " is outside the valid range.");za=Math.floor(U.getTime() / 1E3);la=Math.floor(V.getTime() / 1E3);Z=ba.serialNumber;if(ra){ca=ra.tokendata;fa=ra.signature;xa=ra.verified;Z=ba.serialNumber;Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:za,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:la,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:ha,writable:!1,configurable:!1},customer:{value:va,writable:!1,configurable:!1},verified:{value:xa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:fa,writable:!1,enumerable:!1,configurable:!1}});return this;}ca={};ha && (ca.issuerdata=ha);ca.identity=va;ca=fc(JSON.stringify(ca),Tb);Ra=X.getMslCryptoContext();Ra.encrypt(ca,{result:function(Ma){Na(ja,function(){var Qa,Va;Qa={};Qa.renewalwindow=za;Qa.expiration=la;Qa.mtserialnumber=Z;Qa.serialnumber=W;Qa.userdata=Kb(Ma);Va=fc(JSON.stringify(Qa),Tb);Ra.sign(Va,{result:function(na){Na(ja,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:za,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:la,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ba.serialNumber,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:ha,writable:!1,configurable:!1},customer:{value:va,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:na,writable:!1,enumerable:!1,configurable:!1}});return this;},qa);},error:function(na){Na(ja,function(){na instanceof hb && na.setEntity(ba);throw na;},qa);}});},qa);},error:function(Ma){Na(ja,function(){Ma instanceof hb && Ma.setEntity(ba);throw Ma;},qa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(X){return X && X.serialNumber == this.mtSerialNumber;},toJSON:function(){var X;X={};X.tokendata=Kb(this.tokendata);X.signature=Kb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof Tc?this.serialNumber == X.serialNumber && this.mtSerialNumber == X.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});vd=function(X,U,V,ba){Na(ba,function(){var W,ha,va,ra,ja;W=X.getMslCryptoContext();ha=U.tokendata;va=U.signature;if("string" !== typeof ha || "string" !== typeof va)throw new Hb(S.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(U)).setEntity(V);try{ra=Mb(ha);}catch(qa){throw new hb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(U),qa).setEntity(V);}if(!ra || 0 == ra.length)throw new Hb(S.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(U)).setEntity(V);try{ja=Mb(va);}catch(qa){throw new hb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(U),qa).setEntity(V);}W.verify(ra,ja,{result:function(qa){Na(ba,function(){var za,la,Z,ca,fa,xa,Ra,Ma,Qa,Va;za=ec(ra,Tb);try{la=JSON.parse(za);Z=parseInt(la.renewalwindow);ca=parseInt(la.expiration);fa=parseInt(la.mtserialnumber);xa=parseInt(la.serialnumber);Ra=la.userdata;}catch(na){if(na instanceof SyntaxError)throw new Hb(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + za,na).setEntity(V);throw na;}if(!Z || Z != Z || !ca || ca != ca || "number" !== typeof fa || fa != fa || "number" !== typeof xa || xa != xa || "string" !== typeof Ra)throw new Hb(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + za).setEntity(V);if(ca < Z)throw new hb(S.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + za).setEntity(V);if(0 > fa || fa > Rb)throw new hb(S.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + za).setEntity(V);if(0 > xa || xa > Rb)throw new hb(S.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + za).setEntity(V);Ma=new Date(1E3 * Z);Qa=new Date(1E3 * ca);if(!V || fa != V.serialNumber)throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + fa + "; mt " + JSON.stringify(V)).setEntity(V);try{Va=Mb(Ra);}catch(na){throw new hb(S.USERIDTOKEN_USERDATA_INVALID,Ra,na).setEntity(V);}if(!Va || 0 == Va.length)throw new hb(S.USERIDTOKEN_USERDATA_MISSING,Ra).setEntity(V);qa?W.decrypt(Va,{result:function(na){Na(ba,function(){var ya,Da,Ja,Ca,Ta;ya=ec(na,Tb);try{Da=JSON.parse(ya);Ja=Da.issuerdata;Ca=Da.identity;}catch(Ia){if(Ia instanceof SyntaxError)throw new Hb(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(V);throw Ia;}if(Ja && "object" !== typeof Ja || "object" !== typeof Ca)throw new Hb(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(V);try{Ta=af(Ca);}catch(Ia){throw new hb(S.USERIDTOKEN_IDENTITY_INVALID,"userdata " + ya,Ia).setEntity(V);}Ca=new ea(ra,ja,qa);new Tc(X,Ma,Qa,V,xa,Ja,Ta,Ca,ba);});},error:function(na){Na(ba,function(){na instanceof hb && na.setEntity(V);throw na;});}}):(Z=new ea(ra,ja,qa),new Tc(X,Ma,Qa,V,xa,null,null,Z,ba));});},error:function(qa){Na(ba,function(){qa instanceof hb && qa.setEntity(V);throw qa;});}});});};})();(function(){function ea(U,V){var ba,W,ha;ba=U.tokendata;if("string" !== typeof ba)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(U));try{W=Mb(ba);}catch(va){throw new hb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(U),va);}if(!W || 0 == W.length)throw new Hb(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(U));try{ha=JSON.parse(ec(W,Tb)).name;}catch(va){if(va instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(U),va);throw va;}if(!ha)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(U));return V[ha]?V[ha]:V[""];}function X(U,V,ba){this.tokendata=U;this.signature=V;this.verified=ba;}Fc=Gb.Class.create({init:function(U,V,ba,W,ha,va,ra,ja,qa,za){var la;la=this;Na(za,function(){var Z,ca,fa,xa,Ra;if(W && ha && !ha.isBoundTo(W))throw new Bb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");Z=W?W.serialNumber:-1;ca=ha?ha.serialNumber:-1;if(qa)return (Ra=qa.tokendata,Object.defineProperties(this,{ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:va,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ra,writable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ra){fa=Wd(ra,ba);fa.length < ba.length || (ra=null,fa=ba);}else (ra=null,fa=ba);xa={};xa.name=V;-1 != Z && (xa.mtserialnumber=Z);-1 != ca && (xa.uitserialnumber=ca);xa.encrypted=va;ra && (xa.compressionalgo=ra);if(va && 0 < fa.length)ja.encrypt(fa,{result:function(Ma){Na(za,function(){var Qa;xa.servicedata=Kb(Ma);Qa=fc(JSON.stringify(xa),Tb);ja.sign(Qa,{result:function(Va){Na(za,function(){Object.defineProperties(this,{ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:va,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ra,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Qa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Va,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(Va){Na(za,function(){Va instanceof hb && (Va.setEntity(W),Va.setUser(ha));throw Va;});}});},la);},error:function(Ma){Na(za,function(){Ma instanceof hb && (Ma.setEntity(W),Ma.setUser(ha));throw Ma;});}});else {xa.servicedata=Kb(fa);Ra=fc(JSON.stringify(xa),Tb);ja.sign(Ra,{result:function(Ma){Na(za,function(){Object.defineProperties(this,{ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:Z,writable:!1,configurable:!1},uitSerialNumber:{value:ca,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:va,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ra,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(Ma){Na(za,function(){Ma instanceof hb && (Ma.setEntity(W),Ma.setUser(ha));throw Ma;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(U){return U?U instanceof ic?U.serialNumber == this.mtSerialNumber:U instanceof Tc?U.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var U;U={};U.tokendata=Kb(this.tokendata);U.signature=Kb(this.signature);return U;},equals:function(U){return this === U?!0:U instanceof Fc?this.name == U.name && this.mtSerialNumber == U.mtSerialNumber && this.uitSerialNumber == U.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});zc=function(U,V,ba,W,ha,va,ra,ja,qa){new Fc(U,V,ba,W,ha,va,ra,ja,null,qa);};wd=function(U,V,ba,W,ha,va){Na(va,function(){var ra,ja,qa,za,la,Z,ca,fa,xa,Ra,Ma,Qa,Va;!ha || ha instanceof Uc || (ha=ea(V,ha));ra=V.tokendata;ja=V.signature;if("string" !== typeof ra || "string" !== typeof ja)throw new Hb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(V)).setEntity(ba).setEntity(W);try{qa=Mb(ra);}catch(na){throw new hb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(V),na).setEntity(ba).setEntity(W);}if(!qa || 0 == qa.length)throw new Hb(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(V)).setEntity(ba).setEntity(W);try{za=Mb(ja);}catch(na){throw new hb(S.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(V),na).setEntity(ba).setEntity(W);}la=ec(qa,Tb);try{Z=JSON.parse(la);ca=Z.name;fa=Z.mtserialnumber?parseInt(Z.mtserialnumber):-1;xa=Z.uitserialnumber?parseInt(Z.uitserialnumber):-1;Ra=Z.encrypted;Ma=Z.compressionalgo;Qa=Z.servicedata;}catch(na){if(na instanceof SyntaxError)throw new Hb(S.JSON_PARSE_ERROR,"servicetokendata " + la,na).setEntity(ba).setEntity(W);throw na;}if(!ca || "number" !== typeof fa || fa != fa || "number" !== typeof xa || xa != xa || "boolean" !== typeof Ra || Ma && "string" !== typeof Ma || "string" !== typeof Qa)throw new Hb(S.JSON_PARSE_ERROR,"servicetokendata " + la).setEntity(ba).setEntity(W);if(Z.mtserialnumber && 0 > fa || fa > Rb)throw new hb(S.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + la).setEntity(ba).setEntity(W);if(Z.uitserialnumber && 0 > xa || xa > Rb)throw new hb(S.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + la).setEntity(ba).setEntity(W);if(-1 != fa && (!ba || fa != ba.serialNumber))throw new hb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + fa + "; mt " + ba).setEntity(ba).setEntity(W);if(-1 != xa && (!W || xa != W.serialNumber))throw new hb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + xa + "; uit " + W).setEntity(ba).setEntity(W);Ra=!0 === Ra;if(Ma){if(!Kc[Ma])throw new hb(S.UNIDENTIFIED_COMPRESSION,Ma);Va=Ma;}else Va=null;ha?ha.verify(qa,za,{result:function(na){Na(va,function(){var ya,Da;if(na){try{ya=Mb(Qa);}catch(Ja){throw new hb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + la,Ja).setEntity(ba).setEntity(W);}if(!ya || 0 != Qa.length && 0 == ya.length)throw new hb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + la).setEntity(ba).setEntity(W);if(Ra && 0 < ya.length)ha.decrypt(ya,{result:function(Ja){Na(va,function(){var Ca,Ta;Ca=Va?xd(Va,Ja):Ja;Ta=new X(qa,za,na);new Fc(U,ca,Ca,-1 != fa?ba:null,-1 != xa?W:null,Ra,Va,ha,Ta,va);});},error:function(Ja){Na(va,function(){Ja instanceof hb && (Ja.setEntity(ba),Ja.setUser(W));throw Ja;});}});else {ya=Va?xd(Va,ya):ya;Da=new X(qa,za,na);new Fc(U,ca,ya,-1 != fa?ba:null,-1 != xa?W:null,Ra,Va,ha,Da,va);}}else (ya="" == Qa?new Uint8Array(0):null,Da=new X(qa,za,na),new Fc(U,ca,ya,-1 != fa?ba:null,-1 != xa?W:null,Ra,Va,ha,Da,va));});},error:function(na){Na(va,function(){na instanceof hb && (na.setEntity(ba),na.setUser(W));throw na;});}}):(ra="" == Qa?new Uint8Array(0):null,ja=new X(qa,za,!1),new Fc(U,ca,ra,-1 != fa?ba:null,-1 != xa?W:null,Ra,Va,ha,ja,va));});};})();Gc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Gc);(function(){$c=Gb.Class.create({init:function(ea){Object.defineProperties(this,{scheme:{value:ea,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ea){return this === ea?!0:ea instanceof $c?this.scheme == ea.scheme:!1;},toJSON:function(){var ea;ea={};ea.scheme=this.scheme;ea.authdata=this.getAuthData();return ea;}});Qe=function(ea,X,U,V){Na(V,function(){var ba,W,ha;ba=U.scheme;W=U.authdata;if(!ba || !W)throw new Hb(S.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(U));if(!Gc[ba])throw new Cc(S.UNIDENTIFIED_USERAUTH_SCHEME,ba);ha=ea.getUserAuthenticationFactory(ba);if(!ha)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,ba);ha.createData(ea,X,W,V);});};})();bf=Gb.Class.create({init:function(ea){Object.defineProperties(this,{scheme:{value:ea,writable:!1,configurable:!1}});},createData:function(ea,X,U,V){},authenticate:function(ea,X,U,V){}});(function(){hd=$c.extend({init:function V(X,U){V.base.call(this,Gc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:X,writable:!1,configurable:!1},secureNetflixId:{value:U,writable:!1,configurable:!1}});},getAuthData:function(){var X;X={};X.netflixid=this.netflixId;this.secureNetflixId && (X.securenetflixid=this.secureNetflixId);return X;},equals:function V(U){return this === U?!0:U instanceof hd?V.base.call(this,U) && this.netflixId == U.netflixId && this.secureNetflixId == U.secureNetflixId:!1;}});cf=function(U){var V,ba;V=U.netflixid;ba=U.securenetflixid;if(!V)throw new Hb(S.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(U));return new hd(V,ba);};})();Df=bf.extend({init:function X(){X.base.call(this,Gc.NETFLIXID);},createData:function(X,U,V,ba){Na(ba,function(){return cf(V);});},authenticate:function(X,U,V,ba){if(!(V instanceof hd))throw new Bb("Incorrect authentication data type " + V + ".");X=V.secureNetflixId;if(!V.netflixId || !X)throw new Cc(S.NETFLIXID_COOKIES_BLANK).setUser(V);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(V);}});(function(){id=$c.extend({init:function ba(U,V){ba.base.call(this,Gc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:U,writable:!1,configurable:!1},password:{value:V,writable:!1,configurable:!1}});},getAuthData:function(){var U;U={};U.email=this.email;U.password=this.password;return U;},equals:function ba(V){return this === V?!0:V instanceof id?ba.base.call(this,this,V) && this.email == V.email && this.password == V.password:!1;}});df=function(V){var ba,W;ba=V.email;W=V.password;if(!ba || !W)throw new Hb(S.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(V));return new id(ba,W);};})();Ef=bf.extend({init:function U(){U.base.call(this,Gc.EMAIL_PASSWORD);},createData:function(U,V,ba,W){Na(W,function(){return df(ba);});},authenticate:function(U,V,ba,W){if(!(ba instanceof id))throw new Bb("Incorrect authentication data type " + ba + ".");U=ba.password;if(!ba.email || !U)throw new Cc(S.EMAILPASSWORD_BLANK).setUser(ba);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ba);}});Object.freeze({ENTITY_REAUTH:Fa.ENTITY_REAUTH,ENTITYDATA_REAUTH:Fa.ENTITYDATA_REAUTH});Ff=Gb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(U,V){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(U){},getUserAuthenticationFactory:function(U){},getTokenFactory:function(){},getKeyExchangeFactory:function(U){},getKeyExchangeFactories:function(){},getMslStore:function(){}});ef=Gb.Class.create({setCryptoContext:function(U,V){},getMasterToken:function(){},getNonReplayableId:function(U){},getCryptoContext:function(U){},removeCryptoContext:function(U){},clearCryptoContexts:function(){},addUserIdToken:function(U,V){},getUserIdToken:function(U){},removeUserIdToken:function(U){},clearUserIdTokens:function(){},addServiceTokens:function(U){},getServiceTokens:function(U,V){},removeServiceTokens:function(U,V,ba){},clearServiceTokens:function(){}});(function(){var U;U=Kc;Wd=function(V,ba){var W;W={};switch(V){case U.LZW:return ke(ba,W);case U.GZIP:return gzip$compress(ba);default:throw new hb(S.UNSUPPORTED_COMPRESSION,V);}};xd=function(V,ba,W){switch(V){case U.LZW:return le(ba);case U.GZIP:return gzip$uncompress(ba);default:throw new hb(S.UNSUPPORTED_COMPRESSION,V.name());}};})();ef.extend({setCryptoContext:function(U,V){},getMasterToken:function(){return null;},getNonReplayableId:function(U){return 1;},getCryptoContext:function(U){return null;},removeCryptoContext:function(U){},clearCryptoContexts:function(){},addUserIdToken:function(U,V){},getUserIdToken:function(U){return null;},removeUserIdToken:function(U){},clearUserIdTokens:function(){},addServiceTokens:function(U){},getServiceTokens:function(U,V){if(V){if(!U)throw new hb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!V.isBoundTo(U))throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + V.mtSerialNumber + "; mt " + U.serialNumber);}return [];},removeServiceTokens:function(U,V,ba){if(ba && V && !ba.isBoundTo(V))throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.masterTokenSerialNumber + "; mt " + V.serialNumber);},clearServiceTokens:function(){}});(function(){ff=ef.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(V,ba){var W;if(ba){W=V.uniqueKey();this.masterTokens[W]=V;this.cryptoContexts[W]=ba;}else this.removeCryptoContext(V);},getMasterToken:function(){var V,ba,W;V=null;for(ba in this.masterTokens){W=this.masterTokens[ba];if(!V || W.isNewerThan(V))V=W;}return V;},getNonReplayableId:function(V){var ba;V=V.serialNumber;ba=this.nonReplayableIds[V] !== Fb?this.nonReplayableIds[V]:0;if(0 > ba || ba > Rb)throw new Bb("Non-replayable ID " + ba + " is outside the valid range.");ba=ba == Rb?0:ba + 1;return this.nonReplayableIds[V]=ba;},getCryptoContext:function(V){return this.cryptoContexts[V.uniqueKey()];},removeCryptoContext:function(V){var ba,W,ha,va;ba=V.uniqueKey();if(this.masterTokens[ba]){W=V.serialNumber;for(ha in this.masterTokens){va=this.masterTokens[ha];if(!va.equals(V) && va.serialNumber == W){delete this.masterTokens[ba];delete this.cryptoContexts[ba];return;}}Object.keys(this.userIdTokens).forEach(function(ra){ra=this.userIdTokens[ra];ra.isBoundTo(V) && this.removeUserIdToken(ra);},this);try{this.removeServiceTokens(null,V,null);}catch(ra){if(ra instanceof hb)throw new Bb("Unexpected exception while removing master token bound service tokens.",ra);throw ra;}delete this.nonReplayableIds[W];delete this.masterTokens[ba];delete this.cryptoContexts[ba];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(V){for(var ba in V){delete V[ba];}},this);},addUserIdToken:function(V,ba){var W,ha;W=!1;for(ha in this.masterTokens){if(ba.isBoundTo(this.masterTokens[ha])){W=!0;break;}}if(!W)throw new hb(S.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ba.mtSerialNumber);this.userIdTokens[V]=ba;},getUserIdToken:function(V){return this.userIdTokens[V];},removeUserIdToken:function(V){var ba,W,ha;ba=null;for(W in this.masterTokens){ha=this.masterTokens[W];if(V.isBoundTo(ha)){ba=ha;break;}}Object.keys(this.userIdTokens).forEach(function(va){if(this.userIdTokens[va].equals(V)){try{this.removeServiceTokens(null,ba,V);}catch(ra){if(ra instanceof hb)throw new Bb("Unexpected exception while removing user ID token bound service tokens.",ra);throw ra;}delete this.userIdTokens[va];}},this);},clearUserIdTokens:function(){for(var V in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[V]);}},addServiceTokens:function(V){V.forEach(function(ba){var W,ha;if(ba.isMasterTokenBound()){W=!1;for(ha in this.masterTokens){if(ba.isBoundTo(this.masterTokens[ha])){W=!0;break;}}if(!W)throw new hb(S.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ba.mtSerialNumber);}if(ba.isUserIdTokenBound()){W=!1;for(var va in this.userIdTokens){if(ba.isBoundTo(this.userIdTokens[va])){W=!0;break;}}if(!W)throw new hb(S.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ba.uitSerialNumber);}},this);V.forEach(function(ba){var W;if(ba.isUnbound())this.unboundServiceTokens[ba.uniqueKey()]=ba;else {if(ba.isMasterTokenBound()){W=this.mtServiceTokens[ba.mtSerialNumber];W || (W={});W[ba.uniqueKey()]=ba;this.mtServiceTokens[ba.mtSerialNumber]=W;}ba.isUserIdTokenBound() && ((W=this.uitServiceTokens[ba.uitSerialNumber]) || (W={}),W[ba.uniqueKey()]=ba,this.uitServiceTokens[ba.uitSerialNumber]=W);}},this);},getServiceTokens:function(V,ba){var W,ha,va;if(ba){if(!V)throw new hb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!ba.isBoundTo(V))throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.mtSerialNumber + "; mt " + V.serialNumber);}W={};for(ha in this.unboundServiceTokens){va=this.unboundServiceTokens[ha];W[va.uniqueKey()]=va;}if(V && (ha=this.mtServiceTokens[V.serialNumber]))for(var ra in ha){va=ha[ra];va.isUserIdTokenBound() || (W[ra]=va);}if(ba && (ba=this.uitServiceTokens[ba.serialNumber]))for(var ja in ba){ra=ba[ja];ra.isBoundTo(V) && (W[ja]=ra);}V=[];for(var qa in W){V.push(W[qa]);}return V;},removeServiceTokens:function(V,ba,W){var ha,va,ra;if(W && ba && !W.isBoundTo(ba))throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + W.mtSerialNumber + "; mt " + ba.serialNumber);!V || ba || W || Object.keys(this.unboundServiceTokens).forEach(function(ja){this.unboundServiceTokens[ja].name == V && delete this.unboundServiceTokens[ja];},this);if(ba && !W && (ha=this.mtServiceTokens[ba.serialNumber])){ra=Object.keys(ha);ra.forEach(function(ja){var qa;qa=ha[ja];V && qa.name != V || delete ha[ja];},this);this.mtServiceTokens[ba.serialNumber]=ha;}W && (va=this.uitServiceTokens[W.serialNumber]) && (ba=Object.keys(va),ba.forEach(function(ja){var qa;qa=va[ja];V && qa.name != V || delete va[ja];},this),this.uitServiceTokens[W.serialNumber]=va);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(V){for(var ba in V){delete V[ba];}},this);}});})();Af.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(V,ba){ba && V && V.length && (V=Kb(V),this._contextMap[V]=ba);},getCryptoContext:function(V){return V && V.length?(V=Kb(V),this._contextMap[V] || null):null;},removeCryptoContext:function(V){V && V.length && (V=Kb(V),delete this._contextMap[V]);}});sf.extend({init:function ra(ba,W,ha,va){ra.base.call(this,ba);Object.defineProperties(this,{_kde:{value:W,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ha,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:va,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ba,W){if(!(W instanceof xc))throw new Bb("Incorrect authentication data type " + JSON.stringify(W) + ".");if(W.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + W.identity);return new rd(ba,this.localIdentity,this._kde,this._kdh,this._kdw);}});tf.extend({init:function ja(W,ha,va,ra){ja.base.call(this,W);Object.defineProperties(this,{_kpe:{value:ha,writable:!1,enumerable:!1,configurable:!1},_kph:{value:va,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(W,ha){if(!(ha instanceof yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(ha) + ".");if(ha.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + ha.identity);return new rd(W,this.localIdentity,this._kpe,this._kph,this._kpw);}});Hf=ff.extend({init:function la(ha,va,ra,ja,qa,za){la.base.call(this);this._log=ha;this._esn=va;this._keyRequestData=ra;this._createKeyRequestData=ja;this._systemKeyName=qa;this._systemKeyWrapFormat=za;},setCryptoContext:function qa(va,ra,ja){var za;za=this;za._log.trace("Adding MasterToken",{SequenceNumber:va.sequenceNumber,SerialNumber:va.serialNumber,Expiration:va.expiration.getTime()});qa.base.call(this,va,ra);!ja && (va=za._createKeyRequestData) && (za._log.trace("Generating new keyx request data"),va().then(function(la){za._keyRequestData=la;},function(la){za._log.error("Unable to generate new keyx request data","" + la);}));},addUserIdToken:function qa(ra,ja){this._log.trace("Adding UserIdToken",{UserId:ra,SerialNumber:ja.serialNumber,MTSerialNumber:ja.mtSerialNumber,Expiration:ja.expiration.getTime()});qa.base.call(this,ra,ja);},addServiceTokens:function qa(ja){qa.base.call(this,ja.filter(function(za){return !Gf[za.name];}));},getUserIdTokenKeys:function(){var ja,qa;ja=[];for(qa in this.userIdTokens){ja.push(qa);}return ja;},rekeyUserIdToken:function(ja,qa){this.userIdTokens[ja] && (this.userIdTokens[qa]=this.userIdTokens[ja],delete this.userIdTokens[ja]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(ja){var qa;qa=this;Na(ja,function(){var za;za=qa.getMasterToken();za?qa.getKeysForStore(za,{result:function(la){Na(ja,function(){var Z,ca,fa;Z=qa.userIdTokens;ca=Object.keys(Z).map(function(xa){var Ra;Ra=Z[xa];return {userId:xa,userIdTokenJSON:Z[xa].toJSON(),serviceTokenJSONList:qa.getServiceTokens(za,Ra).map(mf)};});la.esn=qa._esn;la.masterTokenJSON=za.toJSON();la.userList=ca;fa=qa._keyRequestData.storeData;fa && Object.keys(fa).forEach(function(xa){la[xa]=fa[xa];});return la;});},timeout:ja.timeout,error:ja.error}):ja.result(null);});},getKeysForStore:function(ja,qa){var za;za=this;Na(qa,function(){var la;la=za.getCryptoContext(ja);la={encryptionKey:la.encryptionKey,hmacKey:la.hmacKey};if(la.encryptionKey && la.hmacKey){if(za._systemKeyWrapFormat)za.wrapKeysWithSystemKey(la,qa);else return la;}else throw new hb(S.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(ja,qa){var za;za=this;ee(this._systemKeyName,{result:function(la){Na(qa,function(){var Z,ca,fa,xa;Z=ja.encryptionKey;ca=ja.hmacKey;fa=Z[Xc];xa=ca[Xc];if(fa && xa)return {wrappedEncryptionKey:fa,wrappedHmacKey:xa};Promise.resolve().then(function(){return Promise.all([Qb.wrapKey(za._systemKeyWrapFormat,Z,la,la.algorithm),Qb.wrapKey(za._systemKeyWrapFormat,ca,la,la.algorithm)]);}).then(function(Ra){fa=Kb(Ra[0]);Z[Xc]=fa;xa=Kb(Ra[1]);ca[Xc]=xa;qa.result({wrappedEncryptionKey:fa,wrappedHmacKey:xa});}).catch(function(Ra){qa.error(new hb(S.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ra));});});},timeout:qa.timeout,error:qa.error});},unwrapKeysWithSystemKey:function(ja,qa){var za;za=this;ee(this._systemKeyName,{result:function(la){Na(qa,function(){var Z,ca;Z=Mb(ja.wrappedEncryptionKey);ca=Mb(ja.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Qb.unwrapKey(za._systemKeyWrapFormat,Z,la,la.algorithm,oc,!1,Dc),Qb.unwrapKey(za._systemKeyWrapFormat,ca,la,la.algorithm,pc,!1,Mc)]);}).then(function(fa){var xa;xa=fa[0];fa=fa[1];xa[Xc]=ja.wrappedEncryptionKey;fa[Xc]=ja.wrappedHmacKey;qa.result({encryptionKey:xa,hmacKey:fa});}).catch(function(fa){qa.error(new hb(S.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",fa));});});},timeout:qa.timeout,error:qa.error});},loadStoreState:function(ja,qa,za,la){var fa,xa;function Z(Ra,Ma){var Qa;try{Qa=za.userList.slice();}catch(Va){}Qa?(function na(){var ya;ya=Qa.shift();ya?vd(qa,ya.userIdTokenJSON,Ra,{result:function(Da){try{fa.addUserIdToken(ya.userId,Da);ca(Ra,Da,ya.serviceTokenJSONList,{result:na,timeout:na,error:na});}catch(Ja){na();}},timeout:na,error:na}):Ma.result();})():Ma.result();}function ca(Ra,Ma,Qa,Va){var na,ya;try{na=Qa.slice();}catch(Da){}if(na){ya=fa.getCryptoContext(Ra);(function Ja(){var Ca;Ca=na.shift();Ca?wd(qa,Ca,Ra,Ma,ya,{result:function(Ta){fa.addServiceTokens([Ta]);Ja();},timeout:function(){Ja();},error:function(){Ja();}}):Va.result();})();}else Va.result();}fa=this;xa=fa._log;za.esn != fa._esn?(xa.error("Esn mismatch, starting fresh"),la.error()):(function(Ra){var Va,na,ya,Da;function Ma(){var Ja;if(!Va && na && ya && Da){Va=!0;Ja=new lc(qa,na,ja.esn,{rawKey:ya},{rawKey:Da});fa.setCryptoContext(na,Ja,!0);Ra.result(na);}}function Qa(Ja,Ca){xa.error(Ja,Ca && "" + Ca);Va || (Va=!0,Ra.error());}za.masterTokenJSON?(ed(qa,za.masterTokenJSON,{result:function(Ja){na=Ja;Ma();},timeout:function(){Qa("Timeout parsing MasterToken");},error:function(Ja){Qa("Error parsing MasterToken",Ja);}}),fa._systemKeyWrapFormat?fa.unwrapKeysWithSystemKey(za,{result:function(Ja){ya=Ja.encryptionKey;Da=Ja.hmacKey;Ma();},timeout:function(){Qa("Timeout unwrapping keys");},error:function(Ja){Qa("Error unwrapping keys",Ja);}}):Promise.resolve().then(function(){return Qb.encrypt({name:oc.name,iv:new Uint8Array(16)},za.encryptionKey,new Uint8Array(1));}).then(function(Ja){ya=za.encryptionKey;}).catch(function(Ja){Qa("Error loading encryptionKey");}).then(function(){return Qb.sign(pc,za.hmacKey,new Uint8Array(1));}).then(function(Ja){Da=za.hmacKey;Ma();}).catch(function(Ja){Qa("Error loading hmacKey");})):Qa("Persisted store is corrupt");})({result:function(Ra){Z(Ra,la);},timeout:la.timeout,error:la.error});}});Gf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Xc="$netflix$msl$wrapsys";If=Ff.extend({init:function(ja,qa,za,la,Z,ca){var fa,xa;fa=new fd([Kc.LZW]);xa=new vf();xa.addPublicKey(qa,za);la[Wb.RSA]=new uf(xa);qa={};qa[Gc.EMAIL_PASSWORD]=new Ef();qa[Gc.NETFLIXID]=new Df();ja={_mslCryptoContext:{value:new rf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:fa,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:Z,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:la,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:qa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ca,writable:!1,enumerable:!1,configurable:!1},_store:{value:ja,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ja);},getTime:function(){return Date.now();},getRandom:function(){return new pe();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(ja,qa){qa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(ja){return this._entityAuthFactories[ja];},getUserAuthenticationFactory:function(ja){return this._userAuthFactories[ja];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(ja){return this._keyExchangeFactories.filter(function(qa){return qa.scheme == ja;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ge=Ze.extend({init:function(ja,qa,za,la){this._log=ja;this._mslContext=qa;this._mslRequest=za;this._keyRequestData=la;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(ja,qa,za,la){var Z;Z=this._mslRequest;Na(la,function(){return ja || !Z.shouldSendUserAuthData?null:Z.email?new id(Z.email,Z.password):Z.useNetflixUserAuthData || za && Z.sendUserAuthIfRequired?new hd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(ja){ja.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(ja,qa,za){var la,Z,ca,fa,xa,Ra;la=this._log;Z=(this._mslRequest.serviceTokens || []).slice();ca=this._mslContext;qa=ca.getMslStore();fa=ja.builder.getMasterToken();xa=this.getUserId();Ra=qa.getUserIdToken(xa);(function Qa(){var Va;Va=Z.shift();if(Va)try{Va instanceof Fc?(ja.addPrimaryServiceToken(Va),Qa()):wd(ca,Va,fa,Ra,null,{result:function(na){try{ja.addPrimaryServiceToken(na);}catch(ya){la.warn("Exception adding service token","" + ya);}Qa();},timeout:function(){la.warn("Timeout parsing service token");Qa();},error:function(na){la.warn("Error parsing service token","" + na);Qa();}});}catch(na){la.warn("Exception processing service token","" + na);Qa();}else za.result(!0);})();},write:function(ja,qa,za){var la;la=fc(this._mslRequest.body);ja.write(la,0,la.length,qa,{result:function(Z){Z != la.length?za.error(new Yb("Not all data was written to output.")):ja.flush(qa,{result:function(){za.result(!0);},timeout:function(){za.timeout();},error:function(ca){za.error(ca);}});},timeout:function(){za.timeout();},error:function(Z){za.error(Z);}});},getDebugContext:function(){this._dc || (this._dc=new Jf(this._log,this._mslRequest));return this._dc;}});Jf=Cf.extend({init:function(ja,qa){this._log=ja;this._mslRequest=qa;},sentHeader:function(ja){this._log.trace("Sent MSL header",fe(this._mslRequest,ja),ja.serviceTokens && ja.serviceTokens.map(nf).join("\n"));},receivedHeader:function(ja){var qa,za;qa=fe(this._mslRequest,ja);za=ja.errorCode;za?this._log.warn("Received MSL error header",qa,{errorCode:za,errorMessage:ja.errorMessage,internalCode:ja.internalCode}):this._log.trace("Received MSL header",qa);}});Kf={JWK_RSA:function(ja){return pf(ja,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ee.JWK_RSA);}};ob.netflix=ob.netflix || ({});ob.netflix.msl={createMslClient:function(ja,qa){var za,la,Z,ca,fa;za=ja.log;fa=ja.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Vb && Vb.generateKey && Vb.importKey && Vb.unwrapKey))throw new hb(S.INTERNAL_EXCEPTION,"No WebCrypto");dc=Vb.generateKey({name:"AES-CBC",length:128},!0,Dc).then?md.V2014_02:md.LEGACY;fa("mslisik");return Qb.importKey("spki",ja.serverIdentityKeyData,qe,!1,["verify"]);}).then(function(xa){return new Promise(function(Ra,Ma){Jc(xa,{result:Ra,error:function(){Ma(new hb(S.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(xa){la=xa;if(xa=Kf.JWK_RSA)return (fa("mslcc"),xa(ja));throw new hb(S.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(xa){var Ra;Z=new Hf(za,ja.esn,xa.keyRequestData,xa.createKeyRequestData,ja.authenticationKeyNames.s,ja.systemKeyWrapFormat);ca=new If(Z,ja.serverIdentityId,la,xa.entityAuthFactories,xa.entityAuthData,xa.keyExchangeFactories);Ra=ja.storeState;if(Ra)return (fa("mslss"),za.info("Loading store state"),new Promise(function(Ma,Qa){Z.loadStoreState(ja,ca,Ra,{result:Ma,timeout:Ma,error:Ma});}));za.info("No store state, starting fresh");}).then(function(){var xa;xa=new $e();fa("msldone");qa.result(new of(za,xa,ca,Z,ja.ErrorSubCodes));}).catch(function(xa){qa.error(xa);});},IHttpLocation:yf,MslIoException:Yb};(function(){var db,Xa,mb,pb,tb,ub,vb,Eb,Db;function ja(pa){var Ea;Ea=0;return function(){return Ea < pa.length?{done:!1,value:pa[Ea++]}:{done:!0};};}function qa(pa,Ea){var Oa,b;if(Ea)a:{Oa=Xa;pa=pa.split(".");for(var r=0;r < pa.length - 1;r++){b=pa[r];if(!((b in Oa)))break a;Oa=Oa[b];}pa=pa[pa.length - 1];r=Oa[pa];Ea=Ea(r);Ea != r && null != Ea && db(Oa,pa,{configurable:!0,writable:!0,value:Ea});}}function za(pa){pa={next:pa};pa[Symbol.iterator]=function(){return this;};return pa;}function la(pa){var Ea;Ea="undefined" != typeof Symbol && Symbol.iterator && pa[Symbol.iterator];return Ea?Ea.call(pa):{next:ja(pa)};}function Z(pa){for(var Ea,Oa=[];!(Ea=pa.next()).done;){Oa.push(Ea.value);}return Oa;}function ca(pa){return pa instanceof Array?pa:Z(la(pa));}function fa(pa,Ea){var r;pa.prototype=mb(Ea.prototype);pa.prototype.constructor=pa;if(Eb)Eb(pa,Ea);else for(var Oa in Ea){if("prototype" != Oa)if(Object.defineProperties){r=Object.getOwnPropertyDescriptor(Ea,Oa);r && Object.defineProperty(pa,Oa,r);}else pa[Oa]=Ea[Oa];}pa.zjc=Ea.prototype;}function xa(){this.QU=!1;this.gD=null;this.UY=void 0;this.Nv=1;this.lZa=this.yja=0;this.IE=null;}function Ra(pa){if(pa.QU)throw new TypeError("Generator is already running");pa.QU=!0;}function Ma(pa,Ea,Oa){pa.Nv=Oa;return {value:Ea};}function Qa(pa){this.wf=new xa();this.tZb=pa;}function Va(pa,Ea){var Oa;Ra(pa.wf);Oa=pa.wf.gD;if(Oa)return na(pa,("return" in Oa)?Oa["return"]:function(r){return {value:r,done:!0};},Ea,pa.wf.return);pa.wf.return(Ea);return ya(pa);}function na(pa,Ea,Oa,r){var b,a;try{b=Ea.call(pa.wf.gD,Oa);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (pa.wf.QU=!1,b);a=b.value;}catch(c){return (pa.wf.gD=null,pa.wf.dY(c),ya(pa));}pa.wf.gD=null;r.call(pa.wf,a);return ya(pa);}function ya(pa){var Ea;for(;pa.wf.Nv;){try{Ea=pa.tZb(pa.wf);if(Ea)return (pa.wf.QU=!1,{value:Ea.value,done:!1});}catch(Oa){pa.wf.UY=void 0;pa.wf.dY(Oa);}}pa.wf.QU=!1;if(pa.wf.IE){Ea=pa.wf.IE;pa.wf.IE=null;if(Ea.fPb)throw Ea.NYa;return {value:Ea.return,done:!0};}return {value:void 0,done:!0};}function Da(pa){this.next=function(Ea){return pa.QV(Ea);};this.throw=function(Ea){return pa.dY(Ea);};this.return=function(Ea){return Va(pa,Ea);};this[Symbol.iterator]=function(){return this;};}function Ja(pa,Ea){Ea=new Da(new Qa(Ea));Eb && pa.prototype && Eb(Ea,pa.prototype);return Ea;}function Ca(pa,Ea){var Oa,r,b;pa instanceof String && (pa+="");Oa=0;r=!1;b={next:function(){var a;if(!r && Oa < pa.length){a=Oa++;return {value:Ea(a,pa[a]),done:!1};}r=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}function Ta(pa,Ea){return Object.prototype.hasOwnProperty.call(pa,Ea);}function Ia(pa,Ea,Oa){var a;pa instanceof String && (pa=String(pa));for(var r=pa.length,b=0;b < r;b++){a=pa[b];if(Ea.call(Oa,a,b,pa))return {v2a:b,Waa:a};}return {v2a:-1,Waa:void 0};}function Za(pa,Ea,Oa){if(null == pa)throw new TypeError("The 'this' value for String.prototype." + Oa + " must not be null or undefined");if(Ea instanceof RegExp)throw new TypeError("First argument to String.prototype." + Oa + " must not be a regular expression");return pa + "";}db="function" == typeof Object.defineProperties?Object.defineProperty:function(pa,Ea,Oa){if(pa == Array.prototype || pa == Object.prototype)return pa;pa[Ea]=Oa.value;return pa;};Xa=(function(pa){var Oa;pa=["object" == typeof globalThis && globalThis,pa,"object" == typeof ob && ob,"object" == typeof self && self,"object" == typeof global && global];for(var Ea=0;Ea < pa.length;++Ea){Oa=pa[Ea];if(Oa && Oa.Math == Math)return Oa;}throw Error("Cannot find global object");})(this);qa("Symbol",function(pa){var r;function Ea(b){if(this instanceof Ea)throw new TypeError("Symbol is not a constructor");return new Oa("jscomp_symbol_" + (b || "") + "_" + r++,b);}function Oa(b,a){this.Wgb=b;db(this,"description",{configurable:!0,writable:!0,value:a});}if(pa)return pa;Oa.prototype.toString=function(){return this.Wgb;};r=0;return Ea;});qa("Symbol.iterator",function(pa){var r;if(pa)return pa;pa=Symbol("Symbol.iterator");for(var Ea=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),Oa=0;Oa < Ea.length;Oa++){r=Xa[Ea[Oa]];"function" === typeof r && "function" != typeof r.prototype[pa] && db(r.prototype,pa,{configurable:!0,writable:!0,value:function(){return za(ja(this));}});}return pa;});mb="function" == typeof Object.create?Object.create:function(pa){function Ea(){}Ea.prototype=pa;return new Ea();};pb=(function(){var Ea;function pa(){function Oa(){}new Oa();Reflect.construct(Oa,[],function(){});return new Oa() instanceof Oa;}if("undefined" != typeof Reflect && Reflect.construct){if(pa())return Reflect.construct;Ea=Reflect.construct;return function(Oa,r,b){Oa=Ea(Oa,r);b && Reflect.setPrototypeOf(Oa,b.prototype);return Oa;};}return function(Oa,r,b){void 0 === b && (b=Oa);b=mb(b.prototype || Object.prototype);return Function.prototype.apply.call(Oa,b,r) || b;};})();if("function" == typeof Object.setPrototypeOf)tb=Object.setPrototypeOf;else {a:{ub={a:!0};vb={};try{vb.__proto__=ub;tb=vb.a;break a;}catch(pa){}tb=!1;}tb=tb?function(pa,Ea){pa.__proto__=Ea;if(pa.__proto__ !== Ea)throw new TypeError(pa + " is not extensible");return pa;}:null;}Eb=tb;xa.prototype.QV=function(pa){this.UY=pa;};xa.prototype.dY=function(pa){this.IE={NYa:pa,fPb:!0};this.Nv=this.yja || this.lZa;};xa.prototype.return=function(pa){this.IE={return:pa};this.Nv=this.lZa;};Qa.prototype.QV=function(pa){Ra(this.wf);if(this.wf.gD)return na(this,this.wf.gD.next,pa,this.wf.QV);this.wf.QV(pa);return ya(this);};Qa.prototype.dY=function(pa){Ra(this.wf);if(this.wf.gD)return na(this,this.wf.gD["throw"],pa,this.wf.QV);this.wf.dY(pa);return ya(this);};qa("Reflect",function(pa){return pa?pa:{};});qa("Reflect.construct",function(){return pb;});qa("Reflect.setPrototypeOf",function(pa){return pa?pa:Eb?function(Ea,Oa){try{return (Eb(Ea,Oa),!0);}catch(r){return !1;}}:null;});qa("Array.from",function(pa){return pa?pa:function(Ea,Oa,r){var b,a;Oa=null != Oa?Oa:function(l){return l;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && Ea[Symbol.iterator];if("function" == typeof a){Ea=a.call(Ea);for(var c=0;!(a=Ea.next()).done;){b.push(Oa.call(r,a.value,c++));}}else for((a=Ea.length,c=0);c < a;c++){b.push(Oa.call(r,Ea[c],c));}return b;};});qa("Promise",function(pa){var b,a;function Ea(c){var l;this.gO=0;this.iX=void 0;this.SM=[];this.T3a=!1;l=this.Eka();try{c(l.resolve,l.reject);}catch(f){l.reject(f);}}function Oa(){this.QA=null;}function r(c){return c instanceof Ea?c:new Ea(function(l){l(c);});}if(pa)return pa;Oa.prototype.kTa=function(c){var l;if(null == this.QA){this.QA=[];l=this;this.lTa(function(){l.ZFb();});}this.QA.push(c);};b=Xa.setTimeout;Oa.prototype.lTa=function(c){b(c,0);};Oa.prototype.ZFb=function(){var c,f;for(;this.QA && this.QA.length;){c=this.QA;this.QA=[];for(var l=0;l < c.length;++l){f=c[l];c[l]=null;try{f();}catch(k){this.Fub(k);}}}this.QA=null;};Oa.prototype.Fub=function(c){this.lTa(function(){throw c;});};Ea.prototype.Eka=function(){var l,f;function c(k){return function(d){f || (f=!0,k.call(l,d));};}l=this;f=!1;return {resolve:c(this.U0b),reject:c(this.sva)};};Ea.prototype.U0b=function(c){var l;if(c === this)this.sva(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof Ea)this.n3b(c);else {a:switch(typeof c){case "object":l=null != c;break a;case "function":l=!0;break a;default:l=!1;}l?this.T0b(c):this.ZZa(c);}};Ea.prototype.T0b=function(c){var l;l=void 0;try{l=c.then;}catch(f){this.sva(f);return;}"function" == typeof l?this.o3b(l,c):this.ZZa(c);};Ea.prototype.sva=function(c){this.pcb(2,c);};Ea.prototype.ZZa=function(c){this.pcb(1,c);};Ea.prototype.pcb=function(c,l){if(0 != this.gO)throw Error("Cannot settle(" + c + ", " + l + "): Promise already settled in state" + this.gO);this.gO=c;this.iX=l;2 === this.gO && this.G1b();this.$Fb();};Ea.prototype.G1b=function(){var c;c=this;b(function(){var l;if(c.LUb()){l=Xa.console;"undefined" !== typeof l && l.error(c.iX);}},1);};Ea.prototype.LUb=function(){var c,l,f;if(this.T3a)return !1;c=Xa.CustomEvent;l=Xa.Event;f=Xa.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function" === typeof l?c=new l("unhandledrejection",{cancelable:!0}):(c=Xa.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.iX;return f(c);};Ea.prototype.$Fb=function(){if(null != this.SM){for(var c=0;c < this.SM.length;++c){a.kTa(this.SM[c]);}this.SM=null;}};a=new Oa();Ea.prototype.n3b=function(c){var l;l=this.Eka();c.q3(l.resolve,l.reject);};Ea.prototype.o3b=function(c,l){var f;f=this.Eka();try{c.call(l,f.resolve,f.reject);}catch(k){f.reject(k);}};Ea.prototype.then=function(c,l){var k,d,g;function f(n,h){return "function" == typeof n?function(m){try{k(n(m));}catch(p){d(p);}}:h;}g=new Ea(function(n,h){k=n;d=h;});this.q3(f(c,k),f(l,d));return g;};Ea.prototype.catch=function(c){return this.then(void 0,c);};Ea.prototype.q3=function(c,l){var k;function f(){switch(k.gO){case 1:c(k.iX);break;case 2:l(k.iX);break;default:throw Error("Unexpected state: " + k.gO);}}k=this;null == this.SM?a.kTa(f):this.SM.push(f);this.T3a=!0;};Ea.resolve=r;Ea.reject=function(c){return new Ea(function(l,f){f(c);});};Ea.race=function(c){return new Ea(function(l,f){for(var k=la(c),d=k.next();!d.done;d=k.next()){r(d.value).q3(l,f);}});};Ea.all=function(c){var l,f;l=la(c);f=l.next();return f.done?r([]):new Ea(function(k,d){var n,h;function g(m){return function(p){n[m]=p;h--;0 == h && k(n);};}n=[];h=0;do {n.push(void 0);h++;r(f.value).q3(g(n.length - 1),d);f=l.next();}while(!f.done);});};return Ea;});qa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});qa("Array.prototype.keys",function(pa){return pa?pa:function(){return Ca(this,function(Ea){return Ea;});};});qa("WeakMap",function(pa){var c,l;function Ea(f){this.uU=(l+=Math.random() + 1).toString();if(f){f=la(f);for(var k;!(k=f.next()).done;){k=k.value;this.set(k[0],k[1]);}}}function Oa(){}function r(f){var k;k=typeof f;return "object" === k && null !== f || "function" === k;}function b(f){var k;if(!Ta(f,c)){k=new Oa();db(f,c,{value:k});}}function a(f){var k;k=Object[f];k && (Object[f]=function(d){if(d instanceof Oa)return d;Object.isExtensible(d) && b(d);return k(d);});}if((function(){var f,k,d;if(!pa || !Object.seal)return !1;try{f=Object.seal({});k=Object.seal({});d=new pa([[f,2],[k,3]]);if(2 != d.get(f) || 3 != d.get(k))return !1;d.delete(f);d.set(k,4);return !d.has(f) && 4 == d.get(k);}catch(g){return !1;}})())return pa;c="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");l=0;Ea.prototype.set=function(f,k){if(!r(f))throw Error("Invalid WeakMap key");b(f);if(!Ta(f,c))throw Error("WeakMap key fail: " + f);f[c][this.uU]=k;return this;};Ea.prototype.get=function(f){return r(f) && Ta(f,c)?f[c][this.uU]:void 0;};Ea.prototype.has=function(f){return r(f) && Ta(f,c) && Ta(f[c],this.uU);};Ea.prototype.delete=function(f){return r(f) && Ta(f,c) && Ta(f[c],this.uU)?delete f[c][this.uU]:!1;};return Ea;});qa("Map",function(pa){var a,c;function Ea(){var l;l={};return l.Xl=l.next=l.head=l;}function Oa(l,f){var k;k=l.ny;return za(function(){if(k){for(;k.head != l.ny;){k=k.Xl;}for(;k.next != k.head;){return (k=k.next,{done:!1,value:f(k)});}k=null;}return {done:!0,value:void 0};});}function r(l,f){var k,d,g;k=f && typeof f;"object" == k || "function" == k?a.has(f)?k=a.get(f):(k="" + ++c,a.set(f,k)):k="p_" + f;d=l.Xx[k];if(d && Ta(l.Xx,k))for(l=0;l < d.length;l++){g=d[l];if(f !== f && g.key !== g.key || f === g.key)return {id:k,list:d,index:l,entry:g};}return {id:k,list:d,index:-1,entry:void 0};}function b(l){this.Xx={};this.ny=Ea();this.size=0;if(l){l=la(l);for(var f;!(f=l.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var l,f,k,d;if(!pa || "function" != typeof pa || !pa.prototype.entries || "function" != typeof Object.seal)return !1;try{l=Object.seal({x:4});f=new pa(la([[l,"s"]]));if("s" != f.get(l) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;k=f.entries();d=k.next();if(d.done || d.value[0] != l || "s" != d.value[1])return !1;d=k.next();return d.done || 4 != d.value[0].x || "t" != d.value[1] || !k.next().done?!1:!0;}catch(g){return !1;}})())return pa;a=new WeakMap();b.prototype.set=function(l,f){var k;l=0 === l?0:l;k=r(this,l);k.list || (k.list=this.Xx[k.id]=[]);k.entry?k.entry.value=f:(k.entry={next:this.ny,Xl:this.ny.Xl,head:this.ny,key:l,value:f},k.list.push(k.entry),this.ny.Xl.next=k.entry,this.ny.Xl=k.entry,this.size++);return this;};b.prototype.delete=function(l){l=r(this,l);return l.entry && l.list?(l.list.splice(l.index,1),l.list.length || delete this.Xx[l.id],l.entry.Xl.next=l.entry.next,l.entry.next.Xl=l.entry.Xl,l.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.Xx={};this.ny=this.ny.Xl=Ea();this.size=0;};b.prototype.has=function(l){return !!r(this,l).entry;};b.prototype.get=function(l){return (l=r(this,l).entry) && l.value;};b.prototype.entries=function(){return Oa(this,function(l){return [l.key,l.value];});};b.prototype.keys=function(){return Oa(this,function(l){return l.key;});};b.prototype.values=function(){return Oa(this,function(l){return l.value;});};b.prototype.forEach=function(l,f){for(var k=this.entries(),d;!(d=k.next()).done;){d=d.value;l.call(f,d[1],d[0],this);}};b.prototype[Symbol.iterator]=b.prototype.entries;c=0;return b;});qa("Set",function(pa){function Ea(Oa){this.Kv=new Map();if(Oa){Oa=la(Oa);for(var r;!(r=Oa.next()).done;){this.add(r.value);}}this.size=this.Kv.size;}if((function(){var Oa,r,b,a;if(!pa || "function" != typeof pa || !pa.prototype.entries || "function" != typeof Object.seal)return !1;try{Oa=Object.seal({x:4});r=new pa(la([Oa]));if(!r.has(Oa) || 1 != r.size || r.add(Oa) != r || 1 != r.size || r.add({x:4}) != r || 2 != r.size)return !1;b=r.entries();a=b.next();if(a.done || a.value[0] != Oa || a.value[1] != Oa)return !1;a=b.next();return a.done || a.value[0] == Oa || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(c){return !1;}})())return pa;Ea.prototype.add=function(Oa){Oa=0 === Oa?0:Oa;this.Kv.set(Oa,Oa);this.size=this.Kv.size;return this;};Ea.prototype.delete=function(Oa){Oa=this.Kv.delete(Oa);this.size=this.Kv.size;return Oa;};Ea.prototype.clear=function(){this.Kv.clear();this.size=0;};Ea.prototype.has=function(Oa){return this.Kv.has(Oa);};Ea.prototype.entries=function(){return this.Kv.entries();};Ea.prototype.values=function(){return this.Kv.values();};Ea.prototype.keys=Ea.prototype.values;Ea.prototype[Symbol.iterator]=Ea.prototype.values;Ea.prototype.forEach=function(Oa,r){var b;b=this;this.Kv.forEach(function(a){return Oa.call(r,a,a,b);});};return Ea;});qa("Array.prototype.find",function(pa){return pa?pa:function(Ea,Oa){return Ia(this,Ea,Oa).Waa;};});qa("Number.isFinite",function(pa){return pa?pa:function(Ea){return "number" !== typeof Ea?!1:!isNaN(Ea) && Infinity !== Ea && -Infinity !== Ea;};});Db="function" == typeof Object.assign?Object.assign:function(pa,Ea){var r;for(var Oa=1;Oa < arguments.length;Oa++){r=arguments[Oa];if(r)for(var b in r){Ta(r,b) && (pa[b]=r[b]);}}return pa;};qa("Object.assign",function(pa){return pa || Db;});qa("Object.is",function(pa){return pa?pa:function(Ea,Oa){return Ea === Oa?0 !== Ea || 1 / Ea === 1 / Oa:Ea !== Ea && Oa !== Oa;};});qa("Array.prototype.includes",function(pa){return pa?pa:function(Ea,Oa){var r,b,a;r=this;r instanceof String && (r=String(r));b=r.length;Oa=Oa || 0;for(0 > Oa && (Oa=Math.max(Oa + b,0));Oa < b;Oa++){a=r[Oa];if(a === Ea || Object.is(a,Ea))return !0;}return !1;};});qa("String.prototype.includes",function(pa){return pa?pa:function(Ea,Oa){return -1 !== Za(this,Ea,"includes").indexOf(Ea,Oa || 0);};});qa("Object.entries",function(pa){return pa?pa:function(Ea){var Oa,r;Oa=[];for(r in Ea){Ta(Ea,r) && Oa.push([r,Ea[r]]);}return Oa;};});qa("Object.values",function(pa){return pa?pa:function(Ea){var Oa,r;Oa=[];for(r in Ea){Ta(Ea,r) && Oa.push(Ea[r]);}return Oa;};});qa("Array.prototype.entries",function(pa){return pa?pa:function(){return Ca(this,function(Ea,Oa){return [Ea,Oa];});};});qa("Array.prototype.findIndex",function(pa){return pa?pa:function(Ea,Oa){return Ia(this,Ea,Oa).v2a;};});qa("Promise.prototype.finally",function(pa){return pa?pa:function(Ea){return this.then(function(Oa){return Promise.resolve(Ea()).then(function(){return Oa;});},function(Oa){return Promise.resolve(Ea()).then(function(){throw Oa;});});};});qa("Number.parseInt",function(pa){return pa || parseInt;});qa("Array.prototype.values",function(pa){return pa?pa:function(){return Ca(this,function(Ea,Oa){return Oa;});};});qa("String.prototype.endsWith",function(pa){return pa?pa:function(Ea,Oa){var r;r=Za(this,Ea,"endsWith");Ea+="";void 0 === Oa && (Oa=r.length);Oa=Math.max(0,Math.min(Oa | 0,r.length));for(var b=Ea.length;0 < b && 0 < Oa;){if(r[--Oa] != Ea[--b])return !1;}return 0 >= b;};});qa("String.prototype.startsWith",function(pa){return pa?pa:function(Ea,Oa){var r,b,a;r=Za(this,Ea,"startsWith");Ea+="";b=r.length;a=Ea.length;Oa=Math.max(0,Math.min(Oa | 0,r.length));for(var c=0;c < a && Oa < b;){if(r[Oa++] != Ea[c++])return !1;}return c >= a;};});qa("Number.isNaN",function(pa){return pa?pa:function(Ea){return "number" === typeof Ea && isNaN(Ea);};});qa("Object.getOwnPropertySymbols",function(pa){return pa?pa:function(){return [];};});qa("Reflect.apply",function(pa){var Ea;if(pa)return pa;Ea=Function.prototype.apply;return function(Oa,r,b){return Ea.call(Oa,r,b);};});qa("Math.tanh",function(pa){return pa?pa:function(Ea){var Oa;Ea=Number(Ea);if(0 === Ea)return Ea;Oa=Math.exp(-2 * Math.abs(Ea));Oa=(1 - Oa) / (1 + Oa);return 0 > Ea?-Oa:Oa;};});qa("String.fromCodePoint",function(pa){return pa?pa:function(Ea){var b;for(var Oa="",r=0;r < arguments.length;r++){b=Number(arguments[r]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?Oa+=String.fromCharCode(b):(b-=65536,Oa+=String.fromCharCode(b >>> 10 & 1023 | 55296),Oa+=String.fromCharCode(b & 1023 | 56320));}return Oa;};});qa("Object.setPrototypeOf",function(pa){return pa || Eb;});(function(){var Ea,Oa;function pa(r){var b;b=Oa[r];if(void 0 !== b)return b.exports;b=Oa[r]={exports:{}};Ea[r].call(b.exports,b,b.exports,pa);return b.exports;}Ea={60328:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u=void 0;b.u={fa:0,Y:1,Ga:2};},96667:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},12043:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(96667),b);r.__exportStar(a(79348),b);r.__exportStar(a(24552),b);r.__exportStar(a(29266),b);r.__exportStar(a(927),b);r.__exportStar(a(68069),b);r.__exportStar(a(89154),b);},79348:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},24552:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},29266:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},29205:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.POb=b.o3a=void 0;b.o3a=function(a){return void 0 !== a.Ueb;};b.POb=function(a){return void 0 !== a.xml && void 0 !== a.images;};},64586:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},927:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(64586),b);r.__exportStar(a(21325),b);r.__exportStar(a(29205),b);r.__exportStar(a(79244),b);},79244:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},21325:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},68069:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.platform=void 0;b.platform={opa:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},89154:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},45929:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},5102:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.TZa=b.FY=b.SZa=void 0;b.SZa={23976:{ja:24E3,N:1001},24:{ja:24E3,N:1E3},25:{ja:25E3,N:1E3},2997:{ja:3E4,N:1001},30:{ja:3E4,N:1E3},50:{ja:5E4,N:1E3},5994:{ja:6E4,N:1001},60:{ja:6E4,N:1E3}};b.FY={h264:["23976","24","25","2997","30"],h264hpl:["23976","24","25","2997","30"],"hevc-main10":("23976 24 25 2997 30 50 5994 60").split(" ")};b.TZa=function(a,c){return a.ja / a.N === c.ja / c.N;};},40138:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA",Ra:!0,Sa:[176,590],size:610},{data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70",Ra:!0,Sa:[44],size:6252},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1-dash",192,"5.1"];},10697:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(40138);b.ea=[{data:"hMPLAIhMIMAEhMgBDogGYGhMJ3",Ra:!0,Sa:[176,590],size:610,Za:r.ea[0]},{data:"sNY4AEsNYpAgsNYGD/htYKcD+B9lhtQChtIBhs4ChswFB9hpgJgAwThsIJgAwThuwJgAwTh3AJgAwTh5oKgQAVh2QCB3DNg0oAgCAAhEYCgAQIhEIBBAgDIdBfA+gDAMhlQEAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LhU4EgDIcgXIxgDIVB2gAYBAAAdDzhWIAgmgAgDgKgAQAiN4EgDIbgXIygDIVCyhPQCDvCagjQADzDmgNgMhpYBh3oBgDIbgXIxgDIWCQiBoCB8gNYAhUQAh6QCgAQIiUwEgDIcgXIxgDIVDsiV4CA7DmgjQAhWQAg2ILDbjNwEgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x",Ra:!0,Sa:[44],size:8300,Za:r.ea[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",256,"5.1"];},28922:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(40138).ea[0];a=a(10697);b.ea=[{data:"hMPLAMhMIMg8oBAFDcgGYCgEQChMJ3",Ra:!0,Sa:[176,590],size:610,Za:r},{data:"wNY4gAYAwNYoAwwNYFACiNYLcEEB+6iNYxiHgviRwwicAwiWIwgYwSgnwCA2gGwCg14BdvHjx4DxDjDHCPgAwDgB4AgCYAhBoBhaABiM4EAABvgGYBg6oCgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBhy4CgIwIgAwAcbbbfPhUQBgEYEiFQCADBrgP4BhFICgEgbgSQBhagCDegSQJB2gB4AgCYAgEYGhs4CAADZgXwCgJ4SAegB4AgV4AA1gFQGhhgCAGgd4BDNhSwBC8gJ4IDGgJ4PgZwAhiADC3gcQIgAwAgB4AgCYAgJAHhZ4BglwTgEgPA3gsQBhgoCgSQJA3glwQiE4Cgv3/gvz8gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q",Ra:!0,Sa:[44],size:12396,Za:a.ea[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",384,"5.1"];},16658:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(40138).ea[0];a=a(28922);b.ea=[{data:"hMPLAOhMIMAHgEgBDWgGYChMJ7",Ra:!0,Sa:[176,590],size:610,Za:r},{data:"4NY4AH4NYpA44NYFADB/jNYLAoAfDMjNQAjNIAjM4AjMwFiuICDfjAwvjNozjBozjOgzjbY0jPYIAbhcwChOYEZ3gAAAhiYRhKwEgFgIA7a7C7haADCNgCgAhboAhLYIgAgAhxgDgFQCh2ADgFgqAdbdDdhvQDhkYMhWwEhpQAgFQDhbYCgFgMh0AMgFgFDwgcgCgRZwgFgcCObuDuDvidgQiF4EiQAAgFQDiKgCgFgMC7gFgSB4gcgCgRZwgFgdhJ4HiUYQisoEABC+gtIEgxICgFgLDdgFgSC8itoDgRZvgFgdhJwGC7itIDgCgAh+YAgQYJC1Cgi6oCjDgCi/IEgFgLBugFgSDeijwDgRZvgFgdhJwGDdju4RjXQEBvju4Cjl4EgFgLjOoNgFgFi5ADgRZvgFgdhJwGDuj4IRkQYEA3j4ICjvIEgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m",Ra:!0,Sa:[44],size:14444,Za:a.ea[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",448,"5.1"];},47708:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(28922).ea[0];a=a(16658);b.ea=[{data:"hMPLAUhMIMAKgAQAAJgYQCAChMJ7",Ra:!0,Sa:[176,590],size:610,Za:r},{data:"8NY4AK8NYpBQ8NYFAED/jtYCgAAChQYBcAjgYYBhCGjQwzjfY+juA+j8o9jwo+gfwLhdACABhWwGgrgEgAAQADhkwBhWQChkYFgIYMgEACA7jcoFC4hFQWiJgBj4oDj7wEBfgQ4LhWgCAHiO4GgIAWAOhewADthhICiuAFgZYLjt4DiyIChjgCDggIAVABgb4BgIAChxwFghAMgEACAdjYgFDcgQQWgcABhxYDj3oEhG4MgnICADjFoEiLgGhxYWAHgcgAkGoBiqoHgpYLD4glYDki4FBwgRAWgcoBiCYDh/4EhQAMglYDjVIGgIAWgcwBibQDj0QEDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/k/xsgABrAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c",Ra:!0,Sa:[44],size:20588,Za:a.ea[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",640,"5.1"];},94340:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(42608);b.ea=[{data:"hZniCAhZjm",Ra:!0,Sa:[176,599],size:717,Za:r.ea[0]},{data:"gXy9",Ra:!0,Sa:[44],size:191,Za:r.ea[1]},{ja:1024,N:24E3},{ja:7168,N:24E3},"heaac-2hq-dash",128,"2.0"];},42608:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw",Ra:!0,Sa:[176,599],size:717},{data:"IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc",Ra:!0,Sa:[44],size:191},{ja:1024,N:24E3},{ja:7168,N:24E3},"heaac-2-dash",64,"2.0"];},14613:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(42608);b.ea=[{data:"hZniBghZjm",Ra:!0,Sa:[176,599],size:717,Za:r.ea[0]},{data:"gXy9",Ra:!0,Sa:[44],size:191,Za:r.ea[1]},{ja:1024,N:24E3},{ja:7168,N:24E3},"heaac-2-dash",96,"2.0"];},52426:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.efb=b.ffb=b.pTa=b.igb=void 0;b.igb={padding:{"16:9":{h264:{23976:function(){return a(77496);},24:function(){return a(49242);},25:function(){return a(2267);},2997:function(){return a(89792);},30:function(){return a(50519);}},h264hpl:{23976:function(){return a(36260);},24:function(){return a(60398);},25:function(){return a(99234);},2997:function(){return a(63029);},30:function(){return a(99477);}},"hevc-main10":{23976:function(){return a(83331);},24:function(){return a(58028);},25:function(){return a(42500);},2997:function(){return a(51930);},30:function(){return a(33298);},50:function(){return a(7166);},5994:function(){return a(5762);},60:function(){return a(50285);}}},"4:3":{h264:{23976:function(){return a(21902);},24:function(){return a(11024);},25:function(){return a(43698);},2997:function(){return a(1370);},30:function(){return a(87767);}},h264hpl:{23976:function(){return a(66101);},24:function(){return a(67200);},25:function(){return a(92443);},2997:function(){return a(53040);},30:function(){return a(28437);}},"hevc-main10":{23976:function(){return a(34896);},24:function(){return a(99109);},25:function(){return a(61988);},2997:function(){return a(1136);},30:function(){return a(62373);},50:function(){return a(30156);},5994:function(){return a(24341);},60:function(){return a(40677);}}}}};b.pTa={silence:{heaac:{64:function(){return a(42608);},96:function(){return a(14613);},128:function(){return a(94340);}},ddp:{192:function(){return a(40138);},256:function(){return a(10697);},384:function(){return a(28922);},448:function(){return a(16658);},640:function(){return a(47708);}}}};b.ffb=function(c){return {Cb:c[0],Ma:c[1],za:c[2],duration:c[3],profile:c[4],bitrate:c[5],width:c[6],height:c[7],Jta:c[8],Kta:c[9]};};b.efb=function(c){return {Cb:c[0],Ma:c[1],za:c[2],duration:c[3],profile:c[4],bitrate:c[5],channels:c[6]};};},21902:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(77496);b.ea=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Ra:!0,Sa:[176,729],size:749,Za:r.ea[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.ea[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},11024:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(49242);b.ea=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Ra:!0,Sa:[176,731],size:751,Za:r.ea[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.ea[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},43698:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(2267);b.ea=[{data:"hdzvgAgChd1ACAhLABhdwdhNQFhdyM",Ra:!0,Sa:[176,731],size:751,Za:r.ea[0]},{data:"h7X/h7XY",Ra:!0,Sa:[44],size:987,Za:r.ea[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264mpl30-dash",64,320,240,1,1];},1370:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(89792);b.ea=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Ra:!0,Sa:[176,729],size:749,Za:r.ea[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.ea[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},87767:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(50519);b.ea=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Ra:!0,Sa:[176,731],size:751,Za:r.ea[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.ea[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},66101:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(36260);b.ea=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Ra:!0,Sa:[176,731],size:751,Za:r.ea[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.ea[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},67200:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(60398);b.ea=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ra:!0,Sa:[176,733],size:753,Za:r.ea[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.ea[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},92443:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(99234);b.ea=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ra:!0,Sa:[176,733],size:753,Za:r.ea[0]},{data:"h7X/h7XY",Ra:!0,Sa:[44],size:987,Za:r.ea[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264hpl30-dash",64,320,240,1,1];},53040:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(63029);b.ea=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Ra:!0,Sa:[176,731],size:751,Za:r.ea[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.ea[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},28437:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(99477);b.ea=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ra:!0,Sa:[176,733],size:753,Za:r.ea[0]},{data:"h/v/h/v7",Ra:!0,Sa:[44],size:1022,Za:r.ea[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},34896:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(83331);b.ea=[{data:"hxbvgAgChxe6DABahxYvhegFhxaf",Ra:!0,Sa:[176,888],size:908,Za:r.ea[0]},{data:"g6XR",Ra:!0,Sa:[44],size:467,Za:r.ea[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},99109:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(58028);b.ea=[{data:"hxrvgAgChxu6DABahxoxhewFhxoeCAgAYEhxp4",Ra:!0,Sa:[176,890],size:910,Za:r.ea[0]},{data:"g6SBg4wFg6QtAcg6TCg1wCg6QBg1wJg6JA",Ra:!0,Sa:[44],size:466,Za:r.ea[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},61988:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(42500);b.ea=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Ra:!0,Sa:[176,890],size:910,Za:r.ea[0]},{data:"g0Wh",Ra:!0,Sa:[44],size:419,Za:r.ea[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},1136:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(51930);b.ea=[{data:"hxbvgAgChxe6DABahxYvhegFhxaf",Ra:!0,Sa:[176,888],size:908,Za:r.ea[0]},{data:"g6PQ",Ra:!0,Sa:[44],size:466,Za:r.ea[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},62373:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(33298);b.ea=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Ra:!0,Sa:[176,890],size:910,Za:r.ea[0]},{data:"g6XR",Ra:!0,Sa:[44],size:467,Za:r.ea[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},30156:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(7166);b.ea=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Ra:!0,Sa:[176,890],size:910,Za:r.ea[0]},{data:"hRv/hRqL",Ra:!0,Sa:[44],size:654,Za:r.ea[1]},{ja:1E3,N:5E4},{ja:1E4,N:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},24341:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(5762);b.ea=[{data:"hxbvgAgChxe6DABahxYvhegFhxaf",Ra:!0,Sa:[176,888],size:908,Za:r.ea[0]},{data:"hvX/hvV4",Ra:!0,Sa:[44],size:891,Za:r.ea[1]},{ja:1001,N:6E4},{ja:15015,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},40677:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(50285);b.ea=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Ra:!0,Sa:[176,890],size:910,Za:r.ea[0]},{data:"hvX/hvV4",Ra:!0,Sa:[44],size:891,Za:r.ea[1]},{ja:1E3,N:6E4},{ja:15E3,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},77496:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG",Ra:!0,Sa:[176,729],size:749},{data:"AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=",Ra:!1,Sa:[44],size:1022},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},49242:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(77496);b.ea=[{data:"hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG",Ra:!0,Sa:[176,731],size:751,Za:r.ea[0]},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP",Ra:!0,Sa:[44],size:1022,Za:r.ea[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},2267:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(49242);b.ea=[{data:"hdw8BhCohdz4gfYEhd0ACQhdwoB+CQgAYEhdxWATCIhdwe",Ra:!0,Sa:[176,731],size:751,Za:r.ea[0]},{data:"gCoBCph/oVCRh/otBQh/oJAFgAYBCxh/o9ARh+ILgCgBAyh+H/h+Aug/4Ah+CJAzh+ABDsC+h+AAAUDIh+ABcsxdpKBwA+AqCkGAB3A0DAhg4AcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxh+AHC/h2ADBIh+Ao",Ra:!0,Sa:[44],size:987,Za:r.ea[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264mpl30-dash",64,320,240,4,3];},89792:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(77496).ea[0];a=a(2267);b.ea=[{data:"hdg8B1Awhdj4gfYEhdj8AHBThdgpCBDYgAYEhdh4",Ra:!0,Sa:[176,729],size:749,Za:r},{data:"gBoBC2h7QVCeh7QZDph7QRBch7QJAGgAYBC+h7QJDSh7QJCNh7QJgC4Ch7QSgL4CAWgEYJASh8wLAWgEIBBIh8//h88KB/h5YFh84EgBoBDph84IgBoCgDYCASgHIAdlSahBBoCZBMAIBPD/D9DxgCAAAfDh",Ra:!0,Sa:[44],size:1022,Za:a.ea[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},50519:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(49242).ea[0];a=a(89792);b.ea=[{data:"hdw8B1Awhdz4gfYEhd0ADghdwoCCgBwBgAYChdx4",Ra:!0,Sa:[176,731],size:751,Za:r},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/tU",Ra:!0,Sa:[44],size:1022,Za:a.ea[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},36260:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(49242).ea[0];a=a(77496);b.ea=[{data:"hd0VDShd0OgM4AhdwCAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAAGhdoCAigiQChdwZBnDggAYEhdxXhUwChdwSDpgBoG",Ra:!0,Sa:[176,731],size:751,Za:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ra:!0,Sa:[44],size:1022,Za:a.ea[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},60398:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(36260).ea[0];a=a(49242);b.ea=[{data:"hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG",Ra:!0,Sa:[176,733],size:753,Za:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ra:!0,Sa:[44],size:1022,Za:a.ea[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},99234:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(60398).ea[0];a=a(2267);b.ea=[{data:"heA8BhCoheD4gfYEheEBAgheApB+CQgAYEheBWATCIheAe",Ra:!0,Sa:[176,733],size:753,Za:r},{data:"h7VpAzh7QDgD4Ah7RZhRwBh7X/h7QH",Ra:!0,Sa:[44],size:987,Za:a.ea[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264hpl30-dash",64,320,240,4,3];},63029:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(36260).ea[0];a=a(89792);b.ea=[{data:"hdw8B1Awhdz4gfYEhdz9AOCmhdwqCBDYgAYEhdx4",Ra:!0,Sa:[176,731],size:751,Za:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ra:!0,Sa:[44],size:1022,Za:a.ea[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},99477:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(60398).ea[0];a=a(50519);b.ea=[{data:"heA8B1AwheD4gfYEheEBDAheApCCgBwBgAYCheB4",Ra:!0,Sa:[176,733],size:753,Za:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ra:!0,Sa:[44],size:1022,Za:a.ea[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},83331:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(77496);b.ea=[{data:"hdggADhcgAhdhwDAhdiEACgqYAhdhRDjhdg9CjhdgEABBXhdgMABBHBohdhSC6gKoBhdgAACgPgCCQgfAEgI4AH9H6gBAAAPADCggIoBcYQAEMABgFIAgEAChboAgEIBhcQBgAQAddmLAkChgDgBBtBCEBgDINegCggPATBnCYC5AkApAQATC4BCCwGJfl9/o8DZDLD6A5CUDJB7gAgAezL9GFAIBOAiCxAmBeD+COBsDLD0BhBEBOBqDECbD2BlD6AwCmCcCVCUDfCjAKBKDDCaKACCg0QDcAu4H0BVDvB+AACXBAASDwABAuCAAlDhCigOIBcHRAHBByD2A8gVQChvAOAThlwAg0gABuBjBshhgAgEwAgAIChxYIhwgAgAQAAigGQBgAYChxZ4",Ra:!0,Sa:[176,888],size:908,Za:r.ea[0]},{data:"h/pcAABnh/oJAkh/oJAhh7IJgC4Ah/oIAjh/oJAih/oaABAdh/oEgNIAdOAYEBADgdYCAWgBIAgSYACggHgBcAIPWAAKD8CAgAoDCQgDICANgDIAABgSIBgDAAgAQBAEgCACcuJgGsB9DgCECCAkC/D/D8BhgAwAczjsxSCKBCD8BJgDQBgEAAADA8gFIDBXDAgeQAgBIEDagIQOAHgCACcPAgHgAmBYDCA+DwCYgCQCCjgCQCAMgEYFggABgMoDANgEQBcWKMI2DwCagBoAACCCgIgJgpYAgAYBgIgDgY4ADgAOA4gIgLgEYGgNICgawDAOgEYBceSMIRC8CVgBoBBTgSoAgAAAALgEQEAEgMwFgRICcovGEfB4gIgF",Ra:!0,Sa:[44],size:467,Za:r.ea[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},58028:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(83331);b.ea=[{data:"hxYhBuhxZxDChxZ9DQhxYFA6hxZSDlhxY9ClhxYFBZhxYNBJhxZTC8hxY6BvhxZXgJIAhE4BgAgAAxhxpKgZwAgAYDhxpXgRQChxoSDogBoG",Ra:!0,Sa:[176,890],size:910,Za:r.ea[0]},{data:"g6Q1Dog6QtDQg6QJCIg6QJgC4Eg6QQgL4Cg6QGgEYCg6Uq",Ra:!0,Sa:[44],size:467,Za:r.ea[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},42500:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(58028);b.ea=[{data:"hxo8BhCohxr4gfYEhxt+AzhxpJAlg+oAgAYDhxpWATCIhxoe",Ra:!0,Sa:[176,890],size:910,Za:r.ea[0]},{data:"gCQBCpg6QVCRg6QtBQg6QJAFgAYBCxg6QZg3QAg1wIg3QAg6QIgBYFgL4DARg4wLgA4BD6g4qggEQCg4oBg0YSg44HANg44EAuDwCcgBoAAGDUg4oSgEICg4oBgEIF",Ra:!0,Sa:[44],size:419,Za:r.ea[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},51930:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(83331);b.ea=[{data:"hxY8B1Awhxb4gfYEhxd7DqBhhxZJArAQgAYEhxZ4",Ra:!0,Sa:[176,888],size:908,Za:r.ea[0]},{data:"g6R1g1wKg4wFg6QPg+wKg6QQAcg6SgAOg6QEgxgJg6YPg14Cg6YBgEQRg6QogMwCg6QBAIDegEAE",Ra:!0,Sa:[44],size:466,Za:r.ea[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},33298:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(58028).ea[0];a=a(51930);b.ea=[{data:"hxo8B1Awhxr4gfYEhxt+A9hxpJArgjQBgAYChxp4",Ra:!0,Sa:[176,890],size:910,Za:r},{data:"g6I1Dog6ItDQg6IJCIg3IDg1oEgC4Cg6ISgL4Cg6IGgEYCg6IQAdg6KggEQCg6IBgEQKg6Ri",Ra:!0,Sa:[44],size:467,Za:a.ea[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},7166:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(58028).ea[0];a=a(33298);b.ea=[{data:"hxo8DDBQhxr4gfYEhxt+BlhxpJBABggAYEhxpWAnAQhxoe",Ra:!0,Sa:[176,890],size:910,Za:r},{data:"gCIBDqg6QVDSg6QtCMg6QJgFYCDyg6QNg4wFg6QnAigF4JgBYFgF4DgBYAgF4IgBYFhAQPAWhAQMhAwFCkhAx9gvYChAwBgzgJhAoVATC8CTgGgCAigTIBhApPhSAHdGGMIZC8CMgM4CACg1QCgEIFAFgRIJA2gRIMgVgFgRgDgMoGAugRALgEIFAHgQ4KA+gQ4SAIhRoJBIhRoI",Ra:!0,Sa:[44],size:654,Za:a.ea[1]},{ja:1E3,N:5E4},{ja:1E4,N:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},5762:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(83331).ea[0];a=a(7166);b.ea=[{data:"hxY8DqBghxb4gfYEhxd6ABDUDBhxZJBIDogAYEhxZWA6CnhxYe",Ra:!0,Sa:[176,888],size:908,Za:r},{data:"g0YBArhRoUABAThRoZDphRoRDIhRoJAPgEwBAzhRoJDShRoJCNhLoJgC4EhRoQgL4ChRoGgF4OhRoSgF4ygR4FALC7gO4NAbhZIQgAYCAagCAAACBQhZyfgEIChZwBhVQRhZrOgQ4HBmgQ4TAJgQ4JBWgQ4ThZ4BgQ4IBOgQ4SALgQ4KBegQ4SAMgeABgEACAQgMoBdw6rGEAnB4gMwPANgIgGhiYAgEYAdol8YQCNDggIoE",Ra:!0,Sa:[44],size:891,Za:a.ea[1]},{ja:1001,N:6E4},{ja:15015,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},50285:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ea=void 0;r=a(58028).ea[0];a=a(5762);b.ea=[{data:"hxo8DqBghxr4gfYEhxt+B5hxpJBJgAwBgAYChxpWA6CYhxoe",Ra:!0,Sa:[176,890],size:910,Za:r},{data:"hvQ1DohvQtDQhvQJCIhjQJgC4EhvQQgL4ChpQGgF4OhpQSgF4yhvQGC4gO4NhvX/hvRl",Ra:!0,Sa:[44],size:891,Za:a.ea[1]},{ja:1E3,N:6E4},{ja:15E3,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},8604:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.S2=b.Fz=void 0;r=a(5163);r.__exportStar(a(56163),b);r.__exportStar(a(5102),b);c=a(88458);Object.defineProperties(b,{Fz:{enumerable:!0,get:function(){return c.Fz;}}});Object.defineProperties(b,{S2:{enumerable:!0,get:function(){return c.S2;}}});},38315:function(r,b,a){var d;function c(g){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g & 63];}function l(g,n){(0,d.assert)(0 < n && 8 > n);return c((n - 1 << 8) + g);}function f(g){return c(1792 + g[0]) + c((g[1] << 4) + (g[2] >>> 4)) + c((g[2] << 8 & 3840) + g[3]);}function k(g){return 43 === g?62:47 === g?63:58 > g?g - 48 + 52:91 > g?g - 65:g - 71;}Object.defineProperties(b,{__esModule:{value:!0}});b.rra=b.NRb=void 0;d=a(45929);b.NRb=function(g,n){var p,q,u,t,w,v;function h(y,x){var z;z=p;y=q - x - y;(0,d.assert)(1 <= y);(0,d.assert)(16384 > y - 1);(0,d.assert)(2 <= x && 512 > x - 2);x=c(2048 + (y - 1 >>> 3)) + c(((y - 1 & 7) << 9) + (x - 2));p=z + x;u=q;t=0;}function m(y,x,z){return g.subarray(y,y + z).every(function(A,B){return A === g[x + B];});}p="";q=n || 0;u=q;t=0;for(n=0;q < g.byteLength;){w=u;v=t;if(0 !== t && 513 > t && g[q] === g[u + t])(++t,++q);else if(513 === t)(h(w,v),n=0);else {for(--u;0 <= u && u >= q - t - 16384 && (g[w] !== g[u] || 0 < t && !m(q - t,u,t + 1));){--u;}if(0 <= u && u >= q - t - 16384)(++t,++q);else if(w === q || 1 === v){q-=v;for(w=1;7 > w && g[q + w] === g[q];){++w;}p+=l(g[q],w);q+=w;n=1 < w?0:n + 1;4 === n && (p=p.slice(0,p.length - 8),p+=f(g.subarray(q - 4,q)));u=q;t=0;}else (h(w,v),n=0);}}1 === t?p+=l(g[u],1):1 < t && h(u,t);return p;};b.rra=function(g,n){var w,v;function h(x,z){p(z);if(x + z <= t)q.set(q.subarray(x,x + z),t);else for(var A=0;A < z;++A){q[t + A]=q[x + A];}t+=z;}function m(){var x;x=g.slice(u,u+=2);return (k(x.charCodeAt(0)) << 6) + k(x.charCodeAt(1));}function p(x){t + x > q.byteLength && (x=new Uint8Array(2 * q.byteLength),x.set(q,0),q=x);}for(var q=n || new Uint8Array(4096),u=0,t=n?n.byteLength:0;u < g.length;){w=m();if(w & 2048){v=m();h(t - (((w & 2047) << 3) + (v >>> 9) + 1),(v & 511) + 2);}else if(1792 === (w & 3840))(p(4),q[t++]=w & 255,v=m(),w=m(),q[t++]=v >>> 4,q[t++]=(v << 4 & 240) + (w >>> 8),q[t++]=w & 255);else {v=w & 255;w=(w >>> 8) + 1;p(w);for(var y=0;y < w;++y){q[t++]=v;}}}return q.subarray(n?n.byteLength:0,t);};},88458:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Uub=b.Tub=b.Vub=b.Sub=b.S2=b.Wub=b.f9b=b.$8b=b.Fz=b.h9b=b.FY=void 0;c=a(5102);Object.defineProperties(b,{FY:{enumerable:!0,get:function(){return c.FY;}}});b.h9b=["padding"];b.Fz=["h264","h264hpl","hevc-main10"];b.$8b=["16:9","4:3"];b.f9b={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash","hevc-main10":"hevc-main10-L30-dash-cenc-prk-do"};b.Wub=["silence"];b.S2=["heaac","ddp"];b.Sub={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.Vub={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.Tub={heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.Uub={heaac:{ja:1024,N:24E3},ddp:{ja:1536,N:48E3}};},56163:function(r,b,a){var l,f,k,d,g,n,h;function c(m){if(-1 !== d.Fz.indexOf(m))return m;for(var p,q=0;q < d.Fz.length;++q){if(-1 !== m.indexOf(d.Fz[q])){p=d.Fz[q];break;}}(0,n.assert)(p);return p;}Object.defineProperties(b,{__esModule:{value:!0}});b.FNa=void 0;l=a(5163);f=a(42866);k=a(52426);d=a(88458);g=a(5102);n=a(45929);h=a(38315);r=(function(){function m(p,q){this.atob=p;this.console=q;this.nK=1;this.EY=[];this.eS=[];}m.prototype.QLb=function(p,q,u,t,w){var v,z;void 0 === t && (t={w:16,cr:9});void 0 === w && (w=1);q=c(q);v=(0,f.tc)(g.FY[q],function(A){return (0,g.TZa)(u,g.SZa[A]);});(0,n.assert)(v);(0,n.assert)(16 === t.w && 9 === t.cr || 4 === t.w && 3 === t.cr);t=16 === t.w?"16:9":"4:3";for(var y=0,x=this.EY;y < x.length;y++){z=x[y];if(z.type === p && z.gv === t && z.wd === q && z.frameRate === v && z.trackId === w)return z;}p=this.ECb(p,t,q,v,w);this.EY.unshift(p);this.EY.length > this.nK && this.EY.splice(this.nK,this.EY.length - this.nK);return p;};m.prototype.OLb=function(p,q,u){var y;void 0 === u && (u=1);for(var t,w=0,v=this.eS;w < v.length;w++){y=v[w];"silence" === y.type && y.wd === p && y.bitrate === q && y.trackId === u && (t=y);}void 0 === t && (t=this.uCb(p,q,u),this.eS.unshift(t),this.eS.length > this.nK && this.eS.splice(this.nK,this.eS.length - this.nK));return t;};m.prototype.PLb=function(){void 0 === m.gYa && (m.gYa=new Uint8Array(Array.from({length:40},function(p,q){return ('<tt xmlns="http://www.w3.org/ns/ttml" />').charCodeAt(q);})).buffer);return m.gYa;};m.prototype.ECb=function(p,q,u,t,w){var v;v=k.igb[p][q][u][t];(0,n.assert)(v);v=(0,k.ffb)(v().ea);return l.__assign(l.__assign({},this.decode(v,w)),{type:p,gv:q,wd:u,frameRate:t,width:v.width,height:v.height,Jta:v.Jta,Kta:v.Kta});};m.prototype.uCb=function(p,q,u){var t;t=k.pTa.silence[p][q];(0,n.assert)(t);t=(0,k.efb)(t().ea);return l.__assign(l.__assign({},this.decode(t,u)),{type:"silence",wd:p,bitrate:q,channels:t.channels});};m.prototype.decode=function(p,q){var u,t,w,v;u=p.Cb.Ra?this.ala(p.Cb):this.atob(p.Cb.data);t=p.Ma.Ra?this.ala(p.Ma):this.atob(p.Ma.data);if(1 !== q){w=new DataView(u);v=new DataView(t);p.Cb.Sa.forEach(function(y){return w.setUint32(y,q);});p.Ma.Sa.forEach(function(y){return v.setUint32(y,q);});}return l.__assign(l.__assign({},p),{Cb:u,Ma:t,trackId:q});};m.prototype.ala=function(p){var q;if(p.Ra){if(void 0 === p.Za)p=(0,h.rra)(p.data);else {q=this.ala(p.Za);p=(0,h.rra)(p.data,new Uint8Array(q));}}else p=new Uint8Array(this.atob(p.data));return p.buffer.slice(p.byteOffset,p.byteOffset + p.byteLength);};return m;})();b.FNa=r;},831:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.xia=b.rhb=b.AbortController=void 0;c=a(5163);r=(function(f){function k(){var d;d=null !== f && f.apply(this,arguments) || this;d.qPa=!1;return d;}c.__extends(k,f);Object.defineProperties(k.prototype,{aborted:{get:function(){return this.qPa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{reason:{get:function(){return this.srb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{signal:{get:function(){return this;},enumerable:!1,configurable:!0}});k.prototype.abort=function(d){this.srb=new l(d);this.qPa=!0;this.emit("abort",{type:"abort"});};return k;})(a(57055).EventEmitter);b.AbortController=r;l=(function(f){function k(d){d=f.call(this,d) || this;d.name="AbortError";return d;}c.__extends(k,f);return k;})(Error);b.rhb=l;b.xia=function(f){return new Promise(function(k){f.aborted && k();f.addListener("abort",function(){return k();});});};},1386:function(r,b,a){var f;function c(k){return k.filter(function(d,g){return k.indexOf(d) === g;});}function l(k,d,g){return g?k.filter(function(n){return !d.some(function(h){return g(n,h);});}):k.filter(function(n){return -1 === d.indexOf(n);});}Object.defineProperties(b,{__esModule:{value:!0}});b.pVa=b.cTa=b.Dsa=b.zMb=b.jzb=b.flatten=b.F6a=b.Byb=b.dK=b.Gq=b.H2=b.dTa=b.tia=b.uia=b.Bm=b.wia=b.tc=void 0;f=a(5163);b.tc=function(k,d){for(var g=0;g < k.length;g++){if(d(k[g],g,k))return k[g];}};b.wia=function(k,d){for(var g=k.length - 1;0 <= g;--g){if(d(k[g],g,k))return k[g];}};b.Bm=function(k,d){var g;g=-1;return k.some(function(n,h,m){g=h;return d(n,h,m);})?g:-1;};b.uia=function(k,d){for(var g=k.length - 1;0 <= g;g--){if(d(k[g],g,k))return g;}return -1;};b.tia=c;b.dTa=function(k,d){return k.filter(function(g,n){return k.indexOf(g) === n && -1 !== d.indexOf(g);});};b.H2=function(k,d){d=k.indexOf(d);if(-1 === d)return !1;k.splice(d,1);return !0;};b.Gq=l;b.dK=function(k,d){return c(k.concat(d));};b.Byb=function(k){return function(d,g){return k(d) - k(g);};};b.F6a=function(k){return function(d,g){return k(d) < k(g)?d:g;};};b.flatten=function(k){var d;return (d=[]).concat.apply(d,f.__spreadArray([],f.__read(k),!1));};b.jzb=function(k,d){void 0 === d && (d=function(g){return g;});return k.reduce(function(g,n){n=d(n);return (void 0 === g[n]?g[n]=1:++g[n],g);},{});};b.zMb=function(k,d){return k.reduce(function(g,n){var h;h=d(n);return (void 0 === g[h]?g[h]=[n]:g[h].push(n),g);},{});};b.Dsa=function(k){return null !== k && void 0 !== k;};b.cTa=function(k){var d,n;d=[];if(Array.isArray(k))for(var g=0;g < k.length;g++){n=k[g];Array.isArray(n)?d=d.concat(n.filter(function(h){return void 0 !== h;})):void 0 !== n && d.push(n);}return d;};b.pVa=function(k,d,g){var n;n=l(k,d,g);d=l(d,k,g);k=l(k,n);return {tva:n,vtb:d,O9a:k,result:k.concat(d)};};},20837:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=b.AssertionError=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.AssertionError=l;b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},92709:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.tDa=void 0;c=a(20837);l=a(81786);f=a(7666);r=(function(){function k(d){this.qEb=d;this.uza=!1;this.hba=new f.oMa();}k.prototype.o9b=function(d,g){var h,m;function n(){var u,t,w,v,y,x;u=p.pop();t=u.node;w=u.C2;u=w.lYb;v=w.tF;w=w.state;if(!q.hba.has(t)){u=g(t,v,u,w);y=u.gba;x=u.state;u.z2 || q.hba.add(t);m(t).forEach(function(z){var A;A=z.X8b;h.hba.has(A) || (z=v + z.weight,y && p.push({node:A,C2:{tF:z,lYb:t,state:x}}));});}}h=this;m=this.qEb;(0,c.assert)(!this.uza);this.uza=!0;this.hba.clear();for(var p=new l.c0([{node:d,C2:{tF:0,state:{root:!1,complete:!0,Bab:0,Sr:0}}}],function(u,t){return u.C2.tF - t.C2.tF;}),q=this;!p.empty;){n();}this.uza=!1;};return k;})();b.tDa=r;},88047:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wB=void 0;b.wB=function(a,c){var l;a=Math.abs(a);for(c=Math.abs(c);c;){l=c;c=a % c;a=l;}return a;};},42866:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(831),b);r.__exportStar(a(20837),b);r.__exportStar(a(92709),b);r.__exportStar(a(88047),b);r.__exportStar(a(81786),b);r.__exportStar(a(70885),b);r.__exportStar(a(76556),b);r.__exportStar(a(41969),b);r.__exportStar(a(7666),b);r.__exportStar(a(48803),b);r.__exportStar(a(1386),b);},81786:function(r,b,a){var l;function c(f,k){return f < k?-1:f > k?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.c0=void 0;l=a(5163);r=(function(){function f(k,d){this.data=k || [];this.compare=d || c;if(!this.empty)for(k=(this.length >> 1) - 1;0 <= k;k--){this.hga(k);}}Object.defineProperties(f.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});f.prototype.push=function(k){this.data.push(k);this.IRa(this.length - 1);};f.prototype.pop=function(){var k,d;if(!this.empty){k=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.hga(0));return k;}};f.prototype.Lt=function(){return this.data[0];};f.prototype.map=function(k){return this.data.map(k);};f.prototype.find=function(k){return l.__read(this.data.filter(k),1)[0];};f.prototype.clear=function(){this.data=[];};f.prototype.remove=function(k){var d,g,n;d=this.data;k=d.indexOf(k);if(-1 !== k){g=d.pop();if(k < d.length){d[k]=g;n=k - 1 >> 1;d=d[n];0 <= n && 0 > this.compare(g,d)?this.IRa(k):this.hga(k);}}};f.prototype.fvb=function(){for(var k=this.data,d=1;d < k.length;d++){if(0 > this.compare(k[d],k[d - 1 >> 1]))throw Error(("Audit failed at position ").concat(d," of ").concat(k));}};f.prototype.contains=function(k){return 0 <= this.data.indexOf(k);};f.prototype.wk=function(){return this.data.concat([]);};f.prototype.IRa=function(k){for(var d=this.data,g=this.compare,n=d[k],h,m;0 < k;){h=k - 1 >> 1;m=d[h];if(0 <= g(n,m))break;d[k]=m;k=h;}d[k]=n;};f.prototype.hga=function(k){for(var d=this.data,g=this.compare,n=this.length >> 1,h=d[k],m,p,q;k < n;){m=(k << 1) + 1;q=d[m];p=m + 1;p < this.length && 0 > g(d[p],q) && (m=p,q=d[p]);if(0 <= g(q,h))break;d[k]=q;k=m;}d[k]=h;};return f;})();b.c0=r;},76556:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aea=void 0;r=(function(){function a(c,l,f,k){var d;d=this;this.properties=c;this.transform=l;this.Ts=f;this.state=k;this.Cb();c.forEach(function(g){return g.addListener(d.jta);});this.jta();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(l){return l.removeListener(c.jta);});};a.prototype.A3a=function(c){return void 0 !== c.equal;};a.prototype.Cb=function(){var c;c=this;this.jta=function(){var l,f;l=c.state;f=c.properties.map(function(k){return k.value;});c.state=c.transform(f);(c.A3a(c.state) && c.A3a(l)?c.state.equal(l):l === c.state) || c.Ts(c.state);};};return a;})();b.aea=r;},70885:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rq=b.Enb=void 0;c=a(5163);l=a(76556);f=a(41969);r=(function(){function k(d,g){this.Qa=d;this.ly=g?[g]:[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});k.prototype.addListener=function(d){-1 === this.ly.indexOf(d) && (this.ly=this.ly.slice(),this.ly.push(d));};k.prototype.removeListener=function(d){d=this.ly.indexOf(d);-1 !== d && (this.ly=this.ly.slice(),this.ly.splice(d,1));};return k;})();b.Enb=r;r=(function(k){function d(g,n){return k.call(this,g,n) || this;}c.__extends(d,k);d.Bgb=function(g,n,h){return new l.aea(g,n,h,!1);};d.z9b=function(g,n,h){return c.__awaiter(this,void 0,void 0,function(){var m,p,q;q=this;return c.__generator(this,function(u){switch(u.label){case 0:(m=void 0,p=new Promise(function(t){m=q.Bgb(g,n,t);}),u.label=1);case 1:return (u.Rj.push([1,,6,7]),h?[4,(0,f.q$a)(h,p)]:[3,3]);case 2:return [2,u.Ua()];case 3:return [4,p];case 4:return [2,u.Ua()];case 5:return [3,7];case 6:return (m.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(d.prototype,{value:{get:function(){return this.Qa;},set:function(g){this.set(g);},enumerable:!1,configurable:!0}});d.prototype.set=function(g){var n;n=this.Qa;n !== g && (this.Qa=g,this.ly.forEach(function(h){return h({oldValue:n,newValue:g});}));};return d;})(r);b.rq=r;},41969:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.q$a=b.Sz=b.jqa=void 0;c=a(5163);l=a(831);b.jqa=function(f){return "function" === typeof (null === f || void 0 === f?void 0:f.then);};r=(function(){function f(){var k;k=this;this.oRa=!1;this.promise=new Promise(function(d){k.mRa=d;});}Object.defineProperties(f.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Uva:{get:function(){return this.oRa;},enumerable:!1,configurable:!0}});f.prototype.resolve=function(k){var d;this.oRa=!0;null === (d=this.mRa) || void 0 === d?void 0:d.call(this,k);this.mRa=void 0;};return f;})();b.Sz=r;b.q$a=function(f,k){return c.__awaiter(this,void 0,void 0,function(){var d;return c.__generator(this,function(g){switch(g.label){case 0:return (d=(0,l.xia)(f),[4,Promise.race([d,k])]);case 1:return [2,g.Ua()];}});});};},7666:function(r,b){var l,f,k;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.pPa);}function c(d){return (a(d)?d:Object.defineProperties(d,{pPa:{value:{},configurable:!1,enumerable:!1}})).pPa;}Object.defineProperties(b,{__esModule:{value:!0}});b.oMa=void 0;f=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;k=Date.now() % f;r=(function(){function d(){this.L$=0;this.id=k=(k + 1) % f;}d.prototype.add=function(g){c(g)[this.id]=this.L$;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.L$;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.L$=(this.L$ + 1) % f;return this;};return d;})();b.oMa=r;},48803:function(r,b,a){var l;function c(f,k){return f && k?Math.abs(f * k / (0,l.wB)(f,k)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.L=void 0;l=a(88047);r=(function(){function f(k,d){"object" === typeof k?(this.pc=k.ja,this.jb=k.N):(this.pc=k,this.jb=d);isFinite(this.pc) || (this.jb=1);}f.compare=function(k,d){return k.Jk(d);};f.abs=function(k){return new f(Math.abs(k.pc),k.jb);};f.Na=function(k){return 0 === k?f.Ha:new f(k,1E3);};f.tya=function(k,d){return Math.floor(1E3 * k / d);};f.$6a=function(k,d){return Math.floor(k * d / 1E3);};f.max=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}return k.reduce(function(g,n){return g.greaterThan(n)?g:n;});};f.min=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}return k.reduce(function(g,n){return g.lessThan(n)?g:n;});};f.wB=function(k,d){var g;if(k.jb === d.jb)return new f((0,l.wB)(k.pc,d.pc),k.jb);g=c(k.jb,d.jb);return new f((0,l.wB)(k.pc * g / k.jb,d.pc * g / d.jb),g);};Object.defineProperties(f.prototype,{ja:{get:function(){return this.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{N:{get:function(){return this.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{G:{get:function(){return f.tya(this.pc,this.jb);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Yv:{get:function(){return 1E3 * this.pc / this.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zH:{get:function(){var k;k=this.Yv;return 0 > k?Math.ceil(k):Math.floor(k);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sh:{get:function(){return this.pc / this.jb;},enumerable:!1,configurable:!0}});f.prototype.$c=function(k){k/=this.jb;return new f(Math.floor(this.pc * k),Math.floor(this.jb * k));};f.prototype.add=function(k){var d;if(this.jb === k.jb)return new f(this.pc + k.pc,this.jb);d=c(this.jb,k.jb);return new f(this.pc * d / this.jb + k.pc * d / k.jb,d);};f.prototype.qa=function(k){var d;if(this.jb === k.jb)return new f(this.pc - k.pc,this.jb);d=c(this.jb,k.jb);return new f(this.pc * d / this.jb - k.pc * d / k.jb,d);};f.prototype.oo=function(k){return new f(this.pc * k,this.jb);};f.prototype.ih=function(k){var d;if("number" === typeof k){if(Math.floor(k) === k){d=c(this.pc,k);if(d !== this.pc)return this.$c(d / this.pc * this.jb).ih(k);}return new f(Math.floor(this.pc / k),this.jb);}if(this.jb === k.jb)return this.pc / k.pc;d=c(this.jb,k.jb);return this.pc * d / this.jb / (k.pc * d / k.jb);};f.prototype.LK=function(k){var d;if(this.jb === k.jb)return new f(Math.abs(this.pc - k.pc),this.jb);d=c(this.jb,k.jb);return new f(Math.abs(this.pc * d / this.jb - k.pc * d / k.jb),d);};f.prototype.kva=function(){return new f(this.jb,this.pc);};f.prototype.compare=function(k,d){var g;if(this.jb === d.jb)return k(this.pc,d.pc);g=c(this.jb,d.jb);return k(this.pc * g / this.jb,d.pc * g / d.jb);};f.prototype.Jk=function(k){var d;if(this.jb === k.jb)return this.ja === k.pc?0:this.pc - k.pc;d=c(this.jb,k.jb);return this.pc * d / this.jb - k.pc * d / k.jb;};f.prototype.equal=function(k){return this.compare(function(d,g){return d === g;},k);};f.prototype.Esa=function(k){return this.compare(function(d,g){return d !== g;},k);};f.prototype.lessThan=function(k){return this.compare(function(d,g){return d < g;},k);};f.prototype.greaterThan=function(k){return this.compare(function(d,g){return d > g;},k);};f.prototype.Fy=function(k){return this.compare(function(d,g){return d <= g;},k);};f.prototype.hi=function(k){return this.compare(function(d,g){return d >= g;},k);};f.prototype.isFinite=function(){return !!this.jb && isFinite(this.pc);};f.prototype.w1a=function(k){return c(this.N,k);};f.prototype.toJSON=function(){return {ticks:this.pc,timescale:this.jb};};f.prototype.toString=function(){return ("").concat(this.pc,"/").concat(this.jb);};f.prototype.mb=function(){return ("").concat(this.pc,"/").concat(this.jb," (").concat(this.Yv,"ms)");};f.Ha=new f(0,1E3);f.Ty=new f(1,1E3);f.Jp=new f(Infinity,1);f.JTb=new f(-Infinity,1);return f;})();b.L=r;},27411:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.F8a=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.F8a=function(c){var l,f,k,d;l=c.read(5);f=c.read(4);if(15 === f){k=c.read(24);f=a.indexOf(k);}else k=a[f];d=c.read(4);switch(l){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + l + " not supported.");}return {mp:l,sampleRate:k,w$:f,Yec:d,THb:1024};};},28798:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.U9a=void 0;c=a(76338);b.U9a=function(l,f,k){var d,g;d=l.read(1);if(d){g=new c.qGa(l,d,f);1 === l.read(2) && l.advance(g.MM * g.yV);}(0,c.Kua)(l,f,g,k);(0,c.Kua)(l,f,g,k);};},13865:function(r,b,a){var c,l;b.w=void 0;c=a(11909);l=a(17793);b.w=function(f,k,d,g){var n;n=new c.iZ(f);g=g && g.w$;k=(0,l.X9a)(n,{Dx:k,yH:d},g);n=n.offset;return {frame:f.subarray(0,n),Ata:n,ckc:k};};},53710:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.W9a=void 0;b.W9a=function(a,c,l){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== l.Dx && !l.yH?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},17793:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.X9a=void 0;c=a(15427);l=a(52148);b.X9a=function(f,k,d){var g,n,h;if(4095 === f.read(12)){f.advance(3);g=!!f.read(1);n=f.read(2) + 1;d=f.read(4);f.advance(8);h=f.read(13);f.advance(13 + (g?0:16));g={mp:n,w$:d,THb:h};}else f.reverse(12);(0,c.assert)(void 0 !== d);(0,l.b$a)(f,d,k);return g;};},2E3:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hFa=b.ZEa=b.YEa=b.gFa=b.fFa=b.eFa=b.dFa=b.cFa=b.bFa=b.aFa=b.$Ea=b.XEa=void 0;b.XEa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.$Ea={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.aFa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.bFa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.cFa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.dFa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.eFa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.fFa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.gFa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.YEa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.ZEa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.hFa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},34581:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.S_=void 0;c=a(2E3);l=[c.XEa,c.$Ea,c.aFa,c.bFa,c.cFa,c.dFa,c.eFa,c.fFa,c.gFa,c.YEa,c.ZEa];f=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.S_=(function(){function k(){}k.rZa=function(d,g){var n,q,u;n=g.table;g=g.width;for(var h=0,m=n[0],p=d.read(m);p !== n[h + 1];){h+=g;q=n[h];u=q - m;m=q;p<<=u;p|=d.read(u);}return h;};k.Icb=function(d){for(var g=4;d.read(1);){++g;}d.advance(g);};k.Jcb=function(d,g){for(;g--;){k.rZa(d,c.hFa);}};k.d4b=function(d,g){var n,h;n=l[g - 1];h=n.table;n=this.rZa(d,n);if(11 > g)f[g - 1] && (g=h[n + 2]) && d.advance(g);else if(11 === g || 15 < g)(n+=2,(g=h[n]) && d.advance(g),(h=h[n + 1]) && this.Icb(d),1 < h && this.Icb(d));else throw Error("Huffman: unknown spectral codebook: " + g);};return k;})();},76338:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.qGa=b.Kua=void 0;c=a(15427);l=a(34581);f=a(86707);b.Kua=function(n,h,m,p){var q,u,t;q=n.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.Dx / 20)) / Math.log(2)));n.reverse(8);n.write(8,p);m || (m=new g(n,0,h));q=m;u=2 === q.Bza?3:5;t=(1 << u) - 1;h=[];p=[];for(var w=[],v=0;v < q.MM;++v){for(var y=0,x=0;y < q.yV;){for(var z=n.read(4),A=0,B;(B=n.read(u)) === t;){A+=B;}A+=B;y+=A;h.push(z);p.push(A);++x;}w.push(x);}q=!0;for(u=0;u < h.length;++u){0 !== h[u] && (13 === h[u] && q?(n.advance(9),q=!1,l.S_.Jcb(n,p[u] - 1)):l.S_.Jcb(n,p[u]));}n.read(1) && n.advance(6 + 9 * (n.read(2) + 1));if(n.read(1))for((q=m,u=2 === q.Bza?k:d,t=0);t < q.M7a;++t){if(w=n.read(u[0]))for((v=n.read(1),y=0);y < w;++y){if((n.advance(u[1]),x=n.read(u[2])))(n.advance(1),z=n.read(1),n.advance(x * (v + 3 - z)));}}(0,c.assert)(!n.read(1));q=m.MM;u=m.yV;t=m.Odb;m=m.kba;for(v=w=0;v < q;++v){for((y=m[v],x=0);x < u;++w){if((z=h[w],A=p[w],0 === z || 13 === z || 15 === z || 14 === z))x+=A;else {B=5 <= z?2:4;for(var C=0;C < A;(++C,++x)){for(var D=y * (t[x + 1] - t[x]) / B,F=0;F < D;++F){l.S_.d4b(n,z);}}}}}};k=[1,4,3];d=[2,6,5];g=(function(){return function(n,h,m){var p;this.kba=[];this.MM=1;this.kba[0]=1;n.advance(1);this.Bza=n.read(2);n.read(1);if(2 === this.Bza){this.M7a=8;this.yV=n.read(4);for(h=0;7 > h;++h){n.read(1)?this.kba[this.MM - 1]++:(this.MM++,this.kba[this.MM - 1]=1);}this.Odb=f.WMa[m];}else {this.M7a=1;this.yV=n.read(6);if(n.read(1)){p=14 + Math.min(this.yV,40);n.read(1) && n.advance(p);h && n.read(1) && n.advance(p);}this.Odb=f.VMa[m];}};})();b.qGa=g;},52148:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.b$a=void 0;c=a(28798);l=a(53710);b.b$a=function(f,k,d){var n;for(var g;7 !== (g=f.read(3));){n=f.read(4);switch(g){case 1:(0,c.U9a)(f,k,d);break;case 6:(0,l.W9a)(f,n,d);break;default:throw Error(("Unsupported AAC element ").concat(g));}}f.lwb();};},86707:function(r,b){var a,c,l,f,k,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Inb=b.flb=b.Jnb=b.dob=b.eob=b.WMa=b.VMa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);l=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);k=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);h=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);m=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.VMa=[r,r,c,f,f,d,g,g,h,h,h,p];b.WMa=[a,a,l,k,k,k,n,n,m,m,m,q];b.eob=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.dob=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.Jnb=(function(){for(var u=new Float32Array(428),t=0;428 > t;t++){u[t]=Math.pow(2,(t - 200) / 4);}return u;})();b.flb=(function(){for(var u=new Float32Array(8191),t=4 / 3,w=0;8191 > w;w++){u[w]=Math.pow(w,t);}return u;})();b.Inb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},15427:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},11909:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iZ=void 0;r=(function(){function a(c){this.data=c;this.Kq=this.Zb=this.qd=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Zb;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.qd){if(8 === c)return this.data[this.Zb++];if(16 === c)return (c=this.view.getUint16(this.Zb),this.Zb+=2,c);if(32 === c)return (c=this.view.getUint32(this.Zb),this.Zb+=4,c);}for(;this.qd < c;){this.Kq=(this.Kq << 8) + this.data[this.Zb++];this.qd+=8;}this.qd-=c;return this.Kq >>> this.qd & (1 << c) - 1;};a.prototype.advance=function(c){var l;if(c <= this.qd)this.qd-=c;else {c-=this.qd;l=Math.floor(c / 8);this.Zb+=l;this.Kq=this.data[this.Zb++];this.qd=8 - (c - 8 * l);}};a.prototype.write=function(c,l){var f,k;l&=(1 << c) - 1;if(0 === this.qd){if(8 === c){this.data[this.Zb++]=l;return;}if(16 === c){this.view.setUint16(this.Zb,l);this.Zb+=2;return;}if(32 === c){this.view.setUint32(this.Zb,l);this.Zb+=4;return;}}if(0 < this.qd){f=Math.min(c,this.qd);k=this.data[this.Zb - 1] & (~((1 << this.qd) - 1) ^ (1 << this.qd - f) - 1);this.data[this.Zb - 1]=k ^ (c >= f?l >>> c - f:l << this.qd - f);this.qd-=f;c-=f;}for(;8 <= c;){c-=8;this.data[this.Zb++]=l >>> c & 255;}0 < c && (this.qd=8 - c,k=this.data[this.Zb] & (1 << this.qd) - 1,this.Kq=this.data[this.Zb++]=k ^ (l & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.qd && c <= 8 - this.qd?this.qd+=c:(0 !== this.qd && (c-=8 - this.qd,--this.Zb),this.Zb-=Math.floor(c / 8),this.Kq=this.data[this.Zb - 1],this.qd=c % 8);};a.prototype.lwb=function(){0 !== this.qd && (this.qd=0);};return a;})();b.iZ=r;},77151:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.ZVa=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.ZVa=function(c,l){void 0 === l && (l=0);l=~~l;for(var f=0;f < c.length;f++){l=(a[(l >> 8 ^ c[f]) & 255] ^ l << 8) & 65535;}return l;};},91459:function(r,b,a){var c,l;b.w=void 0;c=a(11909);l=a(29652);b.w=function(f,k,d){var g;g=new c.iZ(f);k=(0,l.YSa)(g,k,null === d || void 0 === d?void 0:d.FG).VHb;f=f.subarray(0,k);(0,l.hcb)(f);return {frame:f,Ata:k};};},29652:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.hcb=b.YSa=void 0;c=a(15427);l=a(77151);b.YSa=function(f,k,d){var g,n;g=f.read(16);(0,c.assert)(2935 === g);g=2 * ((f.read(16) & 2047) + 1);f.advance(13);n=f.read(5);f.reverse(5);d && (k*=-n / d);f.write(5,Math.min(31,Math.max(1,Math.floor(n + k))));return {VHb:g};};b.hcb=function(f){var k;k=(0,l.ZVa)(f.subarray(2,f.length - 2));f[f.length - 2]=k >> 8;f[f.length - 1]=k & 255;};},73644:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.YYa=void 0;c=a(11909);l=a(27411);b.YYa=function(){var n,h,m,p;for(var d=[],g=0;g < arguments.length;g++){d[g]=arguments[g];}n="string" === typeof d[0]?{wd:d[0],frame:d[1],Dx:d[2],syb:d[3],FG:d[4]}:d[0];h=n.wd;d=n.frame;g=n.Dx;m=n.syb;p=n.FG;n=n.yH;n=void 0 === n?!1:n;switch(h){case "aac":void 0 === f && (f=a(13865).w);h=6;m && (m=new c.iZ(m),h=(0,l.F8a)(m).w$);d=f(d,g,n,{w$:h}).Ata;break;case "ddp":void 0 === k && (k=a(91459).w);d=k(d,g,{FG:p}).Ata;break;default:throw Error("Unrecognized codec in fadeFrame: " + h);}return {UHb:d};};},61901:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(5163).__exportStar(a(73644),b);},16936:function(r,b){var a,c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SE=void 0;r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Z$:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Z$:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Z$:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Z$:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.SE={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":l};},82818:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.NDa=b.Hza=void 0;c=a(5163);r=(function(l){function f(){var k;k=null !== l && l.apply(this,arguments) || this;k.IF=1536;return k;}c.__extends(f,l);f.Oc=!0;return f;})(a(61671).default);b["default"]=r;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ue="ac-3";return f;})(r);b.Hza=a;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ue="ec-3";return f;})(r);b.NDa=r;},24475:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.hIb=this.M.Pc(2);this.Pvb=this.M.Pc(5);this.Qvb=this.M.Pc(3);this.ssb=this.M.Pc(3);this.M.Pc(1);this.M.Pc(5);this.M.Pc(5);return !0;};f.ue="dac3";return f;})(a(85571).af);b["default"]=r;},27235:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){this.M.Pc(1);this.M.Pc(7);this.Bbb=this.M.Pc(3);this.Abb=this.M.Pc(5);this.Cbb=this.M.Pc(1);this.h2a=this.M.Pc(1);this.Veb=this.M.Pc(1);this.W6a=this.M.Pc(1);this.RUa=this.M.Pc(1);this.SUa=this.M.Pc(1);this.QUa=this.M.Pc(2);this.M.Pc(3);(this.Jpa=this.M.Pc(1))?this.W2a=this.M.Pc(4):this.M.Pc(4);k && (k.Dec={Bbb:this.Bbb,Abb:this.Abb,Cbb:this.Cbb,h2a:this.h2a,Veb:this.Veb,W6a:this.W6a,RUa:this.RUa,SUa:this.SUa,QUa:this.QUa,Jpa:this.Jpa,W2a:this.W2a});return !0;};f.ue="av1C";return f;})(a(85571).af);b["default"]=r;},24895:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d;this.M.kd();this.qhb=this.M.kd();this.M.kd();this.M.kd();this.M.kd();this.daa=this.fha(this.M.kd() & 31);this.B9a=this.fha(this.M.kd());this.qN=this.daa.length?this.daa[0][1]:this.qhb;this.ZQa=this.M.offset;this.startOffset + this.length < this.M.offset && (100 === this.qN || 110 === this.qN || 122 === this.qN || 144 === this.qN) && (this.M.kd(),this.M.kd(),this.fha(this.M.kd()));d=this.startOffset + this.length - this.ZQa;0 < d && this.Yl(d,this.ZQa);k && k.Oia && (k.Oia.daa=this.daa,k.Oia.B9a=this.B9a,k.Oia.qN=this.qN);return !0;};f.prototype.fha=function(k){var n;for(var d=[],g=0;g < k;++g){n=this.M.Jf();d.push(this.M.T9(n));}return d;};f.ue="avcC";f.Oc=!1;return f;})(a(85571).af);b["default"]=r;},61671:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(85571);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g;g=f.prototype.parse.call(this,d);this.M.offset+=8;this.Fja=this.M.Jf();this.jwa=this.M.Jf();this.M.offset+=4;this.samplerate=this.M.Jf();this.M.offset+=2;l.K && this.M.console.trace("MP4AudioSampleEntry: channelcount: " + this.Fja + ", samplesize: " + this.jwa + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Xd)(d.Xd.Fja=this.Fja,d.Xd.jwa=this.jwa,d.Xd.samplerate=this.samplerate);return g;};k.Oc=!1;return k;})(a(44126).default);b["default"]=r;},22770:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.Ac=this.fw([{Nec:"int32"},{maxBitrate:"int32"},{b3:"int32"}]);return !0;};f.ue="btrt";f.Oc=!1;return f;})(a(85571).af);b["default"]=r;},85571:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.af=b.K=void 0;c=a(27172);b.K=!1;r=(function(){function l(f,k,d,g,n){this.Qb=f;this.type=k;this.byteOffset=d;this.byteLength=g;this.parent=n;this.Jd={};this.WG=g;}l.fy=function(f,k){var g,h;function d(m){m && m.fy && (m=m.fy(k),m.length && (g=g.concat(m)));}g=[];f.type === k && g.push(f);if(f.Jd)for(var n in f.Jd){h=f.Jd[n];Array.isArray(h) && h.forEach(d);}return g;};l.SR=function(f,k){void 0 === f.Jd[k.type] && (f.Jd[k.type]=[]);f.Jd[k.type].push(k);};l.Qm=function(f,k){return l.fy(f,k)[0];};Object.defineProperties(l.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.byteLength;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{M:{get:function(){return this.Qb;},enumerable:!1,configurable:!0}});l.prototype.vg=function(){var f;f=this.Qb.Sb();this.version=f >> 24;this.flags=f & 16777215;};l.prototype.SR=function(f){l.SR(this,f);};l.prototype.fy=function(f){return l.fy(this,f);};l.prototype.Qm=function(f){return l.Qm(this,f);};l.prototype.parse=function(){return !0;};l.prototype.rT=function(){return !0;};l.prototype.Ho=function(f){if((f=this.Jd[f]) && Array.isArray(f) && 1 === f.length)return f[0];};l.prototype.Yl=function(f,k){k=void 0 === k?this.Qb.offset:k;(0,c.assert)(k >= this.startOffset + 8 && k + f <= this.startOffset + this.WG,"Removal range [0x" + k.toString(16) + "-0x" + (k + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.WG).toString(16) + ")");this.Qb.Yl(f,k,this);};l.prototype.e$=function(f,k,d){d=void 0 === d?this.Qb.offset:d;(0,c.assert)(d >= this.startOffset + 8 && d + f <= this.startOffset + this.WG,"Removal range [0x" + d.toString(16) + "-0x" + (d + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.WG).toString(16) + ")");this.Qb.e$(f,k,d,this);};l.prototype.E$a=function(f,k,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.eRa(f,k));}return g;}return this.eRa(f,k);};l.prototype.fw=function(f){var k,d;d=this;void 0 === k && (k={});f.forEach(function(g){var n,h;if("offset" === g.type){n=g.offset;if(0 < n % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.Qb.offset+=n / 8;}else for(n in g){h=g[n];k[n]="string" === typeof h?d.E$a(h):d.E$a(h.type,h.length,h.iub);}});return k;};l.prototype.eRa=function(f,k){var d;d=this.byteLength - this.Qb.offset + this.startOffset;"undefined" === typeof k && (k=d);switch(f){case "int8":f=this.Qb.kd();break;case "int64":f=this.Qb.Yi();break;case "int32":f=this.Qb.Sb();break;case "int16":f=this.Qb.Jf();break;case "string":f=this.Qb.UZb(Math.min(k,d));break;default:throw Error("Invalid type: " + f);}return f;};l.Oc=!1;return l;})();b.af=r;},89525:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d,g,n;d=this.M.offset;g=this.M.Jf();this.TWa=g >> 3;this.TUb=g & 7;this.p5b=[];for(g=0;g <= this.TUb;g++){n={hIb:this.M.Pc(2),Pvb:this.M.Pc(5),Qvb:this.M.Pc(5),ssb:this.M.Pc(3),lhc:this.M.Pc(1),Eab:this.M.Pc(3),SUb:this.M.Pc(4)};0 < n.SUb?n.Xec=this.M.Pc(9):this.M.Pc(1);this.p5b.push(n);}k && k.XXa && (k.XXa.TWa=this.TWa,2 <= this.byteLength - (this.M.offset - d) && (this.M.Pc(7),d=this.M.Pc(1),k.XXa.xec=1 === d));return !0;};f.ue="dec3";return f;})(a(85571).af);b["default"]=r;},46079:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26678);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){this.vg();this.Yjb=l.Gca.x$a(this.M,d);return !0;};k.ue="esds";k.Oc=!1;return k;})(a(85571).af);b["default"]=r;},57199:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(27172);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g,n,h,m,p,q,u;if(null === d || void 0 === d || !d.Eg)return !0;p=null === (m=null === (h=null === (n=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === n?void 0:n.Qm("tkhd")) || void 0 === h?void 0:h.Ac) || void 0 === m?void 0:m.trackId;if("undefined" === typeof p)return !0;(0,l.assert)(d.Eg[p]);if(!d.Eg[p])return !0;this.vg();g=this.M.Sb();for(n=0;n < g;n++){h=1 === this.version?this.M.Yi():this.M.Sb();m=1 === this.version?this.M.Yi():this.M.Sb();q=this.M.Jf();u=this.M.Jf();h={bjc:h,Jhc:m,Ihc:q,Hhc:u};d.Eg[p].$Xa || (d.Eg[p].$Xa=[]);d.Eg[p].$Xa.push(h);}return !0;};k.ue="elst";k.Oc=!1;return k;})(a(85571).af);b["default"]=r;},89849:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.M.bz();this.M.bz();for(this.eka=[];this.M.offset <= this.byteOffset + this.byteLength - 4;){this.eka.push(this.M.bz());}return !0;};f.ue="ftyp";f.Oc=!1;return f;})(a(85571).af);b["default"]=r;},21501:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){this.hCb=this.M.bz();k && k.Xd && (k.Xd.q1b=this.hCb);return !0;};f.ue="frma";return f;})(a(85571).af);b["default"]=r;},36464:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(97001);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g,n,h,m,p;this.vg();this.Ac=this.fw([{xic:"int32"},{Qoa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Ac.Qoa=(0,l.lx)(this.Ac.Qoa);if(d && d.Eg){p=null === (m=null === (h=null === (n=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === n?void 0:n.Qm("tkhd")) || void 0 === h?void 0:h.Ac) || void 0 === m?void 0:m.trackId;"number" === typeof p && d.Eg[p] && (d.Eg[p].Bv=this.Ac.Qoa);}return !0;};k.ue="hdlr";k.Oc=!1;return k;})(a(85571).af);b["default"]=r;},12228:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(27172);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.rT=function(){var d;d=this.Qm("esds");if(d=d && d.Yjb.Qm(5))((0,l.assert)(this.samplerate),this.IF=d.IF * this.samplerate / d.v$);return !0;};k.ue="mp4a";k.Oc=!0;return k;})(a(61671).default);b["default"]=r;},17904:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},97291:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.vg();this.Ac=1 === this.version?this.fw([{creationTime:"int64"},{modificationTime:"int64"},{N:"int32"},{duration:"int64"}]):this.fw([{creationTime:"int32"},{modificationTime:"int32"},{N:"int32"},{duration:"int32"}]);return !0;};f.ue="mvhd";f.Oc=!1;return f;})(a(85571).af);b["default"]=r;},60841:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.vg();this.Ac=this.fw(1 === this.version?[{PHb:"int64"}]:[{PHb:"int32"}]);return !0;};f.ue="mehd";f.Oc=!1;return f;})(a(85571).af);b["default"]=r;},75706:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(26464);a=a(85571);l=r.Uda;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.vg();this.Ac=this.fw([{Jt:"int32"},{Qq:"int16"}]);return !0;};k.ue=l;k.Oc=!1;return k;})(a.af);b["default"]=a;},79798:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26464);r=a(85571);f=l.Vda;r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.parse=function(){this.vg();this.fileSize=this.M.Yi();this.N=this.M.Yi();this.duration=this.M.Yi(!1,!0);this.fVb=this.M.Yi();this.M.Yi();this.jVb=this.M.Yi();this.qUb=this.M.Sb();this.gVb=this.M.Yi();this.vHb=this.M.Sb();this.M.W9();this.$k={moof:{offset:this.fVb},sidx:{offset:this.gVb,size:this.vHb}};this.$k[l.TIa]={offset:this.jVb,size:this.qUb};this.M.offset - this.startOffset <= this.length - 24 && (this.iVb=this.M.Yi(),this.dUb=this.M.Sb(),this.hVb=this.M.Yi(),this.cUb=this.M.Sb(),this.$k[l.g0]={offset:this.iVb,size:this.dUb},this.$k[l.f0]={offset:this.hVb,size:this.cUb});return !0;};d.ue=f;d.Oc=!1;return d;})(r.af);b["default"]=r;},30855:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(26464);a=a(85571);l=r.Wda;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var d,h,m;this.vg();1 <= this.version && this.M.W9();d=this.M.Sb();this.$k={};for(var g=this.startOffset + this.length,n=0;n < d;++n){h=this.M.bz();"uuid" === h && (h=this.M.W9());m=this.M.Yi();this.$k[h]={offset:g,size:m};g+=m;}return !0;};k.ue=l;k.Oc=!1;return k;})(a.af);b["default"]=a;},60440:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){this.Ac=this.fw([{tNb:"int32"},{Y8b:"int32"}]);if(null === k || void 0 === k?0:k.Xd)(k.Xd.zgc=this.Ac.tNb,k.Xd.ekc=this.Ac.Y8b);return !0;};f.ue="pasp";f.Oc=!1;return f;})(a(85571).af);b["default"]=r;},44210:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26464);f=a(255);k=a(61671);r=a(85571);d=a(6483);a=(function(g){function n(){return null !== g && g.apply(this,arguments) || this;}c.__extends(n,g);n.prototype.parse=function(){this.vg();this.dL=this.M.Sb();return !0;};n.prototype.rT=function(h){var m;m=Object.keys(this.Jd);m.length && (m=m[0],this.Jd[m].length && (m=this.Jd[m][0],m instanceof k.default?this.za=new f.L(m.IF,m.samplerate):m instanceof d.default && (m=m.Jd[l.Uda]) && m.length && (m=m[0].Ac,1E3 !== m.Qq && 1001 !== m.Qq || 0 !== m.Jt % 1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + m.Jt + "/" + m.Qq):this.za=new f.L(m.Qq,m.Jt)),h && this.za && (h.za=this.za)));return !0;};n.prototype.hab=function(h){void 0 !== this.Jd[h] && 0 !== this.Jd[h].length && (this.Qb.pu(this.dL - 1,this.byteOffset + 12),h=this.Jd[h][0],this.Yl(h.byteLength,h.byteOffset));};n.ue="stsd";n.Oc=!0;return n;})(r.af);b["default"]=a;},44126:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(85571);l=a(85571);a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){this.M.offset+=6;this.M.Jf();l.K && this.M.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Xd)d.Xd.q1b=this.type;return !0;};return k;})(r.af);b["default"]=a;},80586:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(85571);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){this.vg();this.uwa=this.M.bz();l.K && this.M.console.trace("SchemeTypeBoxTranslator: " + this.uwa);if("cenc" === this.uwa){if((this.M.offset-=4,l.K && this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.M.offset),this.Qb.Igb("piff"),null === d || void 0 === d?0:d.Xd))d.Xd.zFb="piff";}else if(null === d || void 0 === d?0:d.Xd)d.Xd.zFb=this.uwa;this.M.Sb();return !0;};k.ue="schm";k.Oc=!1;return k;})(l.af);b["default"]=r;},85978:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(255);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.rT=function(d){var g;if(d && d.za && !d.mWb){g=this.Ho("mdia");g && (g=g.Ho("mdhd")) && g.N !== d.za.N && (d.za=new l.L(d.za).$c(g.N));}return !0;};k.ue="trak";k.Oc=!0;return k;})(a(85571).af);b["default"]=r;},85830:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d,g,n,h,m;this.vg();d=this.fw([{BO:"int32"},{hla:"int32"},{sv:"int32"},{Zx:"int32"},{Yx:"int32"}]);g=d.BO;n=d.hla;h=d.sv;m=d.Yx;d=d.Zx;this.Ac={trackId:g,sfc:n,f4:h,tfc:m,ufc:d};(null === k || void 0 === k?0:k.Eg) && k.Eg[g] && (k.Eg[g].hla=n,k.Eg[g].sv=h,k.Eg[g].Yx=m,k.Eg[g].Zx=d);this.BO=g;this.hla=n;this.sv=h;this.Zx=d;this.Yx=m;return !0;};f.ue="trex";f.Oc=!1;return f;})(a(85571).af);b["default"]=r;},20968:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d;this.vg();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{jhc:"int16"},{tec:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Ac=this.fw(d);this.Ac.Pjc=!!(this.flags & 1);this.Ac.Qjc=!!(this.flags & 2);this.Ac.Rjc=!!(this.flags & 4);this.Ac.Sjc=!!(this.flags & 8);if(null === k || void 0 === k?0:k.Xd)(k.Xd.width=this.Ac.width / 65536,k.Xd.height=this.Ac.height / 65536);k && k.Eg && (k.Eg[this.Ac.trackId]={});return !0;};f.ue="tkhd";f.Oc=!1;return f;})(a(85571).af);b["default"]=r;},58853:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.qOa=void 0;c=a(5163);l=a(61901);f=a(27172);k=a(16936);r=(function(d){function g(n,h,m,p,q){n=d.call(this,n,h,m,p,q) || this;n.cT=!1;return n;}c.__extends(g,d);Object.defineProperties(g.prototype,{SWa:{get:function(){return !!(this.flags & 1);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{h5:{get:function(){return !!(this.flags & 4);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{s$:{get:function(){return !!(this.flags & 256);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{u$:{get:function(){return !!(this.flags & 512);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{iwa:{get:function(){return !!(this.flags & 1024);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{hwa:{get:function(){return !!(this.flags & 2048);},enumerable:!1,configurable:!0}});g.prototype.parse=function(n){var h,m,p;this.vg();this.Xia=this.M.offset;this.sd=this.M.Sb();this.Im=this.SWa?this.M.V9():0;this.xHb=this.h5?this.M.Sb():void 0;this.gwa=(this.s$?4:0) + (this.u$?4:0) + (this.iwa?4:0) + (this.hwa?4:0);this.oL=this.M.offset;(0,f.assert)(this.SWa,"Expected data offset to be present in Track Run");(0,f.assert)(this.length - (this.M.offset - this.startOffset) === this.sd * this.gwa,"Expected remaining data in box to be sample information");if(n && n.Ma){n.Ma.Im=this.Im;n.Ma.sd=this.sd;this.Lj=[];p=null === (m=null === (h=this.parent) || void 0 === h?void 0:h.Qm("tfhd")) || void 0 === m?void 0:m.BO;for(h=0;h < this.sd;h++){m={};this.s$?m.r$=this.M.Sb():n.Ma.sv?m.r$=n.Ma.sv:p && n.Eg && n.Eg[p] && (m.r$=n.Eg[p].sv);this.u$?m.BH=this.M.Sb():n.Ma?m.BH=n.Ma.Zx:p && n.Eg && n.Eg[p] && (m.BH=n.Eg[p].Zx);this.iwa?m.t$=this.M.Sb():n.Ma?m.t$=n.Ma.Yx:p && n.Eg && n.Eg[p] && (m.t$=n.Eg[p].Yx);this.hwa && (m.Ric=0 === this.version?this.M.Sb():this.M.V9());0 === h && this.h5 && (m.t$=this.xHb);this.Lj.push(m);}n.Ma.Lj=this.Lj;if(n.Ma.AH)for(((0,f.assert)(n.Ma.AH.length === n.Ma.Lj.length,("num fragment samples: ").concat(n.Ma.Lj.length,", ") + ("num samples in auxiliary info: ").concat(n.Ma.AH.length)),p=0);p < n.Ma.Lj.length;p++){n.Ma.Lj[p].eda=n.Ma.AH[p].eda;n.Ma.Lj[p].Sxa=n.Ma.AH[p].Sxa;}}return !0;};g.prototype.R1=function(n,h,m){var p,q,u;p=this.s$?this.M.Sb():n.sv;q=this.u$?this.M.Sb():n.Zx;n=this.iwa?this.M.Sb():n.Yx;u=this.hwa?0 === this.version?this.M.Sb():this.M.V9():0;return {s1b:u,t$:n,BH:q,r$:p,zic:(m || 0) + u - (void 0 !== h?h:u)};};g.prototype.Ia=function(n,h,m,p,q,u,t){var w,v,y,x;(0,f.assert)(void 0 !== this.Im);(0,f.assert)(void 0 !== this.oL);(0,f.assert)(void 0 !== this.Xia);(0,f.assert)(void 0 !== this.sd);(0,f.assert)(void 0 !== n.Jq);w=0;v=0;this.Qb.offset=this.oL;for(p=0;p < q;++p){y=this.R1(h,x,v);if(0 === p)x=y.s1b;w+=y.BH;v+=y.r$;}p=q;q=this.M.offset;y=this.R1(h,x,v);this.vva=t;this.aO=p;this.Lcb=v;if(t){if((this.AN=this.Im + w,this.bq=0,p === this.sd))return !0;}else if((this.AN=this.Im,this.bq=w,0 === p))return !0;if(0 === p || p === this.sd)return !1;this.cT=!0;if(t){this.bq+=y.BH;for(t=p + 1;t < this.sd;++t){y=this.R1(h,x,v);this.bq+=y.BH;}this.Qb.offset=this.Xia;this.sd=p;this.Qb.pu(this.sd);this.Qb.Eza(u);this.h5 && (this.M.offset+=4);this.Yl(this.length - (q - this.startOffset),q);}else (h=q - this.oL,this.oL=q,this.Qb.offset=this.Xia,this.sd-=p,this.Qb.pu(this.sd),this.Im+=w,this.Qb.Eza(u,this.Im),this.h5 && (this.M.offset+=4),this.Yl(h,this.Qb.offset));m.Yl(this.bq,n.Jq + this.AN);return !0;};g.prototype.NTb=function(n,h,m,p,q,u,t,w){var v,x,z,A,B;void 0 === t && (t=!1);(0,f.assert)(void 0 !== this.Im);(0,f.assert)(void 0 !== this.oL);(0,f.assert)(void 0 !== this.sd);(0,f.assert)(void 0 !== this.gwa);(0,f.assert)(void 0 !== n.Jq);for(var y=p.length;y < this.sd;++y){p[y]=p[y - 1];}p.some(function(C){return 0 >= C;}) && (x=null === (v=this.Mpb(q,u)) || void 0 === v?void 0:v.Z$);this.M.offset=this.oL;n=n.Jq + this.Im;q=-1 !== q.indexOf("heaac")?"aac":"ddp";u=new Uint8Array(this.M.view.buffer,this.M.view.byteOffset,this.M.view.byteLength);for(y=0;y < this.sd;++y){v=this.R1(h).BH;if(-Infinity === p[y]){if(x && this.u$){m.e$(v,x,n);z=this.gwa - (this.s$?4:0);this.Qb.offset-=z;this.Qb.pu(x.byteLength);this.Qb.offset+=z - 4;}}else if(0 > p[y])try{A=u.subarray(n,n + v);B=(0,l.YYa)({wd:q,frame:A,Dx:p[y],yH:t,FG:w}).UHb;B !== v && this.M.console.error(("TrackRunBoxEditor: parse frame size error ").concat(B," should be ").concat(v));}catch(C){this.M.console.error(("TrackRunBoxEditor: fadeFrame error: ").concat(C.message," ").concat(C.stack));}n+=v;}};g.prototype.Mpb=function(n,h){if("string" === typeof h)return ((0,f.assert)("reset" !== h && "standard" !== h),k.SE[h]);if(void 0 !== n)return h?k.SE.reset[n] || k.SE.standard[n]:k.SE.standard[n];};g.ue="trun";g.Oc=!1;return g;})(a(85571).af);b.qOa=r;},6483:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Mza=b.jFa=b.yFa=b.Sza=b.Rza=b.Qza=b.Pza=void 0;c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){l.prototype.parse.call(this,k);this.Ac=this.fw([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{Ogc:"int32"},{fkc:"int32"},{offset:32,type:"offset"},{jgc:"int16"},{ffc:{type:"int8",iub:32}},{depth:"int16"},{offset:16,type:"offset"}]);if(null === k || void 0 === k?0:k.Xd)(k.Xd.width=this.Ac.width,k.Xd.height=this.Ac.height);return !0;};f.Oc=!0;return f;})(a(44126).default);b["default"]=r;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ue="avc1";return f;})(r);b.Pza=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ue="avc2";return f;})(r);b.Qza=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ue="avc3";return f;})(r);b.Rza=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ue="avc4";return f;})(r);b.Sza=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ue="hvc1";return f;})(r);b.yFa=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ue="hev1";return f;})(r);b.jFa=a;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ue="av01";return f;})(r);b.Mza=r;},91418:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jZ=void 0;c=a(5163);l=a(85571);f=a(97001);r=(function(k){function d(g,n,h,m,p){h=k.call(this,h,m,p) || this;h.Kvb=g;h.hO=n;h.Jd={};return h;}c.__extends(d,k);d.prototype.parse=function(g){var n,h,m,p,q,u;this.offset=0;n=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){h=this.offset;m=this.Sb();if(0 === m)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=(0,f.lx)(this.Sb());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.W9();}if(0 === n.length && this.hO.QZa(p,h,m))break;if(h + m > this.view.byteLength)break;q=this.Kvb[p];u=void 0;if(q){if((u=new q(this,p,h,m,n[0]),(n[0] || this).SR(u),u.parse(g)))this.config.Ota && q.Oc?n.unshift(u):this.offset=h + m;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=h + m;for(;n.length && this.offset > n[0].byteOffset + n[0].WG - 8;){u=n.shift();if(!u.rT(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.WG;}if(0 === n.length && this.hO.HXa(p,h,m,u))break;}return !this.hO.done && (g=this.hO.endOffset?this.hO.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,g7a:g}:{done:!0,offset:Math.min(this.hO.endOffset || Infinity,this.offset)};};d.prototype.SR=function(g){l.af.SR(this,g);};return d;})(a(96785).aPa);b.jZ=r;},51170:function(r){var c,l;function b(){var f,k;if(DataView.prototype && DataView.prototype.iU && !l){try{f=new ArrayBuffer(4);k=new DataView(f);k.ML(0,4,1);}catch(d){return;}try{f=new ArrayBuffer(4);k=new DataView(f);k.ML(1,2,2);}catch(d){DataView.prototype.ML=a(DataView.prototype.ML,DataView.prototype.getUint8,Uint8Array);DataView.prototype.h6=a(DataView.prototype.h6,DataView.prototype.getUint16,Uint16Array);DataView.prototype.iU=a(DataView.prototype.iU,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Pna=a(DataView.prototype.Pna,DataView.prototype.getInt8,Int8Array);DataView.prototype.Nna=a(DataView.prototype.Nna,DataView.prototype.getInt16,Int16Array);DataView.prototype.Ona=a(DataView.prototype.Ona,DataView.prototype.getInt32,Int32Array);}c.lMb=function(d,g,n,h,m){return n?d.ML(g,n,h || 1,m):new Uint8Array(0);};c.jMb=function(d,g,n,h,m){return n?d.h6(g,n,h || 2,m):new Uint16Array(0);};c.kMb=function(d,g,n,h,m){return n?d.iU(g,n,h || 4,m):new Uint32Array(0);};c.tgc=function(d,g,n,h,m){return n?d.Pna(g,n,h || 1,m):new Int8Array(0);};c.rgc=function(d,g,n,h,m){return n?d.Nna(g,n,h || 2,m):new Int16Array(0);};c.sgc=function(d,g,n,h,m){return n?d.Ona(g,n,h || 4,m):new Int32Array(0);};l=!0;}}function a(f,k,d){return function(g,n,h,m){var p;h=h || d.BYTES_PER_ELEMENT;if(g + n * h > this.byteLength){p=new d(n);p.set(f.call(this,g,n - 1,h,m));p[n - 1]=k.call(this,g + (n - 1 * h),m);return p;}return f.call(this,g,n,h,m);};}c={ML:function(f,k,d,g,n){var h;h=new Uint8Array(d);g=g || 1;for(var m=0;m < d;(++m,k+=g)){h[m]=f.getUint8(k,n);}return h;},h6:function(f,k,d,g,n){var h;h=new Uint16Array(d);g=g || 2;for(var m=0;m < d;(++m,k+=g)){h[m]=f.getUint16(k,n);}return h;},iU:function(f,k,d,g,n){var h;h=new Uint32Array(d);g=g || 4;for(var m=0;m < d;(++m,k+=g)){h[m]=f.getUint32(k,n);}return h;},Pna:function(f,k,d,g,n){var h;h=new Int8Array(d);g=g || 1;for(var m=0;m < d;(++m,k+=g)){h[m]=f.getInt8(k,n);}return h;},Nna:function(f,k,d,g,n){var h;h=new Int16Array(d);g=g || 2;for(var m=0;m < d;(++m,k+=g)){h[m]=f.getInt16(k,n);}return h;},Ona:function(f,k,d,g,n){var h;h=new Int32Array(d);g=g || 4;for(var m=0;m < d;(++m,k+=g)){h[m]=f.getInt32(k,n);}return h;},Zfc:b};l=!1;c.tJb=function(){return l;};b();r.exports=c;},48609:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vca=void 0;c=a(5163);l=a(85571);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g;this.Q8=this.M.kd();g=this.M.kd();this.Mxa=g >>> 2;this.Uya=g >>> 1 & 1;this.cja=256 * this.M.Jf() + this.M.kd();this.maxBitrate=this.M.Sb();this.b3=this.M.Sb();l.K && this.M.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.Q8.toString(16) + ", streamType=" + this.Mxa + ", upStream=" + this.Uya + ", bufferSizeDB=" + this.cja + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.b3);if(null === d || void 0 === d?0:d.Qi)(d.Qi.Q8=this.Q8,d.Qi.Mxa=this.Mxa,d.Qi.Uya=this.Uya,d.Qi.cja=this.cja,d.Qi.maxBitrate=this.maxBitrate,d.Qi.b3=this.b3);this.dRa(d);return !0;};k.tag=4;return k;})(a(4420).NZ);b.vca=r;},91737:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fDa=void 0;c=a(5163);l=a(85571);r=a(4420);f=a(26678);a=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.D$a=function(){var g;g=this.M.Pc(4);return 15 !== g?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][g]:this.M.Pc(24);};d.prototype.parse=function(g,n){if(this.aPb(n) && 64 === n.Q8){if(null === g || void 0 === g?0:g.Qi){n=this.M.L_a(this.length);for(var h=new ArrayBuffer(this.length),m=new Uint8Array(h),p=0;p < this.length;p++){m[p]=n.getUint8(p);}g.Qi.rfc=h;}this.mp=this.v$a();this.v$=this.D$a();this.Eja=this.M.Pc(4);this.mwa=this.oT=5 === this.mp || 29 === this.mp?5:-1;this.Sua=29 === this.mp?1:-1;0 < this.oT && (this.qma=this.D$a(),this.mp=this.v$a(),22 === this.mp && (this.pma=this.M.Pc(4)));switch(this.mp){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.DT=this.M.Pc(1),this.zka=(this.kDb=this.M.Pc(1))?this.M.Pc(14):void 0,this.M.Pc(1),this.IF=3 === this.mp?256:23 === this.mp?this.DT?480:512:this.DT?960:1024);}l.K && this.M.console.trace("AudioSpecificConfig: audioObjectType=" + this.mp + ", samplingFrequency=" + this.v$ + ", channelConfiguration=" + this.Eja + ", extensionAudioObjectType=" + this.oT + ", sbrPresentFlag=" + this.mwa + ", psPresentFlag=" + this.Sua + ", extensionSamplingFrequency=" + this.qma + ", extensionChannelConfiguration=" + this.pma + ", frameLengthFlag=" + this.DT + ", coreCoderDelay=" + this.zka + ", frameLength=" + this.IF);if(null === g || void 0 === g?0:g.Qi)(g.Qi.mp=this.mp,g.Qi.v$=this.v$,g.Qi.Eja=this.Eja,g.Qi.oT=this.oT,g.Qi.mwa=this.mwa,g.Qi.Sua=this.Sua,g.Qi.qma=this.qma,g.Qi.pma=this.pma,g.Qi.DT=this.DT,g.Qi.zka=this.zka,g.Qi.IF=this.IF);}this.skip();return !0;};d.prototype.v$a=function(){var g;g=this.M.Pc(5);31 === g && (g=32 + this.M.Pc(6));return g;};d.prototype.aPb=function(g){return g.tag === f.vca.tag;};d.tag=5;return d;})(r.NZ);b.fDa=a;},4420:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.NZ=void 0;c=a(5163);l=a(26678);r=(function(){function f(k,d,g){this.tag=k;this.view=d;this.M=g;this.startOffset=g.offset;}f.x$a=function(k,d,g){var n,h;n=k.kd();h=k.WZb();k=new (l.qF[n] || f)(n,k.L_a(h),k);k.parse(d,g);return k;};Object.defineProperties(f.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!1,configurable:!0}});f.prototype.parse=function(){this.M.offset=this.startOffset + this.length;this.M.qd=0;return !0;};f.prototype.nZa=function(k){var d,n;d=[];this.tag === k && d.push(this);if(this.qF)for(var g=0;g < this.qF.length;g++){n=this.qF[g];d=c.__spreadArray(c.__spreadArray([],d,!0),n.nZa(k),!0);}return d;};f.prototype.Qm=function(k){for(k=this.nZa(k);0 < k.length;){return k[0];}};f.prototype.dRa=function(k){for(this.qF=[];this.M.offset < this.startOffset + this.length;){this.qF.push(f.x$a(this.M,k,this));}};return f;})();b.NZ=r;r.prototype.skip=r.prototype.parse;},26678:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qF=void 0;r=a(5163);r.__exportStar(a(4420),b);r.__exportStar(a(99128),b);r.__exportStar(a(48609),b);r.__exportStar(a(91737),b);r=a(48609);c=a(91737);a=a(99128);b.qF={3:a.Gca,4:r.vca,5:c.fDa};},99128:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Gca=void 0;c=a(5163);l=a(85571);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g;this.Zjb=this.M.Jf();g=this.M.kd();this.ndb=!!(g & 128);this.FOa=!!(g & 64);this.mJa=!!(g & 32);this.W4b=g & 31;this.lDb=this.ndb?this.M.Jf():void 0;this.FOa && this.M.T9(this.M.kd());this.hmb=this.mJa?this.M.Jf():void 0;l.K && this.M.console.trace("ESDescriptor: ES_ID=" + this.Zjb + ", streamDependenceFlag=" + this.ndb + ", URL_Flag=" + this.FOa + ", OCRstreamFlag=" + this.mJa + ", streamPriority=" + this.W4b + ", dependsOn_ES_ID=" + this.lDb + ", OCR_ES_Id=" + this.hmb);this.dRa(d);return !0;};k.tag=3;return k;})(a(4420).NZ);b.Gca=r;},36418:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.u=b.SE=b.P0=b.zfa=b.wjb=b.lx=b.$I=b.IP=b.eC=b.ns=b.Ww=b.qq=void 0;r=a(52297);c=a(51170);b.wjb=c;c=a(11174);b.zfa=c;c=a(16936);b.SE=c;b.P0=r.GM.Jd.sidx;l=a(56602);Object.defineProperties(b,{qq:{enumerable:!0,get:function(){return l.qq;}}});f=a(46788);Object.defineProperties(b,{Ww:{enumerable:!0,get:function(){return f.Ww;}}});k=a(70190);Object.defineProperties(b,{ns:{enumerable:!0,get:function(){return k.ns;}}});Object.defineProperties(b,{eC:{enumerable:!0,get:function(){return k.eC;}}});d=a(49478);Object.defineProperties(b,{IP:{enumerable:!0,get:function(){return d.IP;}}});g=a(9080);Object.defineProperties(b,{$I:{enumerable:!0,get:function(){return g.$I;}}});n=a(97001);Object.defineProperties(b,{lx:{enumerable:!0,get:function(){return n.lx;}}});h=a(23378);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return h.u;}}});},49478:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.IP=void 0;c=a(5163);r=a(46788);l=a(57821);a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.Ia=function(d){var g,n,h,m;g=this;if(!this.parse().done)return !1;n=this.Jd.moov;if(!n || 0 === n.length)return !1;h=n[0].Qm("tenc");if(!h)return !1;m=new Uint8Array(h.eo);d.forEach(function(p){for(var q=p.from,u=!0,t=0;t < q.length;t++){if(m[t] !== q[t]){u=!1;break;}}u && g.hf.e$(p.from.length,p.to,h.vqa);});return (0,l.concat)(this.hf.Ia());};return k;})(r.Ww);b.IP=a;},23378:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.u=void 0;c=a(60328);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});},52297:function(r,b,a){var F,G,E,I,M,L,K,O,H,J,N,R,T,ka,sa,ia,wa,Aa,La,Ya,ab,aa,oa,Ga,Sa,Q,da,P,Y,ta,Ha,Wa,$a,fb,sb,Jb;function c(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function l(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function f(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function k(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);this.oxa=Ua.config.oxa;this.cf=this.sizes=void 0;}function d(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function g(){for(var Ua=new DataView(this),bb="",kb,rb=0;rb < this.byteLength;rb++){kb=Ua.getUint8(rb);bb+=("00" + kb.toString(16)).slice(-2);}return bb;}function n(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function h(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function m(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function p(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function q(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function u(Ua){function bb(kb,rb,qb,yb,Ab){I.call(this,kb,rb,qb,yb,Ab);this.kUb=Ua;}bb.Oc=!1;bb.prototype=new I();bb.prototype.constructor=bb;Object.defineProperties(bb.prototype,{XCa:{get:function(){return this.kUb;}}});bb.prototype.parse=function(){this.M.offset=this.startOffset + 4;this.Qb.Igb(this.XCa);this.type=this.XCa;return !0;};return bb;}function t(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function w(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function v(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function y(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function x(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function z(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function A(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function B(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function C(Ua,bb,kb,rb,qb){I.call(this,Ua,bb,kb,rb,qb);}function D(Ua,bb){Ua.forEach(function(kb){bb[kb.ue]=kb;});}F=a(27172).assert;b=a(26464);G=a(255).L;E=a(11174);a(51170);a(97001);a(97001);a(97001);I=a(85571).af;M=a(97291)["default"];L=a(85978)["default"];K=a(20968)["default"];O=a(60841)["default"];H=a(60440)["default"];J=a(22770)["default"];N=a(89849)["default"];R=a(36464)["default"];T=a(44210)["default"];a(44126);a(61671);ka=a(82818).Hza;sa=a(82818).NDa;ia=a(24475)["default"];wa=a(89525)["default"];Aa=a(6483)["default"];La=a(6483).Pza;Ya=a(6483).Qza;ab=a(6483).Rza;aa=a(6483).Sza;oa=a(80586)["default"];Ga=a(24895)["default"];Sa=a(27235)["default"];Q=a(6483).yFa;da=a(6483).jFa;P=a(6483).Mza;Y=a(12228)["default"];ta=a(46079)["default"];Ha=a(75706)["default"];Wa=a(79798)["default"];$a=a(30855)["default"];a(4420);a(48609);a(91737);a(99128);fb=a(85830)["default"];sb=a(58853).qOa;Jb=a(21501)["default"];a=a(57199)["default"];c.Oc=!0;c.prototype=new I();c.prototype.constructor=c;l.Oc=!0;l.prototype=new I();l.prototype.constructor=l;f.Oc=!1;f.prototype=new I();f.prototype.constructor=f;f.prototype.parse=function(Ua){var bb;this.vg();1 === this.version?(this.M.Yi(),this.M.Yi(),this.N=this.M.Sb(),this.duration=this.M.Yi()):(this.M.Sb(),this.M.Sb(),this.N=this.M.Sb(),this.duration=this.M.Sb());bb=this.M.Jf() & 32767;this.language=String.fromCharCode(96 + (bb >>> 10),96 + (bb >>> 5 & 31),96 + (bb & 31));Ua && Ua.Xd && (Ua.Xd.N=this.N,Ua.Xd.duration=this.duration);return !0;};k.Oc=!1;k.prototype=new I();k.prototype.constructor=k;k.prototype.brb=function(){this.vg();this.M.Sb();this.N=this.M.Sb();0 === this.version?(this.UXa=this.M.Sb(),this.EZa=this.M.Sb()):(this.UXa=this.M.Yi(),this.EZa=this.M.Yi());this.Eab=this.M.Jf();this.T$a=this.M.Jf();};k.prototype.bpb=function(Ua,bb){var kb,rb,qb;kb=this.N;Ua=Ua && Ua.N || kb;rb=Ua / kb;kb=this.M.S9(bb,12,!1);qb=1 === rb?this.M.S9(bb,12,!1):E.from(Uint32Array,{length:bb},function(){var yb;yb=Math.round(this.M.Sb() * rb);this.M.offset+=8;return yb;},this);this.Xrb(bb,qb,kb,Ua);};k.prototype.Xrb=function(Ua,bb,kb,rb){if(this.oxa){rb=this.oxa * rb / 1E3;for(var qb=0,yb=1;yb < Ua;yb++){Math.abs(bb[qb] - rb) > Math.abs(bb[qb] + bb[yb] - rb)?(bb[qb]+=bb[yb],kb[qb]+=kb[yb]):(++qb,qb !== yb && (bb[qb]=bb[yb],kb[qb]=kb[yb]));}++qb;bb=new Uint32Array(bb.buffer.slice(0,4 * qb));kb=new Uint32Array(kb.buffer.slice(0,4 * qb));}this.sizes=kb;this.cf=bb;};k.prototype.parse=function(Ua){var bb,kb,rb,qb;this.brb();this.za=Ua.za;bb=this.N;kb=this.za && this.za.N || bb;rb=this.T$a;qb=this.startOffset + this.length + this.EZa;bb=new G(this.UXa,bb).$c(kb).ja;this.Ja={N:kb,Or:bb,offset:qb};this.bpb(this.za,rb);this.Ja.cf=this.cf;this.Ja.sizes=this.sizes;Ua.sk=this;return !0;};d.Oc=!1;d.prototype=new I();d.prototype.constructor=d;d.prototype.parse=function(){var Ua;this.zw=[];this.oXb=[];Ua=(this.length - 11) / 2;this.M.kd();this.M.kd();this.M.kd();for(var bb=0;bb < Ua;bb++){this.zw.push(this.M.kd());this.oXb.push(this.M.kd());}return !0;};n.Oc=!1;n.prototype=new I();n.prototype.constructor=n;n.prototype.parse=function(Ua){var bb;this.vg();this.M.offset+=1;if(0 == this.version)this.M.offset+=1;else {bb=this.M.kd();this.UCb=bb >> 4;this.$Cb=bb & 15;Ua && Ua.Xd && (Ua.Xd.vfc=this.UCb,Ua.Xd.yfc=this.$Cb);}this.jXa=this.M.kd();this.iXa=this.M.kd();this.vqa=this.M.offset;this.eo=this.M.U9(16);this.eo.toString=g;Ua && Ua.Xd && (Ua.Xd.wfc=this.jXa,Ua.Xd.WCb=this.iXa,Ua.Xd.xfc=this.eo);1 == this.jXa && 0 == this.iXa && (this.TCb=this.M.kd(),this.SCb=this.M.U9(this.TCb),Ua && Ua.Xd && (Ua.Xd.VCb=this.SCb));return !0;};h.Oc=!1;h.prototype=new I();h.prototype.constructor=h;h.prototype.parse=function(){this.vg();this.Ap=this.M.Jf();this.VSb=this.M.S9(this.Ap,void 0,!0);return !0;};m.Oc=!1;m.prototype=new I();m.prototype.constructor=m;m.prototype.parse=function(Ua){var bb,kb,rb,qb,yb,Ab;bb=Ua.sk;F(bb);Ua=Ua.za;kb=bb.N;bb=bb.T$a;F(Ua);F(kb);F(bb);this.vg();F(2 > this.version);this.Ap=this.M.Jf();this.iN=new Uint16Array(bb + 1);rb=Ua.w1a(kb);qb=rb / kb;yb=Ua.$c(rb).ja;if(0 === this.version)for((this.PN=new Uint16Array(),this.vi=new Uint32Array(),Ua=kb=0);Ua <= bb;++Ua){if((this.iN[Ua]=kb,Ua < this.Ap)){Ab=this.M.kd();if(0 !== Ab)for(rb=0;rb < Ab;(++rb,++kb)){this.PN[kb]=Math.floor((this.M.Sb() + 1) * qb) / yb;this.vi[kb]=this.M.Sb();}}}else if(1 === this.version)for((rb=this.M.TZb(this.Ap),this.M.offset+=4,this.vi=this.M.S9(this.Ap,10,!1),this.M.offset-=8,this.PN=E.from(Uint16Array,{length:this.Ap},function(){var Lb;Lb=Math.floor((this.M.Sb() + 1) * qb) / yb;this.M.offset+=6;return Lb;},this),kb=Ua=0);Ua <= bb;++Ua){for(;kb < rb.length && rb[kb] < Ua;){++kb;}this.iN[Ua]=kb;}this.sj={iN:this.iN,PN:this.PN,vi:this.vi};return !0;};p.Oc=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Oc=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.rT=function(){var Ua;Ua=this.Ho("tfhd");Ua && (this.Jq=Ua.GTa?Ua.Jq:this.parent.startOffset);return !0;};t.Oc=!1;t.prototype=new I();t.prototype.constructor=t;t.prototype.parse=function(){var Ua,Xb;Ua=this.M.offset;this.vg();if(1 === this.version){this.M.offset+=2;for(var bb=this.M.offset,kb=this.M.kd(),rb=this.M.kd(),qb=this.M.kd(),yb=this.M.kd(),Ab=this.M.Jf(),Lb=[],Sb=0;Sb < Ab;++Sb){Lb=this.M.kd();}Sb=(kb & 240) >>> 4;Xb=(kb & 14) >>> 1;kb&=1;qb=16 === qb?1:0;rb != yb && this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + rb + " and matrixCoefficients " + yb + " should be the same value!");yb=2;switch(rb){case 1:yb=2;break;case 6:yb=1;break;case 9:yb=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries " + rb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Qb.lba(this.version,Ua);this.Qb.lba(Sb << 4 | yb,bb++);this.Qb.lba(Xb << 4 | qb << 1 | kb,bb++);Ab+=2;Lb.push(0,0);this.Qb.L9b(Ab);bb+=2;Lb.forEach(function(Ib){this.Qb.lba(Ib,bb++);});}return !0;};w.Oc=!1;w.prototype=new I();w.prototype.constructor=w;w.ue="tfhd";Object.defineProperties(w.prototype,{GTa:{get:function(){return this.flags & 1;}},t1b:{get:function(){return this.flags & 2;}},XCb:{get:function(){return this.flags & 8;}},ZCb:{get:function(){return this.flags & 16;}},kXa:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(Ua){this.vg();this.BO=this.M.Sb();this.Jq=this.GTa?this.M.Yi():void 0;this.cbb=this.t1b?this.M.Sb():void 0;this.sv=this.XCb?this.M.Sb():void 0;this.Zx=this.ZCb?this.M.Sb():void 0;this.Yx=this.kXa?this.M.Sb():void 0;Ua && Ua.Ma && (Ua.Ma.BO=this.BO,Ua.Ma.Jq=this.Jq,Ua.Ma.cbb=this.cbb,Ua.Ma.sv=this.sv,Ua.Ma.Zx=this.Zx,Ua.Ma.Yx=this.kXa?this.Yx:void 0);return !0;};v.Oc=!1;v.prototype=new I();v.prototype.constructor=v;v.prototype.parse=function(Ua){this.vg();this.WE=1 === this.version?this.M.Yi():this.M.Sb();Ua && Ua.Ma && (Ua.Ma.WE=this.WE);return !0;};v.prototype.Ia=function(Ua){var bb;bb=this.startOffset + 12;this.WE+=Ua;1 === this.version?this.Qb.M9b(this.WE,bb):this.Qb.pu(this.WE,bb);};y.Oc=!1;y.prototype=Object.create(I.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{UE:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Ua){this.vg();this.UE && this.M.bz();this.UE && this.M.Sb();this.YCb=this.M.kd();this.sd=this.M.Sb();this.gOb=this.M.T9(this.sd);Ua && Ua.Ma && (Ua.Ma.u1b=this.gOb);return !0;};y.prototype.Ia=function(Ua,bb){if(Ua && 0 === this.YCb){Ua=bb?this.sd - Ua:Ua;this.Qb.offset=this.startOffset + 13 + (this.UE?8:0);this.sd-=Ua;this.Qb.pu(this.sd);this.dwa=0;if(bb)this.Qb.offset+=this.sd;else {for(bb=0;bb < Ua;++bb){this.dwa+=this.Qb.kd();}this.Qb.offset-=Ua;}this.Yl(Ua,this.M.offset);}return !0;};x.Oc=!1;x.prototype=Object.create(I.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{UE:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Ua){var bb,kb,Sb,Xb;this.vg();this.UE && this.M.bz();this.UE && this.M.Sb();this.Ap=this.M.Sb();F(1 === this.Ap,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Im=0 === this.version?this.M.V9():this.M.YZb();this.M.offset=this.Im;if(Ua && Ua.Ma && Ua.Xd){bb=Ua.Xd.WCb;kb=Ua.Ma.u1b;F(0 < bb || void 0 !== Ua.Xd.VCb,"Expected per sample or constant IV");F(0 < (kb || []).length,"Expected saix box parsing to find sample info sizes");Ua.Ma.AH=[];for(var rb=0;rb < kb.length;rb++){for(var qb=bb?this.M.U9(bb):void 0,yb=[],Ab=this.M.Jf(),Lb=0;Lb < Ab;Lb++){Sb=this.M.Jf();Xb=this.M.Sb();yb.push({nwb:Sb,owb:Xb});}Ua.Ma.AH.push({Sxa:yb,eda:qb});}}return !0;};x.prototype.Ia=function(Ua,bb){this.Im+=Ua;this.Qb.offset=this.startOffset + 16 + (this.UE?8:0) + (0 === this.version?0:4);this.Qb.Eza(bb,this.Im);return !0;};z.Oc=!1;z.prototype=Object.create(I.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{z8a:{get:function(){return this.flags & 1;}},Wfb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Ua){var bb,Ab,Lb;this.vg();bb=0;this.z8a && (bb=this.aQb=this.M.Sb() & 255,this.M.T9(16));if(Ua && Ua.Ma){if(Ua.Ma.AH)return !0;Ua.Ma.Lj || (Ua.Ma.Lj=[]);}if(0 !== bb && 8 !== bb && 16 !== bb)return !0;this.sd=this.M.Sb();if(Ua && Ua.Ma)for(var kb=0;kb < this.sd;kb++){if((Ua.Ma.Lj[kb].eda=0 < bb?this.M.U9(bb):void 0,this.Wfb)){for(var rb=[],qb=this.M.Jf(),yb=0;yb < qb;yb++){Ab=this.M.Jf();Lb=this.M.Sb();rb.push({nwb:Ab,owb:Lb});}Ua.Ma.Lj[kb].Sxa=rb;}}return !0;};z.prototype.Ia=function(Ua,bb){var kb,rb;kb=bb?this.sd - Ua:Ua;this.Qb.offset=this.startOffset + 28 + (this.z8a?20:0);this.sd-=kb;this.Qb.pu(this.sd);Ua=this.Qb.offset;if(this.Wfb)for(kb=bb?this.sd:kb;0 < kb;--kb){this.Qb.offset+=8;rb=this.Qb.Jf();this.Qb.offset+=6 * rb;}else this.Qb.offset+=8 * (bb?this.sd:kb);bb?this.Yl(this.length - (this.M.offset - this.startOffset),this.M.offset):this.Yl(this.M.offset - Ua,Ua);};A.Oc=!1;A.prototype=Object.create(I.prototype);A.prototype.constructor=A;A.prototype.parse=function(Ua){this.vg();if(Ua && Ua.Ma){void 0 === Ua.Ma.Lj && (Ua.Ma.Lj=[]);for(var bb=0;bb < this.length - 12;bb++){Ua.Ma.Lj[bb].Sic=this.M.kd();}}return !0;};A.prototype.Ia=function(Ua,bb,kb){kb?this.Yl(bb - Ua,this.startOffset + 12 + Ua):this.Yl(Ua,this.startOffset + 12);return !0;};B.Oc=!1;B.prototype=Object.create(I.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.vg();this.M.bz();1 === this.version && this.M.Sb();this.Ap=this.M.Sb();this.jX=[];for(var Ua=0;Ua < this.Ap;++Ua){for(var bb=this.M.Sb(),kb=this.M.Sb(),rb=0;rb < bb;++rb){this.jX.push(kb);}}return !0;};B.prototype.Ia=function(Ua,bb){this.jX=bb?this.jX.slice(0,Ua):this.jX.slice(Ua);Ua=this.jX.reduce(function(kb,rb){0 !== kb.length && kb[kb.length - 1].group === rb || kb.push({group:rb,count:0});++kb[kb.length - 1].count;return kb;},[]);this.Qb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Qb.pu(Ua.length);Ua.forEach((function(kb){this.Qb.pu(kb.count);this.Qb.pu(kb.group);}).bind(this));this.Ap > Ua.length && this.Yl(8 * (this.Ap - Ua.length));this.Ap=Ua.length;return !0;};C.Oc=!1;C.prototype=Object.create(I.prototype);C.prototype.constructor=C;Aa={Jd:{moov:l,trak:c,mdia:c,mdhd:f,minf:c,encv:Aa,schi:c,sidx:k,sinf:c,stbl:c,tenc:n,mvex:c,moof:p,traf:q,tfhd:w,trun:sb,sbgp:B,sdtp:A,saiz:y,saio:x,tfdt:v,mdat:C,vmaf:d,edts:c},S6b:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},Meb:{schm:oa},fwa:{}};D([Ga,Sa,J,a,N,Jb,R,Q,da,P,M,O,Wa,$a,H,T,L,K,fb,sb],Aa.Jd);D([ka,ia,La,Ya,ab,aa,sa,wa,ta,Y],Aa.fwa);D([Ga,oa],Aa.Meb);Aa.Jd[b.GJa]=n;Aa.Jd[b.g0]=h;Aa.Jd[b.f0]=m;Aa.Jd[b.FJa]=z;Aa.fwa[b.Uda]=Ha;Aa.af=I;r.exports={GM:Aa};},70190:function(r,b,a){var l,f,k,d,g;function c(n){return "number" === typeof n[0] || void 0 === n[0]?{Kj:n[0],N:n[1],Dx:n[2],Sva:n[3],yH:n[4]}:n[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.eC=b.ns=void 0;l=a(5163);f=a(26464);r=a(46788);k=a(97001);d=a(27172);g=a(85571);a=(function(n){function h(m,p,q){return n.call(this,m,p,q) || this;}l.__extends(h,n);h.prototype.cab=function(){for(var m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}return this.Ia(l.__assign(l.__assign({},c(m)),{vva:!1}));};h.prototype.jab=function(){for(var m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}return this.Ia(l.__assign(l.__assign({},c(m)),{vva:!0}));};h.prototype.Ia=function(m){var q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O,H;function p(R){z=x[R];A=z.Ho("traf");if(void 0 === A || void 0 === A.Jq)return !1;F=A.Ho("tfdt");if(void 0 === F)return !1;B=A.Ho("trun");return void 0 === B?!1:!0;}q=m.Kj;u=m.N;t=m.vva;w=m.Dx;v=m.Sva;v=void 0 === v?!1:v;y=m.yH;y=void 0 === y?!1:y;m=m.FG;if(!this.parse().done)return !1;x=this.Jd.moof;if(!x || 0 === x.length)return !1;if(void 0 !== q){C=q;for(q=0;q < x.length;++q){if(!p(q,this.hf.console.trace))return !1;(0,d.assert)(z && A && F && B && void 0 !== B.sd);if(B.sd > C || t && B.sd === C)break;C-=B.sd;}(0,d.assert)(z && A && F && B);}else if((q=t?x.length - 1:0,!p(q,this.hf.console.trace)))return !1;(0,d.assert)(z && A && F && B);if(t && q < x.length - 1){D=x[q + 1];this.hf.Yl(this.view.byteOffset - D.startOffset,D.startOffset);}else !t && 0 < q && this.hf.Yl(z.startOffset,0);D=A.Ho("tfhd");if(void 0 === D)return !1;F=A.Ho("tfdt");G=B.sd;E=A.Ho("saiz");I=A.Ho("saio");M=A.Ho(f.FJa);L=A.Ho("sbgp");if(!(!E && !I || E && I))return !1;K=A.Ho("sdtp");O=g.af.fy(this,"mdat");if(O && q < O.length)H=O[q];else if(q !== x.length - 1)return !1;void 0 === C && (C=t?B.sd:0);if("number" === typeof w && 0 < w){O=t?C:B.sd - C;for(var J=Array(O),N=0;N < O;++N){J[N]=t?N >= O - w?-Infinity:0:N < w?-Infinity:0;}w=J;}if(B.Ia(A,D,H || this.hf,u,C,A.Jq,t))B.cT && ((0,d.assert)(void 0 !== B.Lcb),(0,d.assert)(void 0 !== B.aO),!t && F && F.Ia(B.Lcb),E && I && (E.Ia(B.aO,t),I.Ia(M?0:E.dwa,A.Jq)),M && M.Ia(B.aO,t),K && K.Ia(B.aO,G,t),L && L.Ia(B.aO,t));else if(!t){if(q === x.length - 1)return !1;this.hf.Yl(x[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === B.aO)return !1;Array.isArray(w) && H && this.stream.profile && void 0 !== v && B.NTb(A,D,H,w,this.stream.profile,v,y,m);u=this.hf.Ia();t=u.reduce(function(R,T){return R + T.byteLength;},0);u={Ma:u,length:t,WG:this.hf.view.byteLength};B.cT && !H && (u.AN=A.Jq + B.AN,u.bq=B.bq);return u;};return h;})((function(n){function h(m,p,q){return n.call(this,m,p,q) || this;}l.__extends(h,n);return h;})(r.Ww));b.ns=a;b.eC=function(n){var h,m;h=new ArrayBuffer(8);m=new DataView(h);m.setUint32(0,n + 8);m.setUint32(4,(0,k.$fa)("mdat"));return h;};},9080:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.$I=void 0;c=a(97001);l={stsd:16};b.$I=(function(){function f(){}f.path=function(k,d){var p,q;for(var g=0,n=k.byteLength,h,m=0;m < d.length;m++){p=d[m];for(h && (g+=l[h] || 8);g < n;){q=k.getUint32(g);h=(0,c.lx)(k.getUint32(g + 4));if(h === p){n=g + q;break;}g+=q;}}return g < n?g:void 0;};f.WYa=function(k){var d,g,n,h,m;d=this.path(k,["moof","traf"]);if(void 0 !== d){k=new DataView(k.buffer,k.byteOffset + d + 8);g=this.path(k,["tfdt"]);if(void 0 !== g){1 === k.getUint8(g + 8)?(d=k.getUint32(g + 12),g=k.getUint32(g + 16),d=4294967296 * d + g):d=k.getUint32(g + 12);n=this.path(k,["trun"]);if(void 0 === n)return {yya:d};h=k.getUint8(n + 8);m=k.getUint32(n + 8) & 16777215;g=k.getUint32(n + 12);m & 2048?(n=n + 16 + ((m & 1) << 2) + (m & 4) + (((m & 256) >> 6) + ((m & 512) >> 7) + ((m & 1024) >> 8)),k=1 === h?k.getInt32(n):k.getUint32(n)):k=0;return {yya:d,DZa:k,ewa:g};}}};return f;})();},46788:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ww=void 0;c=a(91418);l=a(52297);f=a(27815);r=(function(){function k(d,g,n){this.console=d;this.stream=g;this.view=n instanceof ArrayBuffer?new DataView(n):new DataView(n.data,n.offset,n.length);}k.prototype.parse=function(d){var g;g=new f.yca(this.view.byteLength);this.hf=new c.jZ(l.GM.Jd,g,this.view,this.console,{Ota:!0});d=this.hf.parse(d);this.Jd=this.hf.Jd;return d;};return k;})();b.Ww=r;},56602:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.qq=void 0;c=a(5163);l=a(44295);f=a(57821);k=a(27172);d=a(255);g=a(85571);r=a(79798);n=a(30855);h=a(91418);m=a(51170);p=a(52297);q=a(26464);u=a(27815);t=a(82441);c.__exportStar(a(17904),b);a=(function(){function w(v,y,x,z,A,B){this.console=v;this.stream=y;this.Xt=z;this.stb=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.dNb=(0,m.tJb)();}w.path=function(v,y){return y.reduce(function(x,z){return x && x.Jd[z] && x.Jd[z][0];},v);};w.AKb=function(v){return v && v.eka && -1 !== v.eka.indexOf("mcl0")?"mcl0":void 0;};w.cHb=function(v,y){var x,z;(0,k.assert)("mcl0" === v,"Unsupported McClearen brand");x=y.Ja;v=x.cf;y=new d.L(120,1).$c(x.N).ja;z=0;for(x=x.Or;z < v.length && x < y;){x+=v[z++];}return z;};w.prototype.parse=function(v){var y;y=this.B1b();if(!y.done){if(y.g7a)return {Tv:!1,u2:y.g7a};this.console.error("Scan error: " + y.error);return {Tv:!1,parseError:y.error || "unknown mp4 scan error"};}if(null === v || void 0 === v?0:v.za)v.mWb=v.za;this.view=new DataView(this.view.buffer,this.view.byteOffset,y.offset);v=this.LWb(v);return v.done?this.Uyb():(this.console.error("Parse error: " + v.error),{Tv:!1,parseError:v.error || "unknown mp4 parse error"});};w.prototype.fy=function(v){return g.af.fy(this,v);};w.prototype.Qm=function(v){return g.af.Qm(this,v);};w.prototype.B1b=function(){var v,y;v=new u.GFa(this.Xt,this.stb?[q.g0,q.f0]:[],this.config && this.config.Fjc || ["moof",q.TIa],this.config && this.config.Pta);y=c.__assign(c.__assign({},this.config),{Ota:!1});return new h.jZ(w.owa,v,this.view,this.console,y).parse();};w.prototype.LWb=function(v){var y,x,z;y=new u.yca(this.view.byteLength);x=Object.create(p.GM.Jd);this.config && ((this.config.L8a || this.config.Leb || this.config.caa) && l(p.GM.fwa,x),this.config.Dya && l(p.GM.S6b,x),this.config.Leb && l(p.GM.Meb,x));z=c.__assign(c.__assign({},this.config),{Ota:!0});this.hf=new h.jZ(x,y,this.view,this.console,z);v=this.hf.parse(v);v.done && (this.Jd=this.hf.Jd);return v;};w.prototype.Uyb=function(){var v,y,x,z,A,B,C,D;v={Tv:!0};y=w.path(this,["moov"]);x=null === y || void 0 === y?void 0:y.fy("trak");if(1 === (null === x || void 0 === x?void 0:x.length)){z=x[0].Ho("tkhd");z && (v.trackId=z.Ac.trackId);}z=w.path(y,["trak","mdia","minf","stbl","stsd"]);if(this.config.L8a)if(z)(v.za=z.za,v.Qic=z.Jd);else return {Tv:!1,parseError:"Missing sample descriptions"};A=w.path(z,["encv","sinf","schi"]);A && (A=w.path(A,["tenc"]) || w.path(A,[q.GJa])) && (v.yFb={gfc:A.eo,vqa:A.vqa,fhc:!1});if(A=w.path(y,["trak","mdia","mdhd"]))v.N=A.N;if(A=w.path(y,["mvex","trex"]))v.f4=A && A.Ac.f4;v.f4 && v.N && (v.za=new d.L(v.f4,v.N));if(A=w.path(this,["sidx"])){B=w.path(this,[q.g0]);B=B && B.VSb;C=w.path(this,[q.f0]);C=C && C.sj;v.Ja=A.Ja;v.FM=B;v.sj=C;}if(B=this.Jd.vmaf && this.Jd.vmaf[0])v.zw=B.zw;if(this.config.zva && (B=w.path(y,["mvex"])) && x && x.length){D=x.reduce(function(F,G){return G.byteOffset > F.byteOffset?G:F;});D.byteOffset > B.byteOffset && (x=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),C=(0,t.Lya)(x,Uint8Array,B.byteOffset,B.byteOffset + B.byteLength),D=(0,t.Lya)(x,Uint8Array,B.byteOffset + B.byteLength,D.byteOffset + D.byteLength),x.set(D,B.byteOffset),x.set(C,B.byteOffset + D.byteLength));}if(this.config.f1b)if(y)(this.trim(y.byteOffset + y.byteLength),this.config.caa && z && 1 < z.dL && A && (v.Gh=this.caa(z,A)),void 0 === v.Gh && (y=this.hf.cT?(0,f.concat)(this.hf.Ia()):this.view.buffer,v.Gh=[{Fe:0,data:y}]));else return {Tv:!1,parseError:"Missing movie box"};v.Tv=!0;v.l9=this.hf.offset;return v;};w.prototype.trim=function(v){var y;y=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(v,this.view.byteLength));this.hf.trim(v);this.view=new DataView(y);};w.prototype.caa=function(v,y){var x,z,A;x=Object.keys(v.Jd);z=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || z.length === x.length || 0 === z.length)){x=w.path(this,["ftyp"]);A=w.AKb(x);if(A)return (x=[],this.hf.IZb(),v.hab("encv"),x.push({Fe:0,zF:!1,data:(0,f.concat)(this.hf.Ia())}),this.hf.aYb(),v.hab(z[0]),v=w.cHb(A,y),x.push({Fe:v,zF:!0,data:(0,f.concat)(this.hf.Ia())}),x);}};w.owa={};return w;})();b.qq=a;a.owa[q.Vda]=r.default;a.owa[q.Wda]=n.default;},97001:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$ob=b.$fa=b.lx=void 0;c=a(27172);b.lx=function(l){(0,c.assert)("number" === typeof l);return String.fromCharCode(l >>> 24 & 255) + String.fromCharCode(l >>> 16 & 255) + String.fromCharCode(l >>> 8 & 255) + String.fromCharCode(l & 255);};b.$fa=function(l){return l.charCodeAt(3) + (l.charCodeAt(2) << 8) + (l.charCodeAt(1) << 16) + (l.charCodeAt(0) << 24);};b.$ob=function(l,f){return Math.floor(1E3 * l / f);};},26464:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Vda="6674654e-696c-5078-6966-665374726d21";b.Wda="6674654e-696c-4878-6165-6465722e7632";b.TIa="6674654e-696c-5078-6966-66496e646578";b.g0="6674654e-696c-4d78-6f6f-6653697a6573";b.f0="6674654e-696c-5378-6565-6b506f696e74";b.GJa="cedb7489-e77b-514c-84f9-7148f9882554";b.FJa="524f39a2-9b5a-144f-a244-6c427c648df4";b.Uda="6674654e-696c-4678-7261-6d6552617465";},27815:function(r,b,a){var l;function c(f,k){f=k.indexOf(f);-1 !== f && k.splice(f,1);}Object.defineProperties(b,{__esModule:{value:!0}});b.GFa=b.yca=void 0;l=a(26464);r=(function(){function f(k){this.endOffset=k;this.done=!1;}f.prototype.QZa=function(){return this.done;};f.prototype.HXa=function(k,d,g){return this.done=d + g >= this.endOffset;};return f;})();b.yca=r;r=(function(){function f(k,d,g,n){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === n && (n=!1);this.Xt=k;this.o4=d;this.Wdb=g;this.Pta=n;this.done=!1;this.$k={};}f.prototype.QZa=function(k,d,g){-1 !== f.kNb.indexOf(k) && (this.$k[k]={offset:d,size:g});if(-1 !== this.Wdb.indexOf(k)){if((this.$k[k]={offset:d,size:g},this.Pta))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.Xt && -1 !== this.Xt.indexOf(k)?(k=1 < this.Xt.length?4096:0,this.endOffset=Math.max(d + g + k,this.endOffset || 0)):-1 !== this.o4.indexOf(k) && (k=this.Xt?4096:0,this.endOffset=Math.max(d + g + k,this.endOffset || 0));return this.done;};f.prototype.HXa=function(k,d,g,n){var h;h=this;if(-1 !== this.Wdb.indexOf(k))return this.done=!0;k === l.Vda && this.dcb(n.$k);k === l.Wda && this.dcb(n.$k);this.Xt && c(k,this.Xt);c(k,this.o4);return this.Xt && 0 === this.Xt.length && !this.o4.some(function(m){return h.$k[m];})?this.done=!0:this.done;};f.prototype.dcb=function(k){var d;d=this;this.$k=k;this.endOffset=(this.Xt || []).concat(this.o4).reduce(function(g,n){return d.$k[n]?(n=d.$k[n],Math.max(n.offset + (n.size || 4096),g)):g;},this.endOffset || 0);};f.kNb=["moov","sidx"];return f;})();b.GFa=r;},11174:function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,l){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),l * a.byteLength / a.length);}:function(a,c,l){a.set(c,l);};r.exports={from:function(a,c,l,f){a=new a(c.length);for(var k="function" === typeof l,d=0;d < c.length;++d){a[d]=k?l.call(f,c[d],d,c):c[d];}return a;},set:b};},82441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Lya=void 0;b.Lya=function(a,c,l,f){var k,d;if(null !== a && void 0 !== a && a.slice)return a.slice(l,f);k=Math.min(a.length,f);d=Math.min(a.length,l);for(c=new c(Math.max(f - l,0));d < k;d++){c[d - l]=a[d];}return c;};},27172:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},57821:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.concat=void 0;b.concat=function(){var l;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(f,k){return f + k.byteLength;},0);l=new Uint8Array(c);a.reduce(function(f,k){l.set(new Uint8Array(k),f);return f + k.byteLength;},0);return l.buffer;};},44295:function(r){r.exports=function l(a,c){var f;a.__proto__ && a.__proto__ !== Object.prototype && l(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(k){f=Object.getOwnPropertyDescriptor(a,k);void 0 !== f && Object.defineProperty(c,k,f);});};},255:function(r,b){function a(l,f){return "number" !== typeof l || "number" !== typeof f?!1:l && f?Math.abs(l * f / c(l,f)):0;}function c(l,f){var k;l=Math.abs(l);for(f=Math.abs(f);f;){k=f;f=l % f;l=k;}return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.L=void 0;r=(function(){function l(f,k){"object" === typeof f?(this.pc=f.ja,this.jb=f.N):(this.pc=f,this.jb=k);}l.Na=function(f){return new l(f,1E3);};l.tya=function(f,k){return Math.floor(1E3 * f / k);};l.$6a=function(f,k){return Math.floor(f * k / 1E3);};l.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(d,g){return d.greaterThan(g)?d:g;});};l.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(d,g){return d.lessThan(g)?d:g;});};l.wB=function(f,k){var d;if(f.N === k.N)return new l(c(f.ja,k.ja),f.N);d=a(f.N,k.N);return l.wB(f.$c(d),k.$c(d));};Object.defineProperties(l.prototype,{ja:{get:function(){return this.pc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{N:{get:function(){return this.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{G:{get:function(){return 1E3 * this.pc / this.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sh:{get:function(){return this.pc / this.jb;},enumerable:!1,configurable:!0}});l.prototype.$c=function(f){f/=this.N;return new l(Math.floor(this.ja * f),Math.floor(this.N * f));};l.prototype.add=function(f){var k;if(this.N === f.N)return new l(this.ja + f.ja,this.N);k=a(this.N,f.N);return this.$c(k).add(f.$c(k));};l.prototype.qa=function(f){return this.add(new l(-f.ja,f.N));};l.prototype.oo=function(f){return new l(this.ja * f,this.N);};l.prototype.ih=function(f){var k;if(this.N === f.N)return this.ja / f.ja;k=a(this.N,f.N);return this.$c(k).ih(f.$c(k));};l.prototype.w1a=function(f){return a(this.N,f);};l.prototype.kva=function(){return new l(this.N,this.ja);};l.prototype.compare=function(f,k){var d;if(this.N === k.N)return f(this.ja,k.ja);d=a(this.N,k.N);return f(this.$c(d).ja,k.$c(d).ja);};l.prototype.equal=function(f){return this.compare(function(k,d){return k === d;},f);};l.prototype.Esa=function(f){return this.compare(function(k,d){return k !== d;},f);};l.prototype.lessThan=function(f){return this.compare(function(k,d){return k < d;},f);};l.prototype.greaterThan=function(f){return this.compare(function(k,d){return k > d;},f);};l.prototype.Fy=function(f){return this.compare(function(k,d){return k <= d;},f);};l.prototype.hi=function(f){return this.compare(function(k,d){return k >= d;},f);};l.prototype.toJSON=function(){return {ticks:this.ja,timescale:this.N};};l.prototype.toString=function(){return ("").concat(this.ja,"/").concat(this.N);};l.Ha=new l(0,1);l.Ty=new l(1,1E3);return l;})();b.L=r;},96785:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.aPa=void 0;c=a(5163);l=a(27172);f=a(57821);k=a(97001);r=a(7604);d=(function(){function g(n){n?(this.zo=n.zo.slice(),this.Wr=n.Wr.slice(),this.vi=n.vi.slice(),this.trim=n.trim):(this.zo=[],this.Wr=[],this.vi=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.zo.length && 0 === this.Wr.length && 0 === this.vi.length;},enumerable:!1,configurable:!0}});return g;})();r=(function(g){function n(h,m,p){h=g.call(this,h,m,p) || this;h.aYa=[];h.Rd=new d();return h;}c.__extends(n,g);n.gub=function(h,m){if(m.offset + m.size <= h.byteLength)switch(m.size){case 1:h.setUint8(m.offset,m.value);break;case 2:m.BX?h.setInt16(m.offset,m.value):h.setUint16(m.offset,m.value);break;case 4:m.BX?h.setInt32(m.offset,m.value):h.setUint32(m.offset,m.value);break;case 8:(0,l.assert)(!m.BX);h.setUint32(m.offset,Math.floor(m.value / 4294967296));h.setUint32(m.offset + 4,m.value & 4294967295);break;default:(0,l.assert)(!1);}};Object.defineProperties(n.prototype,{cT:{get:function(){return !this.Rd.empty;},enumerable:!1,configurable:!0}});n.prototype.lba=function(h,m){this.Rd.Wr.push({offset:void 0 !== m?m:this.offset,value:h,size:1});void 0 === m && (this.offset+=1);};n.prototype.L9b=function(h){this.Rd.Wr.push({offset:!1,value:h,size:2,BX:!1});};n.prototype.pu=function(h,m){this.Rd.Wr.push({offset:void 0 !== m?m:this.offset,value:h,size:4,BX:!1});void 0 === m && (this.offset+=4);};n.prototype.M9b=function(h,m){this.Rd.Wr.push({offset:void 0 !== m?m:this.offset,value:h,size:8,BX:!1});void 0 === m && (this.offset+=8);};n.prototype.Igb=function(h){this.pu((0,k.$fa)(h));};n.prototype.Eza=function(h,m){this.Rd.vi.push({offset:this.offset,pp:h,value:m});this.offset+=4;};n.prototype.Yl=function(h,m,p){this.Rd.zo.push({offset:m,remove:h,lb:p});};n.prototype.e$=function(h,m,p,q){this.Rd.zo.push({offset:p,remove:h,replace:m,lb:q});};n.prototype.trim=function(h){this.Rd.trim=h;};n.prototype.IZb=function(){this.aYa.push(new d(this.Rd));};n.prototype.aYb=function(){this.Rd=this.aYa.pop() || new d();};n.prototype.Ia=function(){var h,m,p,q,u,t,w;h=this;if(0 === this.Rd.zo.length && 0 === this.Rd.Wr.length && 0 === this.Rd.vi.length)return [void 0 === this.Rd.trim?this.view.buffer:this.view.buffer.slice(0,this.Rd.trim)];this.Rd.zo.sort(function(v,y){return v.offset - y.offset;});this.Rd.Wr.sort(function(v,y){return v.offset - y.offset;});this.S0b();m=this.UGb();p=this.view.buffer.slice(0,m);q=new DataView(p);this.Rd.Wr.forEach(n.gub.bind(void 0,q));this.N7b(q);this.L7b(q);u=[];t=void 0 !== this.Rd.trim?Math.min(this.Rd.trim,this.view.byteLength):this.view.byteLength;w=0;this.Rd.zo.filter(function(v){return v.offset <= t;}).forEach(function(v){v.offset > w && (u.push(q.buffer.slice(w,v.offset)),v.offset > q.byteLength && q !== h.view && (q=h.view,u.push(q.buffer.slice(m,v.offset))));v.replace && u.push(v.replace);w=v.offset + v.remove;});w < m && u.push(p.slice(w));w < t && (p=Math.max(p.byteLength,w),p < t && u.push(this.view.buffer.slice(p,t)));return u;};n.prototype.UGb=function(){var h,m,p;h=[];m=this.Rd.Wr[this.Rd.Wr.length - 1];p=this.Rd.vi[this.Rd.vi.length - 1];m && h.push(m.offset + m.size);p && h.push(p.offset + 4);this.Rd.zo.filter(function(q){return q.lb;}).forEach(function(q){return h.push(q.lb.byteOffset + 4);});m=Math.max.apply(void 0,h);return void 0 !== this.Rd.trim?Math.min(m,this.Rd.trim):m;};n.prototype.S0b=function(){this.Rd.zo=this.Rd.zo.reduce(function(h,m){var p,q;if(0 === h.length)return (h.push(m),h);p=h[h.length - 1];q=p.offset + p.remove;m.offset >= q?h.push(m):m.offset + m.remove > q && ((0,l.assert)(p.lb === m.lb),p.remove+=m.offset + m.remove - q,m.replace && (p.replace=p.replace?(0,f.concat)(p.replace,m.replace):m.replace));return h;},[]);};n.prototype.N7b=function(h){var m;m=this;this.Rd.vi.forEach(function(p){var q,u,t,w;q=h;u=p.offset;m.Rd.zo.some(function(v){return v.offset <= p.offset && v.replace && v.offset + v.replace.byteLength >= p.offset + 4?(q=new DataView(v.replace),u=p.offset - v.offset,!0):!1;});t=p.pp + (void 0 !== p.value?p.value:q.getInt32(u));w=m.Rd.zo.reduce(function(v,y){return y.offset > p.pp && y.offset < t?v + (y.remove - (y.replace?y.replace.byteLength:0)):v;},0);q.setInt32(u,t - p.pp - w);});};n.prototype.L7b=function(h){this.Rd.zo.forEach(function(m){var p;p=(m.remove || 0) - (m.replace?m.replace.byteLength:0);if(0 !== p)for(m=m.lb;m;){h.setUint32(m.byteOffset,h.getUint32(m.byteOffset) - p);m=m.parent;}});};return n;})(r.bPa);b.aPa=r;},7604:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bPa=void 0;c=a(51170);a(51170);l=a(97001);r=(function(){function f(k,d,g){this.view=k;this.console=d;this.config=g;this.view=k;this.console=d;this.qd=this.Kq=this.offset=0;}f.prototype.L_a=function(k){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,k);};f.prototype.Pc=function(k){for(;this.qd < k;){this.Kq=(this.Kq << 8) + this.kd();this.qd+=8;}this.qd-=k;return this.Kq >>> this.qd & (1 << k) - 1;};f.prototype.kd=function(){var k;k=this.view.getUint8(this.offset);this.offset+=1;return k;};f.prototype.Jf=function(k){k=this.view.getUint16(this.offset,k);this.offset+=2;return k;};f.prototype.Sb=function(k){k=this.view.getUint32(this.offset,k);this.offset+=4;return k;};f.prototype.V9=function(){var k;k=this.view.getInt32(this.offset,void 0);this.offset+=4;return k;};f.prototype.gXb=function(k,d){var g;g=this.view.getUint32(this.offset + (k?4:0),k);k=this.view.getUint32(this.offset + (k?0:4),k);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + k;};f.prototype.Yi=function(k,d){k=this.gXb(k,d);this.offset+=8;return k;};f.prototype.hXb=function(){var k,d;k=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < k?k:-k) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * k + d;};f.prototype.YZb=function(){var k;k=this.hXb();this.offset+=8;return k;};f.prototype.bz=function(){return (0,l.lx)(this.Sb());};f.prototype.W9=function(){var d,g,n,h,m,p;function k(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Sb(!0);g=this.Jf(!0);n=this.Jf(!0);h=this.Jf();m=this.Jf();p=this.Sb();return [k(d,4),k(g,2),k(n,2),k(h,2),k(m,2) + k(p,4)].join("-");};f.prototype.U9=function(k){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + k);this.offset+=k;return d;};f.prototype.UZb=function(k){var d;d=[];if(0 === k)return "";k=k || Number.MAX_SAFE_INTEGER;for(var g=this.kd();0 !== g && 0 <= --k;){d.push(g);g=this.kd();}return String.fromCharCode.apply(null,d);};f.prototype.T9=function(k){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.Ej(this.config.HO && c.lMb || c.ML,1,k,d,g);};f.prototype.TZb=function(k){var d,g,n;d=10;g=!1;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === n && (n=!1);return this.Ej(this.config.HO && c.jMb || c.h6,2,k,d,g,n);};f.prototype.S9=function(k,d,g){var n;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === n && (n=!1);return this.Ej(this.config.HO && c.kMb || c.iU,4,k,d,g,n);};f.prototype.WZb=function(){for(var k=this.kd(),d=k & 127;k & 128;){k=this.kd();d=d << 7 | k & 127;}return d;};f.prototype.Ej=function(k,d,g,n,h,m){void 0 === h && (h=!0);void 0 === m && (m=!1);k=k(this.view,this.offset,g,n,m);this.offset=h || !n || n === d?this.offset + g * (n || d):this.offset + d;return k;};return f;})();b.bPa=r;},58312:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;c=a(76113);l=a(69808);f=a(48668);k=a(99939);d=a(97911);g=a(51832);b=a(67286);n=a(62680);h=a(26302);m=n("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(u){var t,w,v;t=1 < arguments.length?c(arguments[1]):0;if(p && !d(u) && g(t) && "undefined" !== typeof u)return -1 < p.apply(this,arguments);w=f(this);v=l(w.length);if(0 === v)return !1;for(t=0 <= t?t:q(0,v + t);t < v;){if(k(u,h(w)?m(w,t):w[t]))return !0;t+=1;}return !1;};},71402:function(r,b,a){var c;c=a(58312);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},30026:function(r,b,a){var c,l;c=a(14926);l=a(71402);r.exports=function(){var f;f=l();c(Array.prototype,{includes:f},{includes:function(){return Array.prototype.includes !== f;}});return f;};},71501:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CGa="Injector";b.Sw=145152E5;b.lJ="ProfileSymbol";},66523:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.io=b.b5b=b.N7a=void 0;b.N7a=function(a,c){return a - c;};b.b5b=function(a,c){return a.localeCompare(c);};b.io=function(a,c){var l;l=Object.getOwnPropertyDescriptor(a,c);l && Object.defineProperty(a,c,{configurable:l.configurable,enumerable:!1,value:l.value,writable:l.writable});};b.flatten=function(a){return [].concat.apply([],ca(a));};},24747:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cZ="ApiInfoSymbol";},99198:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.OSa=void 0;c=a(7700);l=a(24747);r=a(22674);f=a(71501);k=a(4203);b.OSa=new r.dd(function(d){d(l.cZ).to(c.xAa).ha();});b.profile=new r.dd(function(d){d(f.lJ).XC(function(g){return (g=g.lb.get(k.Yb)()) && g.dy?"browsertest":"browser";});});},7700:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q){h=d.Pe.call(this,h,void 0 === q?"AppInfoConfigImpl":q) || this;h.config=m;h.Jaa=p;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;r=a(5163);l=a(22674);f=a(34231);k=a(12501);d=a(64174);g=a(83767);a=a(70865);fa(c,d.Pe);c.prototype.QKb=function(h){return "" + this.EYa + (this.Jaa.W$(h)?"/msl_v1":"");};c.prototype.bLb=function(h){return "" + this.host + (this.Jaa.W$(h)?"/msl":"") + "/playapi";};Xa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},EYa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var h;switch(this.config.eL){case f.Nw.gob:h="www.stage";break;case f.Nw.aOa:h="www-qa.test";break;case f.Nw.EGa:h="www-int.test";break;default:h="www";}return "https://" + h + ".netflix.com";}},JTa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});n=c;r.__decorate([k.config(k.string,"apiEndpoint")],n.prototype,"endpoint",null);r.__decorate([k.config(k.string,"nqEndpoint")],n.prototype,"EYa",null);r.__decorate([k.config(k.string,"bindService")],n.prototype,"JTa",null);n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.sl)),r.__param(1,(0,l.l)(f.vn)),r.__param(2,(0,l.l)(a.Z0)),r.__param(3,(0,l.l)(g.uZ)),r.__param(3,(0,l.optional)())],n);b.xAa=n;},85405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KAa="AseIntegrationFactorySymbol";},31034:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yJa="OpenConnectSideChannelSymbol";b.zIa="MediaRequestDownloaderSymbol";},13494:function(r,b){function a(l,f,k){var d,g,n,h;d=[];l.forEach(function(m){-1 == d.indexOf(m.Cd) && d.push(m.Cd);});g=null;n=null;f.forEach(function(m){null === g?n=g=m.bitrate:n < m.bitrate?n=m.bitrate:g > m.bitrate && (g=m.bitrate);});h=[];d.forEach(function(m){var p;p={ranges:[],profile:m};g && n && (p.ranges.push({min:g,max:n}),k && (p.disallowed=k.filter(function(q){return q.stream.Cd === m;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.t4};})),h.push(p));});return h;}function c(l,f){var k;k=void 0;return {iZa:l.filter(function(d){var g;g=f(d);g && (k=k || [],k.push({stream:d,t4:g}));return !g;}),KDb:k};}Object.defineProperty(b,"__esModule",{value:!0});b.Ws=b.QBb=b.A1a=void 0;b.A1a=function(l,f){f=c(l,f);return a(l,f.iZa,f.KDb);};b.QBb=a;b.Ws=c;},92692:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.cb=void 0;r=a(22674);c=a(67263);l=a(13005);f=a(24240);k=a(22806);d=a(31034);g=a(76457);n=a(77425);h=a(51790);m=a(89936);b.cb=new r.dd(function(p){p(c.zca).to(l.xDa).ha();p(f.pIa).to(k.oIa).ha();p(d.yJa).to(g.xJa).ha();p(d.zIa).to(n.yIa).ha();p(h.xIa).to(m.wIa).ha();});},67263:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zca=b.yDa=void 0;b.yDa=function(){this.fa=0;this.Y=1;this.lkb=2;this.yf=function(){};};b.zca="DownloadTrackConstructorFactorySymbol";},24240:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pIa="MediaHttpSymbol";},51790:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xIa="MediaRequestConstructorFactorySymbol";},48220:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Yc=void 0;b.Yc=a;a.Bk={oJa:"mr1",nJa:"mr2",pJa:"mr3",eQ:"mr4",imb:"mr5",$z:"mr6"};a.Nc={UNSENT:0,OPENED:1,dx:2,ql:3,DONE:5,Yr:7,name:("UNSENT OPENED SENT RECEIVING PAUSED DONE FAILED ABORTED").split(" ")};a.SZ={NO_ERROR:-1,djb:0,UCa:1,pjb:2,hjb:3,wib:4,cCa:5,aCa:6,xib:7,yib:8,zib:9,tib:10,vib:11,bCa:12,uib:13,sib:14,pkb:15,uFa:16,tFa:17,Xca:18,Zca:19,Yca:20,$ca:21,rkb:22,P_:23,vFa:24,qkb:25,kjb:26,ejb:27,Unb:28,Vib:29,Wib:30,Xib:31,Yib:32,Zib:33,$ib:34,ajb:35,bjb:36,cjb:37,fjb:38,gjb:39,ijb:40,jjb:41,ljb:42,mjb:43,njb:44,ojb:45,qjb:46,rjb:47,Tnb:48,TIMEOUT:49,qFa:50,rFa:51,okb:52,xFa:53,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP HTTP_RESPONSE_452").split(" ")};a.uf={Wva:{r$b:!0,ffa:!1,ecc:!0}};},92720:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C){var D;D=this;this.rb=x;this.j=z;this.debug=A;this.nub=C;this.bR=this.Ah=this.qx=!1;this.wR=this.vR=void 0;x={};this.Iv=(x[v.u.fa]={},x[v.u.Y]={},x[v.u.Ga]={},x);this.qA=void 0;this.Dm=function(){var F,G,E,I,M,L;D.debug.assert(D.ya,"has access to asePlaygraph");D.debug.assert(D.Fc,"has access to internalLogger");D.debug.assert(D.Et,"has access to mediaBufferGetLogFields");M=D.Mn;L=null === (G=null === (F=D.Jc.get()) || void 0 === F?void 0:F.nb) || void 0 === G?void 0:G.Ca;F={type:"logdata",target:"startplay",fields:{hasasereport:D.j.eT,hashindsight:!1,buffCompleteReason:M.reason,actualbw:L,initSelReason:null !== (E=M.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:M.vBufferLevelMs,bcABufferLevelMs:M.aBufferLevelMs}};(0,g.P2)({kma:F,ho:D.ho,loadTime:D.loadTime});D.ya.Hya("startplay",l.kc.Pj);null !== (I=D.sb) && void 0 !== I && I.Nd?(D.Fc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:M},D.Et()),D.j.Mn=M,D.j.Hq.set(n.pf.ce),D.tHb || (D.tHb=!0,D.j.ke("pb")),D.ug.value !== l.Tb.J0 && D.ug.value !== l.Tb.ss && D.play()):D.Fc.error("Shim received buffering complete but player has no position (player " + (D.sb?"":"un") + "defined, state " + D.j.state + ")");};this.Deb=function(){var F,G;D.debug.assert(D.Fc,"has access to internalLogger");!1;D.vR=void 0;D.wR=void 0;D.j.paused.value && D.YG && (D.YG=!1,D.j.paused.set(!1,{KM:!0}));null === (F=D.j.Ud) || void 0 === F?void 0:F.Fyb();null === (G=D.e8a) || void 0 === G?void 0:G.call(D);D.e8a=void 0;};this.events=new y();this.Me=new w.Efa(this.pv.bind(this),function(F,G){return D.j.iw(F,G);});}b.Bda=void 0;l=a(93161);f=a(57055);k=a(32219);d=a(36129);g=a(30326);n=a(85001);h=a(29204);m=a(32687);p=a(5021);q=a(64302);u=a(8825);t=a(81734);w=a(64213);a(2762);v=a(60328);y=a(22699).EventEmitter;c.prototype.Ze=function(){var x;!1;this.bR=!1;this.Jc.P$(null);this.debug.assert(this.Mh,"has access to streamingEngine");this.ya && this.Mh.fz(this.ya);this.sb && this.Mh.gab(this.sb);this.Mh.iab(this.Me.Rm(this.rb.ba.J));this.Me.clear();null === (x=this.mo) || void 0 === x?void 0:x.$s();};c.prototype.p3b=function(x){var z,A,B,C,D,F,G,E,I,M,L,K,O;z=x.config;A=x.lp;B=x.Fc;C=x.ae;D=x.Et;F=x.Ri;G=x.wX;x=x.EH;this.Fc=B;this.log=B.R3("AseIntegrationImpl");!1;this.Et=D;this.wX=G;this.EH=x;D=this.j.ba;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(C,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Mh,"has access to streamingEngine");this.debug.assert(D.Bc,"has access to parsedManifest");this.debug.assert(D.X,"has access to manifest");this.config=z;this.Mh=A.Mh;A.$h.set(a(87141)(z),!0,F("ASE"));A.$h.set({maxNumberTitlesScheduled:null !== (I=null === (E=z.hYb) || void 0 === E?void 0:E.maxNumberTitlesScheduled) && void 0 !== I?I:1},!0,B);z.izb && !D.gd.aa && 3E5 > D.X.Fa.duration?A.$h.iW({expandDownloadTime:!1},!0,B):A.$h.iW({expandDownloadTime:A.$h.W8a().expandDownloadTime},!0,B);z=D.background.value || z.fYb && "postplay" === D.zd?"historical":A.$h.W8a().initBitrateSelectorAlgorithm;A.$h.iW({initBitrateSelectorAlgorithm:z},!0,B);z=null === (O=null === (K=null === (L=null === (M=D.Fg) || void 0 === M?void 0:M.value) || void 0 === L?void 0:L.streams) || void 0 === K?void 0:K[0]) || void 0 === O?void 0:O.Cd;A.$h.iW((0,h.GVa)(!!D.bb.qg,!!D.bb.aM,z),!0,B);B=C.kC({},(0,h.G3)(D.zd));D.gd.aa && (B=C.kC(B,(0,h.G3)("live")));this.$h=A.$h.On(B);l.platform.events.emit("networkchange",D.Bc.r2b);this.qx=!0;};c.prototype.DU=function(x){var z,A;this.debug.assert(this.Mh,"has access to streamingEngine");z=this.j.Si(x.I);this.debug.assert(z.Bc,"has access to playback parsedManifest");!1;A=x.flags;this.Jc.reset();this.Bg=new Set([v.u.fa,v.u.Y]);(A.jgb || A.Aec) && this.Bg.delete(A.jgb?v.u.fa:v.u.Y);this.qI=[z.Bc.KCb,z.Bc.QCb,z.Bc.PCb];this.pv(z.P,void 0,x.IWa);this.vOb(x);this.CK();};c.prototype.ku=function(x){var z;!1;null === (z=this.ya) || void 0 === z?void 0:z.ku(x);};c.prototype.Dvb=function(x){var z,A,B,C;z=this;A=x.loadTime;B=x.ho;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.sb,"has access to asePlayer");!1;this.ho=B;this.loadTime=A;x=this.ya.events;C=this.sb.events;x.addListener("error",function(D){!1;"NFErr_MC_StreamingFailure" === D.error && (z.Fc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.Fc.trace("StreamingFailure, buffer status:" + JSON.stringify(z.Et())),(0,k.Ef)(function(){var F,G,E;F=d.V.chb;G=D.nativeCode;E=D.context;"adBreakHydration" === (null === E || void 0 === E?void 0:E.type) && (F=d.V.GD,G=d.S.nhb);z.j.pd(F,{Aa:G,Nb:D.errormsg,Hl:D.httpCode,z8:D.networkErrorCode,Ee:D.httpCode});}));});x.addListener("logdata",function(D){var F;!1;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (F=z.ya) || void 0 === F?void 0:F.Stb,(0,g.P2)({kma:D,ho:B,loadTime:A}));});C.addListener("logdata",function(D){!1;"string" === typeof D.target && "object" === typeof D.fields && (0,g.P2)({kma:D,ho:B,loadTime:A});});x.addListener("bufferingStarted",function(){!1;z.j.Hq.set(n.pf.Ne);});x.addListener("bufferingComplete",function(D){!1;z.Mn=D;});this.j.paused.addListener(function(D){var F;z.debug.assert(z.Fc,"has access to internalLogger");null !== (F=D.Dh) && void 0 !== F && F.KM || !z.qx || (D.newValue && z.ug.value === l.Tb.Oe?(z.ug.set(l.Tb.Rh),z.ti.emit("paused",{type:"paused",pts:z.ti.Dd})):D.newValue || z.ug.value !== l.Tb.Rh || (z.ug.set(l.Tb.Oe),z.ti.emit("playing",{type:"playing",pts:z.ti.Dd})));D.newValue || (z.YG=!1);z.Fc.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,u.ah)(z.j.mediaTime.value)});});this.j.uc.addListener(function(D){var F,G,E,I;if(z.qx)if((z.debug.assert(z.Fc,"has access to internalLogger"),D.Dh && D.Dh.A2))z.Fc.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {I=D.newValue;z.Qdb({np:I.trackId,toJSON:function(){return I.sg;}})?z.Fc.trace("ASE accepted the audio track switch",null === (E=D.newValue) || void 0 === E?void 0:E.trackId):(z.Fc.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== I.trackId && z.j.uc.set(D.oldValue,{A2:!0}));}});this.j.gd.aa && this.j.Mb.addListener(function(D){var F,G,E,I;if(z.qx)if((z.debug.assert(z.Fc,"has access to internalLogger"),D.Dh && D.Dh.A2))z.Fc.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {I=D.newValue;z.Qdb({Zdb:I.trackId,toJSON:function(){return I.sg;}})?z.Fc.trace("ASE accepted the text track switch",null === (E=D.newValue) || void 0 === E?void 0:E.trackId):(z.Fc.trace("ASE rejected the text track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== I.trackId && z.j.Mb.set(D.oldValue,{A2:!0}));}});x.addListener("serverSwitch",function(D){var F;!1;z.j.fireEvent(n.ga.tX,D);if("video" === D.mediatype)F=v.u.Y;else "audio" === D.mediatype && (F=v.u.fa);(0,m.Wc)(F) && z.wX(D.segmentId,D.server,F);});x.addListener("streamSelected",function(D){var F,G,E,I;!1;if(z.bR){G=D.manifest.Ed;if(!z.j.gNb(G) && z.config.yGb)return z.j.pd(d.V.rlb,{sB:G});G=(null === (F=z.ya) || void 0 === F?void 0:F.bG(D.position)).Gl.G;F=[];if(D.mediaType === v.u.Y){E=z.j.Z1a(D.streamId);I=z.j.Le;F=z.j.EB();}else D.mediaType === v.u.fa && (E=z.j.K1a(D.streamId),I=z.j.Kg,F=z.j.HIb());E && I?(!1,I.set(E,{dF:G,lS:D.bandwidth})):D.mediaType !== v.u.Ga && z.Fc.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:F,cachedManifest:z.j.$E});}});x.addListener("segmentNormalized",function(D){var F,G,E;!1;F=D.segmentId;G=Math.floor(D.viewableContentEnd.G);D=Math.floor(D.viewableEarliestContentEnd.G);G=(0,p.Ob)(G);D=(0,p.Ob)(D);z.j.U1a(F) || (!1,z.OAb(F));E=z.j.Si(F);E && (z.debug.assert(E.I === F,"segmentNormalized: playbackViewableData segmentId should match the value in the event"),E.Sx=G,E.k6a=D);z.j.Xp || (z.j.gd.aa?(z.debug.assert(Infinity === G.da(p.pa),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + z.j.gd.aa + ", contentDuration:" + G),z.j.Xp=p.Ha):z.j.Xp=G);});C.addListener("segmentPresenting",function(D){var F,G,E,I;!1;z.debug.assert(z.ya,"has access to asePlaygraph");z.debug.assert(z.sb,"has access to asePlayer");z.debug.assert(z.EH,"has access to segmentPresentingHandler");G=z.ya.bG(D.position);E=void 0;I=null === (F=D.inner) || void 0 === F?void 0:F.position;I && z.wj && (E=z.wj.O[I.I]);z.EH({J:G.J,gF:E,oG:!1});z.j.fireEvent(n.ga.DH,{type:"segmentPresenting",position:{segmentId:D.position.I,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});!1;z.qA=z.sb.Zn();});C.addListener("ptsChanged",function(D){var F;!1;z.j.Ud.FZb({bna:null === (F=D.forcedTimestamp) || void 0 === F?void 0:F.Yv,tOb:D.initialTimestamp.Yv});z.ti.emit("skipped");});C.addListener("fragmentsMissing",function(D){var F,G;G=null === (F=z.ya) || void 0 === F?void 0:F.bG(D.l7a);z.j.Ud.seek(G.Gl.G,n.mc.vP,D.l7a.I);});x.addListener("locationSelected",function(D){!1;z.j.fireEvent(n.ga.hV,D);});x.addListener("aseReportEnabled",function(){!1;z.j.eT=!0;});x.addListener("aseReport",function(D){!1;z.j.fireEvent(n.ga.QE,D);});x.addListener("liveReport",function(D){!1;z.j.fireEvent(n.ga.I7,D);});x.addListener("mediaRequestComplete",function(D){D=null === D || void 0 === D?void 0:D.w0b;(D=null === D || void 0 === D?void 0:D.cadmiumResponse) && z.j.fireEvent(n.ga.uF,{response:D,P:z.j.ba.P});});x.addListener("transportReport",function(D){var F;(D=null === (F=D.UFb) || void 0 === F?void 0:F.cadmiumResponse) && z.j.fireEvent(n.ga.uF,{response:D,P:z.j.ba.P});});x.addListener("liveEventTimesUpdated",function(D){var F,G;F=D.I;G=D.startTime;D=D.endTime;z.j.U1a(F) && (F=z.j.Si(F),F.gd.aa && F.gd.Rwa(G,D));});x.addListener("liveLoggingInfoUpdated",function(D){var F,G;F=D.mediaType;G=z.Iv[F];z.Iv[F]=D.info;D=z.Iv[F].oB !== G.oB && void 0 !== G.oB;(z.Iv[F].nB !== G.nB && void 0 !== G.nB || D) && z.j.fireEvent(n.ga.H7,{mediaType:F,Xl:G,current:z.Iv[F]});});};c.prototype.OAb=function(x){var z,A,B,C;if(this.wj && this.wj.O[x]){z=this.wj.O[x];x=this.j.sra;A=x.X;if(null === A || void 0 === A?0:A.op)B=null === A || void 0 === A?void 0:A.op.find(function(D){return D.Fa.P === z.J;});B || (B=this.j.h0a(z.J));if(!B && (null === A || void 0 === A?0:A.Fa.$b)){C=this.nub.hLb({$b:null === A || void 0 === A?void 0:A.Fa.$b,xd:x.P,J:z.J});C && (B=C.X);}B && B.Fa.$b === (null === A || void 0 === A?void 0:A.Fa.$b) && this.j.mWa(z.J,{Bf:{$b:B.Fa.$b,xd:x.P}},x.na,B);}};c.prototype.Zn=function(){var x,z,A,B,C,D,F,G,E;G=null === (x=this.sb) || void 0 === x?void 0:x.v6();x=(null !== (z=this.qA) && void 0 !== z?z:G && this.sb.Zn()) || ({});z=x.v;G=x.ve;E=x.eH;x=x.Dr;return {id:String(null === z || void 0 === z?void 0:z.id),aja:null !== (A=null === G || void 0 === G?void 0:G.G) && void 0 !== A?A:0,K3:null !== (B=null === z || void 0 === z?void 0:z.me.G) && void 0 !== B?B:Infinity,Wyb:null !== (C=null === z || void 0 === z?void 0:z.Ff.G) && void 0 !== C?C:0,JXb:null !== (D=null === E || void 0 === E?void 0:E.G) && void 0 !== D?D:Infinity,nua:null !== (F=null === x || void 0 === x?void 0:x.G) && void 0 !== F?F:0};};c.prototype.k3a=function(){var x,z;this.debug.assert(this.ya,"has access to asePlaygraph");x={};z=this.ya.MF();x.vbuflmsec=z.totalvbuflmsecs;x.vbuflbytes=z.vbuflbytes;x.abuflmsec=z.totalabuflmsecs;x.abuflbytes=z.abuflbytes;x.tbuflmsec=z.totaltbuflmsecs;x.tbuflbytes=z.tbuflbytes;return x;};c.prototype.paused=function(){};c.prototype.DXb=function(){!1;this.ti.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.ti.Dd});};c.prototype.TE=function(x,z){var A;this.debug.assert(this.j.X,"has access to playback manifest");A=this.qI[v.u.fa];return x.P === this.j.X.Fa.P?A:this.ZGb(this.j.X.Fa.Qs[A],z);};c.prototype.dI=function(x,z){var A;this.debug.assert(this.j.X,"has access to playback manifest");if(this.j.gd.aa){this.debug.assert(x.P === this.j.X.Fa.P);A=this.qI[v.u.Ga];if((x=this.j.Wg.find(function(B){return B.trackId === z[A].Xf;})) && (!x.bo() || x.bn()))return A;}};c.prototype.ZGb=function(x,z){var A,B,C;this.debug.assert(this.Fc,"has access to internalLogger");!1;A=z.filter(function(D){return D.profile === x.profile;}).sort(function(D,F){var G,E,I;G=(D.language === x.language || "zxx" === D.language?0:1) - (F.language === x.language || "zxx" === F.language?0:1);0 === G && (G=(D.vh === x.vh?0:1) - (F.vh === x.vh?0:1));if(0 === G){D=(null !== (E=D.bc) && void 0 !== E?E:0) - (null !== (I=F.bc) && void 0 !== I?I:0);}else D=G;return D;});B=0;C=la(A).next().value;C && z.some(function(D,F){if(D === C)return (B=F,!0);});!1;return B;};c.prototype.Qdb=function(x){var z,A,B,C,D,F;this.debug.assert(this.Fc,"has access to internalLogger");this.debug.assert(this.sb,"has access to asePlayer");this.debug.assert(this.j.X,"has access to playback manifest");if(this.xya)return (!1,!1);A=x.np;B=this.qI[v.u.fa];if(void 0 === A)C=B;else if(!this.j.X.Fa.audio_tracks.some(function(G,E){if(G.new_track_id === A)return (C=E,!0);}))return (!1,!1);D=x.Zdb;x=this.qI[v.u.Ga];if(void 0 === D)F=x;else if(!this.j.X.Fa.timedtexttracks.some(function(G,E){if(G.new_track_id === D)return (F=E,!0);}))return (!1,!1);!1;this.vR=C;this.wR=F;null === (z=this.j.Ud) || void 0 === z?void 0:z.K4b();this.j.paused.value || (this.sb.pause([v.u.fa,v.u.Ga]),this.YG=!0,this.j.paused.set(!0,{KM:!0}));this.debug.M2(this.vR,"has access to valid requestedAudioTrackIndex number");this.qI[v.u.fa]=this.vR;this.debug.M2(this.wR,"has access to valid requestedTextTrackIndex number");this.qI[v.u.Ga]=this.wR;(this.oz() || this.YG) && this.sb.resume(this.YG?[v.u.fa,v.u.Ga]:void 0);this.yI(this.Deb);return !0;};c.prototype.oz=function(){var x;x=this;this.debug.assert(this.ya,"has access to asePlaygraph");return this.ya.oz({UN:this.TE.bind(this)},{UN:function(){return x.qI[v.u.Y];}},{UN:this.dI.bind(this)});};c.prototype.hm=function(){var x;!1;this.ug.set(l.Tb.pl);null === (x=this.ya) || void 0 === x?void 0:x.Hya("intrplay",l.kc.hm);this.ti.emit("underflow",{type:"underflow",pts:this.ti.Dd});this.yI(this.Dm);};c.prototype.T$=function(x,z){this.fba.T$(x,z);};c.prototype.open=function(){this.bR || (this.debug.assert(this.ya,"has access to asePlaygraph"),this.debug.assert(this.sb,"has access to asePlayer"),!1,this.bR=this.Ah=!0,this.ya.open(),this.debug.assert(this.nw,"invalid start position relative to playgraph"),this.ya.LC(this.nw,l.L.Na(this.j.gb)),this.ug.set(l.Tb.Ne),this.yI(this.Dm),this.ya.hv(this.sb),this.VQb());};c.prototype.play=function(){this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.sb,"has access to asePlayer");!1;0 !== this.ya.state && (this.sb.resume(this.YG?[v.u.fa,v.u.Ga]:void 0),this.ug.set(l.Tb.Oe),this.ti.emit("playing",{type:"playing",pts:this.ti.Dd}));};c.prototype.stop=function(){var x;!1;this.ug.set(l.Tb.J0);null === (x=this.sb) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.ti.emit("paused",{type:"paused",pts:this.ti.Dd});};c.prototype.flush=function(){this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.Mh,"has access to streamingEngine");!1;this.bR && this.ug.value !== l.Tb.ss && this.ug.value !== l.Tb.J0 && this.stop();this.ya.Hya("endplay",l.kc.ei);this.ya.Df();this.Mh.Bj.save();this.Mh.NV.save();};c.prototype.Wn=function(){var x;return null === (x=this.ya) || void 0 === x?void 0:x.Uc;};c.prototype.vka=function(x){var z;this.debug.assert(this.ya,"has access to asePlaygraph");z=l.L.Na(x);return (z=this.ya.Zk(z,{i4b:!0,h4b:!0}))?this.ya.ca.O[z.I].ta + Number(z.offset.G.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.xka=function(x,z){this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.Fc,"has access to internalLogger");!1;this.ya.ca.O[x] || (x=this.Fma(z));this.debug.N2(x,"has access to segmentId");x={I:x,offset:l.L.Na(z - this.ya.ca.O[x].ta)};if(x=this.ya.GB(x))return x.G;!1;return z;};c.prototype.Twb=function(x,z){var A,B,C,D;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.sb,"has access to asePlayer");!1;z && this.ya.ca.O[z] || (z=null !== (A=this.Fma(x)) && void 0 !== A?A:null === (B=this.sb) || void 0 === B?void 0:B.yg.I);z=this.j.Si(z);x={Gl:l.L.Na(x),J:z.P};return null === (D=null === (C=this.ya.ht(x)) || void 0 === C?void 0:C.Ka) || void 0 === D?void 0:D.G;};c.prototype.B4=function(x){var z;z=void 0 === z?!0:z;!1;this.Ah?Number.isFinite(x) && (this.debug.assert(this.sb,"has access to asePlayer"),z?this.sb.Rbb(x):this.sb.Qbb(x)):this.fail("Must call open prior to drmReady");};c.prototype.R1a=function(){var x;return null !== (x=this.sb) && void 0 !== x && x.Nd?this.sb.LU(this.rb.ba.J):!1;};c.prototype.bi=function(x){var z,A;!1;if(!this.sb)return (!1,!1);z=this.Wn();x=l.L.Na(x);A=this.sb.bi(x);return z && this.j.PL()?A && z.bi(x):A;};c.prototype.L1b=function(x,z){var A;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.sb,"has access to asePlayer");!1;z && this.ya.ca.O[z] || (z=null !== (A=this.Fma(x)) && void 0 !== A?A:this.rb.hh);this.debug.N2(z,"has access to segmentId");this.debug.assert(this.ya.ca.O[z],"segment exists in playgraph map");z={I:z,offset:l.L.Na(x - this.ya.ca.O[z].ta)};this.ya.LC(z,l.L.Na(x));this.sb.resume();this.ug.set(l.Tb.Ne);this.yI(this.Dm);x=this.ya.dbb(z);this.debug.assert(x,"Valid position must be provided for seek");};c.prototype.addEventListener=function(x,z){this.events.addListener(x,z);return this;};c.prototype.removeEventListener=function(x,z){this.events.removeListener(x,z);return this;};c.prototype.K7b=function(x,z){var A;!1;A={};this.ya.dj((A[x]=z,A));};c.prototype.u3=function(x,z){var A,B;this.debug.assert(this.Fc,"has access to internalLogger");this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.sb,"has access to asePlayer");!1;A=this.Zn().id;B=this.ya.WT(A,x);if(z){if(!B.O8b)return (this.Fc.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + A)),!1);if(void 0 !== B.ysa)return (!1,B.ysa === x);this.ya.Oj(A,x,!1,z);return !0;}if(void 0 !== B.ysa)return (!1,!1);B.pS && (this.sb.reset(),this.ya.Oj(A,x,!1,z),this.sb.resume(),this.ug.set(l.Tb.Ne),this.yI(this.Dm));return !!B.pS;};c.prototype.Oj=function(x,z,A,B){this.debug.assert(this.ya,"has access to asePlaygraph");!1;this.ya.Oj(x,z,A,B);};c.prototype.RH=function(){var x;this.debug.assert(this.Fc,"has access to internalLogger");!1;x=this.ti.Dd;!1;this.ti.emit("skipped",{type:"skipped",pts:x});return new l.wQ(Promise.resolve()).$0b;};c.prototype.P5=function(x,z){var A;return null === (A=this.ya) || void 0 === A?void 0:A.P5(x,z);};c.prototype.Fma=function(x){var z,A,B,C,D,F,G,E;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.Fc,"has access to internalLogger");!1;z=this.ya.ca;A=[];B=Infinity;for(C in z.O){D=z.O[C];F=D.ta;D=D.va;G=x < Number(null !== D && void 0 !== D?D:Infinity);if(F <= x && G)(!1,A.push(C));else if((F=Math.min(Math.abs(x - F),Math.abs(x - D)),F < B)){B=F;E=C;}}x=A[0] || E;this.debug.N2(x,"has access to locatedSegmentId");!1;return x;};c.prototype.VQb=function(){var x,z;x=this;this.debug.assert(this.j.Fb,"has access to mediaElement");z=this.j.Fb.$;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){x.ug.value === l.Tb.Rh && (x.ug.set(l.Tb.Oe),x.ti.emit("playing",{type:"playing",pts:x.ti.Dd}));});z.addEventListener("pause",function(){x.ug.value === l.Tb.Oe && (x.ug.set(l.Tb.Rh),x.ti.emit("paused",{type:"paused",pts:x.ti.Dd}));});};c.prototype.fail=function(x){var z;null === (z=this.ya) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.yI=function(x){var z,A,B,C,D,F,G,E;z=this;if(x !== this.Deb && this.xya)(!1,this.e8a=x);else {E=null === (A=this.sb) || void 0 === A?void 0:A.xr.value;A=null === (B=this.ya) || void 0 === B?void 0:B.Pd.value;B=!0 === E;E=A === l.Rc.rl;!1;null === (C=this.sb) || void 0 === C?void 0:C.xr.removeListener(this.o6a);null === (D=this.ya) || void 0 === D?void 0:D.Pd.removeListener(this.XTa);B && E?x():(this.o6a=function(){return z.yI(x);},this.XTa=function(){return z.yI(x);},null === (F=this.sb) || void 0 === F?void 0:F.xr.addListener(this.o6a),null === (G=this.ya) || void 0 === G?void 0:G.Pd.addListener(this.XTa));}};c.prototype.e_a=function(x){var z,A;z=this;x=this.j.ek(x);return Promise.resolve(null !== (A=x.X) && void 0 !== A?A:this.R9(x)).then(function(B){B=B.Fa;return {X:B,nv:B.o6 && !B.IB,config:z.$h,Bg:[].concat(ca(z.Bg))};});};c.prototype.R9=function(x){var z,A,B,C,D;z=this;!1;B=Promise.resolve();if(x.Cf){C=x.Cf.xd;(D=null === (A=this.j.ek(C).X) || void 0 === A?void 0:A.Fa)?x.Cf.mW=D:B=this.Me.Rm(C).jq.then(function(F){return F.X;}).then(function(F){x.Cf.mW=F;}).catch(function(){return z.j.pd(d.V.GD,d.S.ohb);});}return B.then(function(){return z.j.R9(x);}).then(function(){return x.X;});};c.prototype.pv=function(x,z,A){var B,C,D,F,G,E,I,M,L,K,O,H,J;B=this;this.debug.assert(this.Mh,"has access to streamingEngine");!1;L={J:x,xd:null === (C=null === z || void 0 === z?void 0:z.Bf) || void 0 === C?void 0:C.xd,$b:null === (D=null === z || void 0 === z?void 0:z.Bf) || void 0 === D?void 0:D.$b};if(!this.Me.has(L)){if(!this.j.u6(x) && (null === (F=null === z || void 0 === z?void 0:z.Bf) || void 0 === F?0:F.xd) && this.j.u6(null === (G=null === z || void 0 === z?void 0:z.Bf) || void 0 === G?void 0:G.xd)){C=this.j.ek(null === (E=z.Bf) || void 0 === E?void 0:E.xd);E=null === (I=C.X) || void 0 === I?void 0:I.Fa.$b;I=this.j.h0a(x);(null === (M=null === I || void 0 === I?void 0:I.Fa) || void 0 === M?0:M.$b) && I.Fa.$b === E && (K=I);this.j.mWa(x,z,C.na,K);}this.j.u6(x) && (O=this.j.ek(x));H=A?A.na:O?O.na:void 0;M=A?A.Tp:O?O.xf:void 0;this.Me.store(L,{sUa:function(){},equals:function(N){return N && N.J === L.J && (H === N.na || !N.na || !H);},get jq() {J || (J=B.e_a(x));return J;},set jq(N) {J=N;},events:new f.EventEmitter(),na:H,J:L.J,Uq:!1,Wxa:!1});this.$h.ZK && this.Mh.WN(this.Me.Rm(L.J,z),{na:H,Tp:M,tla:null === A || void 0 === A?void 0:A.lB});}};c.prototype.FO=function(x){var z,A,B;this.debug.assert(this.Mh,"has access to streamingEngine");!1;z=this.j.Si(x);A=z.Cf;z={J:z.P,xd:null === A || void 0 === A?void 0:A.xd,$b:null === A || void 0 === A?void 0:A.$b};x=this.rb.he(x).J;if(!this.Me.has(z))return Promise.resolve();A && (B={Bf:{$b:null === A || void 0 === A?void 0:A.$b,xd:A.xd}});A=this.Me.Rm(x,B);A.jq=this.e_a(x);return this.Mh.FO(A);};c.prototype.WT=function(x){var z;this.debug.assert(this.sb,"has access to asePlayer");this.debug.assert(this.ya,"has access to asePlaygraph");return this.ya.WT(null === (z=this.sb.Zn().v) || void 0 === z?void 0:z.id,x);};c.prototype.zB=function(x){var z;x=null === (z=this.ya) || void 0 === z?void 0:z.zB(x);!1;return x;};c.prototype.vOb=function(x){var z,A;z=x.IWa;A=x.I;this.debug.assert(this.Mh,"has access to streamingEngine");this.debug.assert(this.Fc,"has access to internalLogger");!1;x=this.j.Si(A);x=this.rb.V5(x);A=x.O[A];this.debug.assert(A,"segment exists");this.nw=(0,q.l1a)(A.J,x,this.j.gb,A.ta);z=Object.create(this.$h,{lB:{value:z.lB},I4:{value:this.j.background.value}});this.ug=new t.Hb(l.Tb.rs);this.ya=this.Mh.UR(x,this.$h.SXb,z,this.Me);this.fba=new l.BQ(this.Fc);z=this.ya.AK(this.fba);x=this.ya.zK();this.ya.$wa(x,z);this.oz();this.YG=!1;};c.prototype.CK=function(){var x,z,A;x=this;this.debug.assert(this.Mh,"has access to streamingEngine");this.debug.assert(this.j.X,"has access to playback manifest");!1;A=null === (z=this.j.X) || void 0 === z?void 0:z.Fa;z=void 0 !== this.dI(A,A.iI);A=[].concat(ca(this.Bg));z && A.push(v.u.Ga);z=Object.create(this.$h,{Bg:{value:A},Vna:{value:function(){return x.VKb();}}});this.ti=Object.create(new f.EventEmitter(),{Dd:{get:function(){x.debug.M2(x.j.mediaTime.value,"has access to mediaTime.value");return l.L.Na(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},BKb:{value:function(){x.debug.assert(x.j.Fb,"has access to mediaElement");return x.j.Fb;}}});this.sb=this.Mh.gtb(this.ti,z);};c.prototype.VKb=function(){this.mo || (this.mo=new l.platform.MediaSource(this.ti),this.mo.uf || (this.mo.uf=l.platform.MediaSource.uf));return this.mo;};Xa.Object.defineProperties(c.prototype,{xya:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.vR && void 0 !== this.wR;}},Jc:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Mh,"has access to streamingEngine");return this.Mh.Jc;}},wj:{configurable:!0,enumerable:!0,get:function(){for(var x,z=null === (x=this.ya) || void 0 === x?void 0:x.wj;null === z || void 0 === z?0:z.wj;){z=z.wj;}return null === z || void 0 === z?void 0:z.ca;}},sVa:{configurable:!0,enumerable:!0,get:function(){for(var x=this.sb;null === x || void 0 === x?0:x.EU;){x=x.EU;}return x;}},dCb:{configurable:!0,enumerable:!0,get:function(){var x,z,A;if(null === (x=this.sVa) || void 0 === x?0:x.Nd){A=(x=this.sVa.yg) && (null === (z=this.wj) || void 0 === z?void 0:z.O[x.I]);if(A)return {Gl:l.L.Na(x.offset.G + A.ta),J:A.J};}}}});b.Bda=c;},13005:function(r,b,a){var l,f,k,d;function c(g){function n(h,m){this.W=h;this.ipb=m;this.vma=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Ii=g.$a("DownloadTrack");}n.prototype.$s=function(){!1;this.DR=void 0;this.emit("destroyed");};n.prototype.toString=function(){return "id:" + this.DR + " config: " + JSON.stringify(this.W);};n.prototype.toJSON=function(){return "Download Track id:" + this.DR + " config: " + JSON.stringify(this.W);};n.prototype.eM=function(){return void 0 === this.DR?!1:!0;};n.prototype.lva=function(h){this.W.connections !== h.connections && (this.W=h);};Xa.Object.defineProperties(n.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.DR;}},Pn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.DR;}},config:{configurable:!0,enumerable:!0,get:function(){return this.W;}},t9:{configurable:!0,enumerable:!0,get:function(){return this.Ii;}},BV:{configurable:!0,enumerable:!0,get:function(){return this.ipb.BV;}},Mdb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});this.rP=Object.assign(n,new k.yDa());}Object.defineProperty(b,"__esModule",{value:!0});b.xDa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(67263);d=a(22699).EventEmitter;c=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab))],c);b.xDa=c;},22806:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t,w,v){this.eK=q;this.Ge=t;this.zb=w;this.Ea=v;this.log=u.$a("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.oIa=void 0;r=a(5163);l=a(48220);f=a(24550);k=a(36129);d=a(87386);g=a(22674);n=a(32934);h=a(42207);m=a(81918);p=a(5021);c.prototype.QF=function(){return this.Ea.Jb().da(p.pa);};c.prototype.BUb=function(q,u){q.EUb({mediaRequest:q,timestamp:u});};c.prototype.Y8=function(q){var u,t;t=q.mediaRequest.hC;t.D7a(Object.assign(Object.assign({},q),{timestamp:q.connect?q.timestamp:this.QF(),connect:null !== (u=q.connect) && void 0 !== u?u:!1,mediaRequest:t,readyState:t.readyState}));};c.prototype.PM=function(q){this.BUb(q.mediaRequest.hC,q.timestamp);};c.prototype.TG=function(q){var u,t;u=q.mediaRequest.hC;t=q.bytes;"undefined" === typeof u?!1:(u.readyState === l.Yc.Nc.dx && this.Y8(q),this.zb.Zj(t) && (q.mediaRequest=u,q.timestamp=this.QF(),t > u.bytesReceived && (q.newBytes=t - u.bytesReceived,q.bytesLoaded=t,u.HUb(q))));};c.prototype.dn=function(q){var u,t,w,v;u=q.mediaRequest;t=q.errorcode;w=q.httpcode;v=l.Yc.SZ;if("undefined" === typeof u)!1;else if((u=u.hC,"undefined" === typeof u))!1;else if(t === k.S.xD)(q.mediaRequest=u,q.readyState=u.readyState,u.zUb(q));else {switch(t){case k.S.FP:w=v.aCa;break;case k.S.ada:w=v.Xca;break;case k.S.CP:w=400 < w && 500 > w?452 === w?v.xFa:v.Zca:500 <= w?v.$ca:v.Xca;break;case k.S.DP:w=v.Yca;break;case k.S.BP:w=v.bCa;break;case k.S.EP:w=v.P_;break;case k.S.yD:w=v.P_;break;case k.S.wFa:w=v.vFa;break;case k.S.sFa:w=v.Zca;break;case k.S.tjb:w=v.Yca;break;default:w=v.P_;}q.mediaRequest=u;q.readyState=u.readyState;q.errorcode=w;q.nativecode=t;u.Jsa(q);}};c.prototype.OM=function(q,u){var t,w;t=u.request.hC;if(t)if(u.ia){if((!1,q.j && t.readyState !== l.Yc.Nc.DONE)){switch(t.readyState){case l.Yc.Nc.Yr:!1;return;case l.Yc.Nc.ql:break;case l.Yc.Nc.dx:this.Y8({mediaRequest:u.request,responseHeaders:u.headers,httpCode:u.Ym});break;default:!1;}if(!t.He){w={mediaRequest:t,readyState:t.readyState,timestamp:this.QF(),cadmiumResponse:u};q.j.vya+=1;t.fMb();t.DPb() && (q.j.Vva+=1,u.Tl.Zi=Math.ceil(t.Nma),u.Tl.fq=Math.ceil(t.hF),u.Tl.hz=Math.floor(t.cC));t.Hyb=w;t.LM(w);}}}else (!1,t.readyState === l.Yc.Nc.Yr?!1:this.dn({mediaRequest:u.request,errorcode:u.Aa,httpcode:u.Hl,responseHeaders:u.headers,cadmiumResponse:u}));};c.prototype.download=function(q,u){var t;t=this;u=this.Ge.download(q,u);q.hC && q.hC.readyState === l.Yc.Nc.OPENED && u.Q2b(function(w){t.PM(w);});u.q2(function(w){t.OM(q,w);});u.W2b(function(w){t.TG(w);});return u;};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.ZO)),r.__param(1,(0,g.l)(d.ab)),r.__param(2,(0,g.l)(n.zu)),r.__param(3,(0,g.l)(h.Qf)),r.__param(4,(0,g.l)(m.Lc))],a);b.oIa=a;},77425:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.Ea=t;this.kt=w;this.config=v;this.Ge=x;this.ZSb=z;this.log=y.$a("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.yIa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(32934);d=a(24240);g=a(51344);n=a(48220);h=a(81918);m=a(5021);p=a(34231);q=a(4203);u=a(60328);c.prototype.ET=function(t,w,v){var x,z,A,B;function y(){var C;t.removeEventListener(n.Yc.Bk.$z,y);C=x.config().tGb;void 0 === t.lL?t.lL=0:t.lL++;t.lL >= C.length && (t.lL=C.length - 1);ob.clearTimeout(t.uma);t.uma=ob.setTimeout(function(){x.ET(t,w,v);},C[t.lL]);}x=this;t.ahc=!0;z=0 === w.start && -1 === w.end;z={url:t.url,responseType:this.Ge.D0.iBa,withCredentials:!1,gB:t.mediaType === u.u.fa?"audio":"video",offset:z?void 0:w.start,length:z?void 0:t.Eo,track:{type:t.mediaType === u.u.fa?g.Vj.audio:g.Vj.video},stream:{Vb:t.Gb,bitrate:t.bitrate},Dc:{id:t.Qc},hC:t,NH:v,Ur:this.kt.Ur,Kr:t.Kr};A=t.aL;void 0 !== A && void 0 !== A.bu && void 0 !== A.yG && void 0 !== A.zG && (z.aL=[A.zG,A.yG,A.bu,A.fVa]);B=this.QF();z=this.ZSb.download(z,function(C){C.ia && t.readyState !== n.Yc.Nc.DONE && (t.readyState === n.Yc.Nc.Yr?!1:(t.readyState === n.Yc.Nc.dx?t.D7a({mediaRequest:t,readyState:t.readyState,timestamp:t.He?B:x.QF(),connect:!1,responseHeaders:C.headers,httpCode:C.Ym}):t.readyState !== n.Yc.Nc.dx && t.readyState !== n.Yc.Nc.ql && !1,C={mediaRequest:t,readyState:t.readyState,timestamp:x.QF(),cadmiumResponse:C,response:C.content},t.Hyb=C,t.LM(C)));});t.addEventListener(n.Yc.Bk.$z,y);t.kpa=z.abort;};c.prototype.ORa=function(t){try{ob.clearTimeout(t.uma);t.uma=void 0;t.lL=void 0;t.kpa();}catch(w){this.log.warn("exception aborting request");}};c.prototype.QF=function(){return this.Ea.Jb().da(m.pa);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.Lc)),r.__param(1,(0,l.l)(p.vn)),r.__param(2,(0,l.l)(q.Yb)),r.__param(3,(0,l.l)(f.ab)),r.__param(4,(0,l.l)(k.zu)),r.__param(5,(0,l.l)(d.pIa))],a);b.yIa=a;},89936:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u,t,w,v,y,x){function z(B,C){this.track=B;this.label=C;this.Te=m.Yc.Nc.UNSENT;this.bytesReceived=0;this.fX=[];}function A(B,C,D){this.requestId=x.$A().toString();this.zb=w;this.log=t.$a("MediaRequest");this.config=u;this.Ib=new h.Uj();this.label=C;"notification" === this.label?this.config().ZK && (this.BV=v):this.BV=y;D && (this.mediaType=D.mediaType,this.Gb=D.Gb,this.bitrate=D.bitrate,this.Qc=D.Qc || 0,this.zt=D.zt,this.I=D.I);this.FU=this.m3=this.n3=void 0;this.track=B;this.mK=this.url=this.responseType=void 0;this.Te=m.Yc.Nc.UNSENT;this.Vi=this.uB=this.Uf=this.status=void 0;this.bytesReceived=0;this.connect=this.Nma=this.hF=this.cC=this.Bqa=this.ki=this.Mma=this.loadTime=this.pRa=void 0;this.fX=[];this.Pn=!1;!1;}z.prototype.addEventListener=function(B,C,D){this.Ib.addListener.call(this,B,C,D);};z.prototype.removeEventListener=function(B,C){this.Ib.removeListener.call(this,B,C);};z.prototype.emit=function(B,C,D){this.Ib.Ec.call(this,B,C,D);};z.prototype.EUb=function(B){this.Te === m.Yc.Nc.OPENED && (this.FU=!0,this.loadTime=this.ki=B.timestamp,!1,this.Te=m.Yc.Nc.dx,this.emit(m.Yc.Bk.oJa,B));};z.prototype.D7a=function(B){var C;B.responseHeaders && (this.l$=B.responseHeaders);B.httpCode && (this.status=B.httpCode);if(this.Te < m.Yc.Nc.ql){this.fX=[];C=B.timestamp - this.loadTime;!this.He && 0 < C && (this.connect=!0,this.fX.push(C));!0 === this.config().PNb?this.Mma=B.timestamp:this.Mma=this.ki=B.timestamp;!1;this.Te=m.Yc.Nc.ql;200 <= this.status && 299 >= this.status && this.emit(m.Yc.Bk.nJa,B);}};z.prototype.HUb=function(B){this.Te === m.Yc.Nc.ql && (!1,this.Bqa=this.ki=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.zb.pg(this.Bqa) && 200 <= this.status && 299 >= this.status && this.emit(m.Yc.Bk.pJa,B));};z.prototype.LM=function(B){var C;if(-1 < [m.Yc.Nc.dx,m.Yc.Nc.ql].indexOf(this.Te)){this.FU=!1;!1;this.ki=B.timestamp;this.Te=m.Yc.Nc.DONE;C=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.Tl.J3;(0,q.oa)(this.bytesReceived === this.Eo,"bytesReceived do not match expected totalBytes.");B.newBytes=this.Eo - C;this.zb.pg(this.hF) && (this.ki=this.hF,0 === B.newBytes && (this.Bqa=this.hF));this.zb.pg(this.cC) && (this.loadTime=this.cC);this.pRa=B.response;this.emit(m.Yc.Bk.eQ,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",w0b:B});}};z.prototype.zUb=function(B){this.FU=!1;!1;this.emit(m.Yc.Bk.imb,B);};z.prototype.Jsa=function(B){var C,D;this.ki=B.timestamp;this.status=null !== (C=B.httpcode) && void 0 !== C?C:this.status;this.l$=null !== (D=B.responseHeaders) && void 0 !== D?D:this.l$;this.Uf=B.errorcode;this.uB=m.Yc.SZ.name[this.Uf];this.Vi=B.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",UFb:B});this.emit(m.Yc.Bk.$z,B);this.FU=!1;};z.prototype.open=function(B,C,D,F,G,E,I,M,L){this.ow=!1;this.mK=C;this.NH=I;this.Kr=M;this.aL=L;this.url=B;this.responseType=D;!1;return this.url?this.sG():(!1,!1);};z.prototype.sG=function(){this.Te=m.Yc.Nc.OPENED;this.status=this.bytesReceived=0;this.Vi=this.uB=this.Uf=this.l$=void 0;this.BV.ET(this,this.mK,this.NH);return !0;};z.prototype.Ze=function(){!1;-1 !== [m.Yc.Nc.OPENED,m.Yc.Nc.dx,m.Yc.Nc.ql].indexOf(this.Te) && this.abort();return !0;};z.prototype.VX=function(B){!1;this.url=B;return this.Te > m.Yc.Nc.UNSENT?(this.abort(),this.sG()):!0;};z.prototype.abort=function(){this.Te=m.Yc.Nc.Yr;this.BV.ORa(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(B){var C,D;return null !== (D=null === (C=this.l$) || void 0 === C?void 0:C[B.toLowerCase()]) && void 0 !== D?D:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.yN=function(){};z.prototype.Ti=function(){return this.requestId;};z.prototype.toString=function(){var B;B={requestId:this.Ti(),segmentId:this.I,isHeader:this.He,ptsStart:this.rN,ptsOffset:this.O9,responseType:this.responseType,duration:this.dt,readystate:this.Te,bitrate:this.bitrate};return JSON.stringify(B);};z.prototype.toJSON=function(){return this.toString();};z.prototype.fMb=function(){var B,C;if(this.config().Tfb && d.Eu && d.Eu.getEntriesByType && (!this.zb.pg(this.cC) || !this.zb.pg(this.hF) && this.zb.pg(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.n3 + "-" + this.m3 + "*");C=new RegExp(B);B=d.Eu.getEntriesByType("resource").filter(function(D){return C.exec(D.name);})[0];this.zb.pg(B) && (0 < B.startTime && (this.cC=B.startTime,0 < B.requestStart && (this.cC=Math.max(this.cC,B.requestStart))),0 < B.responseStart && (this.Nma=B.responseStart),0 < B.responseEnd && (this.hF=B.responseEnd));}};z.prototype.DPb=function(){return this.zb.pg(this.cC) && this.zb.pg(this.hF) && this.zb.pg(this.Nma);};Xa.Object.defineProperties(z.prototype,{Eo:{configurable:!0,enumerable:!0,get:function(){return 0 === this.mK.start && -1 === this.mK.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.mK.end - this.mK.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.m3 - this.n3 + 1;}},bNb:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},He:{configurable:!0,enumerable:!0,get:function(){return !this.zt;}},response:{configurable:!0,enumerable:!0,get:function(){return this.pRa;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Te;}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var C;C=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,C);});this.No=Object.assign(A,m.Yc);}Object.defineProperty(b,"__esModule",{value:!0});b.wIa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(4203);d=a(22365);g=a(42207);n=a(31034);h=a(94886);m=a(48220);p=a(62665);q=a(45146);c=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Yb)),r.__param(1,(0,l.l)(f.ab)),r.__param(2,(0,l.l)(g.Qf)),r.__param(3,(0,l.l)(n.yJa)),r.__param(4,(0,l.l)(n.zIa)),r.__param(5,(0,l.l)(p.Qw))],c);b.wIa=c;},76457:function(r,b,a){var l,f,k;function c(d,g){this.Ge=g;this.log=d.$a("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.xJa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(32934);c.prototype.ET=function(d,g,n){g={url:d.url,I1b:n};!1;d.kpa=this.Ge.S3b(g);};c.prototype.ORa=function(d){try{d.kpa();}catch(g){this.log.warn("exception aborting request");}};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(a.zu))],k);b.xJa=k;},64213:function(r,b,a){var l,f,k,d;function c(g,n){this.pv=void 0 === g?function(){}:g;this.Eva=n;this.yw=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.Efa=void 0;l=a(5163);f=a(93161);k=a(45146);d=a(31149);c.prototype.store=function(g,n){var h,q;h=this.generateKey(g);this.yw.has(h) && this.Gsa(this.yw.get(h),!0);if(!g.xd)for(var m=la(this.yw),p=m.next();!p.done;p=m.next()){q=la(p.value);p=q.next().value;q=q.next().value;p.includes(":" + g.J + ":") && (this.Gsa(q,!0),this.yw.delete(p));}this.yw.set(h,n);};c.prototype.Rm=function(g,n){var h,m,p;p=null === (h=null === n || void 0 === n?void 0:n.Bf) || void 0 === h?void 0:h.$b;h=null === (m=null === n || void 0 === n?void 0:n.Bf) || void 0 === m?void 0:m.xd;m={J:g,xd:h,$b:p};this.has(m) || this.pv(g,n);return this.get(m);};c.prototype.iw=function(g,n){var h;return l.__awaiter(this,void 0,void 0,function p(){var q,u;q=this;return Ja(p,function(t){var w;if(1 == t.Nv)return ((0,k.oa)(n.Bf,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,k.oa)(!!n.Bf.$b,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),t.yja=2,Ma(t,q.Eva(g,n),4));if(2 != t.Nv)return t.return(t.UY);t.yja=0;w=t.IE.NYa;t.IE=null;u=w;throw new f.Dea("Could not hydrate adBreak",{Em:0,xjc:0,errorCode:null !== (h=u.code) && void 0 !== h?h:0,context:{error:u instanceof d.Mc?u.toJSON():u,type:"adBreakHydration"}});});});};c.prototype.has=function(g){g=this.generateKey(g);return this.yw.has(g) && !this.yw.get(g).Uq;};c.prototype.clear=function(){var g;g=this;this.yw.forEach(function(n){g.Gsa(n,!1);});this.yw.clear();};c.prototype.get=function(g){return this.yw.get(this.generateKey(g));};c.prototype.generateKey=function(g){var n,h;n=g.$b;h=g.xd;return g.J.toString() + (h?":" + h:"") + (n?":" + n:"");};c.prototype.Gsa=function(g,n){var h;null === (h=g.events) || void 0 === h?void 0:h.emit("viewableEvicted",{type:"viewableEvicted"});g.Wxa=n;};b.Efa=c;},30326:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.P2=void 0;c=a(32687);b.P2=function(l){var f,k,d,g;f=l.ho;k=l.loadTime;l=l.kma;d=(0,c.Rb)(k)?k:0;g=f[l.target] || ({});f[l.target] !== g && (f[l.target]=g);Object.entries(l.fields).forEach(function(n){var h,m,p,q;h=la(n);n=h.next().value;h=h.next().value;if("object" !== typeof h || null === h)g[n]=h;else {m=h.type;if("count" === m)(void 0 === g[n] && (g[n]=0),++g[n]);else if(void 0 !== h.value){if("array" === m){m=g[n];p=h.adjust;q=h.value;m || (m=g[n]=[]);p && 0 < p.length && p.forEach(function(u){q[u]-=d || 0;});m.push(q);}else g[n]="sum" === m?(g[n] || 0) + h.value:h.value;}else g[n]=h;}});};},64302:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.l1a=void 0;c=a(93161);l=a(45146);b.l1a=function(f,k,d,g){return k.O[k.xe].ta === g?(f=(0,c.wp)(k,f,c.L.Na(d)),(0,l.oa)(f,"has valid start position relative to playgraph"),f):{I:k.xe,offset:c.L.Ha};};},11479:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oh="AsyncComponentLoaderSymbol";},87284:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.mTa=void 0;r=a(22674);c=a(31073);l=a(11479);b.mTa=new r.dd(function(f){f(l.Oh).to(c.$Aa).ha();});},31073:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w;function c(v,y,x,z,A,B){var C;C=this;this.vk=v;this.config=x;this.vo=z;this.debug=A;this.Ea=B;this.ueb=[];this.Xc={};this.log=y.$a("loadAsync");this.WRb=(0,u.LEa)(function(D){C.O_b=!0;C.startTime=C.Ea.Jb().da(p.pa);C.load(C.ueb).then(function(){C.endTime=C.Ea.Jb().da(p.pa);D(w.bg);}).catch(function(F){C.endTime=C.Ea.Jb().da(p.pa);D(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.$Aa=void 0;r=a(5163);l=a(77134);f=a(36129);k=a(96813);d=a(63156);g=a(22674);n=a(87386);h=a(4203);m=a(59818);p=a(5021);q=a(90597);u=a(22894);t=a(81918);w=a(33096);c.prototype.fV=function(v){this.WRb(v);};c.prototype.register=function(v,y){this.debug.assert(!this.O_b);this.ueb.push({rRb:this.Xwb(y),errorCode:v});};c.prototype.ke=function(v){this.debug.assert(void 0 === this.Xc[v]);this.Xc[v]=this.Ea.Jb().da(p.pa);};c.prototype.load=function(v){var y;y=this;return (0,k.R9a)(v).then(function(x){y.vk.mark(d.Tj.ij.khb);return x.reduce(function(z,A){return z.then(function(){return y.pRb(A);});},Promise.resolve()).then(function(){y.vk.mark(d.Tj.ij.ihb);});});};c.prototype.pRb=function(v){var y,x;y=this;x=v.rRb;!1;return this.vo.cq((0,p.Ob)(this.config().Eub),x()).catch(function(z){y.log.error("Failed to load component " + v.errorCode,z);y.vk.mark(d.Tj.ij.jhb);if(z instanceof m.wq)throw {Aa:f.S.hhb,errorCode:v.errorCode};z.errorCode=z.errorCode || v.errorCode;z.Aa=z.Aa || f.S.ghb;throw z;});};c.prototype.Xwb=function(v){return function(){return new Promise(function(y,x){v(function(z){z.ia?y():x(z);});});};};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(l.pJ)),r.__param(1,(0,g.l)(n.ab)),r.__param(2,(0,g.l)(h.Yb)),r.__param(3,(0,g.l)(m.bA)),r.__param(4,(0,g.l)(q.Hw)),r.__param(5,(0,g.l)(t.Lc))],a);b.$Aa=a;},96813:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.R9a=void 0;c=a(36129);l=[c.V.Lkb,c.V.eGa,c.V.fGa,c.V.jGa,c.V.bGa,c.V.$Fa,c.V.dda,c.V.Pkb,c.V.cGa,c.V.aGa,c.V.Uz,c.V.XFa,c.V.ZFa,c.V.gGa,c.V.hGa,c.V.iGa,c.V.dGa,c.V.YFa];(function(k){k.cmb=function(d){var h;for(var g={},n=0;n < d.length;n++){h=d[n];if(g[h.errorCode])return {errorCode:h.errorCode,Aa:c.S.ehb};g[h.errorCode]=1;}};k.dmb=function(d){var n;for(var g=0;g < d.length;g++){n=d[g];if(-1 === l.indexOf(n.errorCode))return {errorCode:n.errorCode,Aa:c.S.fhb};}};})(f || (f={}));b.R9a=function(k){return new Promise(function(d,g){var n;n=f.dmb(k);n && g(n);(n=f.cmb(k)) && g(n);d(k.sort(function(h,m){return l.indexOf(h.errorCode) - l.indexOf(m.errorCode);}));});};},81918:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lc="ApplicationSymbol";},6405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fw="Base16EncoderSymbol";},2248:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zg="Base64EncoderSymbol";},22816:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nD="BrowserInfoSymbol";},33258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gca="CachedErrorsSymbol";},30869:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ag="ClockSymbol";},87061:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yCa="ClockConfigSymbol";},58098:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OCa="CsvEncoderSymbol";},34043:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JZ="DebouncerFactorySymbol";},90597:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cDa="DebugConfigSymbol";b.Hw="DebugSymbol";},2762:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qnb=b.xjb=b.dDa=void 0;r=b.dDa || (b.dDa={});r.Occ="PboDebugEvent";r.Rcc="PlaygraphEvent";b.xjb={Mbc:"Manifest",Event:"Event",zbc:"Logblob"};b.qnb={Ldc:"UX",bac:"Combined_1",cac:"Combined_2"};},28131:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O,H,J,N,R,T,ka,sa,ia,wa,Aa,La,Ya,ab,aa,oa,Ga,Sa,Q,da,P,Y,ta,Ha,Wa,$a,fb,sb,Jb,Ua,bb,kb,rb,qb,yb,Ab,Lb,Sb,Xb;Object.defineProperty(b,"__esModule",{value:!0});b.Px=void 0;r=a(22674);c=a(63368);l=a(30869);f=a(53085);k=a(62665);d=a(10306);g=a(61909);n=a(11629);h=a(67525);m=a(691);p=a(84408);q=a(6405);u=a(2248);t=a(74870);w=a(42207);v=a(15160);y=a(59818);x=a(67572);z=a(53399);A=a(33543);B=a(30033);C=a(24900);D=a(4734);F=a(76564);G=a(31811);E=a(55099);I=a(88490);M=a(57180);L=a(9002);K=a(81918);O=a(58098);H=a(76928);J=a(69997);N=a(90597);R=a(85125);T=a(87386);ka=a(87061);sa=a(84183);ia=a(77134);wa=a(1639);Aa=a(91591);La=a(69216);Ya=a(49721);ab=a(45842);aa=a(22365);oa=a(78789);Ga=a(20483);Sa=a(77687);Q=a(6214);da=a(31298);P=a(4203);Y=a(91581);ta=a(79274);Ha=a(36582);Wa=a(22816);$a=a(66057);fb=a(44720);sb=a(95947);Jb=a(4246);Ua=a(84130);bb=a(34043);kb=a(61453);rb=a(90030);qb=a(2010);yb=a(50093);Ab=a(75236);Lb=a(76892);Sb=a(33258);Xb=a(19699);b.Px=new r.dd(function(Ib){Ib(c.s0).XC(function(){return {};}).ha();Ib(c.BD).gl(JSON);Ib(c.iPa).gl(ob);Ib(d.TNa).gl(Math);Ib(c.pHa).gl(aa.h0);Ib(c.sea).gl(aa.Eu);Ib(c.JOa).gl(aa.MD);Ib(c.$Ca).gl(Date);Ib(c.cJ).gl(aa.Ae);Ib(c.Nlb).gl(aa.Yz);Ib(ka.yCa).to(sa.xCa).ha();Ib(K.Lc).to(L.BAa).ha();Ib(l.ag).to(m.zCa).ha();Ib(f.Th).to(g.YMa).ha();Ib(k.Qw).to(n.rGa).ha();Ib(y.bA).to(D.lMa).ha();Ib(d.E0).to(h.tMa).ha();Ib(Ha.Mda).to(yb.mIa).ha();Ib(N.Hw).to(J.eDa).ha();Ib(N.cDa).to(R.bDa).ha();Ib(p.yq).to(z.KOa).ha();Ib(q.Fw).to(A.Xba).ha();Ib(u.Zg).to(B.pBa).ha();Ib(t.bh).to(C.LOa).ha();Ib(w.Qf).gl(F.AD);Ib(fb.uP).to(sb.uEa).ha();Ib(v.Lca).to(G.Uj).qpa();Ib(v.KZ).to(G.Uj).ha();Ib(v.rDa).to(G.Uj).ha();Ib(v.Pca).to(G.Uj).ha();Ib(I.rfa).to(M.UD).ha();Ib(O.OCa).to(H.NCa).ha();Ib(ia.pJ).to(wa.wfa).ha();Ib(ia.aQ).to(wa.wfa).ha();Ib("Factory<LoggerFactory>").teb(T.ab);Ib(Aa.wca).to(La.gDa).ha();Ib(ab.VD).Zd(function(Nb){return function(Pb){return new Ya.cOa(Nb.lb.get(K.Lc),Nb.lb.get(f.Th),Pb);};});Ib(bb.JZ).Zd(function(Nb){return function(Pb){return new kb.aDa(Nb.lb.get(f.Th),Pb);};});Ib(oa.Qea).A6b(Ga.Pea);Ib(oa.vnb).Zd(function(Nb){var Pb;Pb=Nb.lb.get(oa.Qea);return function(){return new Pb(!1);};});Ib(oa.wnb).Zd(function(Nb){var Pb;Pb=Nb.lb.get(oa.Qea);return function(){return new Pb(!0);};});Ib(Sa.GOa).Zd(function(){return function(Nb){return new Q.HOa(Nb);};});Ib(ta.kQ).Zd(function(Nb){return function(Pb,cc,nc){return new da.xLa(Nb.lb.get(N.Hw),Nb.lb.get(P.Yb),Nb.lb.get(Y.zn),Nb.lb.get(Ha.Mda),Pb,cc,nc);};});Ib(x.vJa).Zd(function(){return function(Nb){return new E.wJa(Nb);};});Ib(Wa.nD).to($a.EBa);Ib(Ab.a1).to(Lb.IOa).ha();Ib(Jb.vQ).Zd(function(Nb){return function(Pb,cc){return new Ua.oOa(Nb.lb.get(f.Th),Pb,cc);};});Ib(rb.nEa).to(qb.mEa).ha();Ib(Sb.gca).to(Xb.jCa).ha();});},90030:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jj="_ANY_";b.nEa="EnricherSymbol";},15160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lca="EventSourceSymbol";b.Pca="GlobalEventSourceSymbol";b.KZ="DebugEventSourceSymbol";b.rDa="DiagnosticsEventSourceSymbol";},44720:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uP="EventSourceFactorySymbol";},62665:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qw="IdProviderSymbol";},42207:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qf="IsTypeSymbol";},43193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vz=void 0;r=b.Vz || (b.Vz={});r[r.Q$b=8]="Backspace";r[r.Fdc=9]="Tab";r[r.Oac=13]="Enter";r[r.ydc=16]="Shift";r[r.hac=17]="Ctrl";r[r.v$b=18]="Alt";r[r.Ncc=19]="PauseBreak";r[r.Z$b=20]="CapsLock";r[r.Qac=27]="Escape";r[r.Adc=32]="Space";r[r.Mcc=33]="PageUp";r[r.Lcc=34]="PageDown";r[r.Nac=35]="End";r[r.rbc=36]="Home";r[r.xbc=37]="LeftArrow";r[r.Ndc=38]="UpArrow";r[r.Wcc=39]="RightArrow";r[r.vac=40]="DownArrow";r[r.ubc=45]="Insert";r[r.tac=46]="Delete";r[r.Wdc=48]="Zero";r[r.Ccc=49]="One";r[r.Idc=50]="Two";r[r.Gdc=51]="Three";r[r.mbc=52]="Four";r[r.kbc=53]="Five";r[r.zdc=54]="Six";r[r.xdc=55]="Seven";r[r.Mac=56]="Eight";r[r.ncc=57]="Nine";r[r.n$b=65]="A";r[r.gZ=66]="B";r[r.T$b=67]="C";r[r.Jib=68]="D";r[r.E=69]="E";r[r.Rac=70]="F";r[r.Oca=71]="G";r[r.pbc=72]="H";r[r.sbc=73]="I";r[r.vbc=74]="J";r[r.kda=75]="K";r[r.jlb=76]="L";r[r.Bda=77]="M";r[r.Qbc=78]="N";r[r.zcc=79]="O";r[r.Ecc=80]="P";r[r.Q=81]="Q";r[r.Tcc=82]="R";r[r.Ycc=83]="S";r[r.pob=84]="T";r[r.Jdc=85]="U";r[r.Odc=86]="V";r[r.Qdc=87]="W";r[r.Sdc=88]="X";r[r.Udc=89]="Y";r[r.Vdc=90]="Z";r[r.ybc=91]="LeftWindowKey";r[r.Xcc=92]="RightWindowKey";r[r.vdc=93]="SelectKey";r[r.pcc=96]="Numpad0";r[r.qcc=97]="Numpad1";r[r.rcc=98]="Numpad2";r[r.scc=99]="Numpad3";r[r.tcc=100]="Numpad4";r[r.ucc=101]="Numpad5";r[r.vcc=102]="Numpad6";r[r.wcc=103]="Numpad7";r[r.xcc=104]="Numpad8";r[r.ycc=105]="Numpad9";r[r.Pbc=106]="Multiply";r[r.u$b=107]="Add";r[r.Bdc=109]="Subtract";r[r.sac=110]="DecimalPoint";r[r.uac=111]="Divide";r[r.Sac=112]="F1";r[r.Wac=113]="F2";r[r.Xac=114]="F3";r[r.Yac=115]="F4";r[r.Zac=116]="F5";r[r.$ac=117]="F6";r[r.abc=118]="F7";r[r.bbc=119]="F8";r[r.cbc=120]="F9";r[r.Tac=121]="F10";r[r.Uac=122]="F11";r[r.Vac=123]="F12";r[r.occ=144]="NumLock";r[r.tdc=145]="ScrollLock";r[r.wdc=186]="SemiColon";r[r.Pac=187]="Equals";r[r.dac=188]="Comma";r[r.rac=189]="Dash";r[r.Pcc=190]="Period";r[r.lbc=191]="ForwardSlash";r[r.Hdc=192]="Tilde";r[r.Dcc=219]="OpenBracket";r[r.P$b=220]="BackSlash";r[r.aac=221]="CloseBracket";r[r.Scc=222]="Quote";},67572:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vJa="OneWayCounterFactorySymbol";},91591:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wca="DecoderTimeoutPathologistSymbol";},91581:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zn="PlatformSymbol";b.t0="PlatformMutableSymbol";},63368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iPa="WindowTimersSymbol";b.BD="JSONSymbol";b.JOa="UserAgentSymbol";b.cJ="NavigatorSymbol";b.Nlb="MediaSourceSymbol";b.pHa="LocationSymbol";b.$Ca="DateSymbol";b.sea="PerformanceSymbol";b.s0="PlatformExtraInfoSymbol";},79274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kQ="PlayerErrorFactorySymbol";},78789:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qea="PrioritizedSetOfListsSymbol";b.vnb="PrioritizedSetOfListsFactorySymbol";b.wnb="PrioritizedSetOfSetsFactorySymbol";},59818:function(r,b){function a(c){var l;l=Error.call(this,"TimeoutError");this.message=l.message;("stack" in l) && (this.stack=l.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.bA=b.wq=void 0;fa(a,Error);b.wq=a;b.bA="PromiseTimerSymbol";},10306:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TNa="SystemRandomSymbol";b.E0="RandomGeneratorSymbol";},53085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Th="SchedulerSymbol";},88490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rfa="StringUtilsSymbol";},14423:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.sfa=void 0;l=a(22365);c.Y0a=function(){var f;f=l.Fu && l.Fu.height;return f?1080 <= f?1080:720:720;};b.sfa=c;},45842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VD="ThrottleFactorySymbol";},4246:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vQ="TimeoutMonitorFactorySymbol";},77134:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pJ="TimingApiSymbol";b.aQ="MilestoneTimingApiSymbol";},77687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GOa="UrlFactorySymbol";},84408:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yq="Utf8EncoderSymbol";},74870:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bh="UtilitiesSymbol";},36258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IKa="PboPlaydataValidatorSymbol";b.zKa="PboPlaydataArrayValidatorSymbol";b.BKa="PboPlaydataCollectionValidatorSymbol";},63156:function(r,b){var c,l;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Tj=b.Pa=b.ij=void 0;(function(f){f[f.om=0]="STANDARD";f[f.wn=1]="LIMITED";f[f.Gcc=2]="PREVIEW";})(c || (c={}));(function(f){f[f.HAVE_NOTHING=0]="HAVE_NOTHING";f[f.HAVE_METADATA=1]="HAVE_METADATA";f[f.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";f[f.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";f[f.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(l || (l={}));(function(f){f.khb="asl_start";f.ihb="asl_comp";f.t$b="asl_exc";f.jhb="asl_fail";f.Ynb="stf_creat";f.Bkb="idb_open";f.ykb="idb_block";f.Ikb="idb_upgr";f.Hkb="idb_succ";f.zkb="idb_error";f.Akb="idb_invalid_state";f.Dkb="idb_open_timeout";f.Fkb="idb_open_wrkarnd";f.Gkb="idb_storelen_exc";f.Ckb="idb_open_exc";f.Ekb="idb_timeout_invalid_storelen";f.Flb="msl_load_data";f.Hlb="msl_load_no_data";f.Glb="msl_load_failed";})(r=b.ij || (b.ij={}));(function(f){f.fea="PlaybackRequestStart";f.eea="PlaybackRequestEnd";f.C0="RequestPrefetchManifestStart";f.B0="RequestPrefetchManifestEnd";f.A0="RequestManifestStart";f.z0="RequestManifestEnd";f.y0="RequestLicenseStart";f.x0="RequestLicenseEnd";f.iP="RequestTimedTextUrlStart";f.hP="RequestTimedTextUrlEnd";f.gP="RequestAudioUrlStart";f.fP="RequestAudioUrlEnd";f.kP="RequestVideoUrlStart";f.jP="RequestVideoUrlEnd";f.tba="AppendBufferStart";f.sba="AppendBufferEnd";f.bfa="SetMediaKeysStart";f.afa="SetMediaKeysEnd";f.YZ="GenerateChallengeStart";f.XZ="GenerateChallengeEnd";f.YY="ApplyLicenseStart";f.XY="ApplyLicenseEnd";})(b.Pa || (b.Pa={}));b.Tj=a;a.oda=c;a.WVa=function(f){return ["STANDARD","LIMITED","PREVIEW"][f];};a.ij=r;a.Tz=l;},36129:function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Ow=b.sEa=b.rEa=b.Jca=b.qEa=b.TZ=b.d0=b.R_=b.pEa=b.S=b.V=void 0;(function(l){l[l.Ro=7001]="UNKNOWN";l[l.EOa=7002]="UNHANDLED_EXCEPTION";l[l.Lkb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";l[l.mkb=7004]="HLS_NOT_SUPPORTED";l[l.cda=7010]="INIT_ASYNCCOMPONENT";l[l.Pkb=7011]="INIT_HTTP";l[l.Jkb=7014]="INIT_BADMOVIEID";l[l.lGa=7020]="INIT_PLAYBACK_LOCK";l[l.mGa=7022]="INIT_SESSION_LOCK";l[l.Qkb=7029]="INIT_POSTAUTHORIZE";l[l.kGa=7031]="INIT_HEADER_MEDIA";l[l.Rkb=7034]="INIT_TIMEDTEXT_TRACK";l[l.chb=7037]="ASE_SESSION_ERROR";l[l.bhb=7038]="ASE_SEEK_THREW";l[l.dhb=7039]="ASE_SKIPPED_THREW";l[l.Mkb=7041]="INIT_CORE_OBJECTS1";l[l.Nkb=7042]="INIT_CORE_OBJECTS2";l[l.Okb=7043]="INIT_CORE_OBJECTS3";l[l.eGa=7053]="INIT_COMPONENT_STORAGE";l[l.fGa=7054]="INIT_COMPONENT_STORAGELOCK";l[l.bGa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";l[l.dda=7059]="INIT_COMPONENT_DEVICE";l[l.cGa=7063]="INIT_COMPONENT_MSL";l[l.aGa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";l[l.Uz=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";l[l.jGa=7083]="INIT_COMPONENT_WEBCRYPTO";l[l.$Fa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";l[l.YFa=7088]="INIT_COMPONENT_BATTERY_MANAGER";l[l.XFa=7089]="INIT_COMPONENT_ASE";l[l.SI=7091]="INIT_COMPONENT_DRM_CACHE";l[l.Kkb=7092]="INIT_COMPONENT_DRM";l[l.ZFa=7094]="INIT_COMPONENT_FTL";l[l.dGa=7095]="INIT_COMPONENT_PREPARE_MODEL";l[l.gGa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";l[l.hGa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";l[l.iGa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";l[l.GD=7111]="MANIFEST";l[l.rlb=7114]="MANIFEST_MISTMATCH";l[l.KHa=7117]="MANIFEST_VERIFY";l[l.Wnb=7120]="START";l[l.UI=7121]="LICENSE";l[l.Uea=7122]="RELEASE";l[l.Xnb=7123]="STOP";l[l.lda=7125]="KEEPALIVE";l[l.Mmb=7131]="PING";l[l.Xjb=7134]="ENGAGE";l[l.nlb=7137]="LOGBLOB";l[l.Fcc=7138]="PAUSE";l[l.Vcc=7139]="RESUME";l[l.QMa=7140]="SPLICE";l[l.Fhb=7142]="BIND";l[l.Ghb=7144]="BIND_DEVICE";l[l.ikb=7145]="GENERATE_SCREENSHOTS";l[l.Iza=7146]="AD_EVENT";l[l.Qmb=7202]="PLAY_INIT_EXCEPTION";l[l.gea=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";l[l.Wmb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";l[l.KJa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";l[l.Xmb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";l[l.hea=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";l[l.Vmb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";l[l.OJa=7351]="PLAY_MSE_NOTSUPPORTED";l[l.JJa=7353]="PLAY_MSE_DECODER_TIMEOUT";l[l.iea=7355]="PLAY_MSE_SOURCEADD";l[l.IJa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";l[l.gQ=7357]="PLAY_MSE_GENERATEKEYREQUEST";l[l.NJa=7361]="PLAY_MSE_EVENT_ERROR";l[l.eJ=7362]="PLAY_MSE_SETMEDIAKEYS";l[l.tq=7363]="PLAY_MSE_EVENT_KEYERROR";l[l.Zmb=7364]="PLAY_MSE_EME_SESSION_CLOSE";l[l.$mb=7365]="PLAY_MSE_GETCURRENTTIME";l[l.anb=7367]="PLAY_MSE_SETCURRENTTIME";l[l.bnb=7371]="PLAY_MSE_SOURCEAPPEND";l[l.fnb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";l[l.enb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";l[l.dnb=7377]="PLAY_MSE_UNEXPECTED_REWIND";l[l.cnb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";l[l.PJa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";l[l.Rmb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";l[l.Smb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";l[l.Tmb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";l[l.LJa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";l[l.Ymb=7395]="PLAY_MSE_EME_MISSING_PSSH";l[l.MJa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";l[l.Umb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";l[l.p0=7399]="PLAY_MSE_SET_LICENSE_ERROR";l[l.bEa=7400]="EXTERNAL";l[l.o0=7500]="PAUSE_TIMEOUT";l[l.T_=7502]="INACTIVITY_TIMEOUT";l[l.mhb=7510]="AUTHORIZATION_EXPIRED";l[l.Pjb=7700]="EME_INVALID_KEYSYSTEM";l[l.PDa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";l[l.sP=7702]="EME_CREATE_MEDIAKEYS_FAILED";l[l.RZ=7703]="EME_GENERATEREQUEST_FAILED";l[l.WDa=7704]="EME_UPDATE_FAILED";l[l.UDa=7705]="EME_KEYSESSION_ERROR";l[l.TDa=7706]="EME_KEYMESSAGE_EMPTY";l[l.Tjb=7707]="EME_REMOVE_FAILED";l[l.Rjb=7708]="EME_LOAD_FAILED";l[l.Ljb=7709]="EME_CREATE_SESSION_FAILED";l[l.Dca=7710]="EME_LDL_RENEWAL_ERROR";l[l.RDa=7711]="EME_INVALID_INITDATA_DATA";l[l.SDa=7712]="EME_INVALID_LICENSE_DATA";l[l.Qjb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";l[l.ODa=7716]="EME_CLOSE_FAILED";l[l.Eca=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";l[l.Vjb=7718]="EME_SET_SERVER_CERTIFICATE";l[l.Nmb=7800]="PLAYDATA_STORE_FAILURE";l[l.aP=7900]="BRANCH_PLAY_FAILURE";l[l.bP=7901]="BRANCH_QUEUE_FAILURE";l[l.lBa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";l[l.Nhb=7903]="BRANCH_CHOICE_MAP_MISSING";l[l.xmb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.V || (b.V={}));(function(l){l[l.Ro=1001]="UNKNOWN";l[l.kl=1003]="EXCEPTION";l[l.Ukb=1004]="INVALID_DI";l[l.ghb=1011]="ASYNCLOAD_EXCEPTION";l[l.hhb=1013]="ASYNCLOAD_TIMEOUT";l[l.s$b=1015]="ASYNCLOAD_BADCONFIG";l[l.ehb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";l[l.fhb=1017]="ASYNCLOAD_COMPONENT_MISSING";l[l.FP=1101]="HTTP_UNKNOWN";l[l.ada=1102]="HTTP_XHR";l[l.CP=1103]="HTTP_PROTOCOL";l[l.BP=1104]="HTTP_OFFLINE";l[l.EP=1105]="HTTP_TIMEOUT";l[l.yD=1106]="HTTP_READTIMEOUT";l[l.xD=1107]="HTTP_ABORT";l[l.wFa=1108]="HTTP_PARSE";l[l.sFa=1110]="HTTP_BAD_URL";l[l.DP=1111]="HTTP_PROXY";l[l.Ida=1203]="MSE_AUDIO";l[l.Jda=1204]="MSE_VIDEO";l[l.Alb=1250]="MSE_MEDIA_ERR_BASE";l[l.Fbc=1251]="MSE_MEDIA_ERR_ABORTED";l[l.Ibc=1252]="MSE_MEDIA_ERR_NETWORK";l[l.Gbc=1253]="MSE_MEDIA_ERR_DECODE";l[l.Jbc=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";l[l.Hbc=1255]="MSE_MEDIA_ERR_ENCRYPTED";l[l.ds=1260]="EME_MEDIA_KEYERR_BASE";l[l.Eac=1261]="EME_MEDIA_KEYERR_UNKNOWN";l[l.zac=1262]="EME_MEDIA_KEYERR_CLIENT";l[l.Dac=1263]="EME_MEDIA_KEYERR_SERVICE";l[l.Cac=1264]="EME_MEDIA_KEYERR_OUTPUT";l[l.Bac=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";l[l.Aac=1266]="EME_MEDIA_KEYERR_DOMAIN";l[l.Fac=1269]="EME_MEDIA_UNAVAILABLE_CDM";l[l.Ojb=1270]="EME_INTERNAL_ERROR";l[l.Kjb=1271]="EME_CLOSED_BY_APPLICATION";l[l.Sjb=1272]="EME_RELEASE_ACKNOWLEDGED";l[l.Cca=1273]="EME_HARDWARE_CONTEXT_RESET";l[l.Ujb=1274]="EME_RESOURCE_EVICTED";l[l.Njb=1280]="EME_ERROR_NODRMSESSSION";l[l.Mjb=1281]="EME_ERROR_NODRMREQUESTS";l[l.wac=1282]="EME_ERROR_INDIV_FAILED";l[l.xac=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";l[l.Wjb=1284]="EME_TIMEOUT_MESSAGE";l[l.Gac=1285]="EME_TIMEOUT_KEYCHANGE";l[l.VDa=1286]="EME_UNDEFINED_DATA";l[l.LI=1287]="EME_INVALID_STATE";l[l.yac=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";l[l.QDa=1289]="EME_EMPTY_DATA";l[l.tP=1290]="EME_TIMEOUT";l[l.Ybc=1303]="NCCP_METHOD_NOT_SUPPORTED";l[l.acc=1305]="NCCP_PARSEXML";l[l.inb=1309]="PROCESS_EXCEPTION";l[l.$bc=1311]="NCCP_NETFLIXID_MISSING";l[l.bcc=1312]="NCCP_SECURENETFLIXID_MISSING";l[l.Vbc=1313]="NCCP_HMAC_MISSING";l[l.Ubc=1315]="NCCP_HMAC_MISMATCH";l[l.Tbc=1317]="NCCP_HMAC_FAILED";l[l.Sbc=1321]="NCCP_CLIENTTIME_MISSING";l[l.Rbc=1323]="NCCP_CLIENTTIME_MISMATCH";l[l.MEa=1331]="GENERIC";l[l.Slb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";l[l.Tlb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";l[l.ccc=1341]="NCCP_TRANSACTION";l[l.Wbc=1343]="NCCP_INVALID_DRMTYPE";l[l.Xbc=1344]="NCCP_INVALID_LICENCE_RESPONSE";l[l.Zbc=1345]="NCCP_MISSING_PAYLOAD";l[l.Kcc=1346]="PROTOCOL_NOT_INITIALIZED";l[l.Jcc=1347]="PROTOCOL_MISSING_FIELD";l[l.Icc=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";l[l.ex=1402]="STORAGE_NODATA";l[l.ddc=1403]="STORAGE_EXCEPTION";l[l.ldc=1405]="STORAGE_QUOTA_NOT_GRANTED";l[l.mdc=1407]="STORAGE_QUOTA_TO_SMALL";l[l.TMa=1411]="STORAGE_LOAD_ERROR";l[l.Znb=1412]="STORAGE_LOAD_TIMEOUT";l[l.UMa=1414]="STORAGE_SAVE_ERROR";l[l.bob=1415]="STORAGE_SAVE_TIMEOUT";l[l.efa=1417]="STORAGE_DELETE_ERROR";l[l.SMa=1418]="STORAGE_DELETE_TIMEOUT";l[l.kdc=1421]="STORAGE_FS_REQUESTFILESYSTEM";l[l.hdc=1423]="STORAGE_FS_GETDIRECTORY";l[l.jdc=1425]="STORAGE_FS_READENTRIES";l[l.edc=1427]="STORAGE_FS_FILEREAD";l[l.gdc=1429]="STORAGE_FS_FILEWRITE";l[l.fdc=1431]="STORAGE_FS_FILEREMOVE";l[l.idc=1432]="STORAGE_FS_PARSEJSON";l[l.aob=1451]="STORAGE_NO_LOCALSTORAGE";l[l.$nb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";l[l.mcc=1501]="NTBA_UNKNOWN";l[l.lcc=1502]="NTBA_EXCEPTION";l[l.hcc=1504]="NTBA_CRYPTO_KEY";l[l.jcc=1506]="NTBA_CRYPTO_OPERATION";l[l.icc=1508]="NTBA_CRYPTO_KEYEXCHANGE";l[l.kcc=1515]="NTBA_DECRYPT_UNSUPPORTED";l[l.TCa=1553]="DEVICE_NO_ESN";l[l.Tib=1555]="DEVICE_ERROR_GETTING_ESN";l[l.hbc=1701]="FORMAT_UNKNOWN";l[l.ekb=1713]="FORMAT_XML";l[l.ibc=1715]="FORMAT_XML_CONTENT";l[l.fbc=1721]="FORMAT_BASE64";l[l.gbc=1723]="FORMAT_DFXP";l[l.wkb=1801]="INDEXDB_OPEN_EXCEPTION";l[l.VFa=1802]="INDEXDB_NOT_SUPPORTED";l[l.vkb=1803]="INDEXDB_OPEN_ERROR";l[l.WFa=1804]="INDEXDB_OPEN_NULL";l[l.ukb=1805]="INDEXDB_OPEN_BLOCKED";l[l.xkb=1807]="INDEXDB_OPEN_TIMEOUT";l[l.tkb=1808]="INDEXDB_INVALID_STORE_STATE";l[l.U_=1809]="INDEXDB_ACCESS_EXCEPTION";l[l.Klb=1901]="MSL_UNKNOWN";l[l.Dlb=1911]="MSL_INIT_NO_MSL";l[l.RHa=1913]="MSL_INIT_ERROR";l[l.Elb=1915]="MSL_INIT_NO_WEBCRYPTO";l[l.Blb=1931]="MSL_ERROR";l[l.Jlb=1933]="MSL_REQUEST_TIMEOUT";l[l.Ilb=1934]="MSL_READ_TIMEOUT";l[l.Clb=1935]="MSL_ERROR_HEADER";l[l.Kbc=1936]="MSL_ERROR_ENVELOPE";l[l.Lbc=1937]="MSL_ERROR_MISSING_PAYLOAD";l[l.QHa=1957]="MSL_ERROR_REAUTH";l[l.Gfa=2103]="WEBCRYPTO_MISSING";l[l.Rdc=2105]="WEBCRYPTOKEYS_MISSING";l[l.yob=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";l[l.U$b=2200]="CACHEDDATA_PARSEJSON";l[l.OBa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";l[l.V$b=2202]="CACHEDDATA_UPGRADE_FAILED";l[l.Pz=2203]="CACHEDDATA_INVALID_FORMAT";l[l.p$b=3E3]="ACCOUNT_CHANGE_INFLIGHT";l[l.q$b=3001]="ACCOUNT_INVALID";l[l.qac=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";l[l.pac=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";l[l.nac=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";l[l.oac=3201]="DOWNLOADED_LICENSE_UNUSEABLE";l[l.mac=3202]="DOWNLOADED_LICENSE_EXCEPTION";l[l.ndc=3300]="STORAGE_VA_LOAD_ERROR";l[l.odc=3301]="STORAGE_VA_LOAD_TIMEOUT";l[l.rdc=3302]="STORAGE_VA_SAVE_ERROR";l[l.sdc=3303]="STORAGE_VA_SAVE_TIMEOUT";l[l.pdc=3304]="STORAGE_VA_REMOVE_ERROR";l[l.qdc=3305]="STORAGE_VA_REMOVE_TIMEOUT";l[l.dea=3077]="PBO_DEVICE_EOL_WARNING";l[l.AJa=3078]="PBO_DEVICE_EOL_FINAL";l[l.DJa=3100]="PBO_DEVICE_RESET";l[l.CJa=3101]="PBO_DEVICE_RELOAD";l[l.BJa=3102]="PBO_DEVICE_EXIT";l[l.Kmb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.mmb=5005]="PBO_ACCOUNT_ON_HOLD";l[l.vmb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.EJa=5007]="PBO_INCORRECT_PIN";l[l.Hmb=5008]="PBO_MOBILE_ONLY";l[l.Lmb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";l[l.nmb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";l[l.qmb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";l[l.omb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";l[l.pmb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";l[l.rmb=5014]="PBO_ADS_VPN_USE_DETECTED";l[l.Emb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";l[l.Dmb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";l[l.wmb=5017]="PBO_CONTENT_PREVIEW_MFA_REQUIRED_EXCEPTION";l[l.Bmb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";l[l.tmb=5059]="PBO_BLACKLISTED_IP";l[l.smb=5070]="PBO_AGE_VERIFICATION_REQUIRED";l[l.umb=5080]="PBO_CHOICE_MAP_ERROR";l[l.Imb=5090]="PBO_RESTRICTED_TO_TESTERS";l[l.Fmb=5091]="PBO_MALFORMED_REQUEST";l[l.Cmb=5092]="PBO_INVALID_SERVICE_VERSION";l[l.Gmb=5093]="PBO_MDX_INVALID_CTICKET";l[l.Amb=5094]="PBO_FREE_PREVIEW_ENDED";l[l.Jmb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";l[l.zmb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";l[l.ymb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";l[l.Oib=5100]="DECODER_TIMEOUT_BUFFERING";l[l.Qib=5101]="DECODER_TIMEOUT_PRESENTING";l[l.Pib=5102]="DECODER_TIMEOUT_PLAYING";l[l.tjb=5200]="DOWNLOADER_IO_ERROR";l[l.kBa=5300]="BRANCHING_SEGMENT_NOTFOUND";l[l.Jhb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";l[l.C$b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";l[l.Wba=5303]="BRANCHING_ASE_UNINITIALIZED";l[l.y$b=5304]="BRANCHING_ASE_FAILURE";l[l.z$b=5305]="BRANCHING_MOMENT_FAILURE";l[l.Hhb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";l[l.B$b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";l[l.Khb=5308]="BRANCHING_SEEK_THREW";l[l.A$b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";l[l.Ihb=5310]="BRANCHING_PLAY_TIMEDOUT";l[l.Lhb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";l[l.Mhb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";l[l.cob=5500]="STUDIO_MUXED_MANIFEST";l[l.Dda=5600]="MANIFEST_HYDRATION_FAILURE";l[l.ohb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";l[l.phb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";l[l.nhb=5702]="AUXILIARY_MANIFEST_ADBREAK_HYDRATION_FATAL_ERROR";})(c=b.S || (b.S={}));(function(l){l[l.N$b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.D$b=5005]="BR_ACCOUNT_ON_HOLD";l[l.H$b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.K$b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";l[l.G$b=5059]="BR_BLACKLISTED_IP";l[l.E$b=5070]="BR_AGE_VERIFICATION_REQUIRED";l[l.L$b=2204]="BR_PLAYBACK_CONTEXT_CREATION";l[l.I$b=2205]="BR_DRM_LICENSE_AQUISITION";l[l.M$b=2206]="BR_PLAYBACK_SERVICE_ERROR";l[l.J$b=2207]="BR_ENDPOINT_ERROR";l[l.F$b=2208]="BR_AUTHORIZATION_ERROR";})(b.pEa || (b.pEa={}));b.R_={Uhb:"400",Mdc:"401",WJa:"413"};b.d0={dbc:1,Edc:2,Jac:3,Kdc:4,wbc:5,Iac:6,Afa:7,Lac:8,Ucc:9,bdc:10};b.TZ=function(l,f,k,d){return l == a.o0 || l == a.T_ || l == a.gea && 432E5 <= k || l == a.Eca && f === c.Cca && 0 < Number(d);};b.qEa=function(l){return 1100 <= l && 1199 >= l;};b.Jca=function(l,f){return 1 <= l && 9 >= l?f + l:f;};b.rEa=function(l){return (0,b.Jca)(l,c.Alb);};b.sEa=function(l){return (0,b.Jca)(l,c.ds);};b.Ow=function(l){var f,k,d;f={};k=l.errorExternalCode || l.Ee;d=l.errorDetails || l.Nb;f.ErrorSubCode=l.errorSubCode || l.Aa || c.Ro;k && (f.ErrorExternalCode=k);d && (f.ErrorDetails=d);return f;};},9002:function(r,b,a){var l,f,k,d;function c(g,n){this.sa=g;this.s5=this.sa.fe.da(k.pa) - 1;this.DRb=this.t7=0;this.id="" + n.$A();}Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;r=a(5163);l=a(22674);f=a(30869);k=a(5021);a=a(62665);c.prototype.Jb=function(){var g,n;g=this.sa.fe.da(k.pa) - this.s5;if(g < this.t7){n=this.t7 + 1;this.s5-=n - g;g=n;}this.t7=g;return (0,k.Ob)(this.t7);};c.prototype.tKb=function(){return this.DRb++;};Xa.Object.defineProperties(c.prototype,{Dy:{configurable:!0,enumerable:!0,get:function(){return (0,k.Ob)(this.s5);}}});d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ag)),r.__param(1,(0,l.l)(a.Qw))],d);b.BAa=d;},33543:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Xba=void 0;r=a(5163);a=a(22674);l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(k){for(var d=new Uint8Array(k.length / 2),g=0;g < d.length;g++){d[g]=this.xeb(k.substr(2 * g,2));}return d;};c.prototype.encode=function(k){var h;for(var d="",g=k.length,n=0;n < g;n++){h=k[n];d+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return d;};c.prototype.JF=function(k,d){var g;g="";for(d<<=1;d--;){g=(("0123456789ABCDEF")[k & 15] || "0") + g;k>>>=4;}return g;};c.prototype.xeb=function(k){var d;d=k.length;if(7 < d)throw Error("hex to long");for(var g=0,n=0;n < d;n++){g=16 * g + l[k[n]];}return g;};f=c;f=r.__decorate([(0,a.U)()],f);b.Xba=f;},30033:function(r,b,a){var l,f,k,d,g,n,h,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.pBa=void 0;r=a(5163);a=a(22674);f=Array.prototype.slice;k=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");f=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};n={};h={};m=/\s+/g;[k,f].forEach(function(p){var u;for(var q=p.length;q--;){u=p[q];d[u]=q << 18;g[u]=q << 12;n[u]=q << 6;h[u]=q;}});c.prototype.encode=function(p){return l.Pla(p,k,"=");};c.prototype.decode=function(p){return l.Xka(p);};c.Xka=function(p){var q,u,t;p=p.replace(m,"");q=p.length;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(u + t);for(var w=0,v=0,y;v < u;){y=d[p[w++]] + g[p[w++]] + n[p[w++]] + h[p[w++]];if(!(0 <= y && 16777215 >= y))throw Error("bad base64");q[v++]=y >>> 16;q[v++]=y >>> 8 & 255;q[v++]=y & 255;}if(0 < t && (y=d[p[w++]] + g[p[w++]],q[v++]=y >>> 16,1 < t && (y+=n[p[w++]],q[v++]=y >>> 8 & 255),!(0 <= y && 16776960 >= y && 0 === (y & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.Pla=function(p,q,u){for(var t="",w=0,v=p.length,y=v - 2,x;w < y;){x=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");t+=q[x >>> 18] + q[x >>> 12 & 63] + q[x >>> 6 & 63] + q[x & 63];}if(w == y){x=(p[w++] << 8) + p[w++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");t+=q[x >>> 10] + q[x >>> 4 & 63] + q[x << 2 & 63] + u;}else if(w == v - 1){x=p[w++];if(!(0 <= x && 255 >= x))throw Error("not bytes");t+=q[x >>> 2] + q[x << 4 & 63] + u + u;}return t;};f=l=c;f=l=r.__decorate([(0,a.U)()],f);b.pBa=f;},66057:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){this.userAgentData=p;this.od=this.oGb(h,m.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.POa=b.EBa=void 0;r=a(5163);l=a(22674);f=a(4203);k=a(83767);d=a(63368);a=a(75236);c.prototype.i6=function(h,m){var p;if(m=this.qMb(m))switch(h){case n.Ky:p=0 < m.length?Number(m[0]):0;break;case n.CM:p=1 < m.length?Number(m[1]):0;break;case n.$M:p=2 < m.length?Number(m[2]):0;break;case n.n$:p=3 < m.length?Number(m[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.qMb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.mG=function(h){return this.od.name === h;};c.prototype.pG=function(h){return this.od.h9.name === h;};c.prototype.lPb=function(h){return this.od.TMb === h;};c.prototype.oGb=function(h,m){return Object.assign(Object.assign({TMb:this.qGb(h,m)},this.nGb(h,m)),{h9:this.rGb(h,m)});};c.prototype.qGb=function(h,m){return m && m.hardware?m.hardware:(/Mobile|iPhone/).test(h)?f.Q_.phone:(/Android/).test(h)?f.Q_.P5b:f.Q_.Kyb;};c.prototype.nGb=function(h,m){return m && m.name && m.version?{name:m.name,version:m.version}:(/OPR/).test(h)?{name:f.km.opera,version:""}:(/Tesla/).test(h)?{name:f.km.Xdb,version:""}:(m=h.match(/Edge\/(\d*)\./))?{name:f.km.zp,version:m[1]}:(m=h.match(/Edg\/(\d*)\./))?{name:f.km.YXa,version:m[1]}:(m=h.match(/Chrome\/(\d*)\./))?{name:f.km.Oja,version:m[1]}:(m=h.match(/Firefox\/(\d*)\./))?{name:f.km.BZa,version:m[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:f.km.$ab,version:h[1]}:{name:f.km.Oja,version:""};};c.prototype.rGb=function(h,m){return m && m.os && m.os.name && m.os.version?{name:m.os.name,version:m.os.version}:(/CrOS/).test(h)?{name:f.yn.TUa,version:""}:(m=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:f.yn.x5a,version:m[1] + "." + m[2] + "." + m[3]}:(/Windows NT/).test(h)?{name:f.yn.Cza,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:f.yn.kia,version:""}:(/Linux/).test(h)?{name:f.yn.W4a,version:""}:(/iPhone/).test(h)?{name:f.yn.n3a,version:""}:{name:f.yn.Cza,version:""};};Xa.Object.defineProperties(c.prototype,{x3a:{configurable:!0,enumerable:!0,get:function(){return this.mG(f.km.Oja);}},MU:{configurable:!0,enumerable:!0,get:function(){return this.mG(f.km.zp);}},yy:{configurable:!0,enumerable:!0,get:function(){return this.mG(f.km.YXa);}},X6:{configurable:!0,enumerable:!0,get:function(){return this.mG(f.km.BZa);}},dqa:{configurable:!0,enumerable:!0,get:function(){return this.mG(f.km.opera);}},RU:{configurable:!0,enumerable:!0,get:function(){return this.mG(f.km.$ab);}},W3a:{configurable:!0,enumerable:!0,get:function(){return this.mG(f.km.Xdb);}},IU:{configurable:!0,enumerable:!0,get:function(){return this.pG(f.yn.kia);}},$L:{configurable:!0,enumerable:!0,get:function(){return this.pG(f.yn.n3a);}},R6:{configurable:!0,enumerable:!0,get:function(){return this.pG(f.yn.kia) && this.lPb(f.Q_.phone);}},KU:{configurable:!0,enumerable:!0,get:function(){return this.pG(f.yn.TUa);}},$pa:{configurable:!0,enumerable:!0,get:function(){return this.pG(f.yn.W4a);}},TB:{configurable:!0,enumerable:!0,get:function(){return this.pG(f.yn.x5a);}},Ay:{configurable:!0,enumerable:!0,get:function(){return this.pG(f.yn.Cza);}},Al:{configurable:!0,enumerable:!0,get:function(){return this.i6(n.Ky,this.od.version);}},qWb:{configurable:!0,enumerable:!0,get:function(){return this.i6(n.Ky,this.od.h9.version);}},rWb:{configurable:!0,enumerable:!0,get:function(){return this.i6(n.CM,this.od.h9.version);}},sWb:{configurable:!0,enumerable:!0,get:function(){return this.i6(n.$M,this.od.h9.version);}}});g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.JOa)),r.__param(1,(0,l.l)(k.HP)),r.__param(2,(0,l.l)(a.a1))],g);b.EBa=g;(function(h){h[h.Ky=0]="major";h[h.CM=1]="minor";h[h.$M=2]="patch";h[h.n$=3]="revision";})(n=b.POa || (b.POa={}));},19699:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t;function c(w,v,y,x,z,A){this.cl=w;this.config=y;this.vo=x;this.sa=z;this.is=A;this.log=v.$a("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.jCa=b.fca=void 0;r=a(5163);f=a(22674);k=a(36129);d=a(87386);g=a(5021);n=a(17892);h=a(4203);m=a(59818);p=a(30869);q=a(42207);u=a(17612);t=a(82100);b.fca="errors";c.prototype.load=function(){var w,v;w=this;if(!this.config().jYa)return Promise.resolve([]);v=(0,g.Ob)(this.config().xwb);return this.vo.cq(v,this.a5a([])).catch(function(y){w.log.error("Load failed.",y);return [];});};c.prototype.add=function(w,v,y,x,z){var A;A=this;return this.config().jYa && v && y && (v === u.eb.wea || v === u.eb.CQ + "." + t.fs)?this.a5a([{time:w,keySystem:v,code:y,ec:x,Vc:z}]).then(function(){}).catch(function(B){A.log.error("Add failed.",B);}):Promise.resolve();};c.prototype.oRb=function(){var w;w=this;return this.cl.create().then(function(v){return v.load(b.fca).then(function(y){var x;return (null === (x=y.value) || void 0 === x?void 0:x.errors) || [];}).catch(function(y){if(y.Aa === k.S.ex)return (w.log.warn("No CachedErrors."),[]);throw y;});});};c.prototype.YHb=function(w){return {time:(0,g.sh)(w[0]),keySystem:w[1],code:w[2],ec:w[3],Vc:w[4]};};c.y6b=function(w){return [w.time.da(g.pm),w.keySystem,w.code,w.ec,w.Vc];};c.prototype.z1b=function(w){var v;v={version:1,errors:w.map(l.y6b)};return this.cl.create().then(function(y){return y.save(b.fca,v,!1);}).then(function(){return w;});};c.prototype.NGb=function(w){var v,y;v=(0,g.sh)(this.config().wwb);y=this.sa.fe.qa(v);return w.filter(function(x){return x.time.qa(y).R3a();});};c.prototype.Q8b=function(w){return w.filter(this.XOb.bind(this)).map(this.YHb);};c.prototype.XOb=function(w){return this.is.Zj(w[0]) && this.is.ip(w[1]) && this.is.Zj(w[2]) && (this.is.Zj(w[3]) || void 0 === w[3]) && (this.is.ip(w[4]) || void 0 === w[4])?!0:!1;};c.prototype.IGb=function(w){var v;v=this;return w.filter(function(y){return v.config().RFb.includes(y.code);});};c.prototype.JGb=function(w){return w.slice(-this.config().uwb);};c.prototype.a5a=function(w){var v;v=this;return this.oRb().then(function(y){return v.Q8b(y);}).then(function(y){return v.NGb(y);}).then(function(y){return y.concat(w);}).then(function(y){return v.IGb(y);}).then(function(y){return v.JGb(y);}).then(function(y){return v.z1b(y);});};a=l=c;a=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(n.Dw)),r.__param(1,(0,f.l)(d.ab)),r.__param(2,(0,f.l)(h.Yb)),r.__param(3,(0,f.l)(m.bA)),r.__param(4,(0,f.l)(p.ag)),r.__param(5,(0,f.l)(q.Qf))],a);b.jCa=a;},31149:function(r,b,a){var l;function c(f,k,d,g,n,h,m,p,q,u,t,w,v){this.code=void 0 === f?l.V.Ro:f;this.ec=k;this.Vc=d;this.Nm=g;this.Ry=n;this.message=h;this.details=m;this.data=p;this.yj=q;this.EXb=u;this.alert=t;this.eia=w;this.Ed=v;this.ia=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Mc=void 0;l=a(36129);c.we=function(f){var k,d,g;if(f){k=f.stack;d=f.number;g=f.message;g || (g="" + f);k?(f="" + k,0 !== f.indexOf(g) && (f=g + "\n" + f)):f=g;d && (f+="\nnumber:" + d);return f;}return "";};c.prototype.SS=function(f){this.details=c.we(f);this.data=f;};c.prototype.toString=function(){return JSON.stringify(this.toJSON());};c.prototype.toJSON=function(){return {code:this.code,subCode:this.ec,extCode:this.Vc,edgeCode:this.Nm,mslCode:this.Ry,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.yj,playbackServiceError:this.EXb};};c.fna=function(f,k){return new c(f,l.S.kl,void 0,void 0,void 0,void 0,k.message,k.stack);};c.Egb=function(f,k){return new c(f,k,void 0,void 0,void 0,void 0,void 0,void 0);};c.H9b=function(f,k,d){return new c(f,k,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.Mc=c;},84183:function(r,b,a){var l,f,k,d;function c(g){return f.cP.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xCa=void 0;r=a(5163);l=a(12501);f=a(64174);k=a(22674);a=a(83767);fa(c,f.cP);Xa.Object.defineProperties(c.prototype,{Rfb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.ed,"usePerformanceApi")],d.prototype,"Rfb",null);d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ica))],d);b.xCa=d;},691:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u){var t;t=this;this.config=m;this.iCb=p;this.Ib=q;this.performance=u;this.YVb=function(w){t.Lwa=w.qa(t.fe);};(0,l.io)(this,"date");(0,l.io)(this,"performance");this.Qtb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.Lwa=f.Ha;this.Ib.addListener(h.hda.Ebb,this.YVb);}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;r=a(5163);l=a(66523);f=a(5021);k=a(22674);d=a(63368);g=a(87061);n=a(15160);h=a(85001);c.prototype.ytb=function(m){return m.add(this.Lwa);};Xa.Object.defineProperties(c.prototype,{fe:{configurable:!0,enumerable:!0,get:function(){return this.X6a?(0,f.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,f.Ob)(this.iCb.now());}},IH:{configurable:!0,enumerable:!0,get:function(){return this.fe.add(this.Lwa);}},X6a:{configurable:!0,enumerable:!0,get:function(){return this.config.Rfb && this.Qtb;}}});a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.yCa)),r.__param(1,(0,k.l)(d.$Ca)),r.__param(2,(0,k.l)(n.Pca)),r.__param(3,(0,k.l)(d.sea)),r.__param(3,(0,k.optional)())],a);b.zCa=a;},76928:function(r,b,a){var l,f,k,d;function c(g,n){this.is=g;this.ae=n;}Object.defineProperty(b,"__esModule",{value:!0});b.NCa=void 0;r=a(5163);f=a(22674);k=a(42207);a=a(74870);c.prototype.encode=function(g){var n,h;n=this;h="";this.ae.rB(g,function(m,p){m=n.AYa(m) + "=" + n.AYa(p);h=h?h + ("," + m):m;});return h;};c.prototype.AYa=function(g){return this.is.pF(g)?this.is.Zj(g)?"" + g:this.is.ip(g)?(g=g.replace(l.ova,this.zra.bind(this)),!l.RZb.test(g) && l.aUb.test(g) && (g='"' + g + '"'),g):this.is.h2(g)?"" + g:this.is.Bha(g)?"NaN":"":"";};c.prototype.zra=function(g){return l.map[g];};d=l=c;d.map={'"':'""',"\r":"","\n":" "};d.ova=/(?!^.+)["\r\n](?=.+$)/g;d.RZb=/["].*["]/g;d.aUb=/[", ]/;d=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.Qf)),r.__param(1,(0,f.l)(a.bh))],d);b.NCa=d;},61453:function(r,b,a){var l,f;function c(k,d){this.yc=k;this.M3=d;}Object.defineProperty(b,"__esModule",{value:!0});b.aDa=void 0;r=a(5163);l=a(22674);a=a(53085);c.prototype.Mj=function(k){this.zg();this.$i=this.yc.nk(this.M3,k);};c.prototype.zg=function(){this.$i && this.$i.cancel();this.$i=void 0;};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Th))],f);b.aDa=f;},85125:function(r,b,a){var l,f,k,d;function c(g){g=f.cP.call(this,g,"DebugConfigImpl") || this;g.ofc=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.bDa=void 0;r=a(5163);l=a(12501);f=a(64174);k=a(22674);a=a(83767);fa(c,f.cP);Xa.Object.defineProperties(c.prototype,{Ovb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.ed,"breakOnError")],d.prototype,"Ovb",null);d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.ica))],d);b.bDa=d;},69997:function(r,b,a){var l,f,k,d;function c(g,n,h){this.config=g;this.zb=n;this.la=h.$a("General");}Object.defineProperty(b,"__esModule",{value:!0});b.eDa=void 0;r=a(5163);l=a(22674);f=a(42207);k=a(90597);a=a(87386);c.prototype.assert=function(){};c.prototype.uub=function(g,n){this.assert(this.zb.pF(g),n);};c.prototype.vub=function(g,n){this.assert(this.zb.pg(g),n);};c.prototype.N2=function(g,n){this.assert(this.zb.ip(g),n);};c.prototype.Bub=function(g,n){this.assert(this.zb.ym(g),n);};c.prototype.zub=function(g,n){this.assert(this.zb.ip(g) || null === g || void 0 === g,n);};c.prototype.M2=function(g,n){this.assert(this.zb.Zj(g),n);};c.prototype.xub=function(g,n){this.assert(this.zb.iia(g),n);};c.prototype.Aub=function(g,n){this.assert(this.zb.ZR(g),n);};c.prototype.yub=function(g,n){this.assert(this.zb.HR(g),n);};c.prototype.tub=function(g,n){this.assert(this.zb.h2(g),n);};c.prototype.wub=function(g,n){this.assert(this.zb.j2(g),n);};c.prototype.LOb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.cDa)),r.__param(1,(0,l.l)(f.Qf)),r.__param(2,(0,l.l)(a.ab))],d);b.eDa=d;},69216:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u){this.Ea=q;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.gDa=void 0;r=a(5163);f=a(22674);k=a(81918);d=a(31149);g=a(36129);n=a(85001);h=a(5021);m=a(22365);a=a(21801);c.prototype.xXa=function(q){var u,t,w,v,y,x,z,A,B,C;u=this;v=q.mediaTime.value;y=q.Hq.value;x=q.wb.value;z=q.state.value;A={segmentId:q.hoa(),mediaTime:v,segmentTime:q.BB(),bufferingState:l.dwb[y],presentingState:l.MYb[x],playbackState:l.FXb[z],mseBuffersBusy:this.KLb(q),intBuffersBusy:this.bKb(q),tabVisible:this.O5b(),decodedFrameCount:this.FCb(q),videoElementInDom:this.e9b(q),lastVideoSync:this.Ea.Jb().qa((0,h.Ob)(q.XX)).da(h.pa)};B=x === n.hb.Af?q.bb.qg?this.config.j8a:this.config.i8a:this.config.P6a;if(y !== n.pf.ce){if((y=g.S.Oib,this.RTa(A.mseBuffersBusy,A.intBuffersBusy)))C=l.mBa;}else (x !== n.hb.Oe?y=g.S.Qib:(y=g.S.Pib,(x=q.Ud) && 0 === x.F5() && (C=l.Cob)),(x=q.Ud) && x.Fb.sourceBuffers.forEach(function(D){var F,G;F=l.Bg[D.mediaType];A[F + "Ranges"]=D.w5();try{G=D.buffered();}catch(E){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - v,A[F + "Undecoded"]=D,1 < G.length && (C=l.Phb),v < 1E3 * G.start(0) || v > 1E3 * G.end(0)?C=l.Qhb:D < B.da(h.pa)?C=l.Rhb:u.RTa(A.mseBuffersBusy,A.intBuffersBusy) && (C=l.mBa)):(A[F + "Undecoded"]=0,C=l.Ohb);}));x=q.tab.p1a();z=v === (null === (t=x.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (w=q.cb) || void 0 === w?void 0:w.xya;Object.assign(A,x);q="";try{q=JSON.stringify(A);}catch(D){q="Cannot stringify details: " + D;}return new d.Mc(g.V.JJa,y,C,void 0,void 0,void 0,q,void 0);};c.prototype.KLb=function(q){var u;if(q.Fb){u={};q.Fb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.updating()};});return u;}};c.prototype.bKb=function(q){var u;if(q.Fb){u={};q.Fb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.mh()};});return u;}};c.prototype.O5b=function(){return !m.Hg.hidden;};c.prototype.FCb=function(q){return (q=q.Ud) && (q=q.Fb.$) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.e9b=function(q){if(q=q.Ud)if(q=q.Fb.$)return m.Hg.body.contains(q);return !1;};c.prototype.RTa=function(q,u){var t,w,v,y;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (w=u.audio) || void 0 === w?void 0:w.updating) && (null === (v=q.video) || void 0 === v?void 0:v.updating) === (null === (y=u.video) || void 0 === y?void 0:y.updating));};p=l=c;p.Ohb="1";p.Phb="2";p.Qhb="3";p.mBa="4";p.Rhb="5";p.Cob="6";p.Bg=["Audio","Video"];p.dwb=["","NORMAL","BUFFERING","STALLED"];p.MYb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.FXb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.Lc)),r.__param(1,(0,f.l)(a.Sda))],p);b.gDa=p;},2010:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;r=a(5163);l=a(22674);f=a(90030);c.prototype.cL=function(k,d){var g;g=this;k && Object.entries(d).forEach(function(n){var h,m,p;h=la(n);n=h.next().value;h=h.next().value;if(g.$Ob(h)){m=la(h);h=m.next().value;p=m.next().value;m=k[h];Array.isArray(m)?(g.ila(k,n,h),m.forEach(function(q){g.cL(q,p);})):h === f.jj?Object.values(k).forEach(function(q){g.cL(q,p);}):(g.ila(k,n,h),"object" === typeof m && g.cL(m,p));}else g.ila(k,n,h);});};c.prototype.$Ob=function(k){return Array.isArray(k);};c.prototype.ila=function(k,d,g){k.hasOwnProperty(d) || d === g || Object.defineProperty(k,d,{get:function(){return k[g];},set:function(n){return k[g]=n;},enumerable:!0});};a=c;a=r.__decorate([(0,l.U)()],a);b.mEa=a;},95947:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uP=b.uEa=void 0;r=a(5163);l=a(31811);a=a(22674);c.prototype.create=function(){return new l.Uj();};f=c;f=r.__decorate([(0,a.U)()],f);b.uEa=f;b.uP="EventSourceFactorySymbol";},31811:function(r,b,a){var l,f;function c(){this.Bp={};this.id="$es$" + l.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Uj=void 0;r=a(5163);a=a(22674);c.prototype.addListener=function(k,d,g){var n,h;n="$netflix$player$order" + this.id + "$" + k;if(this.Bp){h=this.Bp[k]?this.Bp[k].slice():[];g && (d[n]=g);0 > h.indexOf(d) && (h.push(d),h.sort(function(m,p){return (m[n] || 0) - (p[n] || 0);}));this.Bp[k]=h;}};c.prototype.removeListener=function(k,d){if(this.Bp && this.Bp[k]){for(var g=this.Bp[k].slice(),n;0 <= (n=g.indexOf(d));){g.splice(n,1);}this.Bp[k]=g;}};c.prototype.Ec=function(k,d,g){var n;if(this.Bp){n=this.Fna(k);for(k={AI:0};k.AI < n.length;(k={AI:k.AI},k.AI++)){g?(function(h){return function(){var m;m=n[h.AI];setTimeout(function(){m(d);},0);};})(k)():n[k.AI].call(this,d);}}};c.prototype.zg=function(){this.Bp=void 0;};c.prototype.on=function(k,d,g){this.addListener(k,d,g);};c.prototype.Fna=function(k){var d;return null !== (d=this.Bp && (this.Bp[k] || (this.Bp[k]=[]))) && void 0 !== d?d:[];};f=l=c;f.counter=0;f=l=r.__decorate([(0,a.U)()],f);b.Uj=f;},11629:function(r,b,a){var l,f,k,d,g;function c(n,h){this.sa=n;this.random=h;}Object.defineProperty(b,"__esModule",{value:!0});b.rGa=void 0;r=a(5163);f=a(22674);k=a(5021);d=a(30869);a=a(10306);c.prototype.$A=function(){return this.sa.fe.da(k.pm) * l.dCa + Math.floor(this.random.random() * l.dCa);};g=l=c;g.dCa=1E8;g=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(d.ag)),r.__param(1,(0,f.l)(a.E0))],g);b.rGa=g;},52657:function(r,b,a){var l;function c(f,k,d,g,n){this.version=f;this.$G=k;this.Kxa=d;this.cl=g;this.hu=n;this.pk=new l.sGa(f,k,d,g,n);this.Bl=[];}Object.defineProperty(b,"__esModule",{value:!0});b.fda=void 0;l=a(51665);c.prototype.load=function(f){var k;k=this;return this.pk.load(f).then(function(){var d;k.Bl=null !== (d=k.pk.Bl) && void 0 !== d?d:[];});};c.prototype.add=function(f){this.Bl.push(f);return this.pk.set(this.Bl);};c.prototype.remove=function(f,k){f=this.x_a(this.uL(f,k));return 0 <= f?(this.Bl.splice(f,1),this.pk.set(this.Bl)):Promise.resolve();};c.prototype.update=function(f,k){k=this.x_a(this.uL(f,k));return 0 <= k?(this.Bl[k]=f,this.pk.set(this.Bl)):Promise.resolve();};c.prototype.uL=function(f,k){for(var d=0;d < this.Bl.length;++d){if(k(this.Bl[d],f))return this.Bl[d];}};c.prototype.x_a=function(f){return f?this.Bl.indexOf(f):-1;};b.fda=c;},51665:function(r,b,a){var l,f;function c(k,d,g,n,h){this.version=k;this.$G=d;this.Kxa=g;this.cl=n;this.hu=h;}Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;l=a(36129);f=a(31149);c.prototype.load=function(k){return this.nRb(k);};c.prototype.set=function(k){this.Bl=k;return this.mXb();};c.prototype.nRb=function(k){var d;d=this;this.e5a || (this.e5a=new Promise(function(g,n){function h(m){d.fDb().then(function(){n(m);}).catch(function(){n(m);});}d.uoa().then(function(m){d.storage=m;return d.storage.load(d.$G);}).then(function(m){var p;m=m.value;try{p=k(m);d.version=p.version;d.Bl=p.data;g();}catch(q){h(q);}}).catch(function(m){m.Aa !== l.S.ex?n(m):g();});}));return this.e5a;};c.prototype.mXb=function(){var k,d,g,n,h;k=this;if(!this.Kxa)return Promise.resolve();if(this.laa){n=new Promise(function(m,p){d=m;g=p;});h=function(){k.laa=n;k.ldb().then(function(){d();}).catch(function(m){g(m);});};this.laa.then(h).catch(h);return n;}return this.laa=this.ldb();};c.prototype.ldb=function(){var k,d;k=this;d=this.hu();return new Promise(function(g,n){k.uoa().then(function(h){return h.save(k.$G,d,!1);}).then(function(){g();}).catch(function(h){n(c.z6b(l.V.Nmb,h));});});};c.prototype.fDb=function(){var k;k=this;return this.Kxa?new Promise(function(d,g){k.uoa().then(function(n){return n.remove(k.$G);}).then(function(){d();}).catch(function(n){g(n);});}):Promise.resolve();};c.prototype.uoa=function(){return this.storage?Promise.resolve(this.storage):this.cl.create();};c.z6b=function(k,d){var g;if(d.Aa && d.Xb)return new f.Mc(k,d.Aa,void 0,void 0,void 0,void 0,void 0,d.Xb);if(void 0 !== d.ec){g=d.message?d.message + " ":"";d.code=k;d.message="" === g?void 0:g;return d;}return d instanceof Error?new f.Mc(k,l.S.kl,void 0,void 0,void 0,void 0,d.stack,d):new f.Mc(k,l.S.Ro,void 0,void 0,void 0,void 0,void 0,d);};b.sGa=c;},76564:function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.AD=void 0;c=/^\S+$/;a.prototype.pF=function(l){return void 0 !== l;};a.prototype.pg=function(l){return null !== l && void 0 !== l;};a.prototype.YR=function(l){return a.ISa(l);};a.prototype.Cha=function(l){return !(!l || !a.ISa(l));};a.prototype.LA=function(l){return Array.isArray(l);};a.prototype.JSa=function(l){return !(!l || l.constructor != Uint8Array);};a.prototype.Zj=function(l,f,k){return a.MRa(l,f,k);};a.prototype.Bha=function(l){return a.Bha(l);};a.prototype.iia=function(l,f,k){return a.B2(l,f,k) && 0 === l % 1;};a.prototype.ZR=function(l,f,k){return a.B2(l,f || 0,k);};a.prototype.HR=function(l){return a.B2(l,1);};a.prototype.lsb=function(l){return a.B2(l,0,255);};a.prototype.msb=function(l){return l === +l && (0 === l || l !== (l | 0)) && !0;};a.prototype.KSa=function(l){return !(!l || !c.test(l));};a.prototype.ip=function(l){return a.NRa(l);};a.prototype.ym=function(l){return !(!a.NRa(l) || !l);};a.prototype.h2=function(l){return !0 === l || !1 === l;};a.prototype.j2=function(l){return "function" == typeof l;};a.NRa=function(l){return "string" == typeof l;};a.MRa=function(l,f,k){return "number" == typeof l && !isNaN(l) && isFinite(l) && (void 0 === f || l >= f) && (void 0 === k || l <= k);};a.Bha=function(l){return "number" == typeof l && isNaN(l);};a.B2=function(l,f,k){return a.MRa(l,f,k) && 0 === l % 1;};a.ISa=function(l){return "object" == typeof l;};b.AD=new a();},81734:function(r,b,a){var l,f,k;function c(d,g){this.Tu=g?[g]:[];this.Bga="$op$" + k++;this.Qa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Hb=void 0;l=a(33096);f=a(45146);k=0;c.prototype.addListener=function(d,g){var n;n=this;(0,f.Tka)(d);(0,f.oa)(0 > this.Tu.indexOf(d));d[l.m0 + this.Bga]=g;this.Tu=this.Tu.slice();this.Tu.push(d);this.Tu.sort(function(h,m){return n.n4b(h,m);});};c.prototype.removeListener=function(d){var g;(0,f.Tka)(d);this.Tu=this.Tu.slice();0 <= (g=this.Tu.indexOf(d)) && this.Tu.splice(g,1);};c.prototype.set=function(d,g){var n;if(this.Qa !== d){n={oldValue:this.Qa,newValue:d,Dh:g};this.Qa=d;this.kpb=g;d=this.Tu;g=d.length;for(var h=0;h < g;h++){d[h](n);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(n){function h(m){if(d(m.newValue))return (g.removeListener(h),n(m.newValue));}if(d(g.Qa))return n(g.Qa);g.addListener(h);});};c.prototype.n4b=function(d,g){return (d[l.m0 + this.Bga] || 0) - (g[l.m0 + this.Bga] || 0);};Xa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Qa;}},Dh:{configurable:!0,enumerable:!0,get:function(){return this.kpb;}}});b.Hb=c;},55099:function(r,b,a){var l;function c(f){this.wIb=f;this.q6=!1;this.A6=this.Nf=this.qO=0;this.wU=!1;this.B6=0;}Object.defineProperty(b,"__esModule",{value:!0});b.wJa=void 0;l=a(32687);c.prototype.Wha=function(f){f < this.qO && (this.Nf+=this.qO);this.qO=f;this.q6=!0;};c.prototype.kJb=function(){if(this.q6)return this.wU?this.B6 - this.A6:this.Nf + this.qO - this.A6;};c.prototype.refresh=function(){var f;f=this.wIb();(0,l.Rb)(f) && this.Wha(f);};c.prototype.x4b=function(){this.wU || (this.q6 && (this.B6=this.Nf + this.qO),this.wU=!0);};c.prototype.P4b=function(){this.wU && (this.q6 && (this.A6+=this.Nf + this.qO - this.B6),this.B6=0,this.wU=!1);};b.wJa=c;},72465:function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.bea=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.bea=a;},20483:function(r,b,a){var l;function c(f){this.cqb=void 0 === f?!1:f;this.Ue={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.Pea=void 0;r=a(5163);a=a(22674);c.prototype.add=function(f,k){var d;k=void 0 === k?0:k;d=this.Ue[k];d?this.cqb && -1 !== d.indexOf(f) || d.push(f):this.Ue[k]=[f];};c.prototype.remove=function(f,k){this.wx(f,void 0 === k?0:k);};c.prototype.removeAll=function(f){this.wx(f);};c.prototype.flatten=function(){var f;f=this;return Object.keys(this.Ue).sort().reduce(function(k,d){return k.concat(f.Ue[d]);},[]);};c.prototype.wx=function(f,k){Object.entries(this.Ue).forEach(function(d){var g,n;g=la(d);d=g.next().value;g=g.next().value;if(void 0 === k || k === parseInt(d)){-1 < (n=g.indexOf(f)) && g.splice(n,1);}});};l=c;l=r.__decorate([(0,a.U)()],l);b.Pea=l;},94293:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.w0=void 0;b.w0=function(){var a;a=this;this.promise=new Promise(function(c,l){a.resolve=c;a.reject=l;});};},4734:function(r,b,a){var l,f,k;function c(d){this.yc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.lMa=void 0;r=a(5163);l=a(22674);f=a(53085);k=a(59818);c.prototype.cq=function(d,g){var n;n=this;return new Promise(function(h,m){var p;p=n.yc.nk(d,function(){m(new k.wq(d));});g.then(function(q){h(q);p.cancel();}).catch(function(q){m(q);p.cancel();});});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Th))],a);b.lMa=a;},67525:function(r,b,a){var l,f;function c(k){this.N5b=k;}Object.defineProperty(b,"__esModule",{value:!0});b.tMa=void 0;r=a(5163);l=a(22674);a=a(10306);c.prototype.random=function(){return this.N5b.random();};c.prototype.s$a=function(k,d){if("number" !== typeof k)(d=k.end,k=k.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(k + this.random() * (d - k));};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.TNa))],f);b.tMa=f;},74267:function(r,b){function a(c,l,f){if(null != f){if(0 < f(c,l))throw a.sWa(c,l);}else if(c.Jk && 0 < c.Jk(l))throw a.sWa(c,l);this.start=c;this.end=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Wea=void 0;a.sWa=function(c,l){return new RangeError("end [" + l + "] must be >= start [" + c + "]");};b.Wea=a;},61909:function(r,b,a){var f,k,d,g;function c(n){this.Do=n;(0,k.io)(this,"timers");}function l(n,h){this.Do=n;this.exb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.YMa=void 0;r=a(5163);f=a(22674);k=a(66523);d=a(63368);g=a(5021);l.prototype.cancel=function(){this.exb(this.Do);};c.prototype.Mj=function(n){return this.nk(g.Ha,n);};c.prototype.nk=function(n,h){var m;m=this.Do.setTimeout(h,n.da(g.pa));return new l(this.Do,function(p){p.clearTimeout(m);});};c.prototype.CH=function(n,h){var m;m=this.Do.setInterval(h,n.da(g.pa));return new l(this.Do,function(p){p.clearInterval(m);});};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(d.iPa))],a);b.YMa=a;},57180:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.UD=void 0;r=a(5163);a=a(22674);c.prototype.format=function(f,k){var g;for(var d=1;d < arguments.length;++d){;}g=Array.prototype.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(n,h){return "undefined" != typeof g[h]?g[h]:n;});};c.prototype.vdb=function(f){for(var k=f.length,d=new Uint16Array(k),g=0;g < k;g++){d[g]=f.charCodeAt(g);}return d.buffer;};c.prototype.ydb=function(f){return JSON.stringify(f,null,"  ");};l=c;l=r.__decorate([(0,a.U)()],l);b.UD=l;},49721:function(r,b,a){var l,f,k,d;function c(g,n,h){var m;m=this;this.Sf=g;this.yc=n;this.M3=h;this.TM=function(p){m.$i=void 0;m.f7b(p || m.M3);};this.x4a=(0,k.Ob)(-this.M3.da(k.pa));}Object.defineProperty(b,"__esModule",{value:!0});b.cOa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(5021);a=a(53085);c.prototype.Mj=function(g){this.rwa=g;this.$i=this.$i || this.Ef(this.TM);};c.prototype.zg=function(){this.$i && this.$i.cancel();this.$i=void 0;};c.prototype.f7b=function(g){var n,h;n=this.Sf.Jb();if(this.rwa){h=g.qa(n.qa(this.x4a));0 >= h.Jk(k.Ha)?(g=this.rwa,this.rwa=void 0,this.x4a=n,g()):this.$i=this.$i || this.yc.nk(h,this.TM.bind(this,g));}};c.prototype.Ef=function(g){return this.yc.nk(k.Ha,g);};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(a.Th))],d);b.cOa=d;},84130:function(r,b,a){var l,f,k;function c(d,g,n){this.yc=d;this.pya=g;this.Bv=n;}Object.defineProperty(b,"__esModule",{value:!0});b.oOa=void 0;r=a(5163);l=a(53085);f=a(22674);k=a(5021);c.prototype.pB=function(){this.$i || (this.$i=this.yc.nk((0,k.Ob)(this.pya),this.Bv));};c.prototype.Ao=function(){this.$i && this.$i.cancel();this.$i=void 0;};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(l.Th))],a);b.oOa=a;},1639:function(r,b,a){var l,f,k,d;function c(g,n){this.Ea=g;this.entries=new Set();this.la=n.$a("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.wfa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(5021);a=a(87386);c.prototype.mark=function(g,n,h){g={name:g,Qr:this.Ea.Jb()};n && (g.na=n);h && (g.xf=h);this.entries.add(g);return g;};c.prototype.Tna=function(){var g;g=[];this.entries.forEach(function(n){return g.push(n);});return g;};c.prototype.y0a=function(g){return this.Tna().filter(function(n){return n.na === g;});};c.prototype.wKb=function(){var g;g={};try{g=this.Tna().filter(function(n){return !n.na;}).reduce(function(n,h){n[h.name]=h.Qr.da(k.pa);return n;},{});}catch(n){this.la.error(" getMapOfCommonMarks exception",n);}return g;};c.prototype.dab=function(g){var n;n=this;this.Tna().forEach(function(h){h.na === g && n.entries.delete(h);});};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(a.ab))],d);b.wfa=d;},6214:function(r,b){function a(){this.searchParams={};}function c(l){this.pp=l;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.HOa=void 0;c.prototype.toString=function(){return this.href;};Xa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.pp + this.searchParams.toString();}}});b.HOa=c;a.prototype.get=function(l){return this.searchParams[l];};a.prototype.set=function(l,f){this.searchParams[l]=f;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(l,f,k){var d;d=la(f);f=d.next().value;d=d.next().value;return "" + l + (0 == k?"?":"&") + f + "=" + d;},"");};},53399:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.KOa=void 0;r=a(5163);a=a(22674);c.prototype.encode=function(k){return l.Pla(k);};c.prototype.decode=function(k){return l.Xka(k);};c.Pla=function(k){if(!k)throw new TypeError("Invalid byte array");for(var d=0,g,n=k.length,h="";d < n;){g=k[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (k[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((k[d++] & 63) << 6) + (k[d++] & 63);else throw Error("unsupported utf8 character");h+=String.fromCharCode(g);}return h;};c.Xka=function(k){var d,g,n,h,m;d=k.length;g=0;h=0;if(!(0 <= d))throw Error("bad string");for(n=d;n--;){m=k.charCodeAt(n);128 > m?g++:g=2048 > m?g + 2:g + 3;}g=new Uint8Array(g);for(n=0;n < d;n++){m=k.charCodeAt(n);128 > m?g[h++]=m:(2048 > m?g[h++]=192 | m >>> 6:(g[h++]=224 | m >>> 12,g[h++]=128 | m >>> 6 & 63),g[h++]=128 | m & 63);}return g;};f=l=c;f=l=r.__decorate([(0,a.U)()],f);b.KOa=f;},24900:function(r,b,a){var l,f,k,d;function c(g,n){this.is=g;this.Oi=n;}Object.defineProperty(b,"__esModule",{value:!0});b.LOa=void 0;r=a(5163);l=a(22674);a(36129);f=a(42207);k=a(6405);d=a(22365);c.prototype.kC=function(g,n,h){var m,p,q,u;m=this;if(n)if(h){p=h.oV;q=h.prefix;u=h.f9;this.rB(n,function(t,w){if(!u || m.is.pg(w))g[(q || "") + (p?t.toLowerCase():t)]=w;});}else this.rB(n,function(t,w){g[t]=w;});return g;};c.prototype.rB=function(g,n){for(var h in g){g.hasOwnProperty(h) && n(h,g[h]);}};c.prototype.XA=function(g,n){if(g.length == n.length){for(var h=g.length;h--;){if(g[h] != n[h])return !1;}return !0;}return !1;};c.prototype.PVa=function(g,n){if(g.length != n.length)return !1;g.sort();n.sort();for(var h=g.length;h--;){if(g[h] !== n[h])return !1;}return !0;};c.prototype.we=function(g){var n,h,m;if(g){n=g.stack;h=g.number;m=g.message;m || (m="" + g);n?(g="" + n,0 !== g.indexOf(m) && (g=m + "\n" + g)):g=m;h && (g+="\nnumber:" + h);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.wna=function(g){return this.getFunctionName(g.constructor);};c.prototype.Psa=function(g){var n,h;n=this;h="";this.is.LA(g) || this.is.JSa(g)?h=Array.prototype.reduce.call(g,function(m,p){return m + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.ip(g)?h=g:this.rB(g,function(m,p){h+=(h?", ":"") + "{" + m + ": " + (n.is.j2(p)?n.getFunctionName(p) || "function":p) + "}";});return "[" + this.wna(g) + " " + h + "]";};c.prototype.createElement=function(g,n,h,m){var p;p=d.Hg.createElement(g);n && (p.style.cssText=n);h && (p.innerHTML=h);m && this.rB(m,function(q,u){p.setAttribute(q,u);});return p;};c.prototype.HGb=function(g,n){return function(h){return h[g] === n;};};c.prototype.nW=function(g){var n;n={};(g || "").split("&").forEach(function(h){var m,p;h=h.trim();m=h.indexOf("=");if(0 <= m){p=decodeURIComponent(h.substr(0,m)).toLowerCase();n[p]=decodeURIComponent(h.substr(m + 1));}else n[h.toLowerCase()]=void 0;});return n;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Qf)),r.__param(1,(0,l.l)(k.Fw))],a);b.LOa=a;},38385:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.s5a=void 0;c=a(80401);l=a(76989);r=a(22674);f=a(36410);k=a(87386);d=a(42790);b.s5a=new r.dd(function(g){g(k.ab).to(l.HHa).ha();g(f.XI).to(c.IHa).ha();g(k.vda).to(d.wHa).ha();});},87386:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qP=b.ab=b.vda=b.fj=void 0;r=b.fj || (b.fj={});r[r.ckb=0]="FATAL";r[r.Ak=1]="ERROR";r[r.Ffa=2]="WARN";r[r.bda=3]="INFO";r[r.XNa=4]="TRACE";r[r.K=5]="DEBUG";b.vda="LogFieldBuilderFactorySymbol";b.ab="LoggerFactorySymbol";b.qP={};},36410:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XI="LoggerSinksSymbol";},34126:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.xda=void 0;b.xda=a;a.Uib="display";a.Aib="console";},22097:function(r,b,a){var l,f;function c(k,d,g,n,h,m,p){this.level=k;this.Em=d;this.timestamp=g;this.message=n;this.Ac=h;this.prefix=m;this.index=void 0 === p?0:p;this.d5b=this.g5b();}Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;l=a(5021);f={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.Faa=function(k){k=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (k?"":" " + this.d5b);return (this.timestamp.da(l.pa) / 1E3).toFixed(3) + "|" + this.index + "|" + (f[this.level] || this.level) + "|" + this.Em + "| " + k;};c.prototype.g5b=function(){var n;for(var k=this.Ac.length,d="",g=0;g < k;++g){n=this.Ac[g].Ut;g && d.length && (d+=" ");if("object" === typeof n){if(null === n)d+="null";else if(n instanceof Error)d+=this.f5b(n);else try{d+=JSON.stringify(n);}catch(h){d+=this.e5b(n);}}else d+=n;}return d;};c.prototype.f5b=function(k){return k.toString() + (k.stack?"\n" + k.stack:"") + "\n";};c.prototype.e5b=function(k){var d;d=[];return JSON.stringify(k,function(g,n){if("object" === typeof n && null !== n){if(-1 !== d.indexOf(n))return "<cycle>";d.push(n);}return n;});};b.LAa=c;},98895:function(r,b,a){var l,f;function c(k,d,g,n,h,m){k=l.WI.call(this,k,d,g,n) || this;k.groups=h;Array.isArray(m)?k.prefix=m:m && "string" === typeof m && (k.prefix=[],k.prefix.push(m));return k;}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;l=a(29045);f=a(22097);fa(c,l.WI);c.prototype.EA=function(k,d,g){k=new f.LAa(k,this.Em,this.Ea.Jb(),d,g,this.prefix);d=la(this.pn.pn);for(g=d.next();!g.done;g=d.next()){g=g.value;g(k);}};c.prototype.R3=function(k){return new c(this.Ea,this.k3,this.pn,k,this.groups,this.prefix);};b.MAa=c;},37960:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ta=void 0;b.$Ta=function(a,c){var f;a=a.qKb();for(var l=0;l < c.length;++l){f=c[l];void 0 != f && null != f && (f.sg && (f=f.sg),f.constructor === Uint8Array?a.ntb(f):"MediaRequest" === f.constructor.name?a.Zsb(f):"string" === typeof f?a.ktb(f):"function" === typeof f?a.Tsb(f):f instanceof Error?a.Ssb(f):f instanceof Object && "function" === typeof f.toJSON?a.oSa(f.toJSON()):f instanceof Object?a.oSa(f):a.ptb(f));}return a.Lg();};},90694:function(r,b,a){var l;function c(f,k,d,g,n,h){this.level=f;this.Em=k;this.timestamp=d;this.message=g;this.Ac=n;this.index=void 0 === h?0:h;this.klb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.uda=void 0;l=a(5021);c.prototype.Faa=function(f){var k;k="" + this.message;this.Ac.forEach(function(d){k+=d.kI(f);});return (this.timestamp.da(l.pa) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.klb[this.level] || this.level) + "|" + this.Em + "| " + k;};b.uda=c;},42790:function(r,b,a){var l,f,k,d;function c(g,n){this.jc=g;this.ae=n;}Object.defineProperty(b,"__esModule",{value:!0});b.wHa=void 0;r=a(5163);l=a(22674);f=a(14600);k=a(2248);a=a(74870);c.prototype.qKb=function(){return new f.xHa(this.jc,this.ae);};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Zg)),r.__param(1,(0,l.l)(a.bh))],d);b.wHa=d;},14600:function(r,b,a){var p,q,u;function c(t,w){this.jc=t;this.ae=w;this.Ac=[];}function l(t){return m.call(this,t,function(w){return {Details:w};}) || this;}function f(t){return m.call(this,t,function(w){return JSON.parse(w.toJSON());}) || this;}function k(t,w){w=m.call(this,w,function(v){return {Base64:t.encode(v)};}) || this;w.jc=t;return w;}function d(t,w){w=m.call(this,w,function(v){return v();}) || this;w.ae=t;return w;}function g(t){return m.call(this,t,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function n(t,w,v){w=m.call(this,w,v) || this;w.ae=t;return w;}function h(t){return m.call(this,t,function(w){return {Details:w};}) || this;}function m(t,w){this.Ut=t;this.value=w?w(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;r=a(5163);p=a(22674);q=a(74870);a=a(2248);m.prototype.lT=function(t){return this.Ut === t;};fa(h,m);h.prototype.kI=function(){return "\r\n" + this.Ut;};fa(n,m);n.prototype.kI=function(){var t;t="";this.ae.rB(this.value,function(w,v){try{t+=", " + w + ": " + v;}catch(y){try{t+=", " + w + ": " + JSON.stringify(v);}catch(x){t+=", error stringifying " + w;}}});return t.replace(/[\r\n]+ */g," ");};fa(g,m);g.prototype.kI=function(t){var w;w="\r\n" + this.Ut.message;t || (w+="\r\n" + this.Ut.stack);return w;};fa(d,m);d.prototype.kI=function(){var t;t="";this.ae.rB(this.value,function(w,v){t+=", " + w + ": " + v;});return t.replace(/[\r\n]+ */g," ");};fa(k,m);k.prototype.kI=function(){return this.Ut?"\r\n" + this.jc.encode(this.Ut):"";};fa(f,m);f.prototype.kI=function(){return this.Ut?this.Ut.toJSON():"";};fa(l,m);l.prototype.kI=function(){return ", " + (this.Ut.toString?"" + this.Ut.toString():"");};c.prototype.ktb=function(t){this.Ac.push(new h(t));};c.prototype.oSa=function(t){this.Ac.push(new n(this.ae,t));};c.prototype.Ssb=function(t){this.Ac.push(new g(t));};c.prototype.Tsb=function(t){this.Ac.push(new d(this.ae,t));};c.prototype.ntb=function(t){this.Ac.push(new k(this.jc,t));};c.prototype.Zsb=function(t){this.Ac.push(new f(t));};c.prototype.ptb=function(t){this.Ac.push(new l(t));};c.prototype.Lg=function(){return this.Ac;};u=c;u=r.__decorate([(0,p.U)(),r.__param(0,(0,p.l)(a.Zg)),r.__param(1,(0,p.l)(q.bh))],u);b.xHa=u;},76989:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q){this.Ea=m;this.pn=p;this.Zqa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.HHa=void 0;r=a(5163);l=a(29045);f=a(22674);k=a(51742);d=a(81918);g=a(36410);n=a(87386);h=a(98895);c.prototype.$a=function(m,p,q,u,t){q=void 0 === q?this.pn:q;return p?new k.mLa(this.Ea,this.Zqa,q,p,m):t?new h.MAa(this.Ea,this.Zqa,q,m,u || "",t):new l.WI(this.Ea,this.Zqa,q,m);};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(d.Lc)),r.__param(1,(0,f.l)(g.XI)),r.__param(2,(0,f.l)(n.vda))],a);b.HHa=a;},29045:function(r,b,a){var l,f,k;function c(d,g,n,h){this.Ea=d;this.k3=g;this.pn=n;this.Em=void 0 === h?"General":h;this.cka={};}Object.defineProperty(b,"__esModule",{value:!0});b.WI=void 0;l=a(87386);f=a(90694);k=a(37960);c.prototype.cSa=function(d,g){this.cka[d]=g;};c.prototype.fatal=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.EA(l.fj.ckb,d,this.KO(d,n));};c.prototype.error=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.EA(l.fj.Ak,d,this.KO(d,n));};c.prototype.warn=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.EA(l.fj.Ffa,d,this.KO(d,n));};c.prototype.info=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.EA(l.fj.bda,d,this.KO(d,n));};c.prototype.trace=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.EA(l.fj.XNa,d,this.KO(d,n));};c.prototype.debug=function(d,g){for(var n=1;n < arguments.length;++n){;}!1;};c.prototype.log=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.debug.apply(this,[d].concat(ca(n)));};c.prototype.write=function(d,g,n){for(var h=[],m=2;m < arguments.length;++m){h[m - 2]=arguments[m];}this.EA(d,g,this.KO(g,h));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Em};};c.prototype.R3=function(d){return new c(this.Ea,this.k3,this.pn,d);};c.prototype.EA=function(d,g,n){d=new f.uda(d,this.Em,this.Ea.Jb(),g,n);g=la(this.pn.pn);for(n=g.next();!n.done;n=g.next()){n=n.value;n(d);}};c.prototype.eJb=function(d){return 0 < Object.keys(this.cka).length?[this.cka].concat(ca(d)):d;};c.prototype.KO=function(d,g){var n;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (n=Error("Empty message").stack) && void 0 !== n?n:"nostack"});return (0,k.$Ta)(this.k3,this.eJb(g));};b.WI=c;},80401:function(r,b,a){var l;function c(){this.Gcb={};this.pn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.IHa=void 0;r=a(5163);a=a(22674);c.prototype.Z9=function(f,k){k && (this.Gcb[f]=k,this.pn=Object.values(this.Gcb));};l=c;l=r.__decorate([(0,a.U)()],l);b.IHa=l;},51742:function(r,b,a){var l,f,k;function c(d,g,n,h,m){d=k.WI.call(this,d,g,n,m) || this;d.j=h;(0,l.io)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.mLa=void 0;l=a(66523);f=a(90694);k=a(29045);fa(c,k.WI);c.prototype.R3=function(d){return new c(this.Ea,this.k3,this.pn,this.j,d);};c.prototype.EA=function(d,g,n){d=new f.uda(d,this.Em,this.Ea.Jb(),g,n,this.j.index);g=la(this.pn.pn);for(n=g.next();!n.done;n=g.next()){n=n.value;n(d,this.j);}};b.mLa=c;},56371:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.T6a=void 0;r=a(22674);c=a(76193);l=a(25857);b.T6a=new r.dd(function(f){f(c.MIa).to(l.LIa).ha();});},76193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MIa="MomentObserverFactory";},25857:function(r,b,a){var l,f,k;function c(d){this.yc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.LIa=void 0;r=a(5163);l=a(22674);f=a(89350);a=a(53085);c.prototype.kWa=function(d,g){return new f.NIa(this.yc,d,g);};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Th))],k);b.LIa=k;},89350:function(r,b){function a(c,l,f){this.yc=c;this.config=l;this.getTime=f;}Object.defineProperty(b,"__esModule",{value:!0});b.NIa=void 0;a.prototype.observe=function(c,l){var f;f=this;this.cancel();this.$i=this.yc.CH(this.config.W0a(),function(){f.getTime() >= c && (f.cancel(),l());});};a.prototype.cancel=function(){this.$i && (this.$i.cancel(),this.$i=void 0);};b.NIa=a;},64274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XRb=b.rM=b.VRb=void 0;b.VRb=function(a){return a;};b.rM=function(a){return a;};b.XRb=function(a){return Object.assign({},a);};},33194:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.O=void 0;r=a(22674);c=a(2911);l=a(93488);f=a(12242);k=a(71807);d=a(25830);g=a(49310);b.O=new r.dd(function(n){n(c.ifa).to(f.iNa).ha();n(l.eNa).to(k.dNa).ha();n(d.sOa).to(g.rOa).ha();});},93488:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eNa="SegmentConfigFactorySymbol";},2911:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ifa="SegmentManagerFactorySymbol";},25830:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sOa="TransitionLoggerSymbol";},61494:function(r,b,a){var k,d,g,n;function c(h,m,p,q,u,t,w){var v;v=this;this.Z=m;this.j=p;this.DM=q;this.yc=u;this.eK=t;this.config=w;this.rK=function(){v.qC && (v.qC.cancel(),v.qC=void 0);};this.log=h.$a("SegmentManager",this.j);this.O=new Map();this.j.bb.qg && (this.j.addEventListener(g.ga.DH,function(y){return v.Sv(y);}),this.j.addEventListener(g.ga.closed,this.rK));}function l(h,m){this.id=h;this.Nja=m;}function f(h,m,p,q){return d.Mc.call(this,h,p,void 0,void 0,void 0,m,void 0,q) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.DBa=void 0;k=a(36129);d=a(31149);g=a(85001);n=a(5021);fa(f,d.Mc);f.prototype.toString=function(){return this.code + "-" + this.ec + " : " + this.message + "\n" + JSON.stringify(this.data);};l.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.ta,contentEndPts:this.va};};Xa.Object.defineProperties(l.prototype,{ta:{configurable:!0,enumerable:!0,get:function(){return this.Nja.startTimeMs;}},va:{configurable:!0,enumerable:!0,get:function(){return this.Nja.endTimeMs;}},Sy:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Nja.next);}}});c.prototype.Sv=function(h){var m;m=this;!1;h=h.position.segmentId;0 === this.O.size && Object.entries(this.j.JT()).forEach(function(p){var q;q=la(p);p=q.next().value;q=q.next().value;m.O.set(p,new l(p,q));});this.ba=this.O.get(h);};c.prototype.play=function(h){this.tN && (this.tN=void 0);this.rK();this.log.trace("Playing segment",h);return this.I3a(h)?this.BXb(h):this.qW(h);};c.prototype.sN=function(h){this.log.trace("Queueing segment",h);return this.I3a(h)?this.OZb(h):this.PZb(h);};c.prototype.dj=function(h,m){var p,q;p=this;q=this.j.cb;if(null === q || void 0 === q || !q.Ah)return Promise.reject(this.getError(k.V.lBa,"ASE session manager is not yet initialized",k.S.Wba,{segmentId:h,updates:m}));this.log.trace("Updating next segment weights",h,m);return new Promise(function(u,t){try{q.K7b(h,m);p.j.fireEvent(g.ga.Yya,{I:h,p8b:m});u();}catch(w){t(p.getError(k.V.lBa,"updateNextSegmentWeights threw an exception",k.S.Mhb,{segmentId:h,updates:m,error:w}));}});};c.prototype.I3a=function(h){return this.ba?void 0 !== this.j.JT()[this.ba.id].next[h]:!1;};c.prototype.koa=function(){var h;h=this.j.cb;if(null === h || void 0 === h?0:h.Ah)return h.Zn().JXb;};c.prototype.jLb=function(){var h;h=this.j.cb;if(null === h || void 0 === h?0:h.Ah)return h.Zn().id;};c.prototype.bJb=function(){var h;h=this.j.cb;if(null === h || void 0 === h?0:h.Ah)return (h={aja:0},h.aja);};c.prototype.BXb=function(h){var m,p;m=this;p=this.j.cb;return null !== p && void 0 !== p && p.Ah?this.ba && 1 === this.ba.Sy.length?this.qW(h):this.j.Ud?void 0 === this.bJb()?(this.log.error("playNextSegment: branchOffset missing",{segment:h}),this.qW(h)):new Promise(function(q,u){var x,z,A,B,C,D;function t(){!A && z && x && (D.cancel(),A=!0,m.log.trace("Telling ASE to choose the next segment",{id:h,stopped:z,repositioned:x,completed:A}),p.u3(h,!1)?(q(),A=!0):(A=!0,m.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:h}),m.qW(h).then(q).catch(u)));}function w(){x=!0;m.log.trace("Player is repositioned",{id:h,stopped:z,repositioned:x,completed:A});m.j.removeEventListener(g.ga.Fj,w);t();}function v(){m.j.removeEventListener(g.ga.IC,v);p.stop();}function y(){z=!0;m.log.trace("ASE is stopped",{id:h,stopped:z,repositioned:x,completed:A});p.removeEventListener("stop",y);t();}x=!1;z=!1;A=!1;B=m.O.get(h);C=m.koa();if(void 0 === C)return (m.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:h}),m.qW(h));m.log.trace("Seeking to next segment",JSON.stringify({segmentId:h,seekTo:C,currentSegment:m.ba,nextSegment:B},null,"  "));m.j.fireEvent(g.ga.D8,{hh:m.ba && m.ba.id,IM:h});p.addEventListener("stop",y);m.j.addEventListener(g.ga.IC,v);m.j.addEventListener(g.ga.Fj,w);D=m.yc.nk((0,n.sh)(10),function(){A=!0;D.cancel();u(m.getError(k.V.aP,"Timed out waiting for the player to be repositioned and ASE to be stopped",k.S.Ihb,{id:h,stopped:z,repositioned:x,completed:A}));});m.Z.seek(C,g.mc.SD);}):(this.log.warn("MediaPresenter is not initialized",h),Promise.reject(this.getError(k.V.aP,"MediaPresenter is not initialized",k.S.Jhb,{id:h}))):Promise.reject(this.getError(k.V.aP,"ASE session manager is not yet initialized",k.S.Wba,{id:h}));};c.prototype.qW=function(h){var m;m=this.O.get(h);return m?this.lX(m,k.V.aP):Promise.reject(this.getError(k.V.aP,"Unable to find the separated segment",k.S.kBa,{id:h}));};c.prototype.OZb=function(h){var m;m=this.j.cb;if(null === m || void 0 === m || !m.Ah)return Promise.reject(this.getError(k.V.bP,"ASE session manager is not yet initialized",k.S.Wba,{id:h}));this.j.fireEvent(g.ga.D8,{hh:this.ba && this.ba.id,IM:h});if(m.u3(h,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:h});return this.nXa(h);};c.prototype.PZb=function(h){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:h,mid:this.j.P,srcsegment:this.jLb()});return this.nXa(h);};c.prototype.nXa=function(h){var m,p;m=this;if(this.tN)return Promise.reject(this.getError(k.V.bP,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",k.S.Lhb,{currentSegment:this.ba?this.ba.id:void 0,queuedSegment:this.tN.id,failedSegment:h}));if(!this.ba)return Promise.reject(this.getError(k.V.bP,"Unable to queue segment for delayed seek because there is no currently playing segment",k.S.Hhb,{nextSegmentid:h}));p=this.O.get(h);if(!p)return Promise.reject(this.getError(k.V.bP,"Unable to find the separated segment",k.S.kBa,{nextSegmentid:h,currentSegmentId:this.ba.id}));this.tN={id:h,promise:new Promise(function(q,u){var t;m.qC=m.DM.kWa({W0a:function(){return (0,n.Ob)(100);}},function(){return m.Z.$q() || 0;});t=m.koa() - m.config().Q6a;m.log.trace("Adding moment for queued segment for delayed seek",{segment:h,pts:t});m.qC.observe(t,function(){m.log.trace("Moment has arrived, seek to segment",{segment:h,currentSegment:m.ba.id,playerEndPts:m.koa(),pts:t});m.tN=void 0;m.rK();m.lX(p,k.V.bP).then(q).catch(u);});})};this.tN.promise.catch(function(q){m.j.pd(q.code,q);});return Promise.resolve();};c.prototype.lX=function(h,m){var p;p=this;return new Promise(function(q,u){var t;try{t=h.ta;!1;p.Z.seek(t,g.mc.cx);q();}catch(w){u(p.getError(m,"Seek threw an exception",k.S.Khb,{id:h.id,error:w}));}});};c.prototype.getError=function(h,m,p,q){this.log.warn(m,q);return new f(h,m,p,q);};b.DBa=c;},71807:function(r,b,a){var f,k;function c(){}function l(d,g,n,h,m){this.debug=d;this.version=g;this.eQb=n;this.yXb=h;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.dNa=void 0;r=a(5163);f=a(22674);k=a(5021);l.prototype.TJb=function(){return this.config().cG;};l.prototype.rna=function(){return this.config().NTa;};l.prototype.W0a=function(){return (0,k.Ob)(this.config().$Xb);};l.prototype.u0a=function(){return this.config().sRb;};l.prototype.x0a=function(){return this.config().hSb;};c.prototype.NF=function(d,g,n,h,m){return new l(d,g,n,h,m);};a=c;a=r.__decorate([(0,f.U)()],a);b.dNa=a;},12242:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v;function c(y,x,z,A,B,C,D,F,G,E,I){this.Ea=y;this.zf=x;this.DM=z;this.rza=A;this.rW=B;this.yc=C;this.eK=D;this.qh=F;this.ima=G;this.wh=E;this.config=I;}Object.defineProperty(b,"__esModule",{value:!0});b.iNa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(87386);d=a(76193);g=a(79274);n=a(51038);h=a(58872);m=a(64181);p=a(61494);q=a(24550);u=a(53085);t=a(95947);w=a(74870);a=a(4203);c.prototype.sBb=function(y,x,z){return new m.jNa(this.Ea,this.zf,this.DM,this.rza,x,y,this.qh,this.rW,this.wh,this.ima,z);};c.prototype.PAb=function(y,x){return new p.DBa(this.zf,y,x,this.DM,this.yc,this.eK,this.config);};v=c;v=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(k.ab)),r.__param(2,(0,l.l)(d.MIa)),r.__param(3,(0,l.l)(h.UOa)),r.__param(4,(0,l.l)(n.iLa)),r.__param(5,(0,l.l)(u.Th)),r.__param(6,(0,l.l)(q.ZO)),r.__param(7,(0,l.l)(g.kQ)),r.__param(8,(0,l.l)(t.uP)),r.__param(9,(0,l.l)(w.bh)),r.__param(10,(0,l.l)(a.Yb))],v);b.iNa=v;},64181:function(r,b,a){var d,g,n;function c(h,m,p,q,u,t,w,v,y,x,z){var A;A=this;this.Ea=h;this.DM=p;this.lua=q;this.config=u;this.rb=t;this.qh=w;this.rW=v;this.wh=y;this.Sj=z;this.YFb=Object.values(d.La).map(function(B){return {event:B,Bv:function(C){return A.Ib.Ec(B,C);}};});this.Ib=x.create();this.EC=[];this.log=m.$a("SegmentManager");this.EF=!0;this.mk=this.wh.createElement("div",n.Vea);}function l(h,m,p,q,u,t,w,v,y,x,z){var A;A=this;this.log=h;this.config=m;this.$Ub=p;this.lua=q;this.qh=u;this.rW=t;this.Zt=w;this.v=v;this.mk=y;this.rb=x;this.Sj=z;this.rK=function(){A.qC && (A.qC.cancel(),A.qC=void 0);};this.Ooa=function(B){A.log.trace("Received the transition event",{movieId:B.P});A.$Zb();};this.Sqa=function(){};this.log.debug("Constructing session data",f(v));this.v6b=new Promise(function(B){A.$Zb=B;});}function f(h){return {movieId:h.P};}function k(h){return JSON.stringify({movieId:h.P,startPts:h.gb,logicalEnd:h.Ui,params:h.tb?{trackingId:h.tb.Qj,authParams:h.tb.Y2,sessionParams:h.tb.$l,disableTrackStickiness:h.tb.rla,uiPlayStartTime:h.tb.aD,loadImmediately:h.tb.J7,playbackState:h.tb.playbackState?{currentTime:h.tb.playbackState.currentTime,volume:h.tb.playbackState.volume,muted:h.tb.playbackState.muted,playbackRate:h.tb.playbackState.playbackRate}:void 0,pin:h.tb.Y8a,heartbeatCooldown:h.tb.$oa,uiLabel:h.tb.zd,uxLabels:h.tb.Vaa}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.jNa=void 0;d=a(85001);g=a(5021);n=a(33096);l.prototype.load=function(h){var m,p;m=this;this.log.trace("Loading new segment",f(this.v));this.Z=this.lua.CK(this.config,this.rW,this.qh,this.v,this.rb,this.Sj);this.Z.addEventListener(d.La.SL,function(q){m.log.trace("Segment is inactive",f(m.v));m.Zt.close(m.qh(q.errorCode));});this.Z.addEventListener(d.La.closed,this.rK);if(h)(this.log.debug("Pausing background segment",f(this.v)),this.Z.addEventListener(d.La.kqa,this.Ooa),this.Z.P8a());else {this.mk.appendChild(this.Z.Sm());p=function(q){m.Ooa(q);m.Z.removeEventListener(d.La.loaded,p);};this.Z.addEventListener(d.La.loaded,p);}};l.prototype.observe=function(){var h,m,p;h=this;this.log.trace("Observing segment",k(this.v));if(this.qC)this.log.trace("Segment is currently observing",f(this.v));else if(this.v.tb && this.v.tb.J7)this.Sqa(this);else {m=this.$Ub.kWa(this.config,function(){var q;if(h.Z){q=h.Z.$q();if(q)return q;}return 0;});p=this.Hwb(this.v);this.log.trace("Adding a moment to watch",{time:p});m.observe(p,function(){h.log.trace("Segment has reached its loading point",f(h.v));h.Sqa(h);h.rK();});}};l.prototype.close=function(h){this.log.info("Closing segment",{segment:k(this.v),error:h});return this.Z?(this.Z.removeEventListener(d.La.kqa,this.Ooa),this.Z.close(h)):Promise.resolve();};l.prototype.aWb=function(h){this.Sqa=h;};l.prototype.Hwb=function(h){var m,p;m=h.Ui;h=h.tb?h.tb.J7:!1;p=0;m && !h && (p=m - this.config.u0a(),p < this.config.x0a() && (h=m - this.config.x0a(),p=m - h / 2));return p;};c.prototype.rLb=function(){return this.Mg && this.Mg.Z?this.Mg.Z.Ev():!1;};c.prototype.Sm=function(){return this.mk;};c.prototype.WF=function(){if(!this.Mg || !this.Mg.Z)throw Error("Player not ready");return this.Mg.Z;};c.prototype.e8b=function(h){var m,p;p=this.Gma(h);p?this.yfb(p,h):this.rb.he(h.id) || this.log.error("Tried to update a non-existent segment",{segment:k(h),currentMovieId:this.Mg.v.P,queuedMovieIds:this.EC.map(function(q){return q.v.P;}),xid:null === (m=this.Mg.Z) || void 0 === m?void 0:m.qt()});};c.prototype.De=function(h){var m;this.log.info("Adding segment",k(h));if(this.EF){this.log.trace("First segment, loading",f(h));m=this.f5a(h);this.EF=!1;}else (this.log.trace("Subsequent segment, caching",f(h)),(m=this.Gma(h))?this.yfb(m,h):(m=this.createSession(h),this.EC.push(m),this.Mg.observe()));return m?m.v6b:null;};c.prototype.transition=function(h,m){var p,q,u;q=this.QG;u=null === q || void 0 === q?void 0:q.Z;if(q && u)return (this.QG=void 0,this.log.info("Transitioning segment",k(q.v)),u.fxa(this.Ea.Jb().da(g.pa)),this.Keb(q,m));m=null === q || void 0 === q?void 0:q.v;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Mg.v.P,xid:null === (p=this.Mg.Z) || void 0 === p?void 0:p.qt(),nextSegmentId:h,currentSegment:k(this.Mg.v),nextSegment:m?k(m):void 0,queuedMovieIds:this.EC.map(function(t){return t.v.P;})});return Promise.reject();};c.prototype.close=function(h){var m;m=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(f(this.Mg.v)),nextSession:this.QG?JSON.stringify(f(this.QG.v)):void 0});h=[this.Mg.close(h)];this.QG && h.push(this.QG.close());return Promise.all(h).then(function(){m.QG=void 0;m.EC=[];m.EF=!0;});};c.prototype.addListener=function(h,m,p){this.Ib.addListener(h,m,p);};c.prototype.removeListener=function(h,m){this.Ib.removeListener(h,m);};c.prototype.yfb=function(h,m){this.AWb(h.v,m);this.log.trace("Overwrote existing segment data",k(h.v));};c.prototype.f5a=function(h){var m,p;m=this;this.log.info("Loading the next episode",f(h));if(this.Mg){this.config.rna()[h.P]=h.gb;p=this.Gma(h);}else p=this.createSession(h);if(p)return (this.log.trace("Found the next session",f(h)),p.aWb(function(q){m.leb(q);}),this.Mg?(this.log.trace("Subsequent playback, caching player and pausing",f(h)),this.QG=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",f(h)),p.load(!1),this.Keb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",f(h));};c.prototype.Keb=function(h,m){var p,q,u,t,w;m=void 0 === m?{}:m;t=h.Z?null === (p=h.Z) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=h.Z) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Mg.v.P,mid:h.v.P,error:t,xid:null === (u=h.Z) || void 0 === u?void 0:u.qt()}),Promise.reject());this.log.trace("Playing episode",f(h.v));p=this.Mg;this.Mg=h;h=this.Mg.Z;h.Owa(!1);this.zI(h,p?p.Z:void 0);if(p && p.Z){w=p.Z.Sm();q=h.Sm();w.style.display="none";p=p.close();this.mk.appendChild(q);p.then(function(){w.parentElement && w.parentElement.removeChild(w);});q.style.display="block";h.Qaa(m);h.eO();h.play();}return Promise.resolve();};c.prototype.leb=function(h){var m,p,q,u,t;if(this.EC.length && h.Z){m=h.Z.$q();p=this.EC[0];q=this.Mg.v.Ui;u=this.Mg.v.tb?this.Mg.v.tb.J7:!1;if(q || u){u?t=0:q && (t=q - this.config.u0a());null !== m && m >= t && (this.log.info("Got a time change, loading the next player",f(p.v)),this.f5a(p.v),this.EC.splice(0,1),this.leb(h));}}};c.prototype.Gma=function(h){return this.Mg.v.P === h.P?this.Mg:this.EC.find(function(m){return m.v.P === h.P;});};c.prototype.AWb=function(h,m){h.gb=m.gb || h.gb;h.Ui=m.Ui || h.Ui;h.tb=m.tb || h.tb;h.X=m.X || h.X;};c.prototype.createSession=function(h){return new l(this.log,this.config,this.DM,this.lua,this.qh,this.rW,this,h,this.mk,this.rb,this.Sj);};c.prototype.zI=function(h,m){this.YFb.forEach(function(p){m && m.removeEventListener(p.event,p.Bv);h.addEventListener(p.event,p.Bv);});this.Ib.Ec(d.QD.qX);};b.jNa=c;},49310:function(r,b,a){var l,f,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.rOa=void 0;r=a(5163);l=a(22674);f=a(4203);k=a(3887);c.prototype.qZb=function(d,g,n,h){this.config().j2b && (d=d.metrics,void 0 !== d && d.segment !== d.srcsegment && (n={isBranching:h || void 0,isPlaygraph:!h || void 0,mid:g.P,xid:g.na,srcxid:n.na,srcmid:n.P,segment:d.segment,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,srcvbitrate:d.srcvbitrate,srcvmaf:d.srcvmaf,destvbitrate:d.destvbitrate,destvmaf:d.destvmaf,auxMid:d.auxMid,auxMidType:d.auxMidType,auxSrcmid:d.auxSrcmid,auxSrcmidType:d.auxSrcmidType,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,transitionTypeAtRequest:d.transitionTypeAtRequest,nextExitPositionAtRequest:d.nextExitPositionAtRequest,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard,adBreakLocationMs:d.adBreakLocationMs,srcadBreakLocationMs:d.srcadBreakLocationMs},!h && d.auxMid && d.auxMid !== g.P && (n.moffms=(0,k.Vf)(g.KS)),g.pM.fb.transition(n)));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Yb))],a);b.rOa=a;},24550:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZO=b.zhb=b.GAa=b.IAa=void 0;(function(a){a[a.fEb=0]="downloading";a[a.eEb=1]="downloaded";a[a.aS=2]="appended";a[a.buffered=3]="buffered";a[a.Vt=4]="removed";a[a.Wjc=5]="unused";})(b.IAa || (b.IAa={}));(function(a){a[a.waiting=1]="waiting";a[a.jic=2]="ondeck";a[a.fEb=4]="downloading";a[a.eEb=8]="downloaded";a[a.FU=6]="inprogress";})(b.GAa || (b.GAa={}));b.zhb="AseBufferViewSymbol";b.ZO="AseBufferAccountingSymbol";},1891:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p){return function(){return new Promise(function(q,u){var t;t=p.lb.get(f.LDa);t.Cb().then(function(){q(t);}).catch(function(w){u(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.TXa=void 0;r=a(22674);l=a(2413);f=a(31701);k=a(98281);d=a(24550);g=a(64372);n=a(52476);h=a(14188);m=a(33633);b.TXa=new r.dd(function(p){p(n.uHa).to(h.tHa).ha();p(l.IDa).to(m.vHa);p(d.ZO).to(g.EAa).ha();p(f.LDa).to(k.JDa).ha();p(f.KDa).jY(c);});},2413:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IDa="DxDisplaySymbol";},31701:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LDa="DxManagerSymbol";b.KDa="DxManagerProviderSymbol";},52476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uHa="LogDisplayConfigSymbol";},64372:function(r,b,a){var l;function c(){this.P1b="";this.n9b=[[],[],[]];this.Ja=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.EAa=void 0;r=a(5163);l=a(22674);a(5021);a(24550);c.prototype.update=function(f){this.n9b[f.mediaType].forEach(function(k){k.Xjc(f);});};Xa.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.P1b;}}});a=c;a=r.__decorate([(0,l.U)()],a);b.EAa=a;},44133:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;l=a(22365);c.hzb=function(f){var k;if(l.Hg.queryCommandSupported && l.Hg.queryCommandSupported("copy")){k=l.Hg.createElement("textarea");k.textContent=f;k.style.position="fixed";l.Hg.body.appendChild(k);k.select();try{l.Hg.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{l.Hg.body.removeChild(k);}}};b.wCa=c;},98281:function(r,b,a){var l,f;function c(k){this.ODb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.JDa=void 0;r=a(5163);l=a(22674);a=a(2413);c.prototype.Cb=function(){var k;k=this;this.MB || (this.MB=new Promise(function(d,g){var n;n=[];k.ODb.forEach(function(h){n.push(h.Cb());});Promise.all(n).then(function(){d();}).catch(function(h){g(h);});}));return this.MB;};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.OG)(a.IDa))],f);b.JDa=f;},14188:function(r,b,a){var l,f,k,d,g;function c(n,h){n=k.Pe.call(this,n,"LogDisplayConfigImpl") || this;n.og=h;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.tHa=void 0;r=a(5163);l=a(22674);f=a(12501);k=a(64174);d=a(83767);a=a(5614);fa(c,k.Pe);Xa.Object.defineProperties(c.prototype,{SW:{configurable:!0,enumerable:!0,get:function(){return !0;}},oM:{configurable:!0,enumerable:!0,get:function(){return this.og.oM;}},p5a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;r.__decorate([f.config(f.ed,"renderDomDiagnostics")],g.prototype,"SW",null);r.__decorate([f.config(f.PB,"logDisplayMaxEntryCount")],g.prototype,"oM",null);r.__decorate([f.config(f.PB,"logDisplayAutoshowLevel")],g.prototype,"p5a",null);g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.sl)),r.__param(1,(0,l.l)(a.iJ))],g);b.tHa=g;},33633:function(r,b,a){var k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A;function c(B,C,D,F,G,E,I,M,L,K){var O;O=this;this.sa=B;this.Sf=C;this.wh=D;this.yc=F;this.pn=G;this.config=E;this.sF=I;this.eya=M;this.Ska=L;this.cl=K;this.f6b=function(){O.wY.Mj(function(){O.update();});};this.clear=function(){O.entries=[];O.update();};this.I6a=function(){O.Je.bM=!O.Je.bM;O.fC && O.iC && (O.Je.bM?(O.fC.style.display="inline-block",O.iC.style.display="none"):(O.iC.style.display="inline-block",O.fC.style.display="none"));O.MH(!1);};this.GRb=function(H){var J;O.entries.push(H);J=O.config.oM;0 <= J && O.entries.length > J && O.entries.shift();void 0 === O.Je.Jx[H.Em] && (O.Je.Jx[H.Em]=!0,O.MH(!1));O.Je.isVisible && !O.$db?O.f6b():O.wY.Mj();};this.XDb=function(){f.download("all",O.entries.map(function(H){return H.Faa(!1);})).catch(function(H){console.error("Unable to download all logs to the file",H);});};this.NB=!1;this.Je={isVisible:!1,bM:!0,sla:!0,$qa:t.fj.bda,Jx:{}};this.wY=this.eya((0,p.sh)(1));this.KGb=this.Ska((0,p.Ob)(250));this.entries=[];!1;!1;}function l(B){var C;this.elements=[];C=document.createElementNS(l.UX,"svg");C.setAttribute("viewBox",B);this.elements.push(C);}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.vHa=void 0;r=a(5163);k=a(22674);d=a(74870);g=a(45842);n=a(34043);h=a(53085);m=a(30869);p=a(5021);q=a(81918);u=a(33554);t=a(87386);w=a(36410);v=a(34126);y=a(52476);x=a(17892);z=a(43193);A=a(44133);f.download=function(B,C){return f.KJb(B).then(function(D){return f.aMb(D,C.join("\r\n")).then(function(F){return f.UDb(F.filename,F.text);});});};f.KJb=function(B){return new Promise(function(C,D){var F,G,E,I,M,L,K;try{F=new Date();G=F.getDate().toString();E=(F.getMonth() + 1).toString();I=F.getFullYear().toString();M=F.getHours().toString();L=F.getMinutes().toString();K=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === E.length && (E="0" + E);1 === M.length && (M="0" + M);1 === L.length && (L="0" + L);1 === K.length && (K="0" + K);C(I + E + G + M + L + K + "." + B + ".log");}catch(O){D(O);}});};f.aMb=function(B,C){return new Promise(function(D,F){try{D({filename:B,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(G){F(G);}});};f.UDb=function(B,C){var D;try{D=document.createElement("a");D.setAttribute("href",C);D.setAttribute("download",B);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(F){return Promise.reject(F);}};l.prototype.dO=function(){var B;B=document.createElementNS(l.UX,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};l.prototype.fO=function(B,C,D){var F;F=document.createElementNS(l.UX,"path");F.setAttribute("d",B);C && F.setAttribute("fill",C);D && F.setAttribute("fill-rule",D);this.addElement(F);return this;};l.prototype.GX=function(B,C,D,F,G){var E;G=void 0 === G?"#000000":G;E=document.createElementNS(l.UX,"rect");E.setAttribute("x",B.toString());E.setAttribute("y",C.toString());E.setAttribute("height",D.toString());E.setAttribute("width",F.toString());G && E.setAttribute("fill",G);this.addElement(E);return this;};l.prototype.F4b=function(){var B;B=document.createElementNS(l.UX,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};l.prototype.end=function(){this.elements.pop();return this;};l.prototype.Lg=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};l.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Xa.Object.defineProperties(l,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},nF:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});l.UX="http://www.w3.org/2000/svg";c.prototype.Cb=function(){var B;B=this;this.MB || (this.MB=new Promise(function(C){ob.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.Vz.jlb?B.toggle():D.keyCode == z.Vz.E && A.wCa.hzb(B.sF().ck));});B.pn.Z9(v.xda.Uib,B.GRb);C();}));return this.MB;};c.prototype.show=function(){document.body && (this.element || (this.WAb(),this.NB=!0),!this.Je.isVisible && this.element && (document.body.appendChild(this.element),this.Je.isVisible=!0,this.update(!0)));};c.prototype.Cv=function(){this.NB && this.Je.isVisible && this.element && (document.body.removeChild(this.element),this.Je.isVisible=!1);};c.prototype.toggle=function(){this.Je.isVisible?this.Cv():this.show();this.MH(!1);};c.prototype.WAb=function(){var B,C;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(C);B.appendChild(this.Co=this.NBb());B.appendChild(this.OBb());B.appendChild(this.QAb());this.element=B;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.NBb=function(){var B,C;B=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){B.$db=!0;B.update();B.Co && (B.Co.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){B.$db=!1;B.update();B.Co && (B.Co.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};c.prototype.OBb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.qBb());B.appendChild(this.fBb());B.appendChild(this.aBb());B.appendChild(this.PBb());B.appendChild(this.UAb());B.appendChild(this.xBb());B.appendChild(this.uBb());B.appendChild(this.bBb());B.appendChild(this.VAb());return B;};c.prototype.QAb=function(){var B,C,D,F,G,E;B=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");F=this.createElement("select",this.yv(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(D);C.appendChild(G);D.appendChild(F);D.addEventListener("mousedown",function(I){I.preventDefault();});E=!1;D.addEventListener("click",function(){E?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.Je.Jx).sort()).forEach(function(I){G.appendChild(B.RAb(I,D));}),G.style.display="block");E=!E;});return C;};c.prototype.RAb=function(B,C){var D,F,G;D=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.Je.Jx[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(D.Je.Jx).forEach(function(E){D.Je.Jx[E]="all" === B;}),C.click()):D.Je.Jx[B]=!D.Je.Jx[B];D.MH(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.qBb=function(){var B,C;B=this;C=this.createElement("select",this.yv(22,NaN,1,2),'<option value="' + t.fj.Ak + '">Error</option><option value="' + (t.fj.Ffa + '">Warn</option><option value="') + (t.fj.bda + '">Info</option><option value="') + (t.fj.XNa + '">Trace</option><option value="') + (t.fj.K + '">Debug</option>'));C.value=this.Je.$qa.toString();C.addEventListener("change",function(D){B.Je.$qa=parseInt(D.target.value);B.MH(!0);},!1);return C;};c.prototype.fBb=function(){var C,D;function B(F){return C.KGb.Mj(function(){var G;G=F.target.value;C.Je.filter=G?new RegExp(G):void 0;C.MH(!0);});}C=this;D=this.createElement("input",this.yv(14,150,1,2));D.value=this.Je.filter?this.Je.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",B,!1);D.addEventListener("change",B,!1);return D;};c.prototype.aBb=function(){var B,C,D,F;B=this;C=this.createElement("div",this.yv(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.Je.sla;D.addEventListener("change",function(G){B.Je.sla=G.target.checked;B.MH(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";C.appendChild(D);C.appendChild(F);return C;};c.prototype.PBb=function(){var B,C,D;B=this;C=this.createElement("button",this.yv());D=new l("0 0 24 24").dO().F4b().end().fO("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",l.nF,"nonzero").end().end().Lg();C.appendChild(D);C.addEventListener("click",function(){B.update();},!1);C.setAttribute("title","Refresh the log console");return C;};c.prototype.UAb=function(){var B,C;B=this.createElement("button",this.yv());C=new l("0 0 24 24").dO().GX(0,0,24,24,l.background).end().fO("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",l.nF).end().end().Lg();B.appendChild(C);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.xBb=function(){var B;this.iC=this.createElement("button",this.yv());this.iC.style.display=this.Je.bM?"none":"inline-block";B=new l("0 0 24 24").dO().GX(0,0,24,24,l.background).end().fO("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",l.nF,"nonzero").end().end().Lg();this.iC.addEventListener("click",this.I6a,!1);this.iC.appendChild(B);this.iC.setAttribute("title","Shrink the log console");return this.iC;};c.prototype.uBb=function(){var B;this.fC=this.createElement("button",this.yv());this.fC.style.display=this.Je.bM?"inline-block":"none";B=new l("0 0 24 24").dO().GX(4,4,16,16,l.background).end().fO("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",l.nF,"nonzero").end().end().Lg();this.fC.addEventListener("click",this.I6a,!1);this.fC.appendChild(B);this.fC.setAttribute("title","Expand the log console");return this.fC;};c.prototype.bBb=function(){var B,C;B=this.createElement("button",this.yv());C=new l("0 0 26 26").dO().GX(0,0,24,24,l.background).end().fO("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",l.nF,"nonzero").end().end().Lg();B.appendChild(C);B.addEventListener("click",this.XDb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.VAb=function(){var B,C,D;B=this;C=this.createElement("button",this.yv());D=new l("0 0 24 24").dO().GX(0,0,24,24,l.background).end().fO("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",l.nF,"nonzero").end().end().Lg();C.appendChild(D);C.addEventListener("click",function(){B.toggle();},!1);C.setAttribute("title","Close the log console");return C;};c.prototype.MH=function(B){var C;B=void 0 === B?!1:B;C=void 0 === C?!1:C;!1;B && this.update(C);};c.prototype.update=function(B){var C;C=this;B=void 0 === B?!1:B;this.element && this.config.SW && Promise.resolve(this.gwb() + this.LJb().join("\r\n")).then(function(D){C.element && C.Co && (C.Co.value=D,C.element.style.cssText=C.Je.bM?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && C.yc.nk(p.Ha,function(){C.Co.scrollTop=C.Co.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.LJb=function(){var B,C;B=this;C=[];this.entries.forEach(function(D){(D.level || D.level) <= B.Je.$qa && B.Je.Jx[D.Em] && (D=D.Faa(!B.Je.sla),B.Je.filter && !B.Je.filter.test(D) || C.push(D));});return C;};c.prototype.gwb=function(){var B;B=this.sF();return "Version: 6.0043.278.911 \n" + ((B?"Esn: " + B.ck:"") + "\nJsSid: ") + (this.Sf.id + ", Epoch: " + this.sa.fe.da(p.pm) + ", Start: " + this.Sf.Dy.da(p.pm) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,C,D,F){return this.wh.createElement(B,C,D,F);};c.prototype.yv=function(B,C,D,F){B=void 0 === B?26:B;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + l.nF + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.Q4b="logDxDisplay";a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(m.ag)),r.__param(1,(0,k.l)(q.Lc)),r.__param(2,(0,k.l)(d.bh)),r.__param(3,(0,k.l)(h.Th)),r.__param(4,(0,k.l)(w.XI)),r.__param(5,(0,k.l)(y.uHa)),r.__param(6,(0,k.l)(u.Kw)),r.__param(7,(0,k.l)(g.VD)),r.__param(8,(0,k.l)(n.JZ)),r.__param(9,(0,k.l)(x.Dw))],a);b.vHa=a;},72574:function(r,b,a){var f;function c(){return f.yQ.apply(this,arguments) || this;}function l(k){return new f.ls(k,b.lD);}Object.defineProperty(b,"__esModule",{value:!0});b.Ha=b.DIa=b.nda=b.$r=b.lD=b.$Sb=b.nQb=b.wa=b.Kq=b.mib=void 0;f=a(35201);fa(c,f.yQ);b.mib=c;b.Kq=l;b.wa=function(k){return new f.ls(k,b.$r);};b.nQb=function(k){return new f.ls(k,b.nda);};b.$Sb=function(k){return new f.ls(k,b.DIa);};b.lD=new c(1,"b");b.$r=new c(8 * b.lD.$f,"B",b.lD);b.nda=new c(1024 * b.$r.$f,"KB",b.lD);b.DIa=new c(1024 * b.nda.$f,"MB",b.lD);b.Ha=l(0);},5021:function(r,b,a){var f;function c(){return f.yQ.apply(this,arguments) || this;}function l(k){return new f.ls(k,b.pa);}Object.defineProperty(b,"__esModule",{value:!0});b.Ha=b.JFa=b.Rda=b.pm=b.pa=b.KD=b.timestamp=b.uNb=b.t8=b.sh=b.Ob=b.D9a=b.hTb=b.rob=void 0;f=a(35201);fa(c,f.yQ);b.rob=c;b.hTb=function(k){return new f.ls(k,b.KD);};b.D9a=function(k){return new f.ls(k * b.pm.$f,b.KD);};b.Ob=l;b.sh=function(k){return new f.ls(k,b.pm);};b.t8=function(k){return new f.ls(k,b.Rda);};b.uNb=function(k){return new f.ls(k,b.JFa);};b.timestamp=function(k){return l(k);};b.KD=new c(1,"\u03bcs");b.pa=new c(1E3,"ms",b.KD);b.pm=new c(1E3 * b.pa.$f,"s",b.KD);b.Rda=new c(60 * b.pm.$f,"min",b.KD);b.JFa=new c(60 * b.Rda.$f,"hr",b.KD);b.Ha=l(0);},35201:function(r,b,a){var f;function c(k,d){this.$f=d;this.Jy=Math.floor(k);this.display=this.Jy + " " + this.$f.name;}function l(k,d,g){this.$f=k;this.name=d;this.pp=g?g:this;(0,f.io)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.ls=b.yQ=void 0;f=a(66523);l.prototype.lT=function(k){return this.$f == k.$f;};l.prototype.toJSON=function(){return this.name;};b.yQ=l;c.prototype.da=function(k){return this.$f.lT(k)?this.Jy:Math.floor(this.Jy * this.$f.$f / k.$f);};c.prototype.C9a=function(k){return this.$f.lT(k)?this.Jy:this.Jy * this.$f.$f / k.$f;};c.prototype.as=function(k){return new c(this.da(k),k);};c.prototype.to=function(k){return new c(this.da(k),k);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.Jy,units:this.$f.name};};c.prototype.add=function(k){return this.rVa(k);};c.prototype.qa=function(k){return this.rVa(k,function(d){return -d;});};c.prototype.scale=function(k){return new c(this.da(this.$f.pp) * k,this.$f.pp);};c.prototype.Jk=function(k){return this.da(this.$f.pp) - k.da(this.$f.pp);};c.prototype.lT=function(k){return 0 == this.Jk(k);};c.prototype.b4a=function(){return 0 == this.Jy;};c.prototype.cqa=function(){return 0 > this.Jy;};c.prototype.R3a=function(){return 0 < this.Jy;};c.prototype.rVa=function(k,d){d=void 0 === d?function(g){return g;}:d;return new c(this.da(this.$f.pp) + d(k.da(this.$f.pp)),this.$f.pp);};b.ls=c;},4203:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.km={Uec:"casttv",Oja:"chrome",$ec:"chromecast",zp:"edge",YXa:"edgeoss",BZa:"firefox",Tgc:"ie",opera:"opera",$ab:"safari",Xdb:"tesla"};b.yn={kia:"android",n3a:"ios",TUa:"chromeos",W4a:"linux",x5a:"mac",Cza:"windows"};b.Q_={Kyb:"computer",phone:"phone",P5b:"tablet"};b.Yb="ConfigSymbol";},12501:function(r,b,a){var k,d,g;function c(n){return function(h,m){return h.fva(m,n);};}function l(n,h){return n.Q9.MZb[h] || f(n,h);}function f(n,h){n=n.sy.data[h];switch(typeof n){case "undefined":break;case "string":case "number":case "boolean":return n.toString();default:return JSON.stringify(n);}}Object.defineProperty(b,"__esModule",{value:!0});b.PE=b.ova=b.object=b.LFb=b.url=b.wa=b.ik=b.Mya=b.KOb=b.lO=b.string=b.zz=b.ed=b.PB=b.config=void 0;k=a(72574);d=a(5021);g=a(37187);b.config=function(n,h,m){m=void 0 === m?!1:m;return function(p,q,u){var t,w;t=void 0 !== h?h:q;w=u.get;void 0 !== w && (u.get=function(){var v;if(!this.CPb(q))return this.zLb(q);a:{v=(this.Jtb || m?l:f)(this,t.toString());if(void 0 !== v)if((v=n(this.UV,v),v instanceof g.Oo))this.RZa(t,v);else break a;v=w.bind(this)();}this.Uva(q,v);return v;});return u;};};b.PB=function(n,h){return n.A$a(h);};b.ed=function(n,h){return n.cva(h);};b.zz=function(n,h){return n.aq(h);};b.string=function(n,h){return n.fva(h);};b.lO=function(n,h){return n.Ej(h,b.string);};b.KOb=function(n,h){return n.Ej(h,b.PB);};b.Mya=function(n,h){return n.Ej(h,b.zz);};b.ik=function(n,h){n=n.aq(h);return n instanceof g.Oo?n:(0,d.Ob)(n);};b.wa=function(n,h){n=n.aq(h);return n instanceof g.Oo?n:(0,k.wa)(n);};b.url=c(/^\S+$/);b.LFb=function(n){return function(h,m){return h.z$a(m,n);};};b.object=function(){return function(n,h){return n.B$a(h);};};b.ova=c;b.PE=function(n,h){return function(m,p){return m.Ej(p,n,h);};};},83767:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ica="ConfigurableInputsSymbol";b.sl="ValidatingConfigurableInputsSymbol";b.uZ="ConfigNameSymbol";b.HP="InitParamsSymbol";},34231:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vn=b.Cu=b.Nw=void 0;(function(a){a[a.aOa=0]="Test";a[a.EGa=1]="Int";a[a.gob=2]="Staging";a[a.xnb=3]="Prod";})(b.Nw || (b.Nw={}));(function(a){a[a.lQ=0]="PreferMsl";a[a.ZLa=1]="PreferNoMsl";a[a.emb=2]="NoMsl";})(b.Cu || (b.Cu={}));b.vn="GeneralConfigSymbol";},5614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iJ="PlatformConfigDefaultsSymbol";},27081:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.uea=void 0;c=a(5021);l=a(72574);f=a(75568);k={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.uea=function(){this.Jwa=!0;this.RE=[];this.Nh=[];this.nr=[];this.UK=!1;this.Jla=!0;this.fu=[f.qm.skb,f.qm.kca,f.qm.Rnb,f.qm.aJ];this.Rl=void 0;this.Vla=!0;this.K4=!1;this.I2=(0,l.wa)(288E4);this.L2=(0,l.wa)(335544320);this.K2=(0,l.wa)(1E4);this.Ly=(0,c.Ob)(15E3);this.vSb=(0,l.wa)(6291456);this.oM=1E3;this.vja=!0;this.Daa=k;this.uO=(0,l.wa)(0);this.F6=("ro zh-Hans zh-Hant vi ar he hi th ta te").split(" ");this.G6=("ro zh-Hans zh-Hant ko vi ar he hi th ta te").split(" ");this.B7=["th","ta"];this.Gaa=(0,c.Ob)(0);this.vU=!0;this.Saa=!1;this.XK=!0;this.uI=this.mB=this.ov=!1;this.lF=["start"];};},52033:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TKa="PlatformConfigOverridesSymbol";},83810:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(22674);c=a(4203);l=a(80217);f=a(83767);k=a(34231);d=a(33823);g=a(48004);n=a(40158);h=a(69484);m=a(34731);p=a(23563);q=a(18135);b.config=new r.dd(function(u){u(c.Yb).Zd(function(){return function(){return ob._cad_global.config;};});u(f.ica).to(l.DCa).ha();u(f.sl).to(l.OOa).ha();u(f.HP).to(l.AGa).ha();u(k.vn).to(d.OEa).ha();u(g.aJa).to(n.$Ia).ha();u(h.IEa).to(m.HEa).ha();u(p.pq).to(q.eEa).ha();});},64174:function(r,b,a){var f,k,d,g;function c(n,h){var m;m=g.call(this,n,h) || this;m.KVa=h;m.debug=n.debug;m.la=n.zf.$a(m.KVa);return m;}function l(n,h){this.KVa=h;this.Oua={};this.sy=n.sy;this.UV=n.UV;this.Q9=n.Q9;}Object.defineProperty(b,"__esModule",{value:!0});b.Pe=b.cP=b.WNa=void 0;r=a(5163);f=a(72465);k=a(22674);d=a(37187);b.WNa="isTestAccount";l.prototype.RZa=function(){};l.prototype.Uva=function(n,h){this.Oua[n]=[h,this.sy.n$];};l.prototype.CPb=function(n){return f.bea.of(this.Oua[n]).map(function(h){return h[1];}).or(-1) < this.sy.n$;};l.prototype.zLb=function(n){return f.bea.of(this.Oua[n]).map(function(h){return h[0];}).or(function(){throw Error("Invalid State Error");});};Xa.Object.defineProperties(l.prototype,{Jtb:{configurable:!0,enumerable:!0,get:function(){var n,h;if(this && this.sy && this.sy.data){n=this.sy.data[b.WNa];"undefined" !== typeof n && (h=n.toString());n=this.UV.cva(h);n=n instanceof d.Oo?!1:n;}else n=!1;return n;}}});g=l;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.tn)()),r.__param(1,(0,k.tn)())],g);b.cP=g;fa(c,g);c.prototype.RZa=function(n,h){this.la.error("Invalid configuration value.",{name:n},h);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,k.tn)()),r.__param(1,(0,k.tn)())],a);b.Pe=a;},80217:function(r,b,a){var k,d,g,n,h;function c(){this.Xx={};this.Tab=0;}function l(m,p,q,u,t){this.debug=m;this.sy=p;this.UV=q;this.zf=u;this.Q9=t;}function f(m,p,q){this.sy=m;this.UV=p;this.Q9=q;}Object.defineProperty(b,"__esModule",{value:!0});b.AGa=b.OOa=b.DCa=void 0;r=a(5163);k=a(22674);d=a(90597);g=a(87386);n=a(37187);h=a(17842);a=a(83767);f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.HP)),r.__param(1,(0,k.l)(n.T0)),r.__param(2,(0,k.l)(h.Sea))],f);b.DCa=f;l=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.Hw)),r.__param(1,(0,k.l)(a.HP)),r.__param(2,(0,k.l)(n.T0)),r.__param(3,(0,k.l)(g.ab)),r.__param(4,(0,k.l)(h.Sea))],l);b.OOa=l;c.prototype.eTb=function(m){this.Xx=Object.assign({},this.Xx,m);this.Tab++;};Xa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Xx;}},n$:{configurable:!0,enumerable:!0,get:function(){return this.Tab;}}});a=c;a=r.__decorate([(0,k.U)()],a);b.AGa=a;},33823:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u){p=d.Pe.call(this,p,void 0 === u?"GeneralConfigImpl":u) || this;p.og=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.OEa=b.eL=void 0;r=a(5163);l=a(5021);f=a(22674);k=a(12501);d=a(64174);g=a(34231);n=a(83767);a=a(5614);h={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.eL=function(p,q){return p.z$a(h[q] || q,g.Nw);};fa(c,d.Pe);Xa.Object.defineProperties(c.prototype,{eL:{configurable:!0,enumerable:!0,get:function(){return g.Nw.xnb;}},kdb:{configurable:!0,enumerable:!0,get:function(){return (0,l.sh)(8);}},cG:{configurable:!0,enumerable:!0,get:function(){return "";}},qK:{configurable:!0,enumerable:!0,get:function(){return "";}},rY:{configurable:!0,enumerable:!0,get:function(){return "";}},G2:{configurable:!0,enumerable:!0,get:function(){return !0;}},vU:{configurable:!0,enumerable:!0,get:function(){return this.og.vU;}},aGb:{configurable:!0,enumerable:!0,get:function(){return !1;}},od:{configurable:!0,enumerable:!0,get:function(){return {};}},nqa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ur:{configurable:!0,enumerable:!0,get:function(){return !1;}},hT:{configurable:!0,enumerable:!0,get:function(){return !0;}},RC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},dy:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.Nw.aOa,g.Nw.EGa].indexOf(this.eL);}}});m=c;r.__decorate([k.config(b.eL,"environment")],m.prototype,"eL",null);r.__decorate([k.config(k.ik,"storageTimeout")],m.prototype,"kdb",null);r.__decorate([k.config(k.string,"groupName")],m.prototype,"cG",null);r.__decorate([k.config(k.string,"canaryGroupName",!0)],m.prototype,"qK",null);r.__decorate([k.config(k.string,"uiGroupName")],m.prototype,"rY",null);r.__decorate([k.config(k.ed,"applyIndexedDbOpenWorkaround")],m.prototype,"G2",null);r.__decorate([k.config(k.ed,"ignoreIdbOpenError")],m.prototype,"vU",null);r.__decorate([k.config(k.ed,"executeStorageMigration")],m.prototype,"aGb",null);r.__decorate([k.config(k.object(),"browserInfo")],m.prototype,"od",null);r.__decorate([k.config(k.ed,"isTestAccount")],m.prototype,"nqa",null);r.__decorate([k.config(k.ed,"useRangeHeader")],m.prototype,"Ur",null);r.__decorate([k.config(k.ed,"enableMilestoneEventList")],m.prototype,"hT",null);r.__decorate([k.config(k.object,"storageRules")],m.prototype,"RC",null);m=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(n.sl)),r.__param(1,(0,f.l)(a.iJ)),r.__param(2,(0,f.l)(n.uZ)),r.__param(2,(0,f.optional)())],m);b.OEa=m;},41605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mCa="CapabilityDetectorFactorySymbol";},22210:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ud=void 0;b.ud=a;a.kFa=/^hevc-/;a.lFa=/^hevc-main/;a.iFa=/^hevc-hdr-|hevc-dv/;a.RI=/^hevc-hdr-/;a.xu=/^hevc-dv/;a.wP=/h264mpl/;a.tD=/h264mpl30/;a.uD=/h264mpl31/;a.Lz=/h264hpl.*-dash$/;a.Tza=/h264hpl.*-live$/;a.fA=/^vp9-/;a.Ei=/^av1-/;a.dkb=/[l|L]4[0-1]-/;a.qJ=/-L5[0-1]-/;a.SGa=/-live/;a.qba=/^heaac-2-/;a.nkb=/^heaac-2hq-dash/;a.ix=/^xheaac-dash/;a.Lib=/ddplus-2/;a.Mib=/ddplus-5/;a.Nib=/ddplus-atmos/;},73796:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cd=void 0;l=a(56800);c.CWa=function(f){var k;k={};k[l.Qe.oQ]=c.wP;k[l.Qe.g_]=c.wP;k[l.Qe.qJ]=c.f_;k[l.Qe.RI]=c.RI;k[l.Qe.xu]=f || c.xu;k[l.Qe.Lz]=c.wP;k[l.Qe.fA]=c.zQ;k[l.Qe.Ei]=c.Ei;return k;};b.cd=c;c.bsa='video/mp4; codecs="avc1.4d0028"';c.wP="avc1.4d0028";c.f_="hev1.1.6.L93.B0";c.mca="dvhe.05.01";c.YCa="dvhe.05.04";c.nca="dvhe.05.05";c.oca="dvhe.05.06";c.pca="dvhe.05.07";c.qca="dvhe.05.09";c.xu=c.mca;c.RI=c.f_;c.qba="mp4a.40.2";c.ix="mp4a.40.42";c.Kib="ec-3";c.zQ="vp09.00.11.08.02";c.Ei="av01.0.04M.08";},51259:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D;Object.defineProperty(b,"__esModule",{value:!0});b.Km=void 0;r=a(22674);c=a(56800);l=a(4203);f=a(98960);k=a(1079);d=a(95162);g=a(57718);n=a(16152);h=a(79974);m=a(57657);p=a(41605);q=a(43466);u=a(22365);t=a(12931);w=a(43551);v=a(28185);y=a(6600);x=a(94800);z=a(74742);A=a(18580);B=a(63368);C=a(33430);D=a(78866);b.Km=new r.dd(function(F){F(d.rQ).to(g.vNa).ha();F(c.Jw).to(f.lDa).ha();F(n.JGa).to(h.IGa).ha();F(p.mCa).to(q.lCa).ha();F(n.UKa).gl({isTypeSupported:u.Yz && u.Yz.isTypeSupported});F(m.yEa).XC(function(G){return {IJb:function(){return G.lb.get(B.s0);}};});F(k.II).XC(function(G){return G.lb.get(l.Yb);});F(t.lIa).to(w.iIa).ha();F(C.hIa).to(D.gIa).ha();F(v.kIa).to(y.jIa).ha();F(x.Mca).to(z.xEa).ha();F(A.hMa).gl(ob);});},56800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jw=b.YOa=b.wob=b.Mo=b.Qe=b.tl=b.uu=b.u=void 0;(function(a){a[a.Audio=0]="Audio";a[a.QOa=1]="Video";})(b.u || (b.u={}));(function(a){a[a.Iw=0]="Default";a[a.Vw=1]="Microsoft";})(b.uu || (b.uu={}));(function(a){a[a.Iw=0]="Default";a[a.HI=1]="Chrome";a[a.Vw=2]="Microsoft";})(b.tl || (b.tl={}));(function(a){a[a.oQ=0]="SD";a[a.g_=1]="HD";a[a.qJ=2]="UHD";a[a.xu=3]="DV";a[a.RI=4]="HDR10";a[a.Lz=5]="AVCHigh";a[a.fA=6]="VP9";a[a.Ei=7]="AV1";})(b.Qe || (b.Qe={}));(function(a){a[a.Y_=0]="Level_1_4";a[a.DD=1]="Level_2_2";})(b.Mo || (b.Mo={}));b.wob=function(){};(function(a){a[a.Qcc=0]="Platform";a[a.iac=1]="CurrentTitle";})(b.YOa || (b.YOa={}));b.Jw="DeviceCapabilitiesSymbol";},1079:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.II=b.Ajb=void 0;c=a(56800);b.Ajb=function(){this.RE=[];this.Nh=[];this.nr=[];this.ASa=[];this.Hia=c.uu.Iw;this.aba=c.tl.Iw;};b.II="DeviceCapabilitiesConfigSymbol";},94800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mca=b.Pw=void 0;r=b.Pw || (b.Pw={});r.uob="unknown";r.Uza="absent";r.gMa="present";r.Error="error";b.Mca="ExternalDisplayLogHelperSymbol";},57657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yEa="ExtraPlatformInfoProviderSymbol";},16152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JGa="IsTypeSupportedProviderFactorySymbol";b.UKa="PlatformIsTypeSupportedSymbol";},17612:function(r,b,a){var l,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JI=b.eb=void 0;l=a(53921);f=a(31149);k=a(36129);c.OT=function(d){if(d){if(d.includes(b.JI.Xy))return l.zk.Xy;if(d.includes("fps"))return l.zk.vB;if(d.includes(b.JI.NY))return l.zk.NY;}throw new f.Mc(k.V.Pjb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.Cna=function(d){switch(d){case l.zk.Xy:return b.JI.Xy;case l.zk.vB:return b.JI.vB;default:return b.JI.NY;}};b.eb=c;c.bx="com.microsoft.playready";c.vd="com.microsoft.playready.hardware";c.OD="com.microsoft.playready.software";c.fkb="com.apple.fps.2_0";c.CQ="com.widevine.alpha";c.gPa="com.widevine.alpha.experiment";c.wea="com.microsoft.playready.recommendation.3000";c.$Ka="com.microsoft.playready.recommendation.2000";c.QFa=[c.wea];b.JI={vB:"fairplay",NY:"widevine",Xy:"playready"};},12931:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lIa="MediaCapabilitiesSymbol";},33430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hIa="MediaCapabilitiesDetectorSymbol";},28185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kIa="MediaCapabilitiesLogHelperSymbol";},75568:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={tD:"playready-h264mpl30-dash",uD:"playready-h264mpl31-dash",e_:"playready-h264mpl40-dash",UEa:"h264mpl30-dash-playready-prk-qc",VEa:"h264mpl31-dash-playready-prk-qc",WEa:"h264mpl40-dash-playready-prk-qc",SEa:"playready-h264hpl22-dash",ZZ:"playready-h264hpl30-dash",a_:"playready-h264hpl31-dash",c_:"playready-h264hpl40-dash",TEa:"h264hpl22-dash-playready-live",$Z:"h264hpl30-dash-playready-live",b_:"h264hpl31-dash-playready-live",d_:"h264hpl40-dash-playready-live",Bfa:"vp9-profile0-L21-dash-cenc",b1:"vp9-profile0-L30-dash-cenc",c1:"vp9-profile0-L31-dash-cenc",AQ:"vp9-profile0-L40-dash-cenc",Sca:"hevc-main10-L30-dash-cenc",Tca:"hevc-main10-L31-dash-cenc",Uca:"hevc-main10-L40-dash-cenc",Vca:"hevc-main10-L41-dash-cenc",zP:"hevc-main10-L50-dash-cenc",AP:"hevc-main10-L51-dash-cenc",A_:"hevc-main10-L30-dash-cenc-prk",D_:"hevc-main10-L31-dash-cenc-prk",G_:"hevc-main10-L40-dash-cenc-prk",J_:"hevc-main10-L41-dash-cenc-prk",B_:"hevc-main10-L30-dash-cenc-prk-do",E_:"hevc-main10-L31-dash-cenc-prk-do",H_:"hevc-main10-L40-dash-cenc-prk-do",K_:"hevc-main10-L41-dash-cenc-prk-do",M_:"hevc-main10-L50-dash-cenc-prk-do",O_:"hevc-main10-L51-dash-cenc-prk-do",z_:"hevc-main10-L30-dash-cenc-live",C_:"hevc-main10-L31-dash-cenc-live",F_:"hevc-main10-L40-dash-cenc-live",I_:"hevc-main10-L41-dash-cenc-live",L_:"hevc-main10-L50-dash-cenc-live",N_:"hevc-main10-L51-dash-cenc-live",yZ:"hevc-dv5-main10-L30-dash-cenc-prk",AZ:"hevc-dv5-main10-L31-dash-cenc-prk",oP:"hevc-dv5-main10-L40-dash-cenc-prk",DZ:"hevc-dv5-main10-L41-dash-cenc-prk",FZ:"hevc-dv5-main10-L50-dash-cenc-prk",HZ:"hevc-dv5-main10-L51-dash-cenc-prk",rca:"hevc-dv5-main10-L40-dash-cenc-prk-qc",sca:"hevc-dv5-main10-L41-dash-cenc-prk-qc",tca:"hevc-dv5-main10-L50-dash-cenc-prk-qc",uca:"hevc-dv5-main10-L51-dash-cenc-prk-qc",zZ:"hevc-dv5-main10-L30-dash-cenc-prk-do",BZ:"hevc-dv5-main10-L31-dash-cenc-prk-do",CZ:"hevc-dv5-main10-L40-dash-cenc-prk-do",EZ:"hevc-dv5-main10-L41-dash-cenc-prk-do",GZ:"hevc-dv5-main10-L50-dash-cenc-prk-do",IZ:"hevc-dv5-main10-L51-dash-cenc-prk-do",i_:"hevc-hdr-main10-L30-dash-cenc-prk",l_:"hevc-hdr-main10-L31-dash-cenc-prk",yP:"hevc-hdr-main10-L40-dash-cenc-prk",q_:"hevc-hdr-main10-L41-dash-cenc-prk",t_:"hevc-hdr-main10-L50-dash-cenc-prk",w_:"hevc-hdr-main10-L51-dash-cenc-prk",j_:"hevc-hdr-main10-L30-dash-cenc-prk-do",m_:"hevc-hdr-main10-L31-dash-cenc-prk-do",o_:"hevc-hdr-main10-L40-dash-cenc-prk-do",r_:"hevc-hdr-main10-L41-dash-cenc-prk-do",u_:"hevc-hdr-main10-L50-dash-cenc-prk-do",x_:"hevc-hdr-main10-L51-dash-cenc-prk-do",h_:"hevc-hdr-main10-L30-dash-cenc-live",k_:"hevc-hdr-main10-L31-dash-cenc-live",n_:"hevc-hdr-main10-L40-dash-cenc-live",p_:"hevc-hdr-main10-L41-dash-cenc-live",s_:"hevc-hdr-main10-L50-dash-cenc-live",v_:"hevc-hdr-main10-L51-dash-cenc-live",Nza:"av1-main-L20-dash-cbcs-prk",Oza:"av1-main-L21-dash-cbcs-prk",ru:"av1-main-L30-dash-cbcs-prk",su:"av1-main-L31-dash-cbcs-prk",Jz:"av1-main-L40-dash-cbcs-prk",Kz:"av1-main-L41-dash-cbcs-prk",$Y:"av1-main-L50-dash-cbcs-prk",aZ:"av1-main-L51-dash-cbcs-prk"};b.Cc={mZ:[b.H.tD,b.H.uD,b.H.e_],WY:[b.H.ZZ,b.H.a_,b.H.c_],VY:[b.H.$Z,b.H.b_,b.H.d_],rba:[b.H.b1,b.H.c1,b.H.AQ],rZ:[b.H.Sca,b.H.Tca,b.H.Uca,b.H.Vca,b.H.zP,b.H.AP],pZ:[b.H.A_,b.H.D_,b.H.G_,b.H.J_,b.H.zP,b.H.AP],qZ:[b.H.B_,b.H.E_,b.H.H_,b.H.K_,b.H.M_,b.H.O_],bca:[b.H.z_,b.H.C_,b.H.F_,b.H.I_,b.H.L_,b.H.N_],nZ:[b.H.i_,b.H.l_,b.H.yP,b.H.q_,b.H.t_,b.H.w_],oZ:[b.H.j_,b.H.m_,b.H.o_,b.H.r_,b.H.u_,b.H.x_],aca:[b.H.h_,b.H.k_,b.H.n_,b.H.p_,b.H.s_,b.H.v_],TBa:[b.H.yZ,b.H.oP,b.H.FZ,b.H.AZ,b.H.DZ,b.H.HZ],UBa:[b.H.zZ,b.H.CZ,b.H.GZ,b.H.BZ,b.H.EZ,b.H.IZ],VBa:[b.H.ru,b.H.su,b.H.Jz,b.H.Kz,b.H.$Y,b.H.aZ]};b.Bd={vD:"heaac-2-dash",y_:"heaac-5.1-dash",wD:"heaac-2hq-dash",ix:"xheaac-dash",mP:"ddplus-2.0-dash",wZ:"ddplus-5.1-dash",nP:"ddplus-atmos-dash"};b.qm={Rnb:"simplesdh",kca:"dfxp-ls-sdh",e1:"webvtt-lssdh-ios8",skb:"imsc1.1",aJ:"nflx-cmisc"};},18580:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hMa="PresentationAPISymbol";},95162:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rQ="SourceBufferTypeProviderSymbol";},43466:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z;function c(A,B,C,D,F,G,E,I,M,L){this.Y3a=A;this.config=B;this.yc=C;this.sa=D;this.is=F;this.lo=G;this.Sl=E;this.platform=I;this.jc=M;this.Ny=L;}Object.defineProperty(b,"__esModule",{value:!0});b.lCa=void 0;r=a(5163);l=a(22674);f=a(56800);k=a(16152);d=a(1079);g=a(92049);n=a(75456);h=a(46286);m=a(31741);p=a(53085);q=a(30869);u=a(42207);t=a(5180);w=a(21103);v=a(87386);y=a(91581);x=a(2248);a=a(33430);c.prototype.MAb=function(A){var B;B=this.Y3a.qWa();switch(A){case f.uu.Vw:return new g.JIa(this.config,B,this.is,this.platform,this.Ny);default:return new m.LZ(this.config,B,this.Ny);}};c.prototype.SBb=function(A){var B;B=this.Y3a.qWa();switch(A){case f.tl.HI:A=new t.tCa(this.config,B,this.is,this.lo,this.Sl,this.sa,this.Ny);break;case f.tl.Vw:A=new n.SHa(this.config,B,this.is,this.yc,this.sa,this.Sl,this.jc,this.Ny,this.lo);break;default:A=new h.Rz(this.config,B,this.is,this.Ny);}return A;};z=c;z=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.JGa)),r.__param(1,(0,l.l)(d.II)),r.__param(2,(0,l.l)(p.Th)),r.__param(3,(0,l.l)(q.ag)),r.__param(4,(0,l.l)(u.Qf)),r.__param(5,(0,l.l)(w.Uw)),r.__param(6,(0,l.l)(v.ab)),r.__param(7,(0,l.l)(y.zn)),r.__param(8,(0,l.l)(x.Zg)),r.__param(9,(0,l.l)(a.hIa))],z);b.lCa=z;},65264:function(r,b,a){var l,f,k,d,g;function c(n,h,m,p){this.config=n;this.mo=h;this.mediaType=m;this.Ny=p;this.Tra={};this.Tra[l.u.Audio]="audio";this.Tra[l.u.QOa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.pD=void 0;l=a(56800);r=a(57180);f=a(22210);k=a(22365);d=a(7802);g=new r.UD().format;c.prototype.r1a=function(n){return this.zDb(this.lLb(this.$0a(),n));};c.prototype.aF=function(n){return this.mo.isTypeSupported(n);};c.prototype.nJb=function(){return [f.ud.qba,f.ud.nkb,f.ud.tD,f.ud.uD];};c.prototype.yOb=function(){this.uo=[];this.St=[];this.config().zWb && this.St.push(f.ud.ix);this.config().x8a && this.St.push(f.ud.lFa);this.config().w8a && this.St.push(f.ud.iFa);this.config().v8a && this.St.push(f.ud.xu);this.config().t8a && this.St.push(f.ud.Lz);this.config().u8a && this.St.push(f.ud.Tza);this.config().y8a && this.St.push(f.ud.fA);this.config().s8a && this.St.push(f.ud.Ei);this.St=this.St.concat(this.nJb());!this.config().rFb && this.uo.push(f.ud.ix);!this.config().lYa && this.uo.push(f.ud.Lib);!this.config().kYa && this.uo.push(f.ud.Mib);!this.config().WK && this.uo.push(f.ud.Nib);!this.config().dFb && this.uo.push(/prk$/);this.config().v8a || this.config().NEb || this.uo.push(f.ud.xu);this.config().x8a || this.config().SEb || this.uo.push(f.ud.lFa);this.config().w8a || this.config().Mla || this.uo.push(f.ud.iFa);this.config().t8a || this.config().UK || this.uo.push(f.ud.Lz);this.config().u8a || this.config().Jla || this.uo.push(f.ud.Tza);this.config().y8a || this.config().nFb || this.uo.push(f.ud.fA);this.config().s8a || this.config().DEb || this.uo.push(f.ud.Ei);!this.config().mFb && this.uo.push(f.ud.qJ);};c.prototype.lLb=function(n,h){var m;m=k.Ae.hardwareConcurrency && k.Ae.hardwareConcurrency;return n.filter(function(p){return void 0 !== p.minimumCores && m < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === h || void 0 === h?void 0:h.zd) || !p.restrictToUILabels.includes(h.zd))?!1:!0;}).map(function(p){return p.name;});};c.prototype.qT=function(n){var h,m;h=this;m=n.map(function(p){for(var q=la(h.St),u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!0});}q=la(h.uo);for(u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return h.pT(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(m).then(function(p){return new d.v0(n,p);});};c.prototype.pT=function(n){var h;h=this;return this.iqa(n).then(function(m){return m.supported?h.config().$Eb?h.Ny.pT(n):h.Ama(n):m;});};c.prototype.Ama=function(n){var h;n=this.EW[n];h="";return n?(Array.isArray(n) && (h=1 < n.length?" " + n[1]:"",n=n[0]),n=g("{0}/mp4;codecs={1};{2}",this.Tra[this.mediaType],n,h),this.aF(n)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.zDb=function(n){this.yOb();return this.qT(n);};c.prototype.iqa=function(){return Promise.resolve({supported:!0});};Xa.Object.defineProperties(c.prototype,{EW:{configurable:!0,enumerable:!0,get:function(){this.XQa || (this.XQa=this.Pq());return this.XQa;}}});b.pD=c;},5180:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q,u,t,w){h=l.Rz.call(this,h,m,p,w) || this;h.lo=q;h.Sl=u;h.sa=t;h.Ny=w;h.type=f.tl.HI;h.log=h.Sl.$a("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.tCa=void 0;l=a(46286);f=a(56800);k=a(5021);d=a(82100);g=a(22210);n=a(17612);fa(c,l.Rz);c.prototype.ZH=function(h){switch(h){case f.Mo.DD:return this.E5b;default:return Promise.resolve(!1);}};c.prototype.aU=function(){var h;h=this;return this.ZH(f.Mo.DD).then(function(m){return m?f.Mo.DD:void 0;}).then(function(m){return h.P3(m);});};c.prototype.Nha=function(h){this.Up=h;};c.prototype.WPb=function(h){var m;return !(null === (m=h.getConfiguration().videoCapabilities) || void 0 === m || !m.some(function(p){return (null === p || void 0 === p?void 0:p.robustness) === d.fs;}));};c.prototype.vfb=function(){var h;if(this.Up){h=this.b2a && this.c2a && this.b2a.qa(this.c2a).da(k.pa);this.Up.itshdcp=JSON.stringify({hdcp2:this.tt,time2:h});}};c.prototype.iqa=function(h){var m;m=this;return this.lo.yB().then(function(p){var q;q=(0,d.Q5)(p);p=q === d.fs || n.eb.QFa.includes(p.keySystem);return [g.ud.Lz,g.ud.fA,g.ud.Ei].some(function(u){return u.test(h);}) && !g.ud.SGa.test(h) && m.config().x6a && p?{supported:!1,reason:"mcclearen-restricted"}:!p && g.ud.kFa.test(h) || g.ud.dkb.test(h) && !(m.config().REb || m.config().nYa && q === d.fs) || g.ud.qJ.test(h) && (!m.config().nYa || q !== d.fs)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Xa.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.r6a || (this.r6a=this.lo.yB().then(function(h){return h.createMediaKeys();}));return this.r6a;}},E5b:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.Yxa || (this.config().TEb?this.Yxa=Promise.all([this.lo.yB(),this.mediaKeys]).then(function(m){var p;p=la(m);m=p.next().value;p=p.next().value;if(!h.WPb(m))return (h.tt="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.tt),!1);if(p && p.getStatusForPolicy)return (h.c2a=h.sa.fe,p.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){h.b2a=h.sa.fe;h.tt=q;h.log.trace("hdcpStatus: " + h.tt);return "usable" === h.tt;}));h.tt="not available";h.log.trace("hdcpStatus: " + h.tt);return !1;}).catch(function(m){h.tt="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.tt},m);return !1;}).then(function(m){h.vfb();return m;}):(this.tt="not enabled",this.log.trace("hdcpStatus: " + this.tt),this.vfb(),this.Yxa=Promise.resolve(!1)));return this.Yxa;}}});b.tCa=c;},31741:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){p=f.pD.call(this,h,m,l.u.Audio,p) || this;p.config=h;p.mo=m;p.type=l.uu.Iw;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.LZ=void 0;l=a(56800);f=a(65264);k=a(73796);r=a(57180);d=a(12187);g=a(7802);n=new r.UD().format;fa(c,f.pD);c.prototype.PX=function(){var h;h=n(c.Maa,k.cd.Kib);return Promise.resolve(this.config().WK && this.mo.isTypeSupported(h));};c.prototype.Pq=function(){return d.xca.Pq();};c.prototype.$0a=function(){return this.config().RE;};c.prototype.qT=function(h){return this.config().xWb?Promise.resolve(new g.v0(h,h.map(function(){return {supported:!0};}))):f.pD.prototype.qT.call(this,h);};b.LZ=c;c.Maa="audio/mp4;codecs={0};";},12187:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xca=void 0;l=a(75568);c.Pq=function(){var f;f={};return (f[l.Bd.vD]="mp4a.40.2",f[l.Bd.y_]="mp4a.40.2",f[l.Bd.wD]="mp4a.40.2",f[l.Bd.ix]="mp4a.40.42",f[l.Bd.mP]="ec-3",f[l.Bd.wZ]="ec-3",f[l.Bd.nP]="ec-3",f);};b.xca=c;},46286:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u){var t;t=k.pD.call(this,m,p,l.u.QOa,u) || this;t.config=m;t.mo=p;t.is=q;t.Y7=u;t.type=l.tl.Iw;t.k9b=d.cd.CWa();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.Rz=void 0;l=a(56800);f=a(75568);k=a(65264);r=a(57180);d=a(73796);g=a(48617);n=a(45266);h=a(7802);new r.UD();fa(c,k.pD);c.prototype.ZH=function(){return Promise.resolve(!1);};c.prototype.SF=function(){return Promise.resolve("");};c.prototype.G5=function(){return Promise.resolve("");};c.prototype.RX=function(){return this.config().Mla?this.Y7.Wpa()?this.Y7.pT(f.H.yP).then(function(m){return {result:m.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.vaa=function(){return this.config().Mla?this.Y7.Wpa()?this.Y7.pT(f.H.oP).then(function(m){return {result:m.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.SX=function(){return Promise.resolve(!1);};c.prototype.PX=function(){return Promise.resolve(!1);};c.prototype.KT=function(m){return this.k9b[m];};c.prototype.Nha=function(){};c.prototype.eSb=function(m){switch(m){case l.Mo.Y_:return "1.4";case l.Mo.DD:return "2.2";}};c.prototype.Pq=function(){return g.MZ.Pq();};c.prototype.$0a=function(){var p;function m(q,u){return (0,n.bfb)(function(t,w){return t.name === w.name;},q,u);}p=m(this.config().ASa,this.config().Nh);return m(p,this.config().nr);};c.prototype.aU=function(){return Promise.resolve(void 0);};c.prototype.U5=function(){return Promise.resolve(void 0);};c.prototype.P3=function(m){var p;p=[];this.is.pg(m) && p.push(this.eSb(m));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};c.prototype.qT=function(m){return this.config().yWb?Promise.resolve(new h.v0(m,m.map(function(){return {supported:!0};}))):k.pD.prototype.qT.call(this,m);};b.Rz=c;c.Maa="video/mp4;codecs={0};";},48617:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.MZ=void 0;l=a(75568);f=a(73796);c.Pq=function(){var k;k={};return (k[l.H.tD]="avc1.4D401E",k[l.H.uD]="avc1.4D401F",k[l.H.e_]="avc1.4D4028",k[l.H.UEa]="avc1.4D401E",k[l.H.VEa]="avc1.4D401F",k[l.H.WEa]="avc1.4D4028",k[l.H.Sca]="hev1.2.6.L90.B0",k[l.H.Tca]="hev1.2.6.L93.B0",k[l.H.Uca]="hev1.2.6.L120.B0",k[l.H.Vca]="hev1.2.6.L123.B0",k[l.H.A_]="hev1.2.6.L90.B0",k[l.H.D_]="hev1.2.6.L93.B0",k[l.H.G_]="hev1.2.6.L120.B0",k[l.H.J_]="hev1.2.6.L123.B0",k[l.H.zP]="hev1.2.6.L150.B0",k[l.H.AP]="hev1.2.6.L153.B0",k[l.H.B_]="hev1.2.6.L90.B0",k[l.H.E_]="hev1.2.6.L93.B0",k[l.H.H_]="hev1.2.6.L120.B0",k[l.H.K_]="hev1.2.6.L123.B0",k[l.H.M_]="hev1.2.6.L150.B0",k[l.H.O_]="hev1.2.6.L153.B0",k[l.H.z_]="hev1.2.6.L90.B0",k[l.H.C_]="hev1.2.6.L93.B0",k[l.H.F_]="hev1.2.6.L120.B0",k[l.H.I_]="hev1.2.6.L123.B0",k[l.H.L_]="hev1.2.6.L150.B0",k[l.H.N_]="hev1.2.6.L153.B0",k[l.H.i_]="hev1.2.6.L90.B0",k[l.H.l_]="hev1.2.6.L93.B0",k[l.H.yP]="hev1.2.6.L120.B0",k[l.H.q_]="hev1.2.6.L123.B0",k[l.H.t_]="hev1.2.6.L150.B0",k[l.H.w_]="hev1.2.6.L153.B0",k[l.H.j_]="hev1.2.6.L90.B0",k[l.H.m_]="hev1.2.6.L93.B0",k[l.H.o_]="hev1.2.6.L120.B0",k[l.H.r_]="hev1.2.6.L123.B0",k[l.H.u_]="hev1.2.6.L150.B0",k[l.H.x_]="hev1.2.6.L153.B0",k[l.H.h_]="hev1.2.6.L90.B0",k[l.H.k_]="hev1.2.6.L93.B0",k[l.H.n_]="hev1.2.6.L120.B0",k[l.H.p_]="hev1.2.6.L123.B0",k[l.H.s_]="hev1.2.6.L150.B0",k[l.H.v_]="hev1.2.6.L153.B0",k[l.H.yZ]=f.cd.mca,k[l.H.AZ]=f.cd.YCa,k[l.H.oP]=f.cd.nca,k[l.H.DZ]=f.cd.oca,k[l.H.FZ]=f.cd.pca,k[l.H.HZ]=f.cd.qca,k[l.H.rca]=f.cd.nca,k[l.H.sca]=f.cd.oca,k[l.H.tca]=f.cd.pca,k[l.H.uca]=f.cd.qca,k[l.H.zZ]=f.cd.mca,k[l.H.BZ]=f.cd.YCa,k[l.H.CZ]=f.cd.nca,k[l.H.EZ]=f.cd.oca,k[l.H.GZ]=f.cd.pca,k[l.H.IZ]=f.cd.qca,k[l.H.SEa]="avc1.640016",k[l.H.ZZ]="avc1.64001E",k[l.H.a_]="avc1.64001F",k[l.H.c_]="avc1.640028",k[l.H.TEa]="avc1.640016",k[l.H.$Z]="avc1.64001E",k[l.H.b_]="avc1.64001F",k[l.H.d_]="avc1.640028",k[l.H.Bfa]=f.cd.zQ,k[l.H.b1]=f.cd.zQ,k[l.H.c1]=f.cd.zQ,k[l.H.AQ]=f.cd.zQ,k[l.H.Nza]=f.cd.Ei,k[l.H.Oza]=f.cd.Ei,k[l.H.ru]=f.cd.Ei,k[l.H.su]=f.cd.Ei,k[l.H.Jz]=f.cd.Ei,k[l.H.Kz]=f.cd.Ei,k[l.H.$Y]=f.cd.Ei,k[l.H.aZ]=f.cd.Ei,k);};b.MZ=c;},98960:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){this.config=h;this.uUa=m;this.xXb=p;this.rZb=this.FBb();}Object.defineProperty(b,"__esModule",{value:!0});b.lDa=void 0;r=a(5163);l=a(56800);f=a(1079);k=a(22674);d=a(75568);g=a(57657);a=a(41605);c.prototype.q1a=function(h){return this.j_a().r1a(h);};c.prototype.s1a=function(h){return this.pt().r1a(h);};c.prototype.j_a=function(){this.Gia && this.Gia.type == this.config().Hia || (this.Gia=this.uUa.MAb(this.config().Hia));return this.Gia;};c.prototype.pt=function(){this.$aa && this.$aa.type == this.config().aba || (this.$aa=this.uUa.SBb(this.config().aba),this.$aa.Nha(this.xXb.IJb()));return this.$aa;};c.prototype.XJb=function(h){var q;if(!h || !h.length)return l.Qe.g_;h=this.hHb(h);for(var m=[l.Qe.oQ,l.Qe.g_,l.Qe.qJ,l.Qe.RI,l.Qe.xu,l.Qe.Lz,l.Qe.fA,l.Qe.Ei],p=m.length;p--;){q=m[p];if((0,this.rZb[q])(h))return q;}return l.Qe.oQ;};c.prototype.ZH=function(h){return this.pt().ZH(h);};c.prototype.aF=function(h){return this.pt().aF(h);};c.prototype.SF=function(){return this.pt().SF();};c.prototype.G5=function(){return this.pt().G5();};c.prototype.RX=function(){return this.pt().RX();};c.prototype.PX=function(){return this.j_a().PX();};c.prototype.vaa=function(){return this.pt().vaa();};c.prototype.SX=function(){return this.pt().SX();};c.prototype.KT=function(h){return this.pt().KT(h);};c.prototype.aU=function(){return this.pt().aU();};c.prototype.U5=function(){return this.pt().U5();};c.prototype.hHb=function(h){var m;m={};h.filter(function(p){return "video" === p.type;}).forEach(function(p){m[p.Cd]="";});return Object.keys(m);};c.prototype.FBb=function(){var h;h={};h[l.Qe.Ei]=function(m){return m.some(function(p){return -1 < p.indexOf("av1");});};h[l.Qe.Lz]=function(m){return m.some(function(p){return -1 < p.indexOf("hpl");});};h[l.Qe.fA]=function(m){return m.some(function(p){return -1 < p.indexOf("vp9");});};h[l.Qe.xu]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-dv");});};h[l.Qe.RI]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-hdr");});};h[l.Qe.qJ]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};h[l.Qe.g_]=(function(m,p){var q;q={};m.forEach(function(u){return q[u]=1;});m=la(p);for(p=m.next();!p.done;p=m.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.H.uD]);h[l.Qe.oQ]=function(){return !0;};return h;};n=c;n=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.II)),r.__param(1,(0,k.l)(a.mCa)),r.__param(2,(0,k.l)(g.yEa))],n);b.lDa=n;},74742:function(r,b,a){var l,f,k;function c(d){this.JYb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.xEa=void 0;r=a(5163);l=a(22674);f=a(94800);a=a(18580);c.prototype.CGb=function(){var d,g;d={jL:f.Pw.uob};try{g=this.JYb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(n){var h;d.jL=n.value?f.Pw.gMa:f.Pw.Uza;if(d.jL === f.Pw.Uza){h=function(){n.value && (d.jL=f.Pw.gMa);n.removeEventListener("change",h);};n.addEventListener("change",h);}}).catch(function(){d.jL=f.Pw.Error;});}catch(n){d.jL=f.Pw.Error;}return d;};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.hMa))],k);b.xEa=k;},79974:function(r,b,a){var l,f,k,d,g;function c(n,h){this.config=n;this.NCb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.IGa=void 0;r=a(5163);l=a(22674);f=a(16152);k=a(1079);d=a(56800);g=a(40290);c.prototype.qWa=function(){switch(this.config().aba){case d.tl.Vw:return g.Wz.nBb();default:return this.NCb;}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.II)),r.__param(1,(0,l.l)(f.UKa))],a);b.IGa=a;},75456:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F;function c(G,E,I,M,L,K,O,H,J){G=f.Rz.call(this,G,E,I,H) || this;G.yc=M;G.sa=L;G.Sl=K;G.jc=O;G.Ny=H;G.lo=J;G.type=k.tl.Vw;G.GI="hvc1";G.XBa="avc1";G.f9a={};G.log=G.Sl.$a("MicrosoftVideoCapabilityDetector");G.E4b();G.QX && G.config().iTb?G.QXa=G.dBb():(G.QXa=Promise.resolve(""),G.config().kTb?G.jBb():G.config().jTb && G.iBb());return G;}Object.defineProperty(b,"__esModule",{value:!0});b.SHa=void 0;l=a(75568);f=a(46286);k=a(56800);r=a(57180);d=a(17612);g=a(5021);n=a(33543);h=a(73796);m=a(40290);p=a(82100);q=a(22210);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];C=("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ");D=new r.UD();F=new n.Xba();fa(c,f.Rz);c.prototype.KT=function(G){return G === k.Qe.xu && this.config().x8b?h.cd.f_:f.Rz.prototype.KT.call(this,G);};c.prototype.ZH=function(G){switch(G){case k.Mo.Y_:return this.Idb();case k.Mo.DD:return this.GW;default:return Promise.resolve(!1);}};c.prototype.SF=function(){var E;function G(){return E.QX?E.CNb?E.Idb().then(function(I){return Promise.resolve(I?d.eb.vd:d.eb.OD);}):Promise.resolve(d.eb.OD):E.G5b?Promise.resolve(d.eb.OD):Promise.resolve(d.eb.bx);}E=this;this.keySystem || (this.keySystem=this.config().Vr?this.lo.yB().then(function(I){return I.keySystem;}):G());return this.keySystem;};c.prototype.G5=function(){return this.QXa;};c.prototype.RX=function(){return Promise.resolve({result:this.Hdb(),reason:"is-type-supported"});};c.prototype.SX=function(){return this.QX && this.Kdb()?this.GW:Promise.resolve(!1);};c.prototype.vaa=function(){return Promise.resolve(this.Gdb()).then(function(G){return {result:G,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Nha=function(G){this.Up=G;Object.assign(this.Up,this.f9a);G.itshwdrm=this.QX;G.itsqhd=this.Jdb();G.itshevc=this.Kdb();G.itshdr=this.Hdb();G.itsdv=this.Gdb();G.itsav1=this.D5b();G.itshevccl=this.Ldb();G.itsavccl=this.B5b();this.Zya();};c.prototype.TR=function(G,E){(this.Up?this.Up:this.f9a)[G]=E;};c.prototype.aU=function(){var G;G=this;return this.ZH(k.Mo.DD).then(function(E){return E?G.P3(k.Mo.DD):G.ZH(k.Mo.Y_).then(function(I){return I?G.P3(k.Mo.Y_):G.P3(void 0);});});};c.prototype.U5=function(){return this.config().Vr?Promise.resolve(void 0):this.SF().then(function(G){return G === d.eb.vd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.Ama=function(G){var E;E=this;return this.SF().then(function(I){var M,L,K;M=E.EW[G];if(M){L=[];if(E.is.ip(M))K=M;else (L=M.features,K=M.wd,I=M.keySystem);return E.Us(I,K,L)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Pq=function(){var G;G=f.Rz.prototype.Pq.call(this);G[l.H.AQ]=G[l.H.c1]=G[l.H.b1]=G[l.H.Bfa]={wd:"vp09.00.11.08.02",keySystem:d.eb.vd,features:u};G[l.H.B_]=G[l.H.A_]=G[l.H.z_]={wd:"hev1.2.6.L90.B0",keySystem:d.eb.vd,features:t};G[l.H.E_]=G[l.H.D_]=G[l.H.C_]={wd:"hev1.2.6.L93.B0",keySystem:d.eb.vd,features:t};G[l.H.H_]=G[l.H.G_]=G[l.H.F_]={wd:"hev1.2.6.L120.B0",keySystem:d.eb.vd,features:t};G[l.H.K_]=G[l.H.J_]=G[l.H.I_]={wd:"hev1.2.6.L123.B0",keySystem:d.eb.vd,features:t};G[l.H.M_]=G[l.H.zP]=G[l.H.L_]={wd:"hev1.2.6.L150.B0",keySystem:d.eb.vd,features:t};G[l.H.O_]=G[l.H.AP]=G[l.H.N_]={wd:"hev1.2.6.L153.B0",keySystem:d.eb.vd,features:t};G[l.H.j_]=G[l.H.i_]=G[l.H.h_]={wd:"hev1.2.6.L90.B0",keySystem:d.eb.vd,features:v};G[l.H.m_]=G[l.H.l_]=G[l.H.k_]={wd:"hev1.2.6.L93.B0",keySystem:d.eb.vd,features:v};G[l.H.o_]=G[l.H.yP]=G[l.H.n_]={wd:"hev1.2.6.L120.B0",keySystem:d.eb.vd,features:v};G[l.H.r_]=G[l.H.q_]=G[l.H.p_]={wd:"hev1.2.6.L123.B0",keySystem:d.eb.vd,features:y};G[l.H.u_]=G[l.H.t_]=G[l.H.s_]={wd:"hev1.2.6.L150.B0",keySystem:d.eb.vd,features:y};G[l.H.x_]=G[l.H.w_]=G[l.H.v_]={wd:"hev1.2.6.L153.B0",keySystem:d.eb.vd,features:y};G[l.H.zZ]=G[l.H.yZ]={wd:"hev1.2.6.L90.B0",keySystem:d.eb.vd,features:x};G[l.H.BZ]=G[l.H.AZ]={wd:"hev1.2.6.L93.B0",keySystem:d.eb.vd,features:x};G[l.H.CZ]=G[l.H.rca]=G[l.H.oP]={wd:"hev1.2.6.L120.B0",keySystem:d.eb.vd,features:x};G[l.H.EZ]=G[l.H.sca]=G[l.H.DZ]={wd:"hev1.2.6.L123.B0",keySystem:d.eb.vd,features:z};G[l.H.GZ]=G[l.H.tca]=G[l.H.FZ]={wd:"hev1.2.6.L150.B0",keySystem:d.eb.vd,features:z};G[l.H.IZ]=G[l.H.uca]=G[l.H.HZ]={wd:"hev1.2.6.L153.B0",keySystem:d.eb.vd,features:z};G[l.H.ru]={wd:"av01.0.04M.10",keySystem:d.eb.vd,features:u};G[l.H.su]={wd:"av01.0.05M.10",keySystem:d.eb.vd,features:u};G[l.H.Jz]={wd:"av01.0.08M.10",keySystem:d.eb.vd,features:u};G[l.H.Kz]={wd:"av01.0.09M.10",keySystem:d.eb.vd,features:u};G[l.H.$Y]={wd:"av01.0.12M.10",keySystem:d.eb.vd,features:w};G[l.H.aZ]={wd:"av01.0.13M.10",keySystem:d.eb.vd,features:w};return G;};c.prototype.Us=function(G,E,I){G=m.Wz.Q3(G,E,I);return this.aF(G);};c.prototype.Jdb=function(){return this.Us(d.eb.vd,this.GI,t);};c.prototype.Hdb=function(){return this.Us(d.eb.vd,this.GI,v);};c.prototype.Gdb=function(){return this.Us(d.eb.vd,this.GI,x);};c.prototype.D5b=function(){return this.Us(d.eb.vd,h.cd.Ei,u);};c.prototype.Kdb=function(){return this.Us(d.eb.vd,this.GI,w);};c.prototype.Ldb=function(){return this.Us(d.eb.vd,this.GI,C);};c.prototype.B5b=function(){return this.Us(d.eb.vd,this.XBa,C);};c.prototype.Idb=function(){var G;G=this;return this.GW.then(function(E){return E?Promise.resolve(E):G.d$a;});};c.prototype.Zya=function(){this.Up && (this.Up.itshdcp=JSON.stringify({hdcp1:this.$1a,time1:this.jeb - this.Zcb,hdcp2:this.a2a,time2:this.keb - this.$cb}));};c.prototype.E4b=function(){var G;G=this;this.QX?(this.GW=this.V0a(this.config().y6a,this.config().mTb,function(){var E;E=G.VJb();return ["maybe" !== E,E];}).then(function(E){return "probably" === E;}),this.d$a=this.GW.then(function(E){return E?!0:G.V0a(G.config().y6a,G.config().lTb,function(){var I;I=G.UJb();return ["maybe" !== I,I];}).then(function(I){return "probably" === I;});})):(this.d$a=Promise.resolve(!0),this.GW=Promise.resolve(!1));};c.prototype.V0a=function(G,E,I){var M;M=this;return new Promise(function(L){var K,O,H,J;K=la(I());O=K.next().value;K=K.next().value;if(O)return L(K);H=M.yc.CH((0,g.Ob)(G),function(){var N,R;N=la(I());R=N.next().value;N=N.next().value;R && (H.cancel(),J.cancel(),L(N));});J=M.yc.nk((0,g.Ob)(E),function(){H.cancel();J.cancel();L("timeout");});});};c.prototype.UJb=function(){var G;G=m.Wz.Q3(d.eb.OD,this.XBa,A).split("|");this.$1a=m.Wz.Xxa(G[0],G[1]);this.jeb=this.sa.fe.da(g.pa);this.Zcb=this.Zcb || this.jeb;this.Zya();return this.$1a;};c.prototype.VJb=function(){var G;G=m.Wz.Q3(d.eb.vd,this.GI,B).split("|");this.a2a=m.Wz.Xxa(G[0],G[1]);this.keb=this.sa.fe.da(g.pa);this.$cb=this.$cb || this.keb;this.Zya();return this.a2a;};c.prototype.dBb=function(){var G;G=this;return this.Cka(d.eb.vd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.HJa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(E){G.log.debug("DriverInfo: " + E);return E;}).catch(function(E){G.TR("itsDriverInfo","exception");G.log.error("DriverInfo exception",E);throw E;});};c.prototype.iBb=function(){var G;G=this;this.Cka(d.eb.bx,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(E){var I;I=String.fromCharCode.apply(void 0,G.jc.decode(E));G.TR("itsHardwareInfo",I);G.log.debug("HardwareInfo: " + I);return E;}).catch(function(E){G.TR("itsHardwareInfo","exception");G.log.error("HardwareInfo exception",E);throw E;});};c.prototype.jBb=function(){var G;G=this;this.Cka(d.eb.bx,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(E){var I;I=String.fromCharCode.apply(void 0,G.jc.decode(E));G.TR("itsHardwareReset",I);G.log.debug("ResetHardwareDRMDisabled: " + I);return E;}).catch(function(E){G.TR("itsHardwareReset","exception");G.log.error("ResetHardwareDRMDisabled exception",E);throw E;});};c.prototype.Cka=function(G,E){var I;I=this;return new Promise(function(M,L){var R,T,ka;function K(sa){try{J(sa.target,"Unexpectedly got an mskeyerror event: 0x" + F.JF(sa && sa.target && sa.target.error && sa.target.error.Cjc || 0,4));}catch(ia){J(sa.target,ia);}}function O(sa){J(sa.target,"Unexpectedly got an mskeyadded event");}function H(sa){var ia;try{ia=I.tma(sa.message,"PlayReadyKeyMessage","Challenge");N(sa.target);M(ia);}catch(wa){J(sa.target,wa);}}function J(sa,ia){I.log.error("PlayReadyChallenge error",{cdmData:E});N(sa);L(ia);}function N(sa){sa.removeEventListener("mskeymessage",H);sa.removeEventListener("mskeyadded",O);sa.removeEventListener("mskeyerror",K);ka && ka.cancel();}try{R=new Uint8Array(D.vdb(E));T=new ob.MSMediaKeys(G).createSession("video/mp4",new Uint8Array(0),R);T.addEventListener("mskeymessage",H);T.addEventListener("mskeyadded",O);T.addEventListener("mskeyerror",K);ka=I.yc.nk((0,g.Ob)(1E3),function(){J(T,Error("timeout"));});}catch(sa){L(sa);}});};c.prototype.tma=function(G,E){var M,L,K;for(var I=1;I < arguments.length;++I){;}I="";L=G.length;for(M=0;M < L;M++){K=G[M];0 < K && (I+=String.fromCharCode(K));}L="\\s*(.*)\\s*";for(M=arguments.length - 1;0 < M;M--){K=arguments[M];if(0 > I.search(K))return;K="(?:[^:].*:|)" + K;L="[\\s\\S]*<" + K + "[^>]*>" + L + "</" + K + ">[\\s\\S]*";}if(I=I.match(new RegExp(L)))return I[1];};c.prototype.iqa=function(G){var E;E=this;return this.SF().then(function(I){var M;if(q.ud.kFa.test(G) && !E.Ldb())return {supported:!1,reason:"ms-restricted"};M=[d.eb.OD,d.eb.$Ka].some(function(L){return L === I;});M=E.config().x6a && !M;return [q.ud.Lz,q.ud.fA,q.ud.Ei].some(function(L){return L.test(G);}) && !q.ud.SGa.test(G) && M?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Xa.Object.defineProperties(c.prototype,{CNb:{configurable:!0,enumerable:!0,get:function(){return this.config().oYa && (!this.config().z6a || this.Jdb());}},QX:{configurable:!0,enumerable:!0,get:function(){try{return this.aF(d.eb.vd + "|" + h.cd.bsa);}catch(G){return !1;}}},G5b:{configurable:!0,enumerable:!0,get:function(){try{return this.aF(d.eb.OD);}catch(G){return !1;}}}});b.SHa=c;},78866:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t){this.config=p;this.navigator=q;this.Sl=u;this.xM=t;this.oTa={};this.fgb={};this.$ha={};this.log=this.Sl.$a("MediaCapabilityDetector");this.oTa=this.LAb();this.fgb=this.RBb();}Object.defineProperty(b,"__esModule",{value:!0});b.gIa=void 0;r=a(5163);l=a(22674);f=a(75568);k=a(87386);d=a(63368);g=a(21103);n=a(1079);h=a(82100);m=a(22365);c.prototype.pT=function(p){var q;q=this;return this.xM.yB().then(function(u){return q.QGb(p,u);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.mPb=function(p){return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction;};c.prototype.Wpa=function(){return ob.matchMedia("(dynamic-range: high)").matches;};c.prototype.QGb=function(p,q){var u,t,w;try{u={type:"media-source"};t=this.oTa[p];w=this.fgb[p];if(t)u.audio=t;else if(w){u.video=w;if(this.mPb(w) && !this.Wpa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (u.keySystemConfiguration=this.iKb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.zxb(u),this.xxb((t || w).contentType)]).then(function(v){var y;y=la(v);v=y.next().value;y=y.next().value;return v?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(v){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",v),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.zxb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(u){var t;u.configuration || (u.configuration=p);t=q.NPb(p,u);t?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(u)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(u));return t;}).catch(function(u){q.log.error("mediaCapabilities.decodingInfo failed",u);return !1;});};c.prototype.xxb=function(p){var q;q=this;if(!this.config().aFb)return Promise.resolve(!0);this.$ha[p] || (this.$ha[p]=new Promise(function(u){var t;try{t=new m.Yz();document.createElement("video").src=URL.createObjectURL(t);t.addEventListener("sourceopen",function(){try{t.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);u(!0);}catch(w){q.log.warn("addSourceBuffer failed",w);u(!1);}});}catch(w){q.log.warn("addSourceBuffer failed",w);u(!1);}}));return this.$ha[p];};c.prototype.iKb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,h.Q5)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.LAb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[f.Bd.vD]=q;p[f.Bd.y_]=q;p[f.Bd.wD]=q;p[f.Bd.ix]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[f.Bd.mP]=q;p[f.Bd.wZ]=q;p[f.Bd.nP]=q;return p;};c.prototype.RBb=function(){var p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};u={width:1920,height:1080};t={width:3840,height:2160};w=Object.assign(Object.assign({},u),{bitrate:12E6,framerate:30});v=Object.assign(Object.assign({},u),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),w);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);C=Object.assign(Object.assign({},p),w);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),v);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),x);E=Object.assign(Object.assign(Object.assign({},p),w),z);I=Object.assign(Object.assign(Object.assign({},p),v),z);M=Object.assign(Object.assign(Object.assign({},p),y),z);p=Object.assign(Object.assign(Object.assign({},p),x),z);z=Object.assign(Object.assign(Object.assign({},q),w),A);L=Object.assign(Object.assign(Object.assign({},q),v),A);K=Object.assign(Object.assign(Object.assign({},q),y),A);q=Object.assign(Object.assign(Object.assign({},q),x),A);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),w);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),v);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),x);A={};return (A[f.H.tD]=t,A[f.H.uD]=t,A[f.H.e_]=t,A[f.H.UEa]=t,A[f.H.VEa]=t,A[f.H.WEa]=t,A[f.H.SEa]=u,A[f.H.ZZ]=u,A[f.H.a_]=u,A[f.H.c_]=u,A[f.H.TEa]=u,A[f.H.$Z]=u,A[f.H.b_]=u,A[f.H.d_]=u,A[f.H.Bfa]=B,A[f.H.b1]=B,A[f.H.c1]=B,A[f.H.AQ]=B,A[f.H.Sca]=C,A[f.H.Tca]=C,A[f.H.Uca]=C,A[f.H.Vca]=D,A[f.H.A_]=C,A[f.H.D_]=C,A[f.H.G_]=C,A[f.H.J_]=D,A[f.H.zP]=F,A[f.H.AP]=G,A[f.H.B_]=C,A[f.H.E_]=C,A[f.H.H_]=C,A[f.H.K_]=D,A[f.H.M_]=F,A[f.H.O_]=G,A[f.H.z_]=C,A[f.H.C_]=C,A[f.H.F_]=C,A[f.H.I_]=D,A[f.H.L_]=F,A[f.H.N_]=G,A[f.H.i_]=E,A[f.H.l_]=E,A[f.H.yP]=E,A[f.H.q_]=I,A[f.H.t_]=M,A[f.H.w_]=p,A[f.H.j_]=E,A[f.H.m_]=E,A[f.H.o_]=E,A[f.H.r_]=I,A[f.H.u_]=M,A[f.H.x_]=p,A[f.H.h_]=E,A[f.H.k_]=E,A[f.H.n_]=E,A[f.H.p_]=I,A[f.H.s_]=M,A[f.H.v_]=p,A[f.H.yZ]=z,A[f.H.AZ]=z,A[f.H.oP]=z,A[f.H.DZ]=L,A[f.H.FZ]=K,A[f.H.HZ]=q,A[f.H.rca]=z,A[f.H.sca]=L,A[f.H.tca]=K,A[f.H.uca]=q,A[f.H.zZ]=z,A[f.H.BZ]=z,A[f.H.CZ]=z,A[f.H.EZ]=L,A[f.H.GZ]=K,A[f.H.IZ]=q,A[f.H.Nza]=w,A[f.H.Oza]=w,A[f.H.ru]=w,A[f.H.su]=w,A[f.H.Jz]=w,A[f.H.Kz]=v,A[f.H.$Y]=y,A[f.H.aZ]=x,A);};c.prototype.NPb=function(p,q){return p.video && this.config().gYb?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(n.II)),r.__param(1,(0,l.l)(d.cJ)),r.__param(2,(0,l.l)(k.ab)),r.__param(3,(0,l.l)(g.Uw))],a);b.gIa=a;},43551:function(r,b,a){var l,f;function c(k){this.navigator=k;this.p6a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.iIa=void 0;r=a(5163);l=a(22674);a=a(63368);c.prototype.zma=function(k){return this.p6a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:k.contentType,width:k.width,height:k.height,bitrate:k.bitrate,framerate:k.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.cJ))],f);b.iIa=f;},6600:function(r,b,a){var l,f,k,d;function c(g,n){this.mediaCapabilities=g;this.log=n.$a("MediaCapabilities");this.EW=d.MZ.Pq();}Object.defineProperty(b,"__esModule",{value:!0});b.jIa=void 0;r=a(5163);l=a(12931);f=a(87386);k=a(22674);d=a(48617);c.prototype.zma=function(g){var n,h,m,p;n=this;m={uf:void 0};if(this.mediaCapabilities.p6a){p={contentType:'video/mp4;codecs="' + (null !== (h=this.EW[g.Cd]) && void 0 !== h?h:"avc1.640028") + '"',width:g.width,height:g.height,bitrate:1E3 * g.bitrate,framerate:24};this.mediaCapabilities.zma(p).then(function(q){return m.uf=Object.assign(Object.assign({},q),p);}).catch(function(q){return n.log.error("Error calling MediaCapabilities API",q);});}return m;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(l.lIa)),r.__param(1,(0,k.l)(f.ab))],a);b.jIa=a;},92049:function(r,b,a){var l,f,k,d,g;function c(n,h,m,p,q){n=d.LZ.call(this,n,h,q) || this;n.is=m;n.platform=p;n.type=l.uu.Vw;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.JIa=void 0;l=a(56800);f=a(75568);k=a(17612);d=a(31741);g=a(40290);fa(c,d.LZ);c.prototype.PX=function(){return Promise.resolve(this.config().WK && this.Us(k.eb.bx,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Pq=function(){var n,h;n={};n=(n[f.Bd.vD]="mp4a.40.2",n[f.Bd.wD]="mp4a.40.2",n);if("browser" === this.platform.nla){h={};return Object.assign(Object.assign({},n),(h[f.Bd.mP]=this.config().WK?{wd:"avc1",keySystem:k.eb.bx,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.Bd.nP]=this.config().WK?{wd:"avc1",keySystem:k.eb.bx,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.Bd.y_]=void 0,h[f.Bd.ix]=void 0,h[f.Bd.wZ]=void 0,h));}h={};return Object.assign(Object.assign({},n),(h[f.Bd.mP]=this.config().lYa?"ec-3":void 0,h[f.Bd.wZ]=this.config().kYa?"ec-3":void 0,h[f.Bd.nP]=this.config().WK?{wd:"avc1",keySystem:k.eb.bx,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.Bd.y_]=void 0,h[f.Bd.ix]=void 0,h));};c.prototype.Ama=function(n){var h,m,p;n=this.EW[n];h=[];m=k.eb.bx;if(n){if(this.is.ip(n))p=n;else (h=n.features,p=n.wd,m=n.keySystem);return this.Us(m,p,h)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.Us=function(n,h,m){n=g.Wz.Q3(n,h,m);return this.aF(n);};b.JIa=c;},40290:function(r,b,a){var l,f,k;function c(){this.type=l.uu.Vw;}Object.defineProperty(b,"__esModule",{value:!0});b.Wz=void 0;l=a(56800);r=a(57180);f=a(17612);k=new r.UD();c.nBb=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return ob.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?ob.MSMediaKeys.isTypeSupported(f.eb.bx,d):"probably" === c.Xxa(g[0],g[1]);}catch(n){return !1;}}};};c.Q3=function(d,g,n){g=k.format(c.Maa,g);if(0 === n.length)return g;n=k.format('features="{0}"',n.join());return k.format("{0}|{1}{2}",d,g,n);};c.Xxa=function(d,g){var n;try{n=ob.MSMediaKeys.isTypeSupportedWithFeatures?ob.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(h){n="exception";}return n;};b.Wz=c;c.Maa='video/mp4;codecs="{0},mp4a";';},7802:function(r,b){function a(c,l){var f;f=this;this.status={};c.forEach(function(k,d){f.status[k]=l[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.v0=void 0;a.prototype.JL=function(){return this.status;};a.prototype.c6=function(){return Object.entries(this.status).filter(function(c){c=la(c);c.next();return c.next().value.supported;}).map(function(c){var l;c=la(c);l=c.next().value;c.next();return l;});};b.v0=a;},57718:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u){this.Km=p;this.zb=q;this.xdb=u;this.gsb="video/mp4;codecs={0}";this.Nob="audio/mp4;codecs={0}";p=this.Km.KT(f.Qe.xu);this.fsb=d.cd.CWa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.vNa=void 0;r=a(5163);f=a(56800);k=a(22674);d=a(73796);g=a(42207);n=a(88490);h=a(29670);m=a(33096);c.prototype.U3=function(p){p=this.Km.XJb(p);p=this.zb.pF(p)?p:f.Qe.oQ;return this.xdb.format(this.gsb,this.fsb[p]);};c.prototype.O3=function(p){if(0 === p.length)return this.xdb.format(this.Nob,d.cd.qba);p=h.gBa[p[0].Cd] || l.Lza;return p === l.Lza?m.OHa:p === l.lhb?m.PHa:m.NHa;};a=l=c;a.Lza="AAC";a.lhb="XHEAAC";a=l=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Jw)),r.__param(1,(0,k.l)(g.Qf)),r.__param(2,(0,k.l)(n.rfa))],a);b.vNa=a;},82656:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.Mk=void 0;r=a(22674);c=a(33554);l=a(58393);f=a(48723);k=a(68703);d=a(99662);b.Mk=new r.dd(function(g){g(c.Kw).Zd(function(){return function(){return ob._cad_global.device;};});g(k.qDa).to(d.pDa).ha();g(l.nDa).to(f.mDa).ha();});},33554:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kw="DeviceFactorySymbol";},58393:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nDa="DeviceIdGeneratorSymbol";},68703:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qDa="DeviceProviderSymbol";},48723:function(r,b,a){var l,f,k,d,g,n;function c(h,m){this.sa=h;this.$ua=m;}Object.defineProperty(b,"__esModule",{value:!0});b.mDa=void 0;r=a(5163);l=a(30869);f=a(5021);k=a(10306);d=a(74267);g=a(66523);a=a(22674);c.prototype.lIb=function(){for(var h="",m=this.sa.fe.da(f.pa),p=6;p--;){h=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[m % 32] + h;m=Math.floor(m / 32);}for(;30 > h.length;){h+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.$ua.s$a(new d.Wea(0,31,g.N7a))];}return h;};n=c;n=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(l.ag)),r.__param(1,(0,a.l)(k.E0))],n);b.mDa=n;},66085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oDa=void 0;b.oDa=function(a,c,l,f){this.ck=a;this.Sn=c;this.N4=f;};},99662:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t,w){this.ADb=p;this.cl=q;this.zb=t;this.cXb=w;this.XDa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=u.$a("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.pDa=void 0;r=a(5163);l=a(36129);f=a(42207);k=a(66085);d=a(87386);g=a(58393);n=a(22674);h=a(17892);a=a(70285);c.prototype.VYa=function(p){try{return p.match(this.XDa)[2];}catch(q){}};c.prototype.sGb=function(p){try{return p.match(this.XDa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(u,t){q.cl.create().then(function(w){var y,x,z,A,B,C;function v(D){q.zb.ym(D) && q.zb.ym(y)?(x=new k.oDa(D,y,void 0,z,p.TS || "cadmium"),u(x)):t({Aa:l.S.TCa});}y=p.Sn;if(p.Ana){z="bind_device";q.cXb.yf(q.log,{}).then(function(D){v(D.esn);}).catch(function(D){t(D);});}else if(p.sL){B=p.ck;if(q.zb.ym(B)){C=q.sGb(B);C != p.Sn && q.log.error("esn prefix from ui is different",{ui:C,cad:p.Sn,ua:p.userAgent});}else p.Yqa && q.log.error("esn from ui is missing");!p.IO && q.zb.ym(B)?(z="config",v(B)):w.load(p.wXa).then(function(D){A=D.value;q.zb.ym(A) && (!1,q.zb.ym(B)?(D=q.VYa(B),z=D === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",v(y + A));}).catch(function(D){var E;function F(){w.save(p.wXa,E,!1).then(function(){v(y + E);}).catch(function(I){t(I);});}function G(){E=q.ADb.lIb();!1;F();}if(D.Aa === l.S.ex){if(q.zb.ym(p.ck)){E=q.VYa(p.ck);q.zb.ym(E)?(z="config_since_not_in_storage",F()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.ck),G());}else (z="generated_since_not_in_config_and_storage",G());}else t(D);});}else v();}).catch(function(w){t(w);});});};m=c;m=r.__decorate([(0,n.U)(),r.__param(0,(0,n.l)(g.nDa)),r.__param(1,(0,n.l)(h.Dw)),r.__param(2,(0,n.l)(d.ab)),r.__param(3,(0,n.l)(f.Qf)),r.__param(4,(0,n.l)(a.bKa))],m);b.pDa=m;},93673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eca="CachedDrmDataSymbol";},2492:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tZ="CannedChallengeProvider";},49594:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C;Object.defineProperty(b,"__esModule",{value:!0});b.SK=b.bYa=void 0;r=a(22674);c=a(47737);l=a(58120);f=a(31050);k=a(93673);d=a(44235);g=a(97485);n=a(21103);h=a(92395);m=a(66372);p=a(2492);q=a(77228);u=a(34008);t=a(17250);w=a(41980);v=a(90581);y=a(91490);x=a(38231);z=a(22266);A=a(48691);B=a(18647);C=a(61738);b.bYa=new r.dd(function(D){D(l.ADa).to(f.zDa).ha();D(k.eca).to(d.iCa).ha();D(c.PZ).jY(g.g$a);D(z.PGa).to(A.OGa).ha();D(B.mda).to(C.QGa).ha();D(n.Uw).XC(function(F){b.SK.parent=F.lb;return b.SK.get(n.Uw);});D(h.VP).Zd(function(){return function(){return new m.uIa();};});D(p.tZ).to(q.kCa).ha();D(u.Hca).to(t.dEa).ha();D(w.Aca).to(v.FDa).ha();D(y.rIa).to(x.qIa).ha();});b.SK=new r.vZ({PH:!0});},58120:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ADa="DrmDataFactorySymbol";},28048:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Upa=b.yu=void 0;(function(a){a.Jfb="usable";a.Uq="expired";a.released="released";a.o8a="output-restricted";a.uWb="output-downscaled";a.M4b="status-pending";a.HOb="internal-error";})(b.yu || (b.yu={}));b.Upa=function(a){return !!a && !!a.keyStatuses;};},28289:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.SXa=b.cs=void 0;(function(c){c[c.R4a=0]="licenseStarted";c[c.L$a=1]="receivedLicenseChallenge";c[c.K$a=2]="receivedLicense";c[c.M$a=3]="receivedRenewalChallengeComplete";c[c.N$a=4]="receivedRenewalLicenseComplete";c[c.O$a=5]="receivedRenewalLicenseFailed";c[c.g_b=6]="receivedIndivChallengeComplete";c[c.h_b=7]="receivedIndivLicenseComplete";c[c.jSa=8]="addLicenseComplete";c[c.pSa=9]="addRenewalLicenseComplete";c[c.qSa=10]="addRenewalLicenseFailed";})(a=b.cs || (b.cs={}));b.SXa=function(c){switch(c){case a.R4a:return "lg";case a.L$a:return "lc";case a.K$a:return "lr";case a.M$a:return "renew_lc";case a.N$a:return "renew_lr";case a.O$a:return "renew_lr_failed";case a.g_b:return "ilc";case a.h_b:return "ilr";case a.jSa:return "ld";case a.pSa:return "renew_ld";case a.qSa:return "renew_ld_failed";default:return "unknown";}};},47737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EDa="DrmServicesSymbol";b.PZ="DrmServicesProviderSymbol";},41980:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aca="DrmTraitsFactorySymbol";},53921:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jjb=b.zk=void 0;r=b.zk || (b.zk={});r[r.Xy=0]="playready";r[r.NY=1]="widevine";r[r.vB=2]="fairplay";r[r.bfc=3]="clearkey";b.Jjb="DrmTypeSymbol";},27995:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XD=void 0;r=b.XD || (b.XD={});r[r.Request=0]="Request";r[r.wMa=1]="Renewal";},34008:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hca="EmeApiFactorySymbol";},23563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pq="EmeConfigSymbol";},10060:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gEa="EmeSessionFactorySymbol";},22266:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PGa="KeySystemProviderSymbol";},18647:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mda="KeySystemRestrictorSymbol";},91490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rIa="MediaKeySystemAccessInternalFactorySymbol";},21103:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uw="MediaKeySystemAccessServicesSymbol";},92395:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VP="MediaKeysStorageFactorySymbol";},51120:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.cYa=void 0;r=a(22674);c=a(47737);l=a(80075);f=a(21103);k=a(9717);d=a(10060);g=a(74946);b.cYa=new r.dd(function(n){n(c.EDa).to(l.DDa).ha();n(f.Uw).to(k.tIa).ha();n(d.gEa).to(g.fEa);});},44235:function(r,b,a){var k,d,g,n,h,m,p,q;function c(u,t,w){var v;v=this;this.is=u;this.cl=t;this.config=w;this.hu=function(){return {version:v.version,drmData:v.A4.map(function(y){return y.hu();})};};this.gna=function(y){var x;v.is.ym(y) && (y=l(y));1 === y.version && (y=f(v.is,y));x={version:2,data:[]};if(2 === y.version){x.version=y.version;try{x.data=y.drmData.map(function(z){return new q.OZ(z);});}catch(z){throw new h.Mc(g.V.SI,g.S.Pz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!y.version || !v.is.Zj(y.version))throw new h.Mc(g.V.SI,g.S.Pz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== y.version)throw new h.Mc(g.V.SI,g.S.OBa,void 0,void 0,void 0,"Version number is not supported. Version: " + y.version);}return x;};this.pk=new m.fda(2,this.config.$S,this.is.ym(this.config.$S),this.cl,this.hu);}function l(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new h.Mc(g.V.SI,g.S.Pz);return {version:1,drmData:[u]};}function f(u,t){if(u.LA(t.drmData))return {version:2,drmData:t.drmData.map(function(w){var v;v=w.keySessionIds;return new q.OZ({keySessionData:(v && 0 < v.length?v:[void 0]).map(function(y){return {id:y,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).hu();})};throw new h.Mc(g.V.SI,g.S.Pz);}Object.defineProperty(b,"__esModule",{value:!0});b.iCa=void 0;r=a(5163);k=a(22674);d=a(23563);g=a(36129);n=a(42207);h=a(31149);m=a(52657);p=a(17892);q=a(31050);c.prototype.y$a=function(){return this.G4b();};c.prototype.eSa=function(u){return this.pk.add(u);};c.prototype.RW=function(u){return this.pk.remove(u,function(t,w){return t.na === w.na;});};c.prototype.toString=function(){return JSON.stringify(this.hu(),null,"  ");};c.prototype.G4b=function(){var u;u=this;this.C$a || (this.C$a=new Promise(function(t,w){u.pk.load(u.gna).then(function(){t();}).catch(function(v){v.Aa && v.Xb?w(new h.Mc(g.V.SI,v.Aa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v)):w(v);});}));return this.C$a;};Xa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.pk.version;}},A4:{configurable:!0,enumerable:!0,get:function(){return this.pk.Bl;}}});a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(n.Qf)),r.__param(1,(0,k.l)(p.Dw)),r.__param(2,(0,k.l)(d.pq))],a);b.iCa=a;},77228:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t,w){this.yF=p;this.jc=q;this.yM=t;this.lo=w;this.log=u.$a("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.kCa=void 0;r=a(5163);l=a(22674);f=a(47737);k=a(2248);d=a(87386);g=a(92395);n=a(21103);h=a(53921);m=a(84218);c.prototype.qoa=function(p){var q;q=this;return Promise.all([this.yF(),this.Lna()]).then(function(u){var t;t=la(u);u=t.next().value;t=t.next().value;return u.mIb({type:p,initData:t,T6:!1},q.yM());}).then(function(u){var t;t=la(u);u=t.next().value;t=t.next().value;t=q.jc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {mz:u,Dja:t};});};c.prototype.Lna=function(){var p;p=this;return this.lo.yB().then(function(q){return q.nt();}).then(function(q){switch(q){case h.zk.vB:return m.CEa;case h.zk.Xy:return m.ZKa;default:return m.hPa;}}).then(function(q){return q.map(p.jc.decode);});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.PZ)),r.__param(1,(0,l.l)(k.Zg)),r.__param(2,(0,l.l)(d.ab)),r.__param(3,(0,l.l)(g.VP)),r.__param(4,(0,l.l)(n.Uw))],a);b.kCa=a;},31050:function(r,b,a){var f;function c(){}function l(k){k?(this.active=!1,this.gna(k)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.zDa=b.OZ=void 0;r=a(5163);a=a(22674);l.prototype.gna=function(k){this.je=k.keySessionData?k.keySessionData.map(function(d){return {id:d.id,AG:d.licenseContextId,bV:d.licenseId};}):[];this.na=k.xid;this.P=k.movieId;};l.prototype.hu=function(){return JSON.parse(JSON.stringify({keySessionData:this.je?this.je.map(function(k){return {id:k.id,licenseContextId:k.AG,licenseId:k.bV};}):[],xid:this.na,movieId:this.P}));};b.OZ=l;c.prototype.create=function(){return new l();};c.prototype.load=function(k){return new l(k);};f=c;f=r.__decorate([(0,a.U)()],f);b.zDa=f;},80075:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w;function c(v,y,x,z,A,B,C,D,F){var G;G=this;this.yc=y;this.az=x;this.config=z;this.kt=A;this.wEb=B;this.oK=C;this.yM=D;this.Vl=F;this.l5b=function(E,I){var M;G.Vl.mark(w.Pa.YZ,E.yi.na,"generate-challenge");M=!1;I.O2b(function(L){M || (M=!0,G.Vl.mark(w.Pa.XZ,E.yi.na,"generate-challenge"));G.UF(E,I,L).then(function(K){I.iSa(K);G.qwb(I);}).catch(function(K){return I.Ysb(K);});});};this.log=v.$a("DrmServices");this.kt().Vr && this.oK.y$a().then(function(){G.S_b();}).catch(function(E){G.log.error("Unable to load the persisted DRM data",E);});this.config.Y2a && this.ZA(D(),n.xh.om).then(function(E){return E.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.DDa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(53085);d=a(69493);g=a(77134);n=a(24735);h=a(23563);m=a(93673);p=a(31050);q=a(10060);u=a(4203);t=a(92395);w=a(63156);c.prototype.mIb=function(v,y){return this.ZA(y,v.type,v.context).then(function(x){return x.pIb(v.initData,v.T6).then(function(z){return [x,{Mm:x.nt(),data:z.uj}];});});};c.prototype.Qg=function(v,y){var x;x=this;this.log.info("Requesting challenges",this.r0a(v,v.type));return this.ZA(y,v.type,v.context).then(function(z){x.U6a(v,z);return z.qIb(v.initData,v.T6).then(function(){return z;});});};c.prototype.U6a=function(v,y){y.U2b(v.yi);this.l5b(v,y);};c.prototype.release=function(v,y){var x;x=this;this.log.info("Releasing server license",this.m1a(v));return this.tLb(v).then(function(){var z;z=Object.assign({active:!1,je:[]},v.yi);x.oK.RW(z);y.d0b();return v;});};c.prototype.r0a=function(v,y){return {movieId:v.yi.P,xid:v.yi.na,type:(0,n.Lqa)(y)};};c.prototype.m1a=function(v){return {movieId:v.yi?v.yi.P:void 0,xid:v.yi?v.yi.na:void 0,keySessionId:v.hy()};};c.prototype.UF=function(v,y,x){this.log.info("Sending license request",this.r0a(v,x.gf));return this.az.Qg({na:v.yi.na,Ed:v.yi.Ed,z4:[v.yi.Nk],uj:[{sessionId:y.hy() || "session",data:x.uj}],gf:x.gf,Mm:y.nt(),AUa:x.AUa,oi:v.yi.oi,Zf:v.yi.Zf});};c.prototype.tLb=function(v){this.log.info("Sending release request",this.m1a(v));return this.az.release({na:v.yi.na,je:v.je});};c.prototype.ZA=function(v,y,x){return this.wEb.create().then(function(z){return z.createSession(v,y,x).then(function(){return z;});});};c.prototype.R_b=function(v){var y;y=this;return this.az.release({na:v.na,je:v.je}).catch(function(x){y.log.error("Unable to send release data to the server",x);});};c.prototype.S_b=function(){var v;v=this;this.yc.nk(this.config.aua,function(){v.log.trace("Removing cached sessions",{"count:":v.oK.A4.length});v.oK.A4.filter(function(y){return !y.active;}).reduce(function(y,x){return y.then(function(){return v.R_b(x);}).then(function(){return v.oK.RW(x);});},Promise.resolve(void 0));});};c.prototype.qwb=function(v){var y;if(v.hy() && v.yi){y=new p.OZ();y.je=v.je;y.na=v.yi.na;y.P=v.yi.P;this.oK.eSa(y);}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.Th)),r.__param(2,(0,l.l)(d.CDa)),r.__param(3,(0,l.l)(h.pq)),r.__param(4,(0,l.l)(u.Yb)),r.__param(5,(0,l.l)(q.gEa)),r.__param(6,(0,l.l)(m.eca)),r.__param(7,(0,l.l)(t.VP)),r.__param(8,(0,l.l)(g.aQ))],a);b.DDa=a;},97485:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.g$a=void 0;c=a(36129);l=a(70999);f=a(47737);k=a(49594);b.g$a=function(g){k.SK.parent=g.lb;return function(){d || (d=new Promise(function(n,h){try{n(k.SK.get(f.EDa));}catch(m){h(new l.Gg(c.V.Kkb,c.S.Ukb,void 0,"Unable to extract the DRM services from the dependency injector",m));}}));return d;};};},90581:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.Yg=t;this.Oi=w;this.jc=v;this.config=y;this.di=x;this.ph=z;}Object.defineProperty(b,"__esModule",{value:!0});b.FDa=void 0;r=a(5163);l=a(22674);f=a(6405);k=a(2248);d=a(84408);g=a(4203);n=a(7605);h=a(53921);m=a(23563);p=a(65315);q=a(20674);u=a(8265);c.prototype.create=function(t){switch(t){case h.zk.Xy:return new q.cEa(this.Oi,this.jc);case h.zk.vB:return new u.XMa(this.Oi,this.jc,this.Yg,this.ph);default:return new p.sCa(this.Oi,this.jc,this.di,this.config);}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.yq)),r.__param(1,(0,l.l)(f.Fw)),r.__param(2,(0,l.l)(k.Zg)),r.__param(3,(0,l.l)(g.Yb)),r.__param(4,(0,l.l)(m.pq)),r.__param(5,(0,l.l)(n.ax))],a);b.FDa=a;},17250:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.ae=t;this.Yg=w;this.jc=v;this.is=y;this.LV=x;this.di=z;}Object.defineProperty(b,"__esModule",{value:!0});b.dEa=void 0;r=a(5163);l=a(22674);f=a(2248);k=a(42207);d=a(63368);g=a(84408);n=a(74870);h=a(53921);m=a(23563);p=a(81471);q=a(963);u=a(90349);c.prototype.create=function(t){switch(t){case h.zk.Xy:return new q.YLa(this.LV,this.is,this.jc,this.ae,this.di,this.Yg);case h.zk.vB:return new p.BEa(this.LV,this.is,this.jc,this.ae,this.di,this.Yg);default:return new u.Gu(this.LV,this.is,this.jc,this.ae,this.di,this.Yg);}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(n.bh)),r.__param(1,(0,l.l)(g.yq)),r.__param(2,(0,l.l)(f.Zg)),r.__param(3,(0,l.l)(k.Qf)),r.__param(4,(0,l.l)(d.cJ)),r.__param(5,(0,l.l)(m.pq))],a);b.dEa=a;},18135:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){h=f.Pe.call(this,h,void 0 === p?"EmeConfigImpl":p) || this;h.od=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.eEa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(5021);g=a(12501);a=a(22816);fa(c,f.Pe);Xa.Object.defineProperties(c.prototype,{X8a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Y2a:{configurable:!0,enumerable:!0,get:function(){return this.od.x3a || this.od.X6 || this.od.RU?!0:!1;}},ZB:{configurable:!0,enumerable:!0,get:function(){return (0,d.sh)(5);}},aua:{configurable:!0,enumerable:!0,get:function(){return (0,d.sh)(10);}},$S:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},zT:{configurable:!0,enumerable:!0,get:function(){return !1;}},qla:{configurable:!0,enumerable:!0,get:function(){return !1;}},Er:{configurable:!0,enumerable:!0,get:function(){return !0;}},MSa:{configurable:!0,enumerable:!0,get:function(){return (0,d.sh)(30);}},NSa:{configurable:!0,enumerable:!0,get:function(){return (0,d.sh)(30);}},PSa:{configurable:!0,enumerable:!0,get:function(){return (0,d.sh)(30);}},D2:{configurable:!0,enumerable:!0,get:function(){return (0,d.sh)(30);}},QSa:{configurable:!0,enumerable:!0,get:function(){return (0,d.sh)(30);}},Kwa:{configurable:!0,enumerable:!0,get:function(){return "";}},p8a:{configurable:!0,enumerable:!0,get:function(){return this.od.yy?!1:!0;}},q8a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});n=c;r.__decorate([g.config(g.ed,"persistentStateRequired")],n.prototype,"X8a",null);r.__decorate([g.config(g.ed,"initializeKeySystemAtStartup")],n.prototype,"Y2a",null);r.__decorate([g.config(g.ik,"licenseRenewalRequestDelay")],n.prototype,"ZB",null);r.__decorate([g.config(g.ik,"persistedReleaseDelay")],n.prototype,"aua",null);r.__decorate([g.config(g.string,"drmPersistKey")],n.prototype,"$S",null);r.__decorate([g.config(g.ed,"forceLimitedDurationLicense")],n.prototype,"zT",null);r.__decorate([g.config(g.ed,"disableLicenseRenewal")],n.prototype,"qla",null);r.__decorate([g.config(g.ed,"prepareCadmium")],n.prototype,"Er",null);r.__decorate([g.config(g.ik,"apiCloseTimeout")],n.prototype,"MSa",null);r.__decorate([g.config(g.ik,"apiCreateMediaKeysTimeout")],n.prototype,"NSa",null);r.__decorate([g.config(g.ik,"apiSetServerCertificateTimeout")],n.prototype,"PSa",null);r.__decorate([g.config(g.ik,"apiGenerateRequestTimeout")],n.prototype,"D2",null);r.__decorate([g.config(g.ik,"apiUpdateTimeout")],n.prototype,"QSa",null);r.__decorate([g.config(g.string,"serverCertificate")],n.prototype,"Kwa",null);r.__decorate([g.config(g.ed,"outputRestrictedIsFatal")],n.prototype,"p8a",null);r.__decorate([g.config(g.ed,"outputRestrictedIsFatalForUhd")],n.prototype,"q8a",null);n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.sl)),r.__param(1,(0,l.l)(a.nD)),r.__param(2,(0,l.l)(k.uZ)),r.__param(2,(0,l.optional)())],n);b.eEa=n;},70999:function(r,b,a){var l,f;function c(k,d,g,n,h){k=void 0 === k?l.V.Ro:k;return f.Mc.call(this,k,d,g,void 0,void 0,n,f.Mc.we(h),h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Gg=void 0;l=a(36129);f=a(31149);fa(c,f.Mc);b.Gg=c;},74946:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t,w,v){this.Sl=p;this.Ea=q;this.jc=u;this.config=t;this.vo=w;this.lo=v;}Object.defineProperty(b,"__esModule",{value:!0});b.fEa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(81918);d=a(2248);g=a(23563);n=a(59818);h=a(97737);a=a(21103);c.prototype.create=function(){var p;p=this;return this.lo.yB().then(function(q){return new h.hEa(p.Sl,p.Ea,p.jc,p.config,p.vo,q);});};m=c;m=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.Lc)),r.__param(2,(0,l.l)(d.Zg)),r.__param(3,(0,l.l)(g.pq)),r.__param(4,(0,l.l)(n.bA)),r.__param(5,(0,l.l)(a.Uw))],m);b.fEa=m;},97737:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v;function c(y,x,z,A,B,C){var D;D=this;this.Ea=x;this.PA=z;this.config=A;this.vo=B;this.lC=C;this.keyStatuses=new p.Hb({});this.cta=function(F){var G,E,I,M,L,K;try{E=D.il.yka(F);I=E.KG;M=E.messageType;L=E.sessionId;D.Hv=D.Hv || E.Hv;D.vX(L);D.log.trace("Received " + F.type + " event",{sessionId:L,messageType:M,keyIds:D.Hv});if(M === b.Gda){if(D.config.qla){D.log.trace("Disabling license renewal");return;}D.log.trace("Received a renewal request");D.gf=k.xh.om;D.qo=t.tH;}D.qo === t.Qg && D.jp(d.cs.L$a);D.qo === t.tH && D.jp(d.cs.M$a);K={uj:I,AUa:M,gf:D.gf};null === (G=D.X7a) || void 0 === G?void 0:G.call(D,K);D.Uoa(I)?D.WB(new m.Mc(f.V.TDa)):D.dk && !D.dk.xgb && D.d4a(K);}catch(O){D.WB(O);}};this.ata=function(F){var G,E,I,M,L,H,J,N,R,T,ka,sa,Aa,La,Ya,ab,aa;E=F.target;I=E.keyStatuses;D.vX(E.sessionId);D.log.trace("Received event: " + F.type);try{L=null === (G=D.context) || void 0 === G?void 0:G.n7;F=[];for(var K=la(I),O=K.next();!O.done;O=K.next()){H=la(O.value);J=H.next().value;N=H.next().value;R=D.PA.encode(new Uint8Array(J));F.push({eo:R,status:N,height:null === L || void 0 === L?void 0:L[R]});}F.sort(function(oa,Ga){return (oa.height || 0) - (Ga.height || 0);});T=F.map(function(oa){return oa.eo;});ka=F.map(function(oa){return oa.height;});sa=F.map(function(oa){return oa.status;});D.wqa=T + ", " + ka + ", " + sa;D.log.trace("KeyStatus: " + D.wqa);L={};for(var ia=la(I),wa=ia.next();!wa.done;wa=ia.next()){Aa=la(wa.value);La=Aa.next().value;Ya=Aa.next().value;ab=D.PA.encode(new Uint8Array(La));aa=w[Ya];L[ab]=aa.status;D.oG(ab,aa.error) && (M=new n.Gg(aa.error));}D.keyStatuses.set(L);}catch(oa){M=new n.Gg(f.V.Xmb);M.SS(oa);}M?D.mr?D.g7(M):D.TU(M):(D.il.D3() || D.e4a(),D.gf !== k.xh.wn || D.il.Jia() || (D.config.qla?D.log.trace("Disabling license renewal"):D.i0b()));};this.dn=function(F){var G;G=D.il.Ux(F);D.log.error("Received event: " + F.type,G);D.WB(G);D.g7(G);D.dk || D.mr || D.TU(G);};this.vVb=function(F){D.log.error("MediaKeySession closed unexpectedly: " + F);D.TU(new m.Mc(f.V.Eca,v[F]));};this.WB=function(F){D.close().then(function(){var G;D.log.trace("Issuing a generate challenge error");null === (G=D.dk) || void 0 === G?void 0:G.mO.reject(F);D.dk=void 0;},function(G){var E;D.log.error("EmeSession closed with an error.",D.il.Ux(G));null === (E=D.dk) || void 0 === E?void 0:E.mO.reject(F);D.dk=void 0;});};this.d4a=function(F){var G;null === (G=D.dk) || void 0 === G?void 0:G.mO.resolve(F);D.dk=void 0;};this.g7=function(F){D.log.error("Failed to add license",F);D.close().then(function(){var G,E;D.log.trace("Issuing a license error");null === (G=D.dk) || void 0 === G?void 0:G.mO.reject(F);D.dk=void 0;null === (E=D.mr) || void 0 === E?void 0:E.reject(F);D.mr=void 0;},function(G){var E,I;D.log.error("EmeSession closed with an error.",D.il.Ux(G));D.qo === t.tH && D.jp(d.cs.qSa);null === (E=D.dk) || void 0 === E?void 0:E.mO.reject(F);D.dk=void 0;null === (I=D.mr) || void 0 === I?void 0:I.reject(F);D.mr=void 0;});};this.e4a=function(){D.mr && (D.log.info("Successfully added license"),D.qo === t.Qg?D.jp(d.cs.jSa):D.qo === t.tH && D.jp(d.cs.pSa),D.mr.resolve(),D.mr=void 0);};this.TU=function(F){D.close().then(function(){var G;D.log.trace("Issuing a CDM error");D.dk=void 0;D.mr=void 0;null === (G=D.U7a) || void 0 === G?void 0:G.call(D,F);},function(G){var E;D.log.error("EmeSession closed with an error.",D.il.Ux(G));D.dk=void 0;D.mr=void 0;null === (E=D.U7a) || void 0 === E?void 0:E.call(D,F);});};this.jp=function(F){D.Xc.push({time:D.Ea.Jb(),FV:F});};this.mab=!1;this.log=y.$a("EmeSession");this.qo=t.t7b;this.fh=C.gWa();this.il=C.fWa();this.Xc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.hEa=b.Gda=b.Hda=void 0;l=a(5021);f=a(36129);k=a(24735);d=a(28289);r=a(28048);g=a(27995);n=a(70999);h=a(59818);m=a(31149);p=a(81734);q=a(94293);u=a(82100);(function(y){y[y.t7b=0]="unknown";y[y.create=1]="create";y[y.load=2]="load";y[y.Qg=3]="license";y[y.tH=4]="renewal";y[y.stop=5]="stop";y[y.closed=6]="closed";})(t || (t={}));b.Hda="license-request";b.Gda="license-renewal";w={usable:{status:r.yu.Jfb},expired:{status:r.yu.Uq,error:f.V.gea},released:{status:r.yu.released},"output-not-allowed":{status:r.yu.o8a,error:f.V.KJa},"output-restricted":{status:r.yu.o8a,error:f.V.hea},"output-downscaled":{status:r.yu.uWb},"status-pending":{status:r.yu.M4b},"internal-error":{status:r.yu.HOb,error:f.V.Wmb}};v={"internal-error":f.S.Ojb,"closed-by-application":f.S.Kjb,"release-acknowledged":f.S.Sjb,"hardware-context-reset":f.S.Cca,"resource-evicted":f.S.Ujb};c.prototype.CL=function(){return this.lC.p7;};c.prototype.n0a=function(){return this.wqa;};c.prototype.hy=function(){return this.sessionId;};c.prototype.close=function(){var y;y=this;this.X7a=this.context=void 0;this.qo=t.closed;this.Xc=[];void 0 !== this.d$ && (ob.clearTimeout(this.d$),this.d$=void 0);return this.fh.HPb()?(this.log.trace("Closing the session"),this.fh.eab(this.cta),this.fh.bab(this.ata),this.fh.$$a(this.dn),this.mediaKeys=void 0,this.vo.cq(this.config.MSa,this.fh.close()).then(function(){y.log.info("Closed the session");}).catch(function(x){y.log.error("Close failed",x);y.il.Ux(x).code=f.V.Zmb;throw x;})):Promise.resolve(void 0);};c.prototype.nt=function(){return this.lC.nt();};c.prototype.R1a=function(){return void 0 !== this.Sk;};c.prototype.createSession=function(y,x,z){var A;A=this;this.context=z;this.gf=x;this.qo=t.create;this.jp(d.cs.R4a);return (y.S1a()?Promise.resolve():this.vo.cq(this.config.NSa,this.fh.createMediaKeys(this.lC)).then(function(B){A.log.trace("Created media keys");return A.eub(B).then(function(){return y.kSa(B);}).catch(function(C){return Promise.reject(A.Jua(C,f.V.Vjb));});})).then(function(){A.mediaKeys=y.mediaKeys;try{A.fh.createSession(A.mediaKeys,u.TEMPORARY);A.fh.lSa(A.cta);A.fh.hSa(A.ata);A.fh.fSa(A.dn);A.fh.Osb(A.vVb);A.vX(A.fh.hy());}catch(B){return Promise.reject(A.Jua(B,f.V.Ljb));}}).catch(function(B){return Promise.reject(A.Jua(B,f.V.sP));});};c.prototype.U2b=function(y){this.yi=y;this.log.cSa("xid",y.na);};c.prototype.pIb=function(y,x){return this.generateRequest(y,x,!1).then(function(z){return z;});};c.prototype.qIb=function(y,x){return this.generateRequest(y,x,!0).then(function(){});};c.prototype.iSa=function(y){this.je=y.je;y=y.Sk.map(function(x){return x.data;});this.Uoa(y)?(this.log.error("The license buffer is empty"),this.WB(new n.Gg(f.V.SDa,f.S.QDa))):(this.qo === t.Qg && (this.jp(d.cs.K$a),this.Sk=y,this.RXa=this.il.AL(this.Hv,y),this.dk && this.dk.xgb && this.d4a()),this.qo === t.tH && (this.jp(d.cs.N$a),this.Sk=y,this.RXa=this.il.AL(this.Hv,y),this.ria()));};c.prototype.Ysb=function(y){this.qo === t.tH?(this.jp(d.cs.O$a),this.TU(y)):this.WB(y);};c.prototype.ria=function(){var y,x;y=this;if(!this.Sk){x=new n.Gg(f.V.SDa,f.S.VDa);this.g7(x);return Promise.reject(x);}this.mr=new q.w0();x=this.Sk;this.Sk=void 0;this.vo.cq(this.config.QSa,this.fh.update(x,this.qo === t.Qg?g.XD.Request:g.XD.wMa,this.Hv)).then(function(){y.il.D3() && y.e4a();}).catch(function(z){z=y.il.Ux(z);z.code=f.V.p0;z.message="Unable to update the EME";y.log.error(z.message,z);y.g7(z);});return this.mr.promise;};c.prototype.O2b=function(y){this.X7a=y;};c.prototype.G2b=function(y){this.U7a=y;};c.prototype.AL=function(){return this.RXa;};c.prototype.generateRequest=function(y,x,z){var A;A=this;this.qo=t.Qg;this.log.trace("Generating a license challenge");if(!y)return (y=new n.Gg(f.V.RDa,f.S.VDa),this.WB(y),Promise.reject(y));if(this.Uoa(y))return (y=new n.Gg(f.V.RDa,f.S.QDa),this.WB(y),Promise.reject(y));this.dk={mO:new q.w0(),xgb:z};this.vo.cq(this.config.D2,this.fh.generateRequest(this.il.Mna(),y,x)).then(function(){A.vX(A.fh.hy());}).catch(function(B){var C,D;C=new n.Gg(f.V.RZ,B instanceof h.wq?f.S.tP:f.S.kl);try{D=A.il.Ux(B);C.Vc=D.Vc;C.message="Unable to generate request.";C.SS(B);}catch(F){}A.log.error("Unable to generate a license request",C);A.WB(C);});return this.dk.mO.promise;};c.prototype.eub=function(y){return this.vo.cq(this.config.PSa,this.fh.setServerCertificate(y,this.il.z5()));};c.prototype.vX=function(y){y && y !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + y),this.sessionId=y,this.log.cSa("sessionId",y));};c.prototype.i0b=function(){var y;y=this;this.mab || (this.mab=!0,this.log.info("Kicking off license renewal",{timeout:this.config.ZB}),this.d$=ob.setTimeout(function(){y.d$=void 0;y.sH();},this.config.ZB.da(l.pa)));};c.prototype.PPb=function(y){var x,z,A;return 1080 < (null !== (A=null === (z=null === (x=this.context) || void 0 === x?void 0:x.n7) || void 0 === z?void 0:z[y]) && void 0 !== A?A:0);};c.prototype.oG=function(y,x){return x === f.V.hea?this.PPb(y)?this.config.q8a:this.config.p8a:!!x;};c.prototype.sH=function(){this.log.trace("Initiating a renewal request");this.gf=k.xh.om;this.qo=t.tH;this.il.wja()?this.il.Mpa(this.fh):this.T3();};c.prototype.T3=function(){var y;y=this;this.fh.T3(this.mediaKeys,u.TEMPORARY,this.cta,this.ata,this.dn).then(function(){y.log.debug("Creating session to renew license");y.vX(y.fh.hy());}).catch(function(){y.TU(new n.Gg(f.V.RZ));});};c.prototype.Uoa=function(y){return 0 === y.length || y.reduce(function(x,z){return x || 0 === z.length;},!1);};c.prototype.Jua=function(y,x){var z,A;if((null === y || void 0 === y?0:y.code) && (null === y || void 0 === y?0:y.ec))return y;A=(0,u.doa)(null === y || void 0 === y?void 0:y.message);return new n.Gg(x,y instanceof h.wq?f.S.tP:f.S.kl,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === y || void 0 === y?void 0:y.message,y);};b.hEa=c;},84218:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hPa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.CEa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.ZKa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},48691:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t){this.Sl=p;this.config=q;this.bT=u;this.XB=t;this.log=this.Sl.$a("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;r=a(5163);l=a(22674);f=a(66523);k=a(87386);d=a(4203);g=a(17612);n=a(82100);h=a(41980);a=a(18647);c.prototype.get=function(){var p,q,u;p=this;try{q=(this.config().s4a || [this.config().Rl]).map(function(t){var w;w=g.eb.OT(t);w=p.bT.create(w).ooa();return (0 < w.length?w:[void 0]).map(function(v){return {keySystem:t,robustness:v};});});u=(0,f.flatten)(q).filter(function(t){return p.OGb(t);});return this.XB.get().then(function(t){return p.RGb(u,t);});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};c.prototype.OGb=function(p){var q;return g.eb.QFa.includes(p.keySystem) || n.RFa.includes(null !== (q=p.robustness) && void 0 !== q?q:"")?this.config().nTb && 1440 > ob.screen.height * ob.devicePixelRatio?!1:this.config().oYa:!0;};c.prototype.RGb=function(p,q){var u;u=this;return p.reduce(function(t,w,v){var y;y=u.SMb(w);v=p.length - 1 === v;y=(0,n.EVa)(y);q.includes(y) && !v || t.push(w);return t;},[]);};c.prototype.SMb=function(p){var q;q={keySystem:p.keySystem === g.eb.gPa?g.eb.CQ:p.keySystem};p.robustness && (q.robustness=p.robustness);return q;};m=c;m=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(d.Yb)),r.__param(2,(0,l.l)(h.Aca)),r.__param(3,(0,l.l)(a.mda))],m);b.OGa=m;},61738:function(r,b,a){var l,f,k,d;function c(g,n,h){this.config=g;this.Sl=n;this.oja=h;this.log=this.Sl.$a("KeySystemRestrictor");this.qRb=this.config().rYa?this.oja.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.QGa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(4203);a=a(33258);c.prototype.get=function(){var g;g=this;try{return this.config().rYa?this.qRb.then(function(n){return g.YGb(n);}):Promise.resolve([]);}catch(n){return (this.log.error("KeySystemRestrictor failed.",n),Promise.resolve([]));}};c.prototype.YGb=function(g){var n,m;this.Qab={};n=g.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(n));g=[];n=la(Object.entries(n));for(var h=n.next();!h.done;h=n.next()){m=la(h.value);h=m.next().value;m=m.next().value;this.jNb(m) && g.push(h);}g.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + g);return this.Z0b=g;};c.prototype.jNb=function(g){var n,h;n=this;h=g.reduce(function(m,p){n.config().SFb.includes(p.code) && (p=n.eBb(p),m[p] || (m[p]=0),m[p]++);return m;},{});this.Qab[g[0].keySystem]=h;return Object.values(h).some(function(m){return m >= n.config().TFb;});};c.prototype.eBb=function(g){return [g.code,g.ec,g.Vc].filter(Boolean).join(".");};Xa.Object.defineProperties(c.prototype,{t4a:{configurable:!0,enumerable:!0,get:function(){return this.Z0b;}},u4a:{configurable:!0,enumerable:!0,get:function(){return this.Qab;}}});d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Yb)),r.__param(1,(0,l.l)(f.ab)),r.__param(2,(0,l.l)(a.gca))],d);b.QGa=d;},38231:function(r,b,a){var l,f,k,d;function c(g,n){this.bT=g;this.dT=n;}Object.defineProperty(b,"__esModule",{value:!0});b.qIa=void 0;r=a(5163);l=a(22674);f=a(41980);k=a(34008);d=a(52428);c.prototype.create=function(g,n,h){return new d.sIa(g,this.bT,this.dT,n,h);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Aca)),r.__param(1,(0,l.l)(k.Hca))],a);b.qIa=a;},52428:function(r,b,a){var l,f;function c(k,d,g,n,h){this.keySystem=k;this.bT=d;this.dT=g;this.lC=n;this.Mm=h;}Object.defineProperty(b,"__esModule",{value:!0});b.sIa=void 0;l=a(17612);f=a(82100);c.prototype.createMediaKeys=function(){return this.lC.createMediaKeys();};c.prototype.getConfiguration=function(){return this.lC.getConfiguration();};c.prototype.nt=function(){return l.eb.OT(this.lC.keySystem);};c.prototype.gWa=function(){return this.dT.create(this.Mm);};c.prototype.fWa=function(){return this.bT.create(this.Mm);};Xa.Object.defineProperties(c.prototype,{p7:{configurable:!0,enumerable:!0,get:function(){var k,d;k=this.keySystem;d=(0,f.Q5)(this.lC);d && (k+="." + d);return k;}}});b.sIa=c;},9717:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,F){this.Sl=x;this.jc=z;this.config=A;this.di=B;this.KTb=C;this.dT=D;this.jQb=F;this.log=this.Sl.$a("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.tIa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(87386);d=a(70999);g=a(53921);n=a(2248);h=a(4203);m=a(17612);p=a(82100);q=a(84218);u=a(91490);t=a(34008);w=a(22266);v=a(23563);y=a(73796);c.prototype.yB=function(){this.promise || (this.promise=this.o1b());return this.promise;};c.prototype.vBb=function(x,z){var A;A="video/mp4;codecs=" + (z === p.fs && this.config().z6a?y.cd.f_:y.cd.wP);A={initDataTypes:[p.vu],videoCapabilities:[{contentType:A}],sessionTypes:[p.TEMPORARY]};x === g.zk.NY && this.di.X8a && (A.persistentState="required");x=A.videoCapabilities[0];z && (x.robustness=z);return [A];};c.prototype.oBb=function(x,z){var A;A=this;return new Promise(function(B,C){var D;D=m.eb.OT(x);A.dT.create(D).v0b(x,A.vBb(D,z)).then(function(F){A.log.trace("Created the media keys system access",{keySystem:x,supportedconfig:F.getConfiguration?JSON.stringify(F.getConfiguration()):void 0});F=A.KTb.create(x,F,D);A.p7=F.p7;B(F);}).catch(function(F){A.log.warn("Unable to create the media key system access object",{keySystem:x,error:F.message});C(new d.Gg(f.V.PDa,f.S.kl,void 0,"Unable to create media keys system access. " + F.message,F));});});};c.prototype.BJb=function(){var x;x=this.config().s4a || [this.config().Rl];if(1 < x.length)return (x=x.map(function(z){return m.eb.Cna(m.eb.OT(z));}),1 === new Set(x).size?Promise.resolve(x[0]):this.yB().then(function(z){return z.nt();}).then(function(z){return m.eb.Cna(z);}));x=m.eb.OT(x[0]);return Promise.resolve(m.eb.Cna(x));};c.prototype.nza=function(x){var z,A,B,C;z=this;A=x.nt();B=x.gWa();C=x.fWa();return x.createMediaKeys().then(function(D){B.createSession(D,p.TEMPORARY);return B.setServerCertificate(D,C.z5());}).then(function(){return B.generateRequest(p.vu,z.Lna(A),!1);}).then(function(){return B.close();}).then(function(){return x;}).catch(function(D){z.log.error("validateKeySystemAccess failed",D);return Promise.reject(D);});};c.prototype.Lna=function(x){switch(x){case g.zk.vB:x=q.CEa;break;case g.zk.Xy:x=q.ZKa;break;default:x=q.hPa;}return x.map(this.jc.decode);};c.prototype.o1b=function(){var x;x=this;try{return this.jQb.get().then(function(z){return z.map(function(A,B){return function(){var C,D;C=B === z.length - 1;D=x.config().nza && !C;return x.oBb(A.keySystem,A.robustness).then(function(F){return D?x.nza(F):Promise.resolve(F);});};});}).then(function(z){return x.p1b(z);});}catch(z){return Promise.reject(z);}};c.prototype.p1b=function(x){return x.reduce(function(z,A){return z.then(function(B){return Promise.resolve(B);}).catch(function(){return A();});},Promise.reject(Error("keySystem missing")));};Xa.Object.defineProperties(c.prototype,{r4a:{configurable:!0,enumerable:!0,get:function(){return this.p7;}}});a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(n.Zg)),r.__param(2,(0,l.l)(h.Yb)),r.__param(3,(0,l.l)(v.pq)),r.__param(4,(0,l.l)(u.rIa)),r.__param(5,(0,l.l)(t.Hca)),r.__param(6,(0,l.l)(w.PGa))],a);b.tIa=a;},66372:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.uIa=void 0;a.prototype.S1a=function(){return void 0 !== this.mediaKeys;};a.prototype.kSa=function(c){this.mediaKeys=c;};a.prototype.d0b=function(){this.S1a() && (this.mediaKeys=void 0);};b.uIa=a;},77699:function(r,b){function a(c,l,f){var k;k=this;this.jc=c;this.wh=l;this.Yg=f;this.hKb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=k.jc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.EEa={vu:1667591779,oib:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.AEa=void 0;a.prototype.Tyb=function(c,l){l=l?this.EEa.oib:this.EEa.vu;c=c.map(function(f){return {ghc:"",kQb:f,Cia:f,u4b:f,W8b:[1]};});return this.URb(l,c);};a.prototype.TRb=function(c){var l;l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,c);return this.ura("fpsi",[l]);};a.prototype.SRb=function(c,l,f,k){c=[this.ura("fkri",[c])];l.byteLength && c.push(this.nV("fkai",[l]));f.byteLength && c.push(this.nV("fkcx",[f]));k.length && c.push(this.nV("fkvl",[new Uint8Array(new Uint32Array(k).buffer)]));return this.nV("fpsk",c);};a.prototype.URb=function(c,l){var f,d;f=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.TRb(c)];for(var k in l){d=l[k];c.push(this.SRb(d.kQb,d.Cia,d.u4b,d.W8b));}l=this.nV("fpsd",c);k=new Uint8Array(4);new DataView(k.buffer).setUint32(0,l.byteLength);return this.ura("pssh",[f,k,l]);};a.prototype.ura=function(c,l){var f,k,d;f=0;for(d in l){f+=l[d].byteLength;}f=new Uint8Array(12 + f);k=new DataView(f.buffer);d=0;k.setUint32(d,f.byteLength);d+=4;f.set(this.Yg.decode(c),d);d+=4;k.setUint32(d,0);d+=4;for(var g in l){c=l[g];f.set(c,d);d+=c.byteLength;}return f;};a.prototype.nV=function(c,l){var f,k;f=0;for(k in l){f+=l[k].byteLength;}f=new Uint8Array(8 + f);k=0;new DataView(f.buffer).setUint32(k,f.byteLength);k+=4;f.set(this.Yg.decode(c),k);k+=4;for(var d in l){c=l[d];f.set(c,k);k+=c.byteLength;}return f;};b.AEa=a;},81471:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){t=f.Gu.call(this,t,w,v,y,x,z) || this;t.jc=v;t.wh=y;t.di=x;t.Yg=z;t.f2a=new k.AEa(t.jc,t.wh,t.Yg);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.BEa=void 0;r=a(5163);l=a(22674);f=a(90349);k=a(77699);d=a(63368);g=a(42207);n=a(2248);h=a(74870);m=a(23563);p=a(84408);q=a(27995);u=a(47450);fa(c,f.Gu);c.prototype.generateRequest=function(t,w,v){var y,x,z;y=this;try{x=w.map(function(A){return y.f2a.hKb(A);});this.O2a=x.map(function(A){return y.jc.encode(A);});z=this.f2a.Tyb(x,v);return f.Gu.prototype.generateRequest.call(this,t,[z],!1);}catch(A){return Promise.reject(A);}};c.prototype.update=function(t,w,v){var y,x,z,A,B;y=this;if(v)try{x=this.Yg.encode(t[0]);z=JSON.parse(x).RESPONSES.map(function(C){var D;D=u.N0.wdb(C.ID);return {keyID:w === q.XD.wMa?y.O2a[y.O2a.length - 1]:v[D],payload:C.PAYLOAD};});if(w === q.XD.Request){A=z.map(function(C){return C.keyID;});v.forEach(function(C){-1 === A.indexOf(C) && z.push({keyID:C,error:1});});}B=JSON.stringify(z);t=[this.Yg.decode(B)];}catch(C){return Promise.reject(C);}return f.Gu.prototype.update.call(this,t,w);};c.prototype.sH=function(){return f.Gu.prototype.update.call(this,[this.Yg.decode("renew")],q.XD.Request);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.cJ)),r.__param(1,(0,l.l)(g.Qf)),r.__param(2,(0,l.l)(n.Zg)),r.__param(3,(0,l.l)(h.bh)),r.__param(4,(0,l.l)(m.pq)),r.__param(5,(0,l.l)(p.yq))],a);b.BEa=a;},963:function(r,b,a){var l,f,k,d;function c(){return f.Gu.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.YLa=void 0;r=a(5163);l=a(22674);f=a(90349);k=a(70999);d=a(36129);fa(c,f.Gu);c.prototype.T3=function(g,n,h,m,p){this.eab(h);this.bab(m);this.$$a(p);this.sQa=this.re;this.re=g.createSession(n);this.lSa(h);this.hSa(m);this.fSa(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var n;function g(h){return h && h.sessionId?h.close():Promise.resolve();}n=this;this.$ja=void 0;return this.re?Promise.all([g(this.re),g(this.sQa)]).then(function(){}).finally(function(){n.re=void 0;n.sQa=void 0;}):Promise.reject(new k.Gg(d.V.ODa,d.S.LI,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,n,h){this.initDataType=g;this.initData=n;return f.Gu.prototype.generateRequest.call(this,g,n,h);};a=c;a=r.__decorate([(0,l.U)()],a);b.YLa=a;},90349:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.LV=t;this.is=w;this.jc=v;this.wh=y;this.di=x;this.Yg=z;(0,k.io)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Gu=void 0;r=a(5163);f=a(22674);k=a(66523);d=a(36129);g=a(63368);n=a(42207);h=a(70999);m=a(74870);p=a(2248);q=a(23563);a=a(84408);c.prototype.hy=function(){if(this.re)return this.re.sessionId;};c.prototype.v0b=function(t,w){return this.LV.requestMediaKeySystemAccess(t,w);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,w){this.re=t.createSession(w);};c.prototype.T3=function(){return Promise.reject(new h.Gg(d.V.RZ));};c.prototype.HPb=function(){return !!this.re;};c.prototype.setServerCertificate=function(t,w){return this.is.j2(t.setServerCertificate) && w?t.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(t,w){return this.re?this.re.generateRequest(t,w[0]):Promise.reject(new h.Gg(d.V.RZ,d.S.LI,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.re?this.re.update(t[0]):Promise.reject(new h.Gg(d.V.WDa,d.S.LI,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.re?this.re.load(t):Promise.reject(new h.Gg(d.V.Rjb,d.S.LI,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.$ja=void 0;if(!this.re)return Promise.reject(new h.Gg(d.V.ODa,d.S.LI,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.hy() && (t=this.re.close());this.re=void 0;return t;};c.prototype.remove=function(){return this.re?this.re.remove():Promise.reject(new h.Gg(d.V.Tjb,d.S.LI,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.sH=function(){return Promise.reject(new h.Gg(d.V.Dca,void 0,"Unable to renew a key session, not supported"));};c.prototype.lSa=function(t){if(!this.re)throw ReferenceError("Unable to add message handler, key session is not valid");this.re.addEventListener(l.$Da,t);};c.prototype.hSa=function(t){if(!this.re)throw ReferenceError("Unable to add key status handler, key session is not valid");this.re.addEventListener(l.ZDa,t);};c.prototype.fSa=function(t){if(!this.re)throw ReferenceError("Unable to add error handler, key session is not valid");this.re.addEventListener(l.YDa,t);};c.prototype.Osb=function(t){var w;w=this;if(!this.re)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.$ja=t;this.re.closed.then(function(v){var y;return null === (y=w.$ja) || void 0 === y?void 0:y.call(w,v);});};c.prototype.eab=function(t){if(!this.re)throw ReferenceError("Unable to remove message handler, key session is not valid");this.re.removeEventListener(l.$Da,t);};c.prototype.bab=function(t){if(!this.re)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.re.removeEventListener(l.ZDa,t);};c.prototype.$$a=function(t){if(!this.re)throw ReferenceError("Unable to remove error handler, key session is not valid");this.re.removeEventListener(l.YDa,t);};u=l=c;u.$Da="message";u.ZDa="keystatuseschange";u.YDa="error";u=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.cJ)),r.__param(1,(0,f.l)(n.Qf)),r.__param(2,(0,f.l)(p.Zg)),r.__param(3,(0,f.l)(m.bh)),r.__param(4,(0,f.l)(q.pq)),r.__param(5,(0,f.l)(a.yq))],u);b.Gu=u;},65315:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u,t,w,v){this.Oi=u;this.jc=t;this.di=w;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.sCa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(6405);d=a(2248);g=a(70999);n=a(59818);h=a(23563);m=a(4203);p=a(31149);q=a(82100);c.prototype.D3=function(){return !1;};c.prototype.Jia=function(){return !0;};c.prototype.wja=function(){return !0;};c.prototype.Mna=function(){return q.vu;};c.prototype.z5=function(){return this.di.Kwa?this.jc.decode(this.di.Kwa):this.jc.decode(q.fPa);};c.prototype.ooa=function(){return [q.fs,q.M0,q.L0];};c.prototype.Mpa=function(){Promise.reject(new p.Mc(f.V.Dca));};c.prototype.yka=function(u){var t;return {type:u.type,sessionId:null === (t=u.target) || void 0 === t?void 0:t.sessionId,KG:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.Ux=function(u){var t,w,v;t=new g.Gg(f.V.tq);w=null === u || void 0 === u?void 0:u.code;null != w && void 0 !== w?(w=parseInt(w,10),t.ec=1 <= w && 9 >= w?f.S.ds + w:f.S.ds):t.ec=u instanceof n.wq?f.S.tP:f.S.kl;try{v=u.message.match(/\((\d*)\)/)[1];t.Vc=this.Oi.JF(v,4);}catch(y){}t.SS(u);return t;};c.prototype.AL=function(){};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Fw)),r.__param(1,(0,l.l)(d.Zg)),r.__param(2,(0,l.l)(h.pq)),r.__param(3,(0,l.l)(m.Yb))],a);b.sCa=a;},20674:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q){this.Oi=p;this.jc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.cEa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(6405);d=a(2248);g=a(70999);n=a(59818);h=a(31149);m=a(82100);c.prototype.D3=function(){return !0;};c.prototype.Jia=function(){return !1;};c.prototype.wja=function(){return !1;};c.prototype.Mna=function(){return m.vu;};c.prototype.z5=function(){};c.prototype.ooa=function(){return [];};c.prototype.Mpa=function(){Promise.reject(new h.Mc(f.V.Dca));};c.prototype.yka=function(p){var q;q=new Uint8Array(p.message);q=this.tma(q,"PlayReadyKeyMessage","Challenge");q=this.jc.decode(q);return {type:p.type,sessionId:p.target.sessionId,KG:[q],messageType:p.messageType};};c.prototype.Ux=function(p){var q,u,t;q=new g.Gg(f.V.tq);u=p.code;null != u && void 0 !== u?(u=parseInt(u,10),q.ec=1 <= u && 9 >= u?f.S.ds + u:f.S.ds):q.ec=p instanceof n.wq?f.S.tP:f.S.kl;try{t=(/\((\d+)\)/).exec(p.message);q.Vc=this.Oi.JF(Number(t && t[1]),4);}catch(w){}q.SS(p);return q;};c.prototype.tma=function(p,q){var t,w,v;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";w=p.length;for(t=0;t < w;t++){v=p[t];0 < v && (u+=String.fromCharCode(v));}w="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){v=arguments[t];if(0 > u.search(v))return "";v="(?:[^:].*:|)" + v;w="[\\s\\S]*<" + v + "[^>]*>" + w + "</" + v + ">[\\s\\S]*";}return (u=u.match(new RegExp(w)))?u[1]:"";};c.prototype.AL=function(){};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Fw)),r.__param(1,(0,l.l)(d.Zg))],a);b.cEa=a;},47450:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.N0=void 0;a.eOb=function(c){return "ID" + (c + 1);};a.wdb=function(c){return Number(c.substr(2)) - 1;};b.N0=a;},8265:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t;function c(w,v,y,x){this.Oi=w;this.jc=v;this.Yg=y;this.ph=x;}Object.defineProperty(b,"__esModule",{value:!0});b.XMa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(6405);d=a(84408);g=a(70999);n=a(59818);h=a(2248);m=a(82100);p=a(97737);q=a(31149);u=a(7605);t=a(47450);c.prototype.D3=function(){return !1;};c.prototype.Jia=function(){return !1;};c.prototype.wja=function(){return !0;};c.prototype.Mna=function(){return m.vu;};c.prototype.z5=function(){return this.jc.decode(m.VZ);};c.prototype.ooa=function(){return [];};c.prototype.Mpa=function(w){w.sH();};c.prototype.yka=function(w){var v,y;v=[];if(w.messageType === p.Hda || w.messageType === p.Gda){if(w.messageType === p.Hda){y=this.Yg.encode(new Uint8Array(w.message));v=JSON.parse(y);y=v.map(function(x){return x.keyID;});v=v.map(function(x){return x.payload;});}else v=[this.jc.encode(new Uint8Array(w.message))];if(0 === v.length || !v.every(function(x){return x && x.length;}))throw new q.Mc(f.V.TDa);v=this.x6b(v);v=this.Yg.decode(JSON.stringify(v));}else v=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,KG:[v],messageType:w.messageType,Hv:y};};c.prototype.Ux=function(w){var v,y,x,z;y=null === (v=w.target) || void 0 === v?void 0:v.error;if(y)(x=y.systemCode,z=y.code);v=new g.Gg(f.V.tq,w instanceof n.wq?f.S.tP:f.S.ds,x?this.Oi.JF(x,4):z,"",y);v.SS(w);return v;};c.prototype.x6b=function(w){w=w.map(function(v,y){return {ID:t.N0.eOb(y),PAYLOAD:v};});return {VERSION:this.ph.ov?3:1,CHALLENGES:w};};c.prototype.AL=function(w,v){var y,x;y=this;if(v && this.ph.ov)try{x=this.Yg.encode(v[0]);return JSON.parse(x).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=t.N0.wdb(z.ID);z=y.jc.decode(z.DHB).subarray(4,12);A=y.jc.decode(w[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new g.Gg(f.V.Vmb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Fw)),r.__param(1,(0,l.l)(h.Zg)),r.__param(2,(0,l.l)(d.yq)),r.__param(3,(0,l.l)(u.ax))],a);b.XMa=a;},63341:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.YZa=void 0;r=a(22674);c=a(62502);l=a(15031);f=a(76691);k=a(69936);d=a(33399);g=a(14318);n=a(75447);h=a(69484);b.YZa=new r.dd(function(m){m(h.KEa).to(c.JEa).ha();m(h.AMa).to(l.zMa).ha();m(h.yMa).to(f.xMa).ha();m(g.GEa).to(k.FEa).ha();m(n.OFa).to(d.NFa).ha();});},14318:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GEa="FtlDataParserSymbol";},69484:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AMa="ReportSyncSymbol";b.yMa="ReportApiErrorSyncSymbol";b.IEa="FtlProbeConfigSymbol";b.KEa="FtlProbeSymbol";},75447:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OFa="HttpRequesterSymbol";},69936:function(r,b,a){var l,f,k,d,g;function c(n,h){this.is=n;this.json=h;(0,f.io)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.FEa=void 0;r=a(5163);l=a(22674);f=a(66523);k=a(63368);d=a(5021);a=a(42207);c.prototype.parse=function(n){var m;n=this.json.parse(n);if(!this.is.Cha(n))throw Error("FtlProbe: param: not an object");if(n.next && !this.is.HR(n.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.HR(n.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(n.pulse_delays && !this.is.LA(n.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.HR(n.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.LA(n.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.ym(n.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.YR(n.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var h=0;h < n.urls.length;++h){m=n.urls[h];if(!this.is.Cha(m))throw Error("FtlProbe: param.urls[" + h + "]: not an object");if(!this.is.ip(m.name))throw Error("FtlProbe: param.urls[" + h + "].name: not a string");if(!this.is.ip(m.url))throw Error("FtlProbe: param.urls[" + h + "].url: not a string");}return {HZb:n.pulses,l$a:n.pulse_delays?n.pulse_delays.map(d.Ob):[],GZb:(0,d.Ob)(n.pulse_timeout),m4a:n.next?(0,d.Ob)(n.next):void 0,urls:n.urls,fra:n.logblob,context:n.ctx};};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Qf)),r.__param(1,(0,l.l)(k.BD))],g);b.FEa=g;},34731:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q){m=d.Pe.call(this,m,"FtlProbeConfigImpl") || this;m.fh=p;m.sa=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.HEa=void 0;r=a(5163);l=a(30869);f=a(22674);k=a(5021);d=a(64174);g=a(24747);n=a(12501);a=a(83767);fa(c,d.Pe);Xa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.hna + (-1 === this.hna.indexOf("?")?"?":"&") + "monotonic=" + this.sa.X6a + "&device=web";}},Ucb:{configurable:!0,enumerable:!0,get:function(){return k.Ha;}},$ma:{configurable:!0,enumerable:!0,get:function(){return "";}},hna:{configurable:!0,enumerable:!0,get:function(){return this.fh.endpoint + "/ftl/probe" + (this.$ma?"?force=" + this.$ma:"");}}});h=c;r.__decorate([n.config(n.ed,"ftlEnabled")],h.prototype,"enabled",null);r.__decorate([n.config(n.ik,"ftlStartDelay")],h.prototype,"Ucb",null);r.__decorate([n.config(n.string,"ftlEndpointForceParam")],h.prototype,"$ma",null);r.__decorate([n.config(n.url,"ftlEndpoint")],h.prototype,"hna",null);h=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(a.sl)),r.__param(1,(0,f.l)(g.cZ)),r.__param(2,(0,f.l)(l.ag))],h);b.HEa=h;},62502:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t,w,v,y){this.config=p;this.p2a=q;this.yc=u;this.hf=t;this.r0b=w;this.Bva=v;this.ZPb=0;this.la=y.$a("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.JEa=void 0;r=a(5163);f=a(22674);k=a(5021);d=a(53085);g=a(87386);n=a(14318);h=a(75447);a=a(69484);c.prototype.start=function(){this.config.enabled && !this.Jr && (this.Jr=this.yc.nk(this.config.Ucb,this.ON.bind(this)));};c.prototype.stop=function(){this.Jr && (this.Jr.cancel(),this.Jr=void 0);};c.prototype.ON=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.ZPb++;this.ZLb(q).then(function(u){return Promise.all(u.urls.map(function(t){return p.RMb(u,t.url,t.name);})).then(function(t){0 < t.length && p.r0b.UW({data:t,context:u.context,fra:u.fra});}).then(function(){return u;});}).then(function(u){p.Jr && (u.m4a?p.Jr=p.yc.nk(u.m4a,p.ON.bind(p)):p.stop());}).catch(function(u){return p.la.error("FTL run failed",u);});};c.prototype.ZLb=function(p){var q;q=this;return this.p2a.get(p,!1).then(function(u){var t;if(200 != u.status || null == u.body)return (q.Bva.UW({url:p,status:u.status,bua:"FTL API request failed",Ul:u.Ul}),Promise.reject(Error("FTL API request failed: " + u.status)));t=q.hf.parse(u.body);return t instanceof Error?(q.Bva.UW({url:p,status:4,bua:"FTL Probe API JSON parsing error",Ul:u.Ul}),Promise.reject(t)):Promise.resolve(t);}).catch(function(u){u instanceof Error && (q.Bva.UW({url:p,status:0,bua:u.message}),q.la.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.RMb=function(p,q,u){var t;t=this;return new Promise(function(w,v){var G;for(var y,x,z,A,B,C=[],D={},F=0;F < p.HZb;(D={oba:D.oba,pba:D.pba},++F)){D.oba=F < p.l$a.length?p.l$a[F]:k.Ha;D.pba="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (F + 1);G=(function(E){return function(){return new Promise(function(I,M){t.yc.nk(E.oba,function(){l.aZb(t.p2a,E.pba,p.GZb).then(function(L){function K(O,H,J){O || (O=J.headers[H]);return O;}y=K(y,"via",L);x=K(x,"x-ftl-probe-data",L);z=K(z,"x-ftl-error",L);A=K(A,"x-ftl-probe-recv-ts",L);B=K(B,"latency-trace",L);L={status:L.status,Ul:L.Ul,Z8b:y || "",Sxb:x || "",mT:z || "",n2b:A || "",xQb:t.WWb(B)};I(L);}).catch(function(L){M(L);});});});};})(D);C.push(0 < F?C[F - 1].then(G):G());}Promise.all(C).then(function(E){w({url:q,name:u,data:E});}).catch(function(E){v(E);});});};c.prototype.WWb=function(p){var q;if(p){q={};p=la(p.split(";"));for(var u=p.next();!u.done;u=p.next()){if((u=u.value.trim().split("=")) && 2 == u.length)try{q[u[0].trim()]=Number.parseInt(u[1]);}catch(t){}}return q;}};c.aZb=function(p,q,u){return p.get(q,!1,u).then(function(t){return Object.assign({},t);});};m=l=c;m=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(a.IEa)),r.__param(1,(0,f.l)(h.OFa)),r.__param(2,(0,f.l)(d.Th)),r.__param(3,(0,f.l)(n.GEa)),r.__param(4,(0,f.l)(a.AMa)),r.__param(5,(0,f.l)(a.yMa)),r.__param(6,(0,f.l)(g.ab))],m);b.JEa=m;},33399:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t){this.sa=q;this.N9b=u;this.performance=t;(0,f.io)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.NFa=void 0;r=a(5163);f=a(66523);k=a(64274);d=a(72574);g=a(63368);n=a(30869);h=a(22674);m=a(81438);p=a(5021);c.prototype.get=function(q,u,t){var w;w=this;return new Promise(function(v,y){var x,z,A;try{x=w.N9b.create();("withCredentials" in x) || y(Error("Missing CORS support"));x.open("GET",q,!0);u && (x.withCredentials=!0);t && (x.timeout=t.da(p.pa));z=w.sa.fe;A=void 0;x.onreadystatechange=function(){var B;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=w.sa.fe.qa(z);break;case XMLHttpRequest.DONE:B=w.sa.fe.qa(z);B={body:x.responseText,status:x.status,headers:l.Mta(x.getAllResponseHeaders()),Ul:w.Wna(q,(0,d.wa)(x.responseText.length),B,A)};v(B);}};x.send();}catch(B){y(B);}});};c.Mta=function(q){var u,w,v;u={};q=q.split("\r\n");for(var t=0;t < q.length;t++){w=q[t];v=w.indexOf(": ");0 < v && (u[w.substring(0,v).toLowerCase()]=w.substring(v + 2));}return u;};c.prototype.Wna=function(q,u,t,w){u={size:u,duration:t,mya:w};if(!this.performance || !this.performance.getEntriesByName)return u;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return u;q=t[t.length - 1];u=(0,k.rM)(u);q.decodedBodySize && (u.size=(0,d.wa)(q.decodedBodySize));0 < q.duration?u.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (u.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (u.FXa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),u.cya=(0,p.timestamp)(q.connectEnd - q.connectStart),u.mya=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?u.sya=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,u.sya=(0,p.timestamp)(t),u.cya=(0,p.timestamp)(q.connectEnd - q.connectStart - t)),0 < this.performance.timeOrigin && 0 < q.responseStart && (u.zab=(0,p.timestamp)(this.performance.timeOrigin + q.requestStart),u.Nab=(0,p.timestamp)(this.performance.timeOrigin + q.responseStart)));return u;};a=l=c;a=l=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(n.ag)),r.__param(1,(0,h.l)(m.nPa)),r.__param(2,(0,h.l)(g.sea)),r.__param(2,(0,h.optional)())],a);b.NFa=a;},76691:function(r,b,a){var l,f,k,d,g,n;function c(h,m){this.Gf=h;this.Wra=m;}Object.defineProperty(b,"__esModule",{value:!0});b.xMa=void 0;r=a(5163);f=a(22674);k=a(72574);d=a(5021);g=a(45118);a=a(31850);c.prototype.UW=function(h){h=this.Wra.Xs("ftlProbeError","info",l.I9b({url:h.url,sc:h.status,pf_err:h.bua},h));this.Gf.xc(h);};c.I9b=function(h,m){m.Ul && (m=m.Ul,l.Ln(h,"d",m.duration),l.Ln(h,"dns",m.FXa),l.Ln(h,"tcp",m.cya),l.Ln(h,"tls",m.sya),l.Ln(h,"ttfb",m.mya),l.Ln(h,"client_send_ts",m.zab),l.Ln(h,"client_recv_ts",m.Nab),h.sz=m.size.da(k.$r));return h;};c.Ln=function(h,m,p){p && (h[m]=p.da(d.pa));};n=l=c;n=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.ll)),r.__param(1,(0,f.l)(a.Rw))],n);b.xMa=n;},15031:function(r,b,a){var l,f,k,d,g,n;function c(h,m){this.Gf=h;this.Wra=m;}Object.defineProperty(b,"__esModule",{value:!0});b.zMa=void 0;r=a(5163);f=a(22674);k=a(72574);d=a(5021);g=a(45118);a=a(31850);c.prototype.UW=function(h){var m;m={ctx:h.context,data:h.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return l.J9b({d:q.Ul.duration.da(d.pa),sc:q.status,sz:q.Ul.size.da(k.$r),via:q.Z8b,cip:q.Sxb,err:q.mT,server_recv_ts:q.n2b},q);})};})};h=this.Wra.Xs(h.fra,"info",m);this.Gf.xc(h);};c.J9b=function(h,m){l.Ln(h,"dns",m.Ul.FXa);l.Ln(h,"tcp",m.Ul.cya);l.Ln(h,"tls",m.Ul.sya);l.Ln(h,"ttfb",m.Ul.mya);l.btb(h,m.xQb);l.Ln(h,"client_send_ts",m.Ul.zab);l.Ln(h,"client_recv_ts",m.Ul.Nab);return h;};c.btb=function(h,m){m && (h.rtts=m);};c.Ln=function(h,m,p){p && (h[m]=p.da(d.pa));};n=l=c;n=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.ll)),r.__param(1,(0,f.l)(a.Rw))],n);b.zMa=n;},43367:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Rk=void 0;r=a(22674);c=a(80012);l=a(26971);b.Rk=new r.dd(function(f){f(c.YGa).to(l.XGa);});},80012:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YGa="LicenseBrokerFactorySymbol";},20124:function(r,b,a){var l,f,k,d,g;function c(n,h){this.Fb=n;this.j=h;this.$U=[];}Object.defineProperty(b,"__esModule",{value:!0});b.dP=void 0;r=a(5163);l=a(36129);f=a(22674);k=a(32687);d=a(3887);g=a(31276);c.prototype.e5=function(n){this.$U.forEach(function(h){return h(n);});};c.prototype.pd=function(n,h,m){this.j.pd(n,h,m);};c.prototype.Xsb=function(n){-1 === this.$U.indexOf(n) && this.$U.push(n);};c.prototype.c0b=function(n){n=this.$U.indexOf(n);0 <= n && this.$U.splice(n,1);};c.prototype.z1a=function(n){var h,m;h={};(0,k.Wc)(n.code)?h.Aa=(0,l.sEa)(n.code):h.Aa=l.S.kl;try{m=n.message.match(/\((\d*)\)/)[1];h.Ee=(0,g.Tia)(m,4);}catch(p){}h.Nb=(0,d.we)(n);return h;};a=c;a=r.__decorate([(0,f.U)()],a);b.dP=a;},94951:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t;function c(w,v,y,x,z){x=p.dP.call(this,x,z) || this;x.config=w;x.di=v;x.bd=y;x.log=(0,f.Eh)(x.j,"LegacyLicenseBroker");x.Rl=x.config().Rl;x.config().c$a?(0,d.S3a)()?x.Uaa=!0:x.log.error("Promise based eme requested but platform does not support it",{browserua:g.MD}):x.Uaa=!1;return x;}Object.defineProperty(b,"__esModule",{value:!0});b.TGa=void 0;r=a(5163);l=a(36129);f=a(31276);k=a(95162);d=a(52569);g=a(22365);n=a(22674);h=a(99037);m=a(91581);p=a(20124);q=a(24735);u=a(5021);fa(c,p.dP);c.prototype.eWa=function(w){var v;v=void 0 === v?this.j:v;return new this.Cr.KI(w,function(y){return v.L3.UF(y);},function(y){return v.L3.release(y);},{ef:!1,fk:!1});};c.prototype.ZA=function(w){var v,y,x,z,A,B;v=this;w=void 0 === w?this.j:w;y=a(24066).Nn;this.Cr.KI || this.pd(l.V.UI,l.S.Mjb);x=(0,f.Eh)(w,"Eme");z=this.eWa(x);A=f.Ba.get(k.rQ);B=A.O3(w.uc.value.streams);A=A.U3(w.Fg.value.streams);return this.Cr.MI(x,function(C){return w.ke(C);},{ef:!1,fk:!1,sa:{getTime:y},rd:z,FW:!!this.Uaa,$:this.Fb.$,Ez:this.config().mYa,onerror:function(C,D,F){return v.pd(C,D,F);},Hsa:function(){},aH:!0,Qub:B,d9b:A,Kqa:this.di.D2.da(u.pa)});};c.prototype.setMediaKeys=function(w){var v;v=this;return this.Uaa?new Promise(function(y,x){if(v.Fb.$)v.Fb.$.setMediaKeys(w).then(function(){y();}).catch(function(z){var A;A=v.z1a(z);x({ia:!1,code:l.V.eJ,ec:A.Aa,Vc:A.Ee,Nb:A.Nb,message:"Set media keys is a failure",Xb:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.KYa=function(w){return {code:w.code,subCode:w.ec,extCode:w.Vc,edgeCode:w.Nm,message:w.message,errorDetails:w.Nb,errorData:w.sB,state:w.state};};c.prototype.Qwa=function(w,v,y){var z,A,B;function x(){A.sH().catch(function(C){z.log.error("Unable to set the license",z.KYa(C));C.Xb && C.Xb.Nb && (C.Nb=C.Nb?C.Nb + C.Xb.Nb:C.Xb.Nb);z.pd(C.code,C,C.Vc);});}z=this;y=void 0 === y?this.j:y;A=y.ee;this.log.info("Setting the license");B=v?function(){return Promise.resolve();}:function(){return A.Qg(z.O5(!1),w);};return (v?function(){return A.F2(z.Fb.$);}:function(){return A.create(z.Rl).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.e5(y.P);z.Fb.ygb.then(function(){z.config().ZB && (v || z.config().zT) && (z.nab=ob.setTimeout(x,z.config().ZB));});}).catch(function(C){z.log.error("Unable to set the license",z.KYa(C));C.Xb && C.Xb.Nb && (C.Nb=C.Nb?C.Nb + C.Xb.Nb:C.Xb.Nb);if(v)throw Error(C && C.message?C.message:"failed to set license");z.pd(C.code,C,C.Vc);});};c.prototype.ez=function(){return Promise.resolve();};c.prototype.b9=function(){var v;function w(){var y;v.j.ee=v.ZA();y=[];v.j.Tt.forEach(function(x){y.push((0,f.Iq)(x));});v.Qwa(y);}v=this;this.aV || (this.aV=!0,this.Cr.MI?this.j.Tt?this.config().gT && this.config().Er?this.bd.w_a(this.j.P).then(function(y){v.j.ee=y;return y.wza.then(function(){var x;x=[];v.j.Tt.forEach(function(z){x.push((0,f.Iq)(z));});return v.Qwa(x,!0).then(function(){var z;if(y.cfc)v.pd(l.V.Qjb);else {z=(0,f.Eh)(v.j,"Eme");y.xfb({log:z,en:function(A){return v.j.ke(A);}},{rd:v.eWa(z),onerror:function(A,B,C){return v.pd(A,B,C);}});v.j.ry(y.Xc || ({}));v.j.ZE="videopreparer";}});});}).catch(function(y){v.log.warn("eme not in cache",y);w();}):w():(this.log.error("Missing the PSSH on the video track, closing the player"),this.pd(l.V.Ymb)):this.pd(l.V.UI,l.S.Njb));};c.prototype.uab=function(w){var v;w=void 0 === w?this.j:w;w.ee=this.ZA();v=[];w.Tt.forEach(function(y){v.push((0,f.Iq)(y));});return this.Qwa(v,!1,w);};c.prototype.O5=function(w){return this.config().zT?q.xh.wn:w?q.xh.wn:q.xh.om;};Xa.Object.defineProperties(c.prototype,{Cr:{configurable:!0,enumerable:!0,get:function(){return f.Ba.get(m.t0);}},oC:{configurable:!0,enumerable:!0,get:function(){return this.Uaa?"encrypted":this.Fb.aEa + "needkey";}}});t=c;r.__decorate([h.A7],t.prototype,"Cr",null);r.__decorate([h.A7],t.prototype,"oC",null);t=r.__decorate([(0,n.U)()],t);b.TGa=t;},26971:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t,w){this.yF=p;this.di=q;this.config=u;this.yM=t;this.bd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.XGa=void 0;r=a(5163);l=a(22674);f=a(47737);k=a(128);d=a(94951);g=a(23563);n=a(4203);h=a(92395);a=a(66476);c.prototype.create=function(p,q,u){return p?new k.ZGa(this.config(),this.di,this.bd,q,u,this.yF,this.yM()):new d.TGa(this.config,this.di,this.bd,q,u);};m=c;m=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.PZ)),r.__param(1,(0,l.l)(g.pq)),r.__param(2,(0,l.l)(n.Yb)),r.__param(3,(0,l.l)(h.VP)),r.__param(4,(0,l.l)(a.YD))],m);b.XGa=m;},128:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z,A){y=h.dP.call(this,y,x) || this;y.config=t;y.di=w;y.bd=v;y.yF=z;y.b8=A;y.log=(0,f.Eh)(y.j,"LicenseBroker");y.aV=new Set();y.Sra=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.ZGa=void 0;r=a(5163);l=a(36129);f=a(31276);k=a(28289);d=a(5021);g=a(22674);n=a(99037);h=a(20124);m=a(24735);p=a(85001);q=a(82100);u=a(56039);fa(c,h.dP);c.prototype.b9=function(){var t,w;t=this;w=this.j.ba;this.aV.has(w.P) || (this.aV.add(w.P),this.dub(w).catch(function(){return t.vab(w);}).then(function(){return t.$Sa(w);}).catch(function(v){return t.ZSa(w,v);}).catch(function(v){return t.pd(v.code,v,v.Vc);}));};c.prototype.dub=function(t){var w;w=this;return Promise.all([this.bd.w_a(t.P),this.yF()]).then(function(v){var y,x;v=la(v);y=v.next().value;x=v.next().value;return y.M$.then(function(z){var A;A=w.b8.mediaKeys;if(A && A !== z.mediaKeys)return (w.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === y.source && (A=w.s0a(t),x.U6a(A,z));return z;}).then(function(z){return w.F2(z,t,y.source);});}).catch(function(v){w.log.warn("eme not in cache",v);throw v;});};c.prototype.F2=function(t,w,v){this.V9a(t,w);w.ZE=v;this.b8.kSa(t.mediaKeys);return t.ria();};c.prototype.MHb=function(t){var w;w={};t.forEach(function(v){w[(0,k.SXa)(v.FV)]=v.time.da(d.pa);});return w;};c.prototype.V9a=function(t,w){var v;v=this;w.ee=t;t.G2b(function(y){v.pd(y.code,y,y.Vc);});};c.prototype.$Sa=function(t){this.log.info("Successfully applied license for xid: " + t.na + ", viewable: " + t.P + ", segment: " + t.I);this.ry(t);this.Sra?this.e5(t.P):this.setMediaKeys(t);};c.prototype.ZSa=function(t,w){this.ry(t);throw w;};c.prototype.ry=function(t){t.ee && t.ry(this.MHb(t.ee.Xc));};c.prototype.s0a=function(t){var w,v;w=t.xw[0];v=w.streams[0].Cd;v=(0,q.Spa)(v);w=(0,u.Rna)(w.streams);return {type:this.O5(!1),initData:t.Tt.map(function(y){return (0,f.Iq)(y);}),T6:v,context:{$:this.Fb.$,n7:w},yi:{P:t.P,na:t.na,Ed:t.Ed,Nk:t.Nk,oi:t.X.oi,Zf:t.X.Fa.Zf}};};c.prototype.vab=function(t){var w;w=this;return this.yF().then(function(v){var y;y=w.s0a(t);w.aV.add(t.P);return v.Qg(y,w.b8).then(function(x){w.V9a(x,t);w.j.fireEvent(p.ga.cV,{P:t.P});return x.ria();});});};c.prototype.setMediaKeys=function(t){var w;w=this;if(this.Sra)this.log.trace("Media Keys already set");else try{this.Fb.$?(this.Sra=!0,this.Fb.$.setMediaKeys(t.ee.mediaKeys).then(function(){w.e5(t.P);}).catch(function(v){v=w.z1a(v);w.pd(l.V.eJ,v,v.Ee);})):this.e5(t.P);}catch(v){this.pd(l.V.eJ,v,void 0);}};c.prototype.ez=function(){var t,w;t=this;w=this.j.ba.ee;return w?this.yF().then(function(v){return v.release(w,t.b8).then(function(y){t.log.trace("Successfully released the license");return y.close();}).catch(function(y){t.log.error("Unable to release the license",y);});}):Promise.resolve();};c.prototype.uab=function(t){var w;w=this;t=void 0 === t?this.j:t;return this.vab(t).then(function(){return w.$Sa(t);}).catch(function(v){return w.ZSa(t,v);});};c.prototype.O5=function(t){return this.di.zT?m.xh.wn:t?m.xh.wn:m.xh.om;};Xa.Object.defineProperties(c.prototype,{oC:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Rl:{configurable:!0,enumerable:!0,get:function(){return this.config.Rl;}}});a=c;r.__decorate([n.A7],a.prototype,"oC",null);a=r.__decorate([(0,g.U)()],a);b.ZGa=a;},13847:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zAa="AppLogSinkSymbol";},21009:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E;Object.defineProperty(b,"__esModule",{value:!0});b.r5a=void 0;r=a(22674);c=a(97996);l=a(31966);f=a(79428);k=a(50723);d=a(33345);g=a(74621);n=a(4203);h=a(41320);m=a(69124);p=a(74031);q=a(53085);u=a(33554);t=a(13847);w=a(53234);v=a(33945);y=a(31850);x=a(81829);z=a(45118);A=a(98326);B=a(52025);C=a(30895);D=a(36792);F=a(74714);G=a(73449);E=a(26158);b.r5a=new r.dd(function(I){I(z.ll).to(f.rHa).ha();I(w.IIa).to(k.HIa).ha();I(v.GHa).to(d.FHa).ha();I(x.CHa).to(g.BHa).ha();I(z.tda).to(h.qHa).ha();I(y.Rw).to(m.yHa).ha();I(x.AHa).to(p.zHa).ha();I(A.NP).to(B.MP).ha();I(A.wda).to(F.DHa).ha();I(G.QP).to(E.PP).ha();I(C.wDa).to(D.vDa).ha();I(t.zAa).to(l.yAa).ha();I(z.sHa).jY(function(M){return function(){return M.lb.get(c.bQ)().then(function(L){return new Promise(function(K){var H,J,N;function O(){J() && N() && L.KV?K(M.lb.get(z.ll)):H.Mj(O);}H=M.lb.get(q.Th);J=M.lb.get(n.Yb);N=M.lb.get(u.Kw);H.Mj(O);});});};});});},30895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wDa="DownloadReportBuilderSymbol";},45118:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tda="LogBatcherConfigSymbol";b.ll="LogBatcherSymbol";b.sHa="LogBatcherProviderSymbol";},33945:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GHa="LogblobSenderSymbol";},31850:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rw="LogMessageFactorySymbol";},81829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AHa="LogMessageRulerConfigSymbol";b.CHa="LogMessageRulerSymbol";},98326:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NP="LogblobBuilderFactorySymbol";b.wda="LogblobBuilderCommonSymbol";},18169:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gc=void 0;r=b.Gc || (b.Gc={});r.Evb="bitraterestriction";r.xUa="cdnsel";r.Lx="chgstrm";r.debug="debug";r.QDb="dlreport";r.by="endplay";r.HU="intrplay";r.Oy="midplay";r.gN="playbackaborted";r.TW="renderstrmswitch";r.HC="repos";r.Yt="resumeplay";r.q2b="serversel";r.Pr="startplay";r.JX="statechanged";r.transition="transition";r.Bwa="segmentdropped";r.qub="asereport";r.mRb="livereport";r.lRb="livepipelinefailover";r.rTa="audioswitch";r.MTa="blockedautoplay";r.config="config";r.ngc="ftlProbeError";r.t5b="subtitleerror";r.u5b="subtitleqoe";r.t6b="timedtextrebuffer";r.peb="timedtextswitch";r.Rcb="speedchanged";},73449:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QP="LogblobMonitorFactorySymbol";},53234:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IIa="MessageQueueSymbol";},31966:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u){var t;t=this;this.HRb=m;this.Gy=p;this.config=u;this.mva=[];this.HRb.Z9(l.Xgb,this.HMb.bind(this));q().then(function(w){var v;v=u().zp.FHb;t.xSb=v?h.fj[v.toUpperCase()]:h.fj.Ak;t.Gf=w;t.g2b();});}Object.defineProperty(b,"__esModule",{value:!0});b.yAa=void 0;r=a(5163);f=a(22674);k=a(4203);d=a(36410);g=a(45118);n=a(31850);h=a(87386);c.prototype.HMb=function(m,p){this.Gf?this.n$a(m,p):this.mva.push([m,p]);};c.prototype.g2b=function(){var m,p;m=this;p=this.mva;this.mva=[];p.forEach(function(q){m.n$a(q[0],q[1]);});};c.prototype.n$a=function(m,p){var q;if(this.Gf && this.A3b(m)){q={debugMessage:m.message,debugCategory:m.Em};m.Ac.forEach(function(u){return q=Object.assign(Object.assign({},q),u.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});m=this.Gy.Xs("debug",h.fj[m.level].toLowerCase(),q,p);this.Gf.xc(m);}};c.prototype.A3b=function(m){var p;p=this.xSb;return void 0 !== p && m.level <= p && !m.Ac.find(function(q){return q.lT(h.qP);});};a=l=c;a.Xgb="adaptorAll";a=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(d.XI)),r.__param(1,(0,f.l)(n.Rw)),r.__param(2,(0,f.l)(g.sHa)),r.__param(3,(0,f.l)(k.Yb))],a);b.yAa=a;},36792:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.vDa=void 0;r=a(5163);l=a(82956);f=a(51344);k=a(3887);d=a(36129);g=a(45146);n=a(22365);h=a(22674);a=a(4203);c.prototype.construct=function(p,q){var u,t,w;u=this;t={};p.forEach(function(v){var y;y=v.url;t[y] || (t[y]=[]);t[y].push(v);});w=[];(0,k.Tf)(t,function(v,y){w.push(u.oMb(y,q));});return {urls:w};};c.prototype.oMb=function(p,q){var u,t,w,v,y;u=this;w=p[0];v={url:w.url,bitrate:w.bitrate,cdnid:null === (t=w.Dc) || void 0 === t?void 0:t.id,dltype:w.SDb,id:w.Vb};y={};p.forEach(function(x){var z;z=u.gPb(x)?"fail":"success";y[z] || (y[z]=[]);y[z].push(x);});(0,k.Tf)(y,function(x,z){"fail" === x?v.failures=u.JJb(z,q):"success" === x && (v.downloads=u.zJb(z,q));});return v;};c.prototype.zJb=function(p,q){var u,t,w;u=this;t={};p.forEach(function(v){var y;y=v.iyb;t[y] || (t[y]=[]);t[y].push(v);});w=[];(0,k.Tf)(t,function(v,y){var x;x=[];y.forEach(function(z){x.push(z);u.OOb(z) && (w.push(u.P_a(x,q,v)),x=[]);});0 < x.length && w.push(u.P_a(x,q,v));});return w;};c.prototype.P_a=function(p,q,u){var t,w,v,y,z;t=p.sort(function(A,B){return A.Tl.Zi < B.Tl.Zi?-1:A.Tl.Zi > B.Tl.Zi?1:0;});w=t[0].Tl;v=w.hz;y=w.Zi;w=w.fq;for(var x=1;x < p.length;x++){z=p[x].Tl;z.hz < v && (v=z.hz);z.Zi < y && (y=z.Zi);z.fq > w && (w=z.fq);}x=this.pLb(t);z=t[t.length - 1];return {time:v - q,tcpid:u?parseInt(u):-1,tresp:y - v,first:x,ranges:this.qLb(t,x),dur:w - y,trace:this.DB(p),status:this.JL(z),enctimeinfo:z.Qla};};c.prototype.pLb=function(p){var q;q=0;p.forEach(function(u){u.cw && (q=(0,n.Tw)(q,u.cw[0]));});return q;};c.prototype.qLb=function(p,q){var u;u=[];p.forEach(function(t){t.cw?u.push([t.cw[0] - q,t.cw[1] - q]):u.push([0,-1]);});return u;};c.prototype.DB=function(p){var q,u;q=[];p.forEach(function(t){var w;t=t.Tl;if(u){w=t.hz - u.fq;0 < w && q.push([w,-2]);w=(0,n.ks)(u.fq,t.hz);w=t.Zi - w;0 < w && q.push([w,-3]);}q.push([t.fq - t.Zi,t.J3 || 0]);u=t;});return q;};c.prototype.OOb=function(p){if(p.Aa === d.S.xD || p.Aa === d.S.yD)return !0;};c.prototype.JL=function(p){if(p.ia)return "complete";if(p.Aa === d.S.xD)return "abort";if(p.Aa === d.S.yD)return "stall";(0,g.oa)(!1,"download status should never be: other");return "other";};c.prototype.JJb=function(p,q){var u,t;u=this;t=[];p.forEach(function(w){var v;v=w.Tl;w={time:v.Zi - q,tresp:v.Zi - v.hz,dur:v.fq - v.Zi,range:w.cw,reason:u.sLb(w),httpcode:w.Hl,nwerr:(0,l.H0a)(w.Aa),enctimeinfo:w.Qla};t.push(w);});return t;};c.prototype.sLb=function(p){return p.Hl || p.Aa === d.S.CP?"http":p.Aa === d.S.EP?"timeout":"network";};c.prototype.gPb=function(p){return p.ia || void 0 === p.ia || p.Aa === d.S.xD || p.Aa === d.S.yD?!1:!0;};c.prototype.czb=function(p){var q,u,t,w,v,y;q=p.request;u=q.stream;t=q.track;w=q.url;v=this.wJb(t,w);switch(v){case f.Vj.audio:case f.Vj.video:y=q.stream.Vb;break;case f.Vj.oya:case f.Vj.Gya:y=t.Vb;}p={bitrate:u && u.bitrate,SDb:v,Vb:y,Tl:p.Tl,Dc:q.Dc,url:w,Ee:p.Ee,Hl:p.Hl,Aa:p.Aa,ia:p.ia,iyb:this.pGb(p),Qla:q.aL};void 0 !== q.offset && void 0 != q.length && (p.cw=[q.offset,q.offset + q.length - 1]);return p;};c.prototype.wJb=function(p,q){if(p)return p.type;if(0 <= q.indexOf("netflix.com")){if(0 <= q.indexOf("nccp"))return "nccp";if(0 <= q.indexOf("api"))return "api";}return "other";};c.prototype.pGb=function(p){if(p.headers && (p=p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(q){return 0 == q.indexOf("port=");}).map(function(q){return q.split("=")[1];})[0])?(0,k.Wi)(p):p;};m=c;m=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.Yb))],m);b.vDa=m;},41320:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p){m=n.Pe.call(this,m,"LogBatcherConfigImpl") || this;m.config=p;m.sSb=(0,l.wa)(5E5);m.e2b=(0,f.t8)(1);m.a6a=(0,l.wa)(1E6);return m;}Object.defineProperty(b,"__esModule",{value:!0});b.qHa=void 0;r=a(5163);l=a(72574);f=a(5021);k=a(22674);d=a(4203);g=a(12501);n=a(64174);a=a(83767);fa(c,n.Pe);Xa.Object.defineProperties(c.prototype,{Oha:{configurable:!0,enumerable:!0,get:function(){return this.config().Oha;}},ucb:{configurable:!0,enumerable:!0,get:function(){return [];}},tcb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});h=c;r.__decorate([g.config(g.object(),"shedLogblobTypes")],h.prototype,"ucb",null);r.__decorate([g.config(g.PE("string"),"shedDebugTypes")],h.prototype,"tcb",null);h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.sl)),r.__param(1,(0,k.l)(d.Yb))],h);b.qHa=h;},79428:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.config=t;this.json=w;this.yc=v;this.zRb=y;this.DV=z;this.Z6=this.NB=!1;this.listeners=[];(0,f.io)(this,"json");this.la=x.$a("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.rHa=void 0;r=a(5163);l=a(22674);f=a(66523);k=a(63368);d=a(33945);g=a(53085);n=a(87386);h=a(45118);m=a(53234);p=a(36129);q=a(15160);a(2762);u=a(18169);c.prototype.Cb=function(){this.NB=!0;};c.prototype.xc=function(t){var w;w=this;this.L3b(t) || (!1,0 < t.size.Jk(this.config.sSb)?this.la.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(v){return v.fTb(t);}),!1,this.DV.Uha(t),this.yc.Mj(function(){w.lHb();})));};c.prototype.flush=function(t){var w;w=this;t=void 0 === t?!1:t;return this.Z6?(this.la.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,y){w.la.trace("Flushing",n.qP);w.Ao();w.yc.Mj(function(){w.Fwa(t).then(function(){v();}).catch(function(x){y(x);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.Fwa=function(t){var w,v;w=this;t=void 0 === t?!1:t;if(!this.NB)return (this.la.trace("LogBatcher is not initialized"),Promise.resolve());if(this.Z6)return (this.la.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.DV.PIb();if(0 === v.length && !t)return (this.la.trace("No logblobs to send"),Promise.resolve());!1;this.Ao();this.listeners.forEach(function(){});t=Promise.resolve();for(var y={},x=la(v),z=x.next();!z.done;(y={nba:y.nba},z=x.next())){y.nba=z.value;t=t.then((function(A){return function(){return w.d2b(A.nba);};})(y));}return t.then(function(){return w.pB();}).catch(function(A){v.filter(function(B){return !B.xy;}).forEach(function(B){return B.Vq();});w.pB();throw Error("Send failure. " + A);});};c.prototype.d2b=function(t){var w;w=this;this.la.trace("Sending batch: " + t.size,n.qP);return Promise.resolve(this.DV.X_b(t)).then(function(){return w.zRb.send(t.KG);}).then(function(){return t.oO();}).catch(function(v){w.la.warn("Failed to send batch of logblobs.",v,n.qP);t.Vq();w.x3b(v) && w.DV.Msb(t);w.M3b(v) && (w.Z6=!0);throw v;});};c.prototype.x3b=function(t){return t.Vc === p.R_.WJa?!1:this.config.Oha;};c.prototype.M3b=function(t){return t.ec === p.S.MEa || t.ec === p.S.BP || t.ec === p.S.FP?!0:!1;};c.prototype.lHb=function(){var t;t=this;0 < this.DV.size.Jk(this.config.a6a)?this.Fwa().catch(function(w){return t.la.warn("Failed to send log messages on size threshold. " + w);}):this.pB();};c.prototype.Ao=function(){this.l7 && (!1,this.l7.cancel(),this.l7=void 0);};c.prototype.pB=function(){this.l7 || (!1,this.l7=this.yc.nk(this.config.e2b,this.TM.bind(this)));};c.prototype.TM=function(){var t;t=this;this.Z6=!1;this.Ao();this.Fwa().catch(function(w){return t.la.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(t){var w;w="";try{w=this.json.stringify(t.data,void 0,"  ");}catch(v){}return w;};c.prototype.L3b=function(t){return 0 <= this.config.ucb.indexOf(t.type)?!0:t.type === u.Gc.debug?0 <= this.config.tcb.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.tda)),r.__param(1,(0,l.l)(k.BD)),r.__param(2,(0,l.l)(g.Th)),r.__param(3,(0,l.l)(d.GHa)),r.__param(4,(0,l.l)(n.ab)),r.__param(5,(0,l.l)(m.IIa)),r.__param(6,(0,l.l)(q.KZ))],a);b.rHa=a;},69124:function(r,b,a){var f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z,A,B,C,D,F){this.platform=w;this.Jka=v;this.userAgentData=y;this.type=x;this.severity=z;this.timestamp=A;this.Ea=C;this.data=B;this.data.type=x;this.data.sev=z;this.data.devmod=this.platform.fB;this.data.clver=this.platform.version;t && t.od && (t.od.os && (this.data.osplatform=t.od.os.name,this.data.osver=y.platformVersion.VU?y.platformVersion.version:t.od.os.version),this.data.browsername=t.od.name,this.data.browserver=t.od.version);t.nqa && (this.data.tester=!0);t.cG && !this.data.groupname && (this.data.groupname=t.cG);t.qK && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.qK:t.qK);t.rY && (this.data.uigroupname=t.rY);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ea.tKb();this.data.uniqueLogId=D.d_a();this.data.appId=this.Ea.id;F && (t=this.Ea.Jb(),this.data.soffms=t.qa(F.Lh).da(g.pa),this.data.mid=this.data.mid || F.P,this.data.lvpi=F.q5a,this.data.uiLabel=F.zd,this.data.uxLabels=F.Vaa,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || F.na,F.KH && (x=F.KH,(F=F.KH.split(".")) && 1 < F.length && "S" !== F[0][0] && (x="SABTest" + F[0] + ".Cell" + F[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function l(t,w,v,y,x,z,A){this.sa=t;this.Jka=w;this.config=v;this.Ea=y;this.M8b=x;this.platform=z;this.userAgentData=A;}Object.defineProperty(b,"__esModule",{value:!0});b.yHa=void 0;r=a(5163);f=a(72574);k=a(22674);d=a(30869);g=a(5021);n=a(58098);h=a(34231);m=a(81918);p=a(96723);q=a(91581);a=a(75236);l.prototype.Xs=function(t,w,v,y){return new c(this.config,this.platform,this.Jka,this.userAgentData,t,w,this.sa.fe,v,this.Ea,this.M8b,y);};u=l;u=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.ag)),r.__param(1,(0,k.l)(n.OCa)),r.__param(2,(0,k.l)(h.vn)),r.__param(3,(0,k.l)(m.Lc)),r.__param(4,(0,k.l)(p.NOa)),r.__param(5,(0,k.l)(q.zn)),r.__param(6,(0,k.l)(a.a1))],u);b.yHa=u;Xa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.fUa || (this.fUa=(0,f.wa)(this.Jka.encode(this.data).length));return this.fUa;}}});},74031:function(r,b,a){var l,f,k;function c(d){this.Mk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.zHa=void 0;r=a(5163);l=a(22674);f=a(72574);a=a(33554);c.prototype.BRb=function(){var d;d=this.Mk()?this.Mk().ck.length:40;return (0,f.wa)(d + 33);};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Kw))],k);b.zHa=k;},74621:function(r,b,a){var l,f,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;r=a(5163);l=a(22674);f=a(81829);k=a(72574);c.prototype.measure=function(d){var g;g=this;return d.map(function(n){return n.size.add(g.config.BRb());}).reduce(function(n,h){return n.add(h);},(0,k.wa)(0));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.AHa))],a);b.BHa=a;},74714:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y){this.platform=t;this.config=w;this.Ea=v;this.userAgentData=y;this.XOa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.DHa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(36129);d=a(91581);g=a(5021);n=a(4203);h=a(3887);m=a(22365);p=a(82956);q=a(75236);u=a(60328);c.prototype.Ip=function(t,w,v){v && (t.adlid=v.Vb,t.abitrate=v.bitrate);w && (t.vdlid=w.Vb,t.vbitrate=w.bitrate);};c.prototype.F2a=function(t,w,v){v?t=Object.assign(t,(0,p.S0a)(this.platform.Rq,v)):t.errorcode=k.V.Ro;t.errorcode === this.platform.Rq + k.V.JJa && (t.lastSyncWithVideoElement=this.getTime() - w.XX);};c.prototype.K2a=function(t,w){var v;try{Object.assign(t,(0,p.poa)());v=w.getBoundingClientRect();t.rendersize=v.width + "x" + v.height;t.renderpos=v.left + "x" + v.top;}catch(y){}};c.prototype.J2a=function(t,w){var v,y,x;v=w.Dc[u.u.Y].value;y=w.Dc[u.u.fa].value;x=w.jf.value;w=w.Yd.value;v && (t.cdnid=v.id,t.cdnname=v.name);y && (t.acdnid=y.id,t.acdnname=y.name);if(null === x || void 0 === x?0:x.stream)(t.adlid=x.stream.Vb,t.abitrate=x.stream.bitrate);if(null === w || void 0 === w?0:w.stream)(t.vdlid=w.stream.Vb,t.vbitrate=w.stream.bitrate,t.vheight=w.stream.height,t.vwidth=w.stream.width);};c.prototype.H2a=function(t,w,v){0 <= w.mediaTime.value && (w=v && !w.bb.qg?w.KS:w.mediaTime.value,t.moff=(0,h.Jl)(w),t.moffms=(0,h.Vf)(w));};c.prototype.D2a=function(t,w){w.xf && (t.pbcid=w.xf);w.Ed && (t.playbackcontextid=w.Ed);};c.prototype.vpa=function(t){var w,v;t.browserua=m.MD;t.browseruad=null === (v=null === (w=m.Ae.userAgentData) || void 0 === w?void 0:w.brands) || void 0 === v?void 0:v.map(function(y){return [y.brand,y.version];});t.browseruadpv=this.userAgentData.platformVersion.VU?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;t.browserhref=location.href;(w=m.Ae && m.Ae.connection && m.Ae.connection.type) && (t.nettype=w);};c.prototype.UL=function(t){var w,v,y,x,z;if(this.config().gFb){z=null === (w=null === m.Ae || void 0 === m.Ae?void 0:m.Ae.connection) || void 0 === w?void 0:w.effectiveType;w=null === m.Ae || void 0 === m.Ae?void 0:m.Ae.deviceMemory;z && (t.effectiveType=z);w && (t.deviceMemory=w);}(z=null === (v=null === m.Ae || void 0 === m.Ae?void 0:m.Ae.connection) || void 0 === v?void 0:v.type) && (t.connectionType=z);v=null === (y=null === m.Ae || void 0 === m.Ae?void 0:m.Ae.connection) || void 0 === y?void 0:y.downlink;"number" === typeof v && isFinite(v) && (t.downlink=v);y=null === (x=null === m.Ae || void 0 === m.Ae?void 0:m.Ae.connection) || void 0 === x?void 0:x.rtt;"number" === typeof y && isFinite(y) && (t.rtt=y);};c.prototype.E6=function(t,w){if(w=w.bb.$l)(w.isUIAutoPlay && (t.isUIAutoPlay=!0),w.clLogId && (t.cl_log_id=w.clLogId));};c.prototype.VL=function(t,w,v,y){var x,z,A,B,C;x=this;if(v=v && v.streams){A=new Set();B=new Set();C=new Set();v.forEach(function(D){D=D.Cd;A.add(D);B.add(D.replace(x.XOa,""));(D=D.match(x.XOa)) && 0 < D.length && C.add(D[1]);});t.videoProfiles=[].concat(ca(A));t.videoProfile=0 === B.size?"none":[].concat(ca(B))[0];t.videoProfileLevels=[].concat(ca(C));v && v.length && (t.isMcClearen=!!v[0].Di.find(function(D){return 0 <= D.toLowerCase().indexOf("mcclearen");}));}w && (null === (z=y.X) || void 0 === z?0:z.GY) && (t.videoProfilesStatus=this.J5a(y.X.GY));};c.prototype.J5a=function(t){return this.gSb(t.JL(),function(w){return w.supported?!0:w.reason;});};c.prototype.gSb=function(t,w){return Object.entries(t).reduce(function(v,y){var x;x=la(y);y=x.next().value;x=x.next().value;v[y]=w(x);return v;},{});};c.prototype.A2a=function(t,w,v){var y,x;if(w=w && w.streams){x={};w.forEach(function(z){x[z.Cd]=void 0;});t.audioProfiles=Object.keys(x);}(null === (y=v.X) || void 0 === y?0:y.fS) && (t.audioProfilesStatus=this.J5a(v.X.fS));};c.prototype.E2a=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};c.prototype.getTime=function(){return this.Ea.Jb().da(g.pa);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.zn)),r.__param(1,(0,l.l)(n.Yb)),r.__param(2,(0,l.l)(f.Lc)),r.__param(3,(0,l.l)(q.a1))],a);b.DHa=a;},52025:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F;function c(G,E,I,M,L,K,O,H,J,N,R,T,ka,sa,ia,wa,Aa,La,Ya,ab){this.ieb=G;this.Gf=E;this.Pra=I;this.sma=M;this.ae=L;this.v4=K;this.Ge=O;this.config=H;this.bd=J;this.sa=N;this.Ea=R;this.platform=T;this.Up=ka;this.Gy=sa;this.zi=ia;this.kt=wa;this.LG=Aa;this.wc=La;this.xM=Ya;this.XB=ab;}Object.defineProperty(b,"__esModule",{value:!0});b.MP=void 0;r=a(5163);l=a(87549);f=a(45118);k=a(74870);d=a(28185);g=a(94800);n=a(22674);h=a(98326);m=a(74098);p=a(30895);q=a(32934);u=a(4203);t=a(30869);w=a(81918);v=a(91581);y=a(31850);x=a(66476);z=a(52531);A=a(63368);B=a(34231);C=a(2160);D=a(21103);a=a(18647);c.prototype.create=function(G,E){return new m.OP(G,E,this.ieb,this.Gf,this.Pra,this.sma,this.ae,this.v4,this.Ge,this.config,this.bd,this.sa,this.Ea,this.Up,this.Gy,this.zi,this.kt,this.LG,this.wc,this.xM,this.XB);};F=c;F=r.__decorate([(0,n.U)(),r.__param(0,(0,n.l)(l.fOa)),r.__param(1,(0,n.l)(f.ll)),r.__param(2,(0,n.l)(d.kIa)),r.__param(3,(0,n.l)(g.Mca)),r.__param(4,(0,n.l)(k.bh)),r.__param(5,(0,n.l)(p.wDa)),r.__param(6,(0,n.l)(q.zu)),r.__param(7,(0,n.l)(u.Yb)),r.__param(8,(0,n.l)(x.YD)),r.__param(9,(0,n.l)(t.ag)),r.__param(10,(0,n.l)(w.Lc)),r.__param(11,(0,n.l)(v.zn)),r.__param(12,(0,n.l)(A.s0)),r.__param(13,(0,n.l)(y.Rw)),r.__param(14,(0,n.l)(z.PD)),r.__param(15,(0,n.l)(B.vn)),r.__param(16,(0,n.l)(C.Qda)),r.__param(17,(0,n.l)(h.wda)),r.__param(18,(0,n.l)(D.Uw)),r.__param(19,(0,n.l)(a.mda))],F);b.MP=F;},74098:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I;function c(M,L,K,O,H,J,N,R,T,ka,sa,ia,wa,Aa,La,Ya,ab,aa,oa,Ga,Sa){var Q;Q=this;this.j=M;this.Da=L;this.ieb=K;this.Gf=O;this.Pra=H;this.sma=J;this.ae=N;this.v4=R;this.Ge=T;this.config=ka;this.bd=sa;this.sa=ia;this.Ea=wa;this.Up=Aa;this.Gy=La;this.zi=Ya;this.kt=ab;this.LG=aa;this.wc=oa;this.xM=Ga;this.XB=Sa;this.eY=[];this.Zra=this.QB=this.WW=0;this.NK=[];this.Yha=!1;this.Pr=function(da){var P,Y,ta,Ha,Wa,$a;Y={};try{Y={playdelaysdk:(0,m.Vf)(Q.j.sS()),applicationPlaydelay:(0,m.Vf)(Q.j.qja()),playdelay:(0,m.Vf)(Q.j.rja()),trackid:Q.j.Qj,bookmark:(0,m.Vf)(Q.j.zl || 0),pbnum:Q.j.index,endianness:(0,g.V_a)()};Q.config().oFb && (Y.transitiontime=Q.j.fm,Y.uiplaystarttime=Q.j.bb.aD,Y.playbackrequestedat=Q.j.Lh.da(p.pa),Y.clockgettime=Q.getTime(),Y.clockgetpreciseepoch=Q.sa.fe.da(p.pa),Y.clockgetpreciseappepoch=Q.Ea.Dy.da(p.pa),Y.absolutestarttime=Q.j.KF(),Y.relativetime=Q.j.c1a());Q.t5(Y,"startplay");}catch(fb){Q.log.error("error in startplay log fields",fb);}Q.j.Ch && (Y.blocked=Q.j.Ch);Q.wc.E2a(Y);(0,x.Rb)(Q.j.PTa) && (Y.bookmarkact=(0,m.Vf)(Q.j.PTa));ta=Q.j.Xc.at && Q.j.Xc.ats?Q.j.Xc.at - Q.j.Xc.ats:void 0;ta && (Y.nccpat=ta);(ta=Q.j.Xc.lr && Q.j.Xc.lc?Q.j.Xc.lr - Q.j.Xc.lc:void 0) && (Y.nccplt=ta);(ta=Q.j.Xc.lc && Q.j.Xc.lg?Q.j.Xc.lc - Q.j.Xc.lg:void 0) && (Y.lct=ta);(ta=Q.wF()) && (Y.downloadables=ta);ob._cad_global.device && (0,x.Wc)(ob._cad_global.device.N4) && (Y.esnSource=ob._cad_global.device.N4);(0,m.Wd)(Y,Q.Up,{prefix:"pi_"});Q.j.Mn && Q.j.Mn.initBitrate && (Y.initvbitrate=Q.j.Mn.initBitrate);Q.j.Mn && Q.j.Mn.selector && (Y.selector=Q.j.Mn.selector);Y.fullDlreports=Q.Nfb;if(Q.j.state.value >= y.Wb.ce)try{Ha=Q.j.Ws();if(Ha){Q.maxBitrate=(0,g.YO)(Ha.map(function(fb){return fb.bitrate;}));Q.i6a=(0,g.YO)(Ha.map(function(fb){return fb.height;}));Wa=0 < Ha.length?(0,C.H1a)(function(fb,sb){return fb.height === sb.height;},Ha).map(function(fb){return (0,z.Era)(fb,function(sb){return sb.bitrate;});}):void 0;Y.maxbitrate=Q.maxBitrate;Y.maxresheight=Q.i6a;}}catch(fb){Q.log.error("Exception computing max bitrate",fb);}try{$a=(0,g.XF)();$a && (Y.pdltime=$a);}catch(fb){}try{(0,m.Wd)(Y,Q.j.Xc,{prefix:"sm_"});(0,m.Wd)(Y,Q.j.j6(),{prefix:"vd_"});}catch(fb){}da && Q.j.Tt && (Y.pssh=Q.j.Tt);Q.I2a(Q.j,Y);Y.avtp=Q.eI.Vm().hya;(null === (P=Q.j.cb) || void 0 === P?0:P.qx) && Q.D6(Y);if(Q.j.Mb.value)try{Y.ttTrackFields=Q.j.Mb.value.sg;}catch(fb){}Q.wc.A2a(Y,Q.j.uc.value,Q.Da);Q.wc.VL(Y,!0,Q.j.Fg.value,Q.Da);Q.j.X && (Y.packageId=Q.j.X.Fa.kn);Q.j.X && Q.j.X.Fa.up && (Y.hasChoiceMap=!0);Q.mQb(Wa);Q.lQb();da && (Q.wpa(Y),Q.ypa(Y));Q.C2a(Q.j,Y);Q.hG(Q.j,Y);Q.iG(Q.j,Y);Q.gr(Q.j,Y);Q.LB(Q.j,Y,Q.Yha);Q.zU(Q.j,Y);Q.VNb(Q.j,Y);Q.xpa(Y);Q.Apa(Y);Q.wc.UL(Y);Q.B2a(Y);Q.wc.E6(Y,Q.Da);Q.zpa(Y);Q.xc(A.Gc.Pr,da,I.Od | I.uq | I.Fi | I.ps | I.oD | I.lZ | I.sD | I.Ko,Y);};this.Yt=function(da,P,Y){P={playdelay:(0,m.Vf)(da),reason:Y,intrplayseq:Q.QB - 1,skipped:P};"repos" === Y && (P.prstate=!0 === Q.j.paused.value?"paused":"playing");Q.TL(P,f.Ph.Yt);Q.iG(Q.j,P);Q.gr(Q.j,P);Q.xc(A.Gc.Yt,!1,I.Od | I.uq | I.Fi,P);"rebuffer" !== Y && "force_rebuffer" !== Y || Q.j.Xk.Vsb(Number((0,m.Vf)(da)));};this.Lx=function(da,P,Y,ta){da={moff:(0,m.Jl)(Y),moffms:(0,m.Vf)(Y),vbitrate:P.bitrate,vbitrateold:da.bitrate,vdlid:P.Vb,vdlidold:da.Vb,vheight:P.height,vheightold:da.height,vwidth:P.width,vwidthold:da.width,bw:ta};Q.iG(Q.j,da);Q.gr(Q.j,da);Q.LB(Q.j,da);Q.TL(da,f.Ph.Lx);Q.xc(A.Gc.Lx,!1,I.Fi,da);};this.xva=function(da,P,Y){da={moff:(0,m.Jl)(Y),moffms:(0,m.Vf)(Y),vdlidold:da.Vb,vbitrateold:da.bitrate};Q.iG(Q.j,da);Q.gr(Q.j,da);Q.LB(Q.j,da);Q.wc.Ip(da,P,Q.j.jf.value && Q.j.jf.value.stream);Q.TL(da,f.Ph.TW);Q.xc(A.Gc.TW,!1,I.Fi,da);};this.eua=function(){var da,P;da={waittime:(0,m.Vf)(Q.j.c1a()),abortedevent:"startplay",trackid:Q.j.Qj,prstate:Q.ky(),paustate:Q.j.paused.value};Q.t5(da,"endplay");Q.TL(da,f.Ph.gN);Q.kt.hT && (da.eventlist_version=1,da.eventlist=Q.LG.Q0a(Q.j));Q.j.Mn && Q.j.Mn.initBitrate && (da.initvbitrate=Q.j.Mn.initBitrate);try{P=(0,g.XF)();P && (da.pdltime=P);(0,m.Wd)(da,Q.j.Xc,{prefix:"sm_"});}catch(Y){}Q.tpa(da);Q.wc.E6(da,Q.Da);Q.wc.VL(da,!1,Q.j.Fg.value,Q.Da);Q.wpa(da);Q.wc.Ip(da,Q.j.Le.value,Q.j.Kg.value);Q.I2a(Q.j,da);Q.hG(Q.j,da);Q.zU(Q.j,da);Q.zpa(da);Q.ypa(da);Q.gr(Q.j,da);Q.xc(A.Gc.gN,!1,I.Od | I.Fi | I.oD | I.ps | I.Ko,da);};this.dua=function(da,P){da={waittime:(0,m.Vf)(da),abortedevent:"resumeplay",resumeplayreason:P};Q.j.Mn && Q.j.Mn.initBitrate && (da.initvbitrate=Q.j.Mn.initBitrate);Q.wc.Ip(da,Q.j.Le.value,Q.j.Kg.value);Q.zU(Q.j,da);Q.gr(Q.j,da);Q.xc(A.Gc.gN,!1,I.Od | I.Fi | I.Ko,da);};this.Fxa=function(da,P,Y){da={newstate:P?"Paused":"Playing",oldstate:da?"Paused":"Playing",reason:Y};Q.iG(Q.j,da);Q.gr(Q.j,da);Q.LB(Q.j,da);Q.wc.Ip(da,Q.j.Yd.value && Q.j.Yd.value.stream,Q.j.jf.value && Q.j.jf.value.stream);Q.TL(da,f.Ph.JX);Q.xc(A.Gc.JX,!1,I.Od | I.Fi,da);};this.HU=function(da,P,Y){var ta,Ha;da=(0,m.Wd)({vdlid:Q.j.Le.value.Vb,playingms:da,pausedms:P,intrplayseq:Q.QB++,prstate:Q.ky(),paustate:Q.j.paused.value},Y);Q.t5(da,"intrplay");P=Q.j.Dc[D.u.Y].value;Y=Q.j.Dc[D.u.fa].value;da.cdnid=da.vcdnid=P && P.id;da.acdnid=Y && Y.id;da.locid=Q.WU && Q.WU.Xqa;da.loclv=Q.WU && Q.WU.n5a;da.avtp=Q.eI.Vm().hya;da.mediabuffered=null === (ta=Q.j.Ud) || void 0 === ta?void 0:ta.v5();if(null === (Ha=Q.j.cb) || void 0 === Ha?0:Ha.qx)(Q.tpa(da),Q.D6(da),Q.G2a(da));try{(0,m.Wd)(da,Q.j.j6(),{prefix:"vd_"});}catch(Wa){}Q.iG(Q.j,da);Q.gr(Q.j,da);Q.LB(Q.j,da);Q.wc.Ip(da,Q.j.Yd.value && Q.j.Yd.value.stream,Q.j.jf.value && Q.j.jf.value.stream);Q.xc(A.Gc.HU,!1,I.Od | I.Fi,da);};this.HC=function(da,P,Y,ta){da={moffold:(0,m.Jl)(da),reposseq:Q.WW++,prstate:Q.ky(),paustate:Q.j.paused.value};ta === y.mc.vP && (da.reason="missing_segments");Q.LB(Q.j,da);Q.wc.Ip(da,Y && Y.stream,P && P.stream);Q.TL(da,f.Ph.HC);Q.xc(A.Gc.HC,!1,I.Od | I.Fi,da);};this.Iia=function(){var da,P,Y,ta;P=Q.j.uc.value;Y=Q.j.Kg.value.Vb;P=P?{trackId:P.trackId,bcp47:P.te,downloadableId:Y,rank:P.bc,chan:P.channels}:{};Y=Q.By;ta=null === (da=Q.xqa) || void 0 === da?void 0:da.Vb;da=Y?{trackId:Y.trackId,bcp47:Y.te,downloadableId:ta,rank:Y.bc,chan:Y.channels}:{};Q.xc(A.Gc.rTa,!1,I.Od | I.Fi,{switchdelay:(0,m.Vf)(Q.getTime() - Q.yqa),track:P,oldtrack:da});};this.EX=function(da){Q.xc(A.Gc.Rcb,!1,I.Od | I.Fi,{speedold:Math.floor(1E3 * da.oldValue),speed:Math.floor(1E3 * da.newValue)});};this.tO=function(){Q.xc(A.Gc.t6b,!1,I.Od | I.Fi,{track:Q.j.Mb.value.sg});};this.wz=function(da){var P,Y;P=Q.j.Mb.value;if(da.newValue || P && P.bo() && !P.bn()){Y=(da=null !== (Y=da.newValue) && void 0 !== Y?Y:P)?{trackId:da.trackId,bcp47:da.te,downloadableId:da.Vb,rank:da.bc,isImageBased:da.gk}:{};da=(da=Q.Fqa)?{trackId:da.trackId,bcp47:da.te,downloadableId:da.Vb,rank:da.bc,isImageBased:da.gk}:{};Y={switchdelay:(0,m.Vf)(Q.getTime() - Q.Eqa),track:Y,oldtrack:da};Q.wc.Ip(Y,Q.j.Yd.value && Q.j.Yd.value.stream,Q.j.jf.value && Q.j.jf.value.stream);Q.xc(A.Gc.peb,!1,I.Od | I.Fi,Y);}};this.qp=function(da){Q.xc(A.Gc.Evb,!1,I.Od | I.Fi,da.newValue);};this.kxb=function(da,P){var Y,ta;Y=P.serverid;ta={locid:P.location,loclv:P.locationlv,selocaid:Y,selcdnid:Y,selocaname:P.servername};ta.mediatype=P.mediatype;ta.selreason=P.selreason || "unknown";ta.seldetail=P.seldetail;ta.cdnbwdata=JSON.stringify([{id:Y}]);da && (ta.oldlocid=da.Xqa,ta.oldloclv=da.n5a,ta.oldocaid=da.o2b,ta.oldocaname=da.uX);Q.xc(A.Gc.xUa,!1,I.lZ,ta);};this.DXa=function(){var da,P,Y;if(Q.j.kg)try{da=!1;Q.Nfb || (da=!0,Q.NK=Q.NK.filter(function(ta){return !ta.ia;}));if(0 < Q.NK.length){P=Q.v4.construct(Q.NK,Q.j.Lh.da(p.pa));Q.NK=[];P.erroronly=da;Y={};(0,m.Tf)(P,function(ta,Ha){Y[ta]=JSON.stringify(Ha);});Q.xc(A.Gc.QDb,!1,I.Fi,Y);}}catch(ta){Q.log.error("Exception in dlreport.",ta);}};this.ky=function(){var da;da=Q.j.wb.value;return da === y.hb.Oe?"playing":da === y.hb.Rh?"paused":da === y.hb.oq?"ended":"waiting";};this.Oy=function(){var da,P,Y;if(Q.j.state.value == y.Wb.ce){Y=Q.sW();Q.config().Dva && (Y.avtp=Q.eI.Vm().hya,(null === (da=Q.j.cb) || void 0 === da?0:da.qx) && Q.D6(Y));Y.mediabuffered=null === (P=Q.j.Ud) || void 0 === P?void 0:P.v5();Y.midplayseq=Q.Zra++;Y.prstate=Q.ky();Y.paustate=Q.j.paused.value;Q.config().i2b && Q.Cdb("midplay");Q.config().Er && Q.Bpa(Y);Q.xpa(Y);Q.Apa(Y);Q.gr(Q.j,Y);Q.wc.UL(Y);Q.xc(A.Gc.Oy,!1,I.Od | I.Fi | I.oD | I.ps,Y);}};this.Cdb=function(da){var P,Y;P={};P.trigger=da;try{Y=Q.j.goa();P.subtitleqoescore=Q.j.sn.XLb(Y);P.metrics=JSON.stringify(Q.j.sn.Aoa(Y));}catch(ta){Q.log.error("error getting subtitle qoe data",ta);}Q.xc(A.Gc.u5b,!1,I.Od | I.oD | I.uq,P);};this.transition=function(da){Q.LB(Q.j,da);Q.zU(Q.j,da);Q.xc(A.Gc.transition,!1,0,da);};this.Bwa=function(da,P){Q.xc(A.Gc.Bwa,P,0,da);};this.by=function(da){var P,Y,ta,Ha,Wa,$a,fb;Y=Q.sW();Q.t5(Y,"endplay");Y.prstate=Q.ky();Y.paustate=Q.j.paused.value;Y.muted=Q.j.muted.value;Q.j.xz && "downloaded" === Q.j.xz.JL() && (Y.trickplay_ms=Q.j.pY.offset,Y.trickplay_res=Q.j.pY.Cab);Q.config().Tfb && (Y.rtinfo=Q.j.ALb());Q.config().Dva && (null === (P=Q.j.cb) || void 0 === P?0:P.qx) && Q.D6(Y);Y.endreason=da?"error":Q.j.wb.value === y.hb.oq?"ended":"stopped";(P=Q.Up) && (0,m.Wd)(Y,P,{prefix:"pi_"});try{(0,m.Wd)(Y,Q.j.Xc,{prefix:"sm_"});}catch(Ua){}Q.j.spa && (Y.inactivityTime=Q.j.spa);Q.tpa(Y);Q.G2a(Y);if(Q.j.h3){P=Q.j.h3;ta=Q.config().TTa;Ha=Q.j.loadTime;Wa={iv:ta,seg:[]};$a=function(Ua,bb,kb){return 0 === bb || void 0 === kb[bb - 1]?Ua:Ua - kb[bb - 1];};fb=P.Xub.map($a);$a=P.i9b.map($a);for(var sb,Jb=0;Jb < fb.length;Jb++){if(fb[Jb] || $a[Jb])sb?(sb.ams.push(fb[Jb]),sb.vms.push($a[Jb])):sb={ams:[P.Xub[Jb]],vms:[P.i9b[Jb]],soffms:P.startTime + Jb * ta - Ha};Jb !== fb.length - 1 && fb[Jb] && $a[Jb] || !sb || (Wa.seg.push(sb),sb=void 0);}Y.bt=JSON.stringify(Wa);}da && (Q.wpa(Y),Q.ypa(Y));Q.Cdb("endplay");Q.config().Er && Q.Bpa(Y);Q.wc.VL(Y,!1,Q.j.Fg.value,Q.Da);Q.C2a(Q.j,Y);Q.hG(Q.j,Y);Q.iG(Q.j,Y);Q.LB(Q.j,Y,Q.Yha);Q.gr(Q.j,Y);Q.zU(Q.j,Y);Q.xpa(Y);Q.Apa(Y);Q.wc.UL(Y);Q.XNb(Y);Q.B2a(Y);Q.ZNb(Y);Q.YNb(Y);Q.aOb(Y);Q.zpa(Y);Q.bOb(Y);Q.xc(A.Gc.by,da,I.Od | I.uq | I.Fi | I.oD | I.ps | I.sD | I.Ko,Y);};this.YDb=function(da){Q.NK.push(Q.v4.czb(da.response));};this.Ch=function(){Q.xc(A.Gc.MTa,!1,I.Od | I.oD | I.Ko,{});};this.vyb=function(da){var P,Y;P=da.response.Tl;da=(0,p.Ob)(P.Zi);Y=(0,p.Ob)(P.fq);P=(0,u.wa)(P.J3 || 0);P.b4a() || P.cqa() || (da=new t.Wea(da,Y),Q.eI.Psb(new w.uDa(da,P)));};this.o9=function(da){var P,Y,ta;ta=da.newValue;da.Dh && da.Dh.KM && ta && (null === (P=da.Dh) || void 0 === P || !P.reason) || ta == Q.wG || (Q.Fxa(Q.wG,ta,null === (Y=da.Dh) || void 0 === Y?void 0:Y.reason),Q.wG=ta);};this.Gx=function(da){function P(Y){var ta;if(Q.j.Fb && Q.j.Fb.sourceBuffers){ta=Q.j.Fb.sourceBuffers.filter(function(Ha){return Ha.type === Y;}).pop();if(ta)return {busy:ta.mh(),updating:ta.updating(),ranges:ta.w5()};}}da={cause:da.Xb};da.cause && da.cause === d.xea && (da.mediaTime=Q.j.mediaTime.value,da.buf_audio=P(k.$_),da.buf_video=P(k.TP));Q.HU(Q.eY[y.hb.Oe] || 0,Q.eY[y.hb.Rh] || 0,da);};this.Eeb=function(da){var P;da=da.oldValue;P=Q.getTime();da === y.hb.Af?Q.eY=[]:Q.eY[da]=(Q.eY[da] || 0) + (P - Q.tQb);Q.tQb=P;};this.yl=function(da){Q.yqa=Q.getTime();Q.By=da.oldValue;};this.fl=function(da){Q.Eqa=Q.getTime();Q.Fqa=da.oldValue;};this.gS=function(da){Q.xqa=da.oldValue;};this.hV=function(da){function P(Y,ta){var Ha;if(!Y || Y.Xqa !== ta.location){Ha={Xqa:ta.location,n5a:ta.locationlv,o2b:ta.serverid,uX:ta.servername};Q.kxb(Y,ta);return Ha;}}if("audio" === da.mediatype){if(da=P(Q.pQb,da))Q.pQb=da;}else if(da=P(Q.WU,da))Q.WU=da;};this.tX=function(da){var P,Y;P=da.mediatype;Y=da.reason;"video" === P?"serverswitchaway" === Y?(Q.bj.summary.tgb++,Q.bj.y7=Q.sa.fe.da(p.pa)):"serverswitchback" === Y && (Q.bj.summary.ugb++,Q.bj.y7 && (Q.bj.summary.vgb.push(Q.sa.fe.da(p.pa) - Q.bj.y7),Q.bj.y7=void 0)):"audio" === P && ("serverswitchaway" === Y?(Q.bj.summary.fTa++,Q.bj.q7=Q.sa.fe.da(p.pa)):"serverswitchback" === Y && (Q.bj.summary.gTa++,Q.bj.q7 && (Q.bj.summary.hTa.push(Q.sa.fe.da(p.pa) - Q.bj.q7),Q.bj.q7=void 0)));Q.xc(A.Gc.q2b,!1,I.Od | I.Fi,{mediatype:da.mediatype,server:da.server,selreason:da.reason,location:da.location,bitrate:da.bitrate,confidence:da.confidence,throughput:da.throughput,oldserver:da.oldserver});};this.QE=function(da){Q.xc(A.Gc.qub,!1,I.Fi,{strmsel:da.strmsel});};this.I7=function(da){da=l.__rest(da,["type"]);Q.gr(Q.j,da);Q.xc(A.Gc.mRb,!1,I.Od | I.uq,da);};this.H7=function(da){var P,Y;P=da.mediaType;Y=da.current;da=da.Xl;P === D.u.Y && (P={mediatype:(0,E.JG)(P),curr:{enc:Y.oB,origin:Y.nB},prev:{enc:da.oB,origin:da.nB}},Q.gr(Q.j,P),Q.xc(A.Gc.lRb,!1,I.Od,P));};this.nO=function(da){da=Object.assign({},da);da.details && (da.details=JSON.stringify(da.details));Q.xc(A.Gc.t5b,!0,I.Od | I.uq | I.lZ,da);};this.Yha=Ya.lza || Ya.Taa || Ya.MZa;this.eI=K();this.log=(0,n.Eh)(M,"LogblobBuilder");this.wG=M.paused.value;this.na=this.Da.na;this.bj={summary:{tgb:0,ugb:0,vgb:[],fTa:0,gTa:0,hTa:[]},y7:void 0,q7:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.OP=void 0;l=a(5163);f=a(93161);k=a(33096);d=a(13044);g=a(52569);n=a(31276);h=a(45146);m=a(3887);p=a(5021);q=a(36129);u=a(72574);t=a(74267);w=a(70826);v=a(22365);y=a(85001);x=a(32687);z=a(79342);A=a(18169);B=a(32573);C=a(45266);D=a(60328);F=a(30873);G=a(79542);E=a(93161);c.prototype.I2a=function(M,L){var K,O,H,J,N,R,T,ka,sa,ia,wa,Aa,La,Ya,ab,aa,oa;if(this.config().Er)try{K={};O=this.bd.getStats(void 0,void 0,M.P);H=M.KF();J=O.cI.Gyb || [];K.attempts=O.E9 || 0;K.num_completed_tasks=J.length;N=this.ae.HGb;R={};T=B.gj.oO;ka=B.gj.Vq;sa=B.gj.xja;O.Ok && (R.scheduled=O.Ok - H);ia=M.X;ia && (0,x.Rb)(ia.vH) && (R.preauthsent=ia.vH - M.loadTime,R.preauthreceived=ia.EN - M.loadTime);wa=J.filter(function(Ga){return "manifest" === Ga.type;});K.mf_succ=wa.filter(N("status",T)).length;K.mf_fail=wa.filter(N("status",ka)).length;Aa=M.Xc;(0,x.Wc)(Aa.lg) && 0 > Aa.lg && M.loadTime && (R.ldlsent=Aa.lc,R.ldlreceived=Aa.lr);La=J.filter(function(Ga){return "ldl" === Ga.type;});K.ldl_succ=La.filter(N("status",T)).length;K.ldl_fail=La.filter(N("status",ka)).length;O=!0;H=[];"notcached" === M.$E && (O=!1,H.push("Missing cached manifest"));this.config().gT || (O=!1,H.push("LDL prefetch disabled"));Ya=La.filter(N("status",sa)).length;this.config().gT && 0 === Ya && (!R.ldlreceived || 0 <= R.ldlreceived) && (O=!1,H.push("LDL received after start"));if(this.config().uYa)if(L.isPrefetchItem){ab=L.prefetchedAudioMs / L.bcABufferLevelMs;if(1 > L.prefetchedVideoMs / L.bcVBufferLevelMs || 1 > ab)(O=!1,H.push("Insufficient media fetched"));}else (O=!1,H.push("aseStats not initialized"));aa=J.filter(function(Ga){return "getHeaders" === Ga.type;});K.header_succ=aa.filter(N("status",T)).length;K.header_fail=aa.filter(N("status",ka)).length;oa=J.filter(function(Ga){return "getMedia" === Ga.type;});K.media_succ=oa.filter(N("status",T)).length;K.media_fail=oa.filter(N("status",ka)).length;K.hm_succ=K.header_succ + K.media_succ;K.hm_fail=K.header_fail + K.media_fail;(0,m.Wd)(L,K,{prefix:"pr_"});this.kt.hT && (L.eventlist_version=1,L.eventlist=this.LG.Q0a(M));(L.prefetchCompleted=O) || (L.prefetchFailed=H,(0,m.Wd)(L,R,{prefix:"pe_"}));this.Bpa(L);}catch(Ga){this.log.warn("error in collecting video prepare data",Ga);}};c.prototype.FLb=function(M,L){if(M=M.JT())if(L=M[L])return L.ta;};c.prototype.C2a=function(M,L){M.bb.qg && (L.isBranching=!0);};c.prototype.hG=function(M,L){var K,O;O=(null === (K=M.X) || void 0 === K?void 0:K.Zpa) || "videopreparer" === M.ZE;L.cachedManifest=M.$E;L.cachedLicense=M.ZE;L.usedldl=this.config().gT?O.toString():"not_capable";};c.prototype.iG=function(M,L){var K,O;if(this.config().$Nb){K=M.hoa();O=M.ba.X;K && O && (L.segment=K,O=M.BB(),L.segmenttime=O,M=this.FLb(M,K),null !== O && void 0 !== M && (L.segmentoffset=O - M));}};c.prototype.LB=function(M,L,K){L.pxid=M.z9;(void 0 === K?0:K) && (L.playgraph_trace=M.v9a);};c.prototype.zU=function(M,L){L.hasContentPlaygraph=M.p6();};c.prototype.VNb=function(M,L){var K,O;if(M.p6()){K=M.cB;O=M.X.Fa.Hm.ca;L.auxViewables=Object.keys(O.O).map(function(H){return O.O[H].J;}).filter(function(H,J,N){return H !== K && N.indexOf(H) === J;});}};c.prototype.G2a=function(M){var L,K;L=this.j.Jgc;K=L && L.Hic;L && L.BNb && (M.htwbr=L.BNb,M.pbtwbr=L.ric,M.hptwbr=L.Pgc);L && L.m1b && (M.rr=L.m1b,M.ra=L.Eic);L && K && 0 < (K.length || 0) && (M.qe=JSON.stringify(K));};c.prototype.wpa=function(M){var L,K,O;try{L=this.ae.createElement("canvas");K=L.getContext("webgl") || L.getContext("experimental-webgl");if(K){O=K.getExtension("WEBGL_debug_renderer_info");O && (M.WebGLRenderer=K.getParameter(O.UNMASKED_RENDERER_WEBGL),M.WebGLVendor=K.getParameter(O.UNMASKED_VENDOR_WEBGL));}}catch(H){}};c.prototype.aOb=function(M){M.switchAwaySummary={vsa:this.bj.summary.tgb,vsb:this.bj.summary.ugb,vsbt:this.bj.summary.vgb,asa:this.bj.summary.fTa,asb:this.bj.summary.gTa,asbt:this.bj.summary.hTa};};c.prototype.zpb=function(M){var L;L=[];return M?Object.keys(M).map(function(K){return +K;}):L;};c.prototype.wF=function(){var M,L;M=this;if(this.j.xw && this.j.ai){L=[];this.j.xw.concat(this.j.ai).forEach(function(K){K.streams.forEach(function(O){L.push({dlid:O.Vb,type:O.type,bitrate:O.bitrate,vmaf:O.xb,cdn_ids:M.zpb(O.vla)});});});return JSON.stringify(L);}};c.prototype.jxb=function(){var L,K,O;function M(H,J){var N,R,T;N=H.cdnId + "$" + H.correlationId;R=O[N];R || (R={cdnid:H.cdnId,pbcid:H.correlationId,dls:[]},O[N]=R,K.push(R));(0,h.IK)(H.bitrate);(0,h.IK)(H.duration);N={bitrate:H.bitrate,tm:(0,v.xn)(H.duration)};T=H.vmaf;T && ((0,h.IK)(H.vmaf),N.vf=T);N[J]=(0,m.Wi)(H.downloadableId);R.dls.push(N);}L=this.j.Xk.KIb();K=[];O={};L.audio.forEach(function(H){M(H,"adlid");});L.video.forEach(function(H){M(H,"dlid");});return JSON.stringify(K);};c.prototype.sW=function(){var M,L,K,O,H,J,N,R,T,ka,sa,ia,wa;M=this.j.Xk;L={totaltime:(0,m.Jl)(M.Fp("content")),totalcontenttime:(0,m.Jl)(M.hU("content")),totaladtime:(0,m.Jl)(M.Fp("ads")),totalothertime:(0,m.Jl)(M.Fp("other")),cdndldist:this.jxb(),reposcount:this.WW,intrplaycount:this.QB};try{K={numskip:0,numlowqual:0};O=this.j.Ud;H=O.zv();(0,x.Rb)(H) && (L.totfr=H,K.numren=H);H=O.PF();(0,x.Rb)(H) && (L.totdfr=H,K.numrendrop=H);H=O.NT();(0,x.Rb)(H) && (L.totcfr=H,K.numrenerr=H);L.playqualvideo=JSON.stringify(K);J=this.j.Le.value;J && (L.videofr=J.framerate.toFixed(3));N=M.ona();N && (L.abrdel=N);R=M.w6() && M.o_a();R && (L.tw_vmaf=R);T=M.m_a();T && (0,m.Wd)(L,T);L.rbfrs=this.QB;L.maxbitrate=this.maxBitrate;L.maxresheight=this.i6a;ka=this.j.EB();for(M=0;M < ka.length;M++){sa=ka[M];ia=this.Da.AM.pz(sa);if(ia){(0,h.oa)(wa);L.maxbitrate=wa?wa.bitrate:0;L.maxresheight=wa?wa.height:0;L.bitratefilters=ia.join("|");break;}wa=sa;}this.j.xz && (L.trickplay=this.j.xz.JL());null !== this.j.sn.zTa && (L.avg_subt_delay=this.j.sn.zTa);}catch(Aa){this.log.error("Exception reading some of the endplay fields",Aa);}(0,m.Wd)(L,this.j.j6(),{prefix:"vd_"});return L;};c.prototype.getTime=function(){return this.Ea.Jb().da(p.pa);};c.prototype.roa=function(){return this.getTime() - this.Da.Lh.da(p.pa);};c.prototype.Bpa=function(M){var L;try{L=this.bd.getStats();M.pr_cache_size=JSON.stringify(L.cache);M.pr_stats=JSON.stringify(L.kIb);}catch(K){}};c.prototype.xpa=function(M){this.log.debug("httpstats",this.Ge.Lf);(0,m.Wd)(M,this.Ge.Lf,{prefix:"http_"});};c.prototype.gr=function(M,L){M=M.gd;M.aa && (L.intenttoplayatedge=M.oU(),M=M.AB(),L.livestage=this.pKb(M));};c.prototype.pKb=function(M){switch(M){case F.hs.pQ:case F.hs.pda:case F.hs.Fca:return M.toLowerCase();default:return (0,G.iL)(M);}};c.prototype.tpa=function(M){var L,K,O;L=this.config().VWa && !(this.na % this.config().VWa);K=this.j.cb;O=null === K || void 0 === K?void 0:K.Ah;L && O && (M.ASEstats=JSON.stringify(K.k3a()));};c.prototype.D6=function(M){Object.assign(M,this.j.cb.Jc.eMb());};c.prototype.Apa=function(M){var L;try{L=v.Eu.memory;(0,x.$3a)(L) && (M.totalJSHeapSize=L.totalJSHeapSize,M.usedJSHeapSize=L.usedJSHeapSize,M.jsHeapSizeLimit=L.jsHeapSizeLimit);}catch(K){}};c.prototype.B2a=function(M){var L;try{if(this.config().wS){L=this.j.RIb();M.battery=L;this.log.trace("batterystatuses",L);}}catch(K){}};c.prototype.XNb=function(M){this.j.c4 && (M.dqec=this.j.c4);};c.prototype.zpa=function(M){var L,K,O;(null === (L=this.j.ee) || void 0 === L?0:L.CL)?M.keysys=this.j.ee.CL():(null === (O=null === (K=this.j.ee) || void 0 === K?void 0:K.mediaKeys) || void 0 === O?0:O.keySystem)?M.keysys=this.j.ee.mediaKeys.keySystem:this.xM.r4a && (M.keysys=this.xM.r4a);this.XB.t4a && (M.keySystemRestrictions=this.XB.t4a);this.XB.u4a && (M.keySystemRestrictionsDebug=this.XB.u4a);};c.prototype.ypa=function(M){var L;if(null === (L=this.j.ee) || void 0 === L?0:L.n0a)M.keystatus=this.j.ee.wqa;};c.prototype.YNb=function(M){this.rma && (M.externaldisplay=this.rma.jL);};c.prototype.ZNb=function(M){var L,K;if(this.qza){L=this.qza.map(function(O){return O.uf;}).filter(function(O){return void 0 !== O;});K=(0,z.Era)(L,function(O){return O.height;});K && (M.media_capabilities_smooth=K.smooth,M.media_capabilities_efficient=K.powerEfficient,M.media_capabilities_bitrate=K.bitrate,M.media_capabilities_height=K.height,M.media_capabilities_width=K.width);M.media_capabilities=L.map(function(O){return {smooth:O.smooth,efficient:O.powerEfficient,bitrate:O.bitrate,height:O.height,width:O.width};});}};c.prototype.bOb=function(M){M.didHydrateTracks=this.j.s4;};c.prototype.lQb=function(){void 0 === this.rma && (this.rma=this.sma.CGb());};c.prototype.mQb=function(M){var L;L=this;void 0 === this.qza && void 0 !== M && (this.qza=M.map(function(K){return L.Pra.zma(K);}));};c.prototype.t5=function(M,L){(L=this.j.EL(L)) && Object.entries(L).forEach(function(K){var O;O=la(K);K=O.next().value;O=O.next().value;M[K]=O;});};c.prototype.TL=function(M,L){var K;(L=null === (K=this.j.cb) || void 0 === K?void 0:K.P5(void 0,L)) && Object.entries(L).forEach(function(O){var H;H=la(O);O=H.next().value;H=H.next().value;M[O]=H;});};c.prototype.xc=function(M,L,K,O){var H,J;J=L?"error":"info";L && this.j.kh && (0,q.TZ)(this.j.kh.errorCode,this.j.kh.Aa,this.roa(),null === (H=this.j.Ud) || void 0 === H?void 0:H.zv()) && (J="info");this.Lha(O,this.j,L,K);M=this.Gy.Xs(M,J,O,this.Da);this.Gf.xc(M);};c.prototype.WNb=function(M,L){var K,O;O=null === (K=L.cb) || void 0 === K?void 0:K.dCb;O && (null === O || void 0 === O?void 0:O.J) !== L.cB && (M.auxMid || (M.auxMid=O.J),M.auxPlaybackcontextid || (M.auxPlaybackcontextid=L.ek(O.J).Ed));};c.prototype.Lha=function(M,L,K,O){var H,J,N,R,T,ka,sa;this.wc.D2a(M,L);this.WNb(M,L);O & I.Od && ((0,h.oa)(!M || void 0 === M.moff),this.wc.H2a(M,L,L.p6()));O & I.uq && this.wc.J2a(M,L);O & I.Fi && (null === (H=L.cb) || void 0 === H?0:H.Ah) && (M.abuflbytes=null !== (J=M.abuflbytes) && void 0 !== J?J:L.Eia(),M.abuflmsec=null !== (N=M.abuflmsec) && void 0 !== N?N:L.dS(),M.vbuflbytes=null !== (R=M.vbuflbytes) && void 0 !== R?R:L.oza(),M.vbuflmsec=null !== (T=M.vbuflmsec) && void 0 !== T?T:L.DY(),M.tbuflbytes=null !== (ka=M.tbuflbytes) && void 0 !== ka?ka:L.Y5b(),M.tbuflmsec=null !== (sa=M.tbuflmsec) && void 0 !== sa?sa:L.Z5b());O & I.ps && this.wc.K2a(M,L.mk);O & I.oD && (H=v.Ae.hardwareConcurrency,0 <= H && (M.numcores=H),H=this.Da.Bla) && (J=H.pna(),M.droppedFrames=JSON.stringify(J),H=H.$T(this.config().oEb),(0,m.Tf)(H,function(ia,wa){M["droppedFramesP" + ia]=JSON.stringify(wa);}));if(O & I.lZ)try{L.kg && (M.cdninfo=JSON.stringify(L.kg.map(function(ia){return {id:ia.id,nm:ia.name,rk:ia.bc,wt:ia.location.weight,lv:ia.location.level};})));}catch(ia){}K && O & I.sD && ((0,h.oa)(L.kh),this.wc.F2a(M,L,L.kh));O & I.Ko && this.wc.vpa(M);};Xa.Object.defineProperties(c.prototype,{Nfb:{configurable:!0,enumerable:!0,get:function(){return this.j.lB || this.j.eT;}}});b.OP=c;(function(M){M[M.Od=1]="MOFF";M[M.uq=2]="PRESENTEDSTREAMS";M[M.Fi=4]="BUFFER";M[M.ps=8]="SCREEN";M[M.oD=16]="CPU";M[M.lZ=32]="CDN";M[M.sD=64]="FATALERROR";M[M.Ko=128]="BROWSERINFO";})(I || (I={}));},26158:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u,t){this.Gf=m;this.config=p;this.sa=q;this.Ea=u;this.dra=t;}Object.defineProperty(b,"__esModule",{value:!0});b.PP=void 0;r=a(5163);l=a(45118);f=a(22674);k=a(98326);d=a(4203);g=a(30869);n=a(81918);h=a(99400);c.prototype.create=function(m,p,q,u){var t;t=this.dra.create(m,p);return new h.RP(m,p,q,u,this.Gf,this.config,this.Ea,t);};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(l.ll)),r.__param(1,(0,f.l)(d.Yb)),r.__param(2,(0,f.l)(g.ag)),r.__param(3,(0,f.l)(n.Lc)),r.__param(4,(0,f.l)(k.NP))],a);b.PP=a;},99400:function(r,b,a){var l,f,k,d,g;function c(n,h,m,p,q,u,t,w){var v;v=this;this.j=n;this.Da=h;this.$F=p;this.Gf=q;this.config=u;this.Ea=t;this.fb=w;this.$B=function(y,x){return function(z){var A;A=x(z);if("number" !== typeof A)throw Error("Event " + JSON.stringify(z) + " does not have movie Id");A === v.P && y(z);};};this.H5a=this.$B(function(y){v.eaa(y.oG);},function(y){return y.P;});this.E5a=this.$B(function(){v.xS();},function(y){return y.P;});this.jVa=this.$B(function(){v.xS();},function(y){return y.movieId;});this.Ija=this.$B(function(){v.j.wb.value === d.hb.Oe && (v.j.wb.removeListener(v.Ija),v.Nt());},function(){return v.j.P;});this.wz=function(y){v.Vp && v.fb.wz(y);};this.oVa=this.$B(this.fb.vyb,function(y){return y.P;});this.KXa=this.$B(this.fb.YDb,function(y){return y.P;});this.k5a=this.$B(this.fb.hV,function(y){return v.j.Si(y.segmentId).P;});this.Dbb=this.$B(this.fb.tX,function(y){return v.j.Si(y.segmentId).P;});this.Fj=function(y){y.skip && (v.RH=!0);switch(y.Xb){case d.mc.cx:case d.mc.VI:case d.mc.tQ:case d.mc.vP:case d.mc.Fda:v.KN && v.Io && v.fb.dua(v.getTime() - v.Io,v.KN);v.KN="repos";v.fb.HC(y.Rsa,y.jf,y.Yd);v.Io=v.getTime();(0,k.Ef)(v.mv);break;case d.mc.WZ:v.KN="force_rebuffer";v.Io=v.getTime();(0,k.Ef)(v.mv);break;case d.mc.SD:case d.mc.gs:break;default:return (0,g.iL)(y.Xb);}};this.yl=function(y){v.By=y.oldValue;v.fb.yl(y);};this.mv=function(){var y;if(v.Io && v.j.wb.value !== d.hb.Af){y=v.getTime() - v.Io;v.fb.Yt(y,v.RH,v.KN);v.By && v.By != v.j.uc.value && v.fb.Iia();v.Io=void 0;v.KN=void 0;v.RH=void 0;}};this.Nt=function(){v.Vp || (v.Vp=!0,v.fb.Pr(!1),v.Epa(),v.config().L6 && (v.uy=ob.setTimeout(function(){v.Gf.flush(!1).catch(function(){return v.log.warn("failed to flush log batcher on initialLogFlushTimeout");});v.uy=void 0;},v.config().L6)));};this.mg=function(){v.uy && (ob.clearTimeout(v.uy),v.uy=void 0);if(v.config().w4 || v.config().cS)(v.ula && (ob.clearInterval(v.ula),v.ula=void 0),v.fb.DXa());v.tY && v.tY();v.Vp?v.fb.by(!!v.j.kh):v.j.kh?v.fb.Pr(!0):v.Da.background.value || v.fb.eua();};this.IY=function(y){y.oldValue && y.Dh && y.Dh.dF && v.fb.Lx(y.oldValue,y.newValue,y.Dh.dF,y.Dh.lS);};this.AW=function(y){var x;if(y.newValue){x=y.newValue.stream;v.xG != x && (v.xG && x && v.fb.xva(v.xG,x,v.$F(y.newValue.tK.startTime)),v.xG=x);}};this.P=h.P;this.log=(0,l.Eh)(n,"LogblobBuilder");this.Cb();m && this.eaa();}Object.defineProperty(b,"__esModule",{value:!0});b.RP=void 0;l=a(31276);f=a(5021);k=a(32219);d=a(85001);g=a(79542);c.prototype.Cb=function(){this.j.addEventListener(d.ga.EG,this.H5a);this.j.addEventListener(d.ga.wra,this.E5a);this.j.addEventListener(d.ga.hV,this.k5a);this.j.addEventListener(d.ga.tX,this.Dbb);this.j.addEventListener(d.ga.mg,this.jVa);if(this.config().w4 || this.config().cS)(this.j.addEventListener(d.ga.uF,this.KXa),this.ula=ob.setInterval(this.fb.DXa,this.config().bEb));this.config().Dva && this.j.addEventListener(d.ga.uF,this.oVa);};c.prototype.eaa=function(n){var h;h=this;this.V6a || (this.j.wb.value !== d.hb.Oe || (void 0 === n?0:n)?this.j.wb.addListener(this.Ija):this.Nt(),this.j.Yh.addListener(this.wz),this.j.Mb.addListener(this.fb.fl),this.j.uc.addListener(this.yl),this.j.Kg.addListener(this.fb.gS),this.j.paused.addListener(this.fb.o9),this.j.Yd.addListener(this.AW),this.j.wb.addListener(this.mv),this.j.wb.addListener(this.fb.Eeb),this.j.Le.addListener(this.IY),this.j.playbackRate.addListener(this.fb.EX),this.j.addEventListener(d.ga.Ch,this.fb.Ch),this.j.addEventListener(d.ga.QE,this.fb.QE),this.j.addEventListener(d.ga.I7,this.fb.I7),this.j.addEventListener(d.ga.H7,this.fb.H7),this.j.addEventListener(d.ga.nO,this.fb.nO),this.j.addEventListener(d.ga.Gx,function(m){h.KN="rebuffer";h.fb.Gx(m);h.Io=h.getTime();(0,k.Ef)(h.mv);}),this.j.addEventListener(d.ga.Fj,this.Fj),this.j.addEventListener(d.ga.tO,this.fb.tO),this.Da.qp && this.Da.qp.addListener(this.fb.qp),this.V6a=!0);};c.prototype.xS=function(){this.mg();this.V6a && (this.j.removeEventListener(d.ga.EG,this.H5a),this.j.removeEventListener(d.ga.wra,this.E5a),this.j.removeEventListener(d.ga.hV,this.k5a),this.j.removeEventListener(d.ga.tX,this.Dbb),this.j.Yh.removeListener(this.wz),this.j.Mb.removeListener(this.fb.fl),this.j.uc.removeListener(this.yl),this.j.Kg.removeListener(this.fb.gS),this.j.paused.removeListener(this.fb.o9),this.j.Yd.removeListener(this.AW),this.j.wb.removeListener(this.mv),this.j.wb.removeListener(this.Ija),this.j.wb.removeListener(this.fb.Eeb),this.j.Le.removeListener(this.IY),this.j.playbackRate.removeListener(this.fb.EX),this.j.removeEventListener(d.ga.mg,this.jVa),this.j.removeEventListener(d.ga.Ch,this.fb.Ch),this.j.removeEventListener(d.ga.QE,this.fb.QE),this.j.removeEventListener(d.ga.nO,this.fb.nO),this.j.removeEventListener(d.ga.Gx,this.fb.Gx),this.j.removeEventListener(d.ga.Fj,this.Fj),this.j.removeEventListener(d.ga.tO,this.fb.tO),this.Da.qp && this.Da.qp.removeListener(this.fb.qp),this.j.removeEventListener(d.ga.uF,this.KXa),this.j.removeEventListener(d.ga.uF,this.oVa));};c.prototype.getTime=function(){return this.Ea.Jb().da(f.pa);};c.prototype.Epa=function(){var n,h,m;n=this;m=[];this.config().A6a && (this.config().B6a.forEach(function(p){m.push(ob.setTimeout(n.fb.Oy,p));}),this.config().i8 && (h=ob.setInterval(this.fb.Oy,this.config().i8)),this.tY=function(){m.forEach(function(p){ob.clearTimeout(p);});h && ob.clearInterval(h);});};b.RP=c;},33345:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t;function c(w,v,y,x,z,A,B,C){this.Ea=w;this.platform=y;this.Mk=x;this.json=z;this.wh=A;this.ph=B;this.FRb=C;(0,k.io)(this,"json");this.la=v.$a("LogblobSender");}function l(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.FHa=void 0;r=a(5163);f=a(22674);k=a(66523);d=a(63368);g=a(5021);n=a(74870);h=a(81918);m=a(91581);p=a(33554);q=a(87386);u=a(40953);a=a(7605);c.prototype.send=function(w){var v;v=this;return new Promise(function(y,x){var z;try{z=w.reduce(function(A,B){A.entries.push(v.rBb(B));return A;},new l());y(v.oIb(z));}catch(A){v.la.error(A.message);x(A);}}).then(function(y){return v.Hwa(y);});};c.prototype.rBb=function(w){return this.wh.kC(this.wh.kC({},w.data),{esn:this.Mk().ck,sev:w.severity,type:w.type,lver:this.platform.bra,jssid:this.Ea.id,devmod:this.platform.fB,jsoffms:w.timestamp.qa(this.Ea.Dy).da(g.pa),clienttime:w.timestamp.da(g.pa),client_utc:w.timestamp.da(g.pm),uiver:this.ph.tw});};c.prototype.oIb=function(w){var v;v=this;try{return this.json.stringify(w);}catch(z){for(var y={},x=0;x < w.entries.length;(y={VO:y.VO,qu:y.qu},++x)){y.qu=Object.assign({},w.entries[x]);try{this.json.stringify(y.qu);}catch(A){y.VO=void 0;this.wh.rB(y.qu,(function(B){return function(C,D){try{v.json.stringify(D);}catch(F){B.VO=F.message;B.qu[C]=B.VO;}};})(y));y.qu.stringifyException=y.VO;y.qu.originalType=y.qu.type;y.qu.type="debug";y.qu.sev="error";}}return this.json.stringify(w);}};c.prototype.Hwa=function(w){var v;v=this;return this.FRb.yf(this.la,{logblobs:w}).then(function(){!1;}).catch(function(y){v.la.error("PBO logblob failed",y);return Promise.reject(y);});};t=c;t=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(h.Lc)),r.__param(1,(0,f.l)(q.ab)),r.__param(2,(0,f.l)(m.zn)),r.__param(3,(0,f.l)(p.Kw)),r.__param(4,(0,f.l)(d.BD)),r.__param(5,(0,f.l)(n.bh)),r.__param(6,(0,f.l)(a.ax)),r.__param(7,(0,f.l)(u.tKa))],t);b.FHa=t;},82956:function(r,b,a){var l,f;function c(k){switch(k){case l.S.CP:return "http";case l.S.EP:return "connectiontimeout";case l.S.yD:return "readtimeout";case l.S.wFa:return "corruptcontent";case l.S.xD:return "abort";case l.S.FP:case l.S.ada:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.poa=b.S0a=b.H0a=void 0;l=a(36129);f=a(22365);b.H0a=c;b.S0a=function(k,d){var g;k={errorcode:k + (d.errorCode || l.V.Ro)};d.Aa && (k.errorsubcode=d.Aa);d.Ee && (k.errorextcode=d.Ee);d.Yla && (k.erroredgecode=d.Yla);d.Nb && (k.errordetails=d.Nb);d.Hl && (k.httperr=d.Hl);d.z8 && (k.aseneterr=d.z8);d.sB && (k.errordata=d.sB);d.CV && (k.mediaerrormessage=d.CV);g=c(Number(d.Aa));g && (k.nwerr=g);d.Ed && (k.playbackcontextid=d.Ed);return k;};b.poa=function(){return {screensize:f.Fu.width + "x" + f.Fu.height,screenavailsize:f.Fu.availWidth + "x" + f.Fu.availHeight,clientsize:ob.innerWidth + "x" + ob.innerHeight,devicePixelRatio:f.VIa};};},50723:function(r,b,a){var f,k,d,g,n,h,m;function c(p){this.RJ=d.Ha;this.Vga=[];this.$Q=this.C1=!1;p && (this.RJ=p.size,this.Vga=p.KG);}function l(p,q,u,t){this.gTb=p;this.config=q;this.zf=u;this.json=t;(0,k.io)(this,"json");this.la=this.zf.$a("MessageQueue");this.Ss=[];}Object.defineProperty(b,"__esModule",{value:!0});b.HIa=void 0;r=a(5163);f=a(22674);k=a(66523);d=a(72574);g=a(81829);n=a(87386);h=a(63368);a=a(45118);l.prototype.Uha=function(p){var q,u;0 === this.Ss.length && this.Ss.push(this.Ena());if(p=this.CLb(p)){q=this.gTb.measure([p]);u=this.Ss[this.Ss.length - 1];0 < u.size.add(q).Jk(this.config.a6a) && (u=this.Ena(),this.Ss.push(u));u.Uha(p);}};l.prototype.PIb=function(){var p;p=this.Ss.filter(function(q){return q.dxb;});this.Ss.push(this.Ena());p.forEach(function(q){return q.jSb();});return p;};l.prototype.Msb=function(p){p.xy || this.Ss.unshift(new c(p));};l.prototype.X_b=function(p){p=this.Ss.indexOf(p);0 <= p && this.Ss.splice(p,1);};l.prototype.CLb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,u;q={};p=p.data;u=p.debugMessage;u && "string" === typeof u && (q.originalDebugMessage=u);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.la.error("JSON.stringify error: " + t.message,q);}};l.prototype.Ena=function(){return new c();};Xa.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Ss.reduce(function(p,q){return p.add(q.size);},d.Ha);}}});m=l;m=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.CHa)),r.__param(1,(0,f.l)(a.tda)),r.__param(2,(0,f.l)(n.ab)),r.__param(3,(0,f.l)(h.BD))],m);b.HIa=m;c.prototype.oO=function(){this.C1=!1;this.$Q=!0;};c.prototype.Vq=function(){this.C1=!1;};c.prototype.Uha=function(p){this.Vga.push(p);this.RJ=this.RJ.add(p.size);};c.prototype.jSb=function(){this.C1=!0;};Xa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.RJ;}},KG:{configurable:!0,enumerable:!0,get:function(){return this.Vga;}},dxb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.KG.length && !1 === this.C1;}},xy:{configurable:!0,enumerable:!0,get:function(){return this.$Q;}}});},29670:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gBa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},51770:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.G5a=void 0;r=a(22674);c=a(37104);l=a(83081);f=a(43185);k=a(23176);d=a(17950);g=a(24273);n=a(44236);h=a(17398);m=a(47930);p=a(60042);q=a(97791);b.G5a=new r.dd(function(u){u(f.YHa).to(k.XHa).ha();u(c.Kda).to(l.ZHa).ha();u(d.CLa).gl(function(t){for(var w=[],v=0;v < arguments.length;++v){w[v - 0]=arguments[v];}v=a(26159).WD;return new (Function.prototype.bind.apply(v,[null].concat(ca(w))))();});u(g.bIa).Zd(function(){return function(t){return new n.cIa(t);};});u(h.YI).to(m.VHa).ha();u(p.UHa).to(q.THa).ha();});},43185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YHa="ManifestProviderConfigSymbol";},37104:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kda="ManifestParserFactorySymbol";},24273:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bIa="ManifestVerifyErrorFactorySymbol";},17950:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CLa="PlayerTextTrackFactorySymbol";},77939:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q){m=f.XP.call(this,m) || this;m.config=p;m.j=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.fBa=void 0;l=a(29670);f=a(28518);k=a(45266);d=a(51344);g=a(35128);n=a(36129);h=a(31149);fa(c,f.XP);c.prototype.H8a=function(m,p,q){var u,t;u=this;t=this.config.uaa;p=p.filter(function(w){var v,y;v=w.At || !w.Wf || w.streams && 0 < w.streams.length;v || u.log.warn("Audio track is missing streams",u.d6(w));y=0 === t.length || 0 <= t.indexOf(w.vh);y || u.log.warn("Audio track is not supported",u.d6(w));return v && y;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(w){return u.G8a(m,w,u.DIb(w,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.RWb=function(m,p,q,u){var t,w,v,y;t=this;w=la((0,k.sC)(function(x){return x.At;},p));p=w.next().value;w=w.next().value;w=la((0,k.sC)(function(x){return x.streams && 0 < x.streams.length;},w));v=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is missing streams",t.d6(x));});y=this.config.uaa;w=la((0,k.sC)(function(x){return 0 === y.length || 0 <= y.indexOf(x.vh);},v));v=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is not supported",t.d6(x));});p=[].concat(ca(v),ca(p)).map(function(x){return t.G8a(m,x,t.lKb(x.Xf,q,u));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.evb=function(m){var p,q;p=this;q=this.config.Xma;if(q){if(m=la(m.filter(function(u){return u.te == q || u.trackId == q;})).next().value)return m;}else if(this.j.m5 && (m=la(m.filter(function(u){return u.trackId == p.j.m5;})).next().value))return m;};c.prototype.PGb=function(m,p){this.config.xTa.forEach(function(q){var u,t,w;u=p.Qs.filter(function(v){return v.profile === q;}).reduce(function(v,y){y.streams.map(function(x){return x.bitrate;}).forEach(function(x){v.add(x);});return v;},new Set());t=!1;w=m.Fa.Qs.map(function(v){var y;if(v.profile === q){y=v.streams.filter(function(x){return u.has(x.bitrate);});if(y.length === v.streams.length)return v;t=!0;if(0 === y.length)throw new h.Mc(n.V.KHa,n.S.phb);return Object.assign(Object.assign({},v),{streams:y});}return v;});t && (m.Fa=Object.assign(Object.assign({},m.Fa),{Qs:w}));});return m;};c.prototype.G8a=function(m,p,q){var u,t,w,v;v=p.vh;m=Object.assign(Object.assign({},m),{type:d.Vj.audio,YH:p.YH,variant:p.variant,trackId:p.Xf,lG:p.CO,vh:g.X0[v.toLowerCase()] || g.Po.gJ,GC:v,te:p.language,displayName:p.YB,bc:null !== (u=p.bc) && void 0 !== u?u:-1,Wf:null !== (t=p.Wf) && void 0 !== t?t:!0,channels:p.channels,Zec:p.channels,Wg:q,sg:{Bcp47:p.language,TrackId:p.Xf},streams:[],isNative:p.isNative,bo:p.At,TX:p.TX});m.streams=this.Ieb(p.streams,m);this.log.trace("Transformed audio track",m,{StreamCount:m.streams.length,AllowedTimedTextTracks:m.Wg.length});m.ryb=l.gBa[null === (w=m.streams[0]) || void 0 === w?void 0:w.Cd];return m;};c.prototype.d6=function(m){return {language:m.YB,bcp47:m.language,type:m.vh};};c.prototype.DIb=function(m,p){return p.filter(function(q){if(0 <= m.LDb.indexOf(q.lG))return !1;if(m.hXa){if(m.hXa !== q.lG && (q.bo() || q.bn()))return !1;}else if(m.eVb){if(q.bo() || q.bn())return !1;}else if(q.bn())return !1;return !0;});};c.prototype.lKb=function(m,p,q){return p.filter(function(u){return u.Gd.fa === m;}).map(function(u){return u.Gd.Ga;}).map(function(u){return q.find(function(t){return t.trackId === u;});}).filter(Boolean);};b.fBa=c;},82409:function(r,b,a){var l,f;function c(k,d){this.log=k;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.pCa=void 0;l=a(45266);f=a(64274);c.prototype.I8a=function(k,d){var g,n,h,m;g=this;n=this.config.Bja;h=this.config.Aja;k=la((0,l.sC)(function(p){return (!n.length || 0 <= n.indexOf(p.id)) && 0 > h.indexOf(p.id);},k || []));m=k.next().value;k.next().value.forEach(function(p){return g.log.warn("Cdn is not allowed",{Id:p.id});});k=m.map(function(p){var q;q=(d?d.find(function(u){return u.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,bc:p.bc,type:p.type,i5a:p.key,sPb:p.w5a,location:{id:q.key,bc:q.bc,level:q.level,weight:q.weight}};});k.sort(function(p,q){return p.bc - q.bc;});this.log.trace("Transformed cdns",{Count:k.length});if(!k.length)throw Error("no valid cdns");return k;};c.prototype.GNb=function(k,d,g,n){var h;h=k.filter(function(m){return -1 === g.findIndex(function(p){return p.id === m.id;});}).map(function(m){return {k8a:!0,Ub:m};}).concat(g.map(function(m){return {k8a:!1,Ub:m};})).sort(function(m,p){return m.Ub.bc === p.Ub.bc?m.k8a?-1:1:m.Ub.bc - p.Ub.bc;}).map(function(m,p){(0,f.rM)(m.Ub).bc=p + 1;return m.Ub;});k=d.filter(function(m){return -1 === n.findIndex(function(p){return p.key === m.key;});}).concat(n).map(function(m){var p;p=h.findIndex(function(q){return q.key === m.key;});if(-1 !== p)return (p=h[p],(0,f.rM)(m).bc=p.bc,m);}).filter(function(m){return void 0 !== m;});return {m2b:h,wRb:k};};b.pCa=c;},23176:function(r,b,a){var l,f,k,d,g,n;function c(h,m){h=f.Pe.call(this,h,"ManifestParserConfigImpl") || this;h.og=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.XHa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(5614);n=a(72574);fa(c,f.Pe);Xa.Object.defineProperties(c.prototype,{uaa:{configurable:!0,enumerable:!0,get:function(){return [];}},Xma:{configurable:!0,enumerable:!0,get:function(){return "";}},Bja:{configurable:!0,enumerable:!0,get:function(){return [];}},Aja:{configurable:!0,enumerable:!0,get:function(){return [];}},ana:{configurable:!0,enumerable:!0,get:function(){return "";}},npa:{configurable:!0,enumerable:!0,get:function(){return 0;}},uO:{configurable:!0,enumerable:!0,get:function(){return this.og.uO.da(n.$r);}},fu:{configurable:!0,enumerable:!0,get:function(){return this.og.fu;}},xTa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.lO,"supportedAudioTrackTypes")],a.prototype,"uaa",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"Xma",null);r.__decorate([d.config(d.Mya,"cdnIdWhiteList")],a.prototype,"Bja",null);r.__decorate([d.config(d.Mya,"cdnIdBlackList")],a.prototype,"Aja",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"ana",null);r.__decorate([d.config(d.zz,"imageSubsResolution")],a.prototype,"npa",null);r.__decorate([d.config(d.zz,"timedTextSimpleFallbackThreshold")],a.prototype,"uO",null);r.__decorate([d.config(d.lO,"timedTextProfiles")],a.prototype,"fu",null);r.__decorate([d.config(d.lO,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"xTa",null);a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.sl)),r.__param(1,(0,l.l)(g.iJ))],a);b.XHa=a;},83081:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y){this.zf=t;this.config=w;this.qua=v;this.Eya=y;}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(43185);d=a(82409);g=a(71420);n=a(85696);h=a(6795);m=a(77939);p=a(44858);q=a(17950);a=a(77601);c.prototype.create=function(t){var w,v;w=this.zf.$a("ManifestParser",t);v=new d.pCa(w,this.config);return new n.$Ha(v,new g.bOa(w,this.config,t,this.qua),new h.wOa(w,t,this.Eya),new m.fBa(w,this.config,t),new p.$Oa(w));};u=c;u=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.YHa)),r.__param(2,(0,l.l)(q.CLa)),r.__param(3,(0,l.l)(a.vOa))],u);b.ZHa=u;},85696:function(r,b,a){var l;function c(f,k,d,g,n){this.Cja=f;this.dya=k;this.Y6b=d;this.iS=g;this.mgb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ha=void 0;l=a(64274);c.prototype.K8a=function(f){var k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B;g=f.Fa;n={xf:null !== (d=null === (k=g.VA) || void 0 === k?void 0:k.Tp) && void 0 !== d?d:"",wC:g.Qpa?"ads":"content"};h=!!g.NW;k=this.Cja.I8a(g.qk,g.ri);d=this.dya.N8a(n,g.iI);f=this.Y6b.YWb(g.a7b);m=h?this.iS.H8a(n,g.Qs,d):this.iS.RWb(n,g.Qs,g.media,d);n=this.mgb.ZWb(n,g.lu);p=n[0];q=this.iS.evb(m) || m.find(function(C){return h?C.trackId === g.NW.np:C.lG === g.g4[0].np;}) || m[0];u=this.dya.s6b(q.Wg) || d.find(function(C){return h?C.trackId === g.NW.vO:C.lG === g.g4[0].Ddb;}) || q.Wg[0];t=this.mgb.UWb(g.lu);w=g.Ed;v=g.hyb;y=g.IB;x=g.Nk;z=g.Qs.findIndex(function(C){return C.Xf == q.trackId;});A=g.lu.findIndex(function(C){return C.Xf == p.trackId;});B=g.iI.findIndex(function(C){return C.Xf == u.trackId;});return {Tt:t,kg:k,ai:m,xw:n,Wg:d,yz:f,Ed:w,r2b:v,rG:y,Nk:x,KCb:z,QCb:A,PCb:B,h4:p,PS:q,QS:u};};c.prototype.HNb=function(f,k,d){var g,n,h,m,p,q;g=this;m=this.Cja.GNb(f.Fa.qk,f.Fa.ri,d.Fa.qk,d.Fa.ri);p=m.m2b;m=m.wRb;(0,l.rM)(f.Fa).qk=p;(0,l.rM)(f.Fa).ri=m;k.kg=this.Cja.I8a(p,m);q={xf:null !== (h=null === (n=d.Fa.VA) || void 0 === n?void 0:n.Tp) && void 0 !== h?h:"",wC:d.Fa.Qpa?"ads":"content"};d=d.Fa;n=d.Qs;d.iI.forEach(function(u){var t;if(u.Wf){t=g.pab(f.Fa.iI,k.Wg,u,function(w){return g.dya.N8a(q,[w])[0];});t && k.ai.forEach(function(w){var v;w=w.Wg;v=w.findIndex(function(y){return y.trackId === t.trackId;});-1 !== v && (w[v]=t);});}});n.forEach(function(u){u.Wf && g.pab(f.Fa.Qs,k.ai,u,function(t){return g.iS.H8a(q,[t],k.Wg)[0];});});return {X:f,Bc:k};};c.prototype.w1b=function(f,k){return this.iS.PGb(f,k);};c.prototype.pab=function(f,k,d,g){var n,h,m,p;n=f.findIndex(function(q){return q.Xf === d.Xf;});h=-1 !== n?f[n]:void 0;m=k.findIndex(function(q){return q.trackId === d.Xf;});p=-1 !== m?k[m]:void 0;if(h && !h.Wf && p && !p.Wf)return (g=g(d),f[n]=d,k[m]=g);};b.$Ha=c;},44236:function(r,b){function a(c){this.Bc=c;this.Nb=JSON.stringify(this.vKb());}Object.defineProperty(b,"__esModule",{value:!0});b.cIa=void 0;a.prototype.vKb=function(){var c;c=[];(!this.Bc.kg || 0 >= this.Bc.kg.length) && c.push({error:"No CDN."});this.Bc.PS || c.push({error:"No default audio track.",foundTracks:this.Gna(this.Bc.ai)});this.Bc.h4 || c.push({error:"No default video track.",foundTracks:this.Gna(this.Bc.xw)});this.Bc.QS || c.push({error:"No default subtitle track.",foundTracks:this.Gna(this.Bc.Wg)});return c;};a.prototype.Gna=function(c){return c && 0 < c.length?c.map(function(l){return l.trackId;}):"No tracks found.";};b.cIa=a;},28518:function(r,b,a){var l;function c(f){this.log=f;}Object.defineProperty(b,"__esModule",{value:!0});b.XP=void 0;l=a(6305);c.prototype.Ieb=function(f,k){var d,g;d=this;if(!f)return (this.log.warn("There are no media streams for " + k.type + " track - " + k.trackId),[]);g=f.map(function(n){var h,m,p,q,u,t,w,v;v=new l.MediaStream(k,k.type,n.Lm,n.bitrate,n.xb,n.size,d.xJb(n.urls),n.YA,n.VZa / n.UZa,n.ii,n.Di);v.m3b(n.Dab,n.Qva,n.a9a,n.$8a);v.A2b(null !== (h=n.aCb) && void 0 !== h?h:void 0,null !== (m=n.bCb) && void 0 !== m?m:void 0,null !== (p=n.$Bb) && void 0 !== p?p:void 0,null !== (q=n.ZBb) && void 0 !== q?q:void 0,null !== (u=n.a9a) && void 0 !== u?u:void 0,null !== (t=n.$8a) && void 0 !== t?t:void 0);k.Nk && (v.Nk=k.Nk);n.xF && (v.xF=null !== (w=n.xF) && void 0 !== w?w:void 0);n.YA && (v.Cd=n.YA);return v;});g.sort(function(n,h){return n.bitrate - h.bitrate;});g.forEach(function(n,h){n.lower=g[h - 1];n.Igc=g[h + 1];});return g;};c.prototype.xJb=function(f){return f.reduce(function(k,d){k[d.xg]=d.url;return k;},{});};b.XP=c;},71420:function(r,b,a){var l,f,k,d;function c(g,n,h,m){this.log=g;this.config=n;this.j=h;this.qua=m;}Object.defineProperty(b,"__esModule",{value:!0});b.bOa=void 0;l=a(75568);f=a(22365);k=a(35128);d=a(14423);c.prototype.N8a=function(g,n){var h;h=this;n=n.map(function(m){var p,q,u,t;u=h.O6b(m);m.At || !m.Wf || u && 0 < u.length || h.log.error("track without downloadables",h.sKb(m));t={};0 < u.length && (t=u[0],t.profile == l.qm.aJ && (t=h.W1b(u),!1));m=h.qua(h.j,m.Xf,m.id,null !== (p=m.bc) && void 0 !== p?p:-1,null !== (q=m.Wf) && void 0 !== q?q:!0,g,t.Vb,t.urls || [],m.language,m.YB,k.X0[m.vh.toLowerCase()] || k.Po.gJ,m.YH,m.variant,m.GC.toUpperCase(),t.profile,h.DKb(t) || ({}),m.At,m.Y6,m.a7,m.ut);h.log.trace("Transformed timed text track",m);return m;});this.log.trace("Transformed timed text tracks",{Count:n.length});return n;};c.prototype.s6b=function(g){var n,h;n=this;h=this.config.ana;if(h){if(g=la(g.filter(function(m){return m.te == h || m.trackId == h;})).next().value)return g;}else if(this.j.n5 && (g=la(g.filter(function(m){return m.trackId == n.j.n5;})).next().value))return g;};c.prototype.O6b=function(g){var n,h;n=this;h=g.PXa;g=Object.entries(g.Kya || ({})).map(function(m){var p;p=la(m);m=p.next().value;p=p.next().value;return {Vb:h[m],profile:m,size:p.size || 0,priority:n.yJb(m,p),offset:p.$ra || 0,rXb:p.width,Z8a:p.height,urls:p.urls};});g.sort(function(m,p){return m.priority - p.priority;});return g;};c.prototype.yJb=function(g,n){var h,m;h=this.config.fu.indexOf(g);n=n.size;m=this.config.uO;return g === l.qm.kca && 0 < m && n > m?this.config.fu.length + 1:0 <= h?h:this.config.fu.length;};c.prototype.DKb=function(g){if(g.profile === l.qm.aJ)return {offset:g.offset,length:g.size,lk:{width:g.rXb,height:g.Z8a}};};c.prototype.W1b=function(g){var n,h;n=this.config.npa || d.sfa.Y0a();h=la(g.filter(function(m){return m.profile === l.qm.aJ;}).filter(function(m){return m.Z8a === n;})).next().value;if(h)return h;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:f.Fu.height,intendedResolution:n});return g[0];};c.prototype.sKb=function(g){return {isNone:g.At,isForced:g.Y6,bcp47:g.language,id:g.Xf};};b.bOa=c;},6795:function(r,b){function a(c,l,f){this.log=c;this.j=l;this.Eya=f;}Object.defineProperty(b,"__esModule",{value:!0});b.wOa=void 0;a.prototype.YWb=function(c){var l;l=this;c=(c || []).filter(function(f){return f.urls && 0 < f.urls.length;}).map(function(f){return l.Eya(l.j,f.id,f.height,f.width,f.uXb,f.vXb,f.size,f.ut,{unknown:f.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(f,k){return f.size - k.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.wOa=a;},44858:function(r,b,a){var l,f,k,d;function c(g){return f.XP.call(this,g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Oa=void 0;l=a(45266);f=a(28518);k=a(51344);d=a(35128);fa(c,f.XP);c.prototype.ZWb=function(g,n){var h,m;h=this;n=la((0,l.sC)(function(p){return p.streams && 0 < p.streams.length;},n));m=n.next().value;n.next().value.forEach(function(p){return h.log.warn("Video track is missing streams",{trackId:p.Xf});});n=m.map(function(p){var q;q=p.vh;q=Object.assign(Object.assign({},g),{type:k.Vj.video,trackId:p.Xf,lG:p.CO,vh:d.X0[q.toLowerCase()] || d.Po.gJ,GC:q,streams:[],sg:{},BW:p.BW});q.streams=h.Ieb(p.streams,q);h.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!n.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:n.length});return n;};c.prototype.UWb=function(g){var n;n=g.map(function(h){return h.BW;}).filter(Boolean);n=[].concat.apply([],ca(n)).map(function(h){return h.wa;});g=g.map(function(h){return h.yla;}).filter(Boolean).map(function(h){return h.wa;});return 0 < n.length?n:g;};b.$Oa=c;},81737:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.X=void 0;r=a(22674);c=a(99070);l=a(49745);b.X=new r.dd(function(f){f(l.JD).to(c.WHa).ha();});},60042:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UHa="ManifestEnricherSymbol";},17398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YI="ManifestFactorySymbol";},49745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JD="ManifestFetcherSymbol";},91622:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wBa="BookmarkSymbol";},72516:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uBa="BookmarkConfigSymbol";},81364:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tBa="BookmarkConfigParserSymbol";},66393:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.iK=void 0;r=a(22674);c=a(91622);l=a(72516);f=a(81364);k=a(63143);d=a(25293);g=a(12563);b.iK=new r.dd(function(n){n(c.wBa).to(k.vBa).ha();n(l.uBa).to(d.rBa).ha();n(f.tBa).to(g.sBa).ha();});},25293:function(r,b,a){var l,f;function c(k){this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;r=a(5163);l=a(22674);a=a(4203);c.prototype.Jna=function(){return this.NF().Gvb;};c.prototype.Kna=function(){return this.NF().Hvb;};c.prototype.ZJb=function(){return this.NF().Ivb;};c.prototype.rna=function(){return this.NF().NTa;};c.prototype.NF=function(){return this.config();};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Yb))],f);b.rBa=f;},12563:function(r,b,a){var l,f,k;function c(d){this.zb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.sBa=void 0;r=a(5163);l=a(22674);f=a(42207);k=a(5021);c.prototype.c5b=function(d,g){var n,h;n=parseFloat(d);h=0;"%" === d[d.length - 1] && this.zb.Zj(n)?h=Math.round(n * g.da(k.pa) / 100):(d=parseInt(d),this.zb.ZR(d) && (h=d));return (0,k.Ob)(Math.min(h,g.da(k.pa)));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Qf))],a);b.sBa=a;},63143:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q){this.e3=m;this.zb=p;this.Fvb=q;this.la=h.$a("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.vBa=void 0;r=a(5163);l=a(22674);f=a(72516);k=a(81364);d=a(87386);g=a(42207);n=a(5021);c.prototype.ztb=function(h){var m,p;m=h.bb.playbackState && h.bb.playbackState.currentTime;p=this.fJb(h.P);m=this.zb.pF(m)?(0,n.Ob)(m):p;p=0;this.zb.pg(m)?(this.la.info("Overriding bookmark",{From:h.Bz.da(n.pa),To:m.da(n.pa)}),m=Object.assign({},h,{Bz:m})):m=h;h.gd.aa && (h=h.gd.Sna(h.Bz.da(n.pa)),m=Object.assign({},m,{Bz:(0,n.Ob)(h.zl),xC:(0,n.Ob)(h.xC)}),p=h.eXa);return m.Bz.cqa()?(this.la.trace("Ignoring bookmark because it's negative"),(0,n.Ob)(p)):this.ONb(m)?(this.la.trace("Ignoring bookmark because it's too close to beginning"),(0,n.Ob)(p)):this.NNb(m)?(this.la.trace("Ignoring bookmark because it's too close to end"),(0,n.Ob)(p)):this.MNb(m)?(this.la.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,n.Ob)(p)):m.Bz;};c.prototype.ONb=function(h){return 0 > h.Bz.Jk(this.Jna(h));};c.prototype.Jna=function(h){return this.OTa(this.e3.Jna(),h.xC);};c.prototype.NNb=function(h){return 0 < h.Bz.Jk(this.Kna(h));};c.prototype.Kna=function(h){var m;m=h.bb.qg?this.e3.ZJb():this.e3.Kna();return h.xC.qa(this.OTa(m,h.xC));};c.prototype.MNb=function(h){return 0 < h.Bz.Jk(this.FJb(h));};c.prototype.FJb=function(h){return h.xC.qa((0,n.Ob)(h.rC));};c.prototype.fJb=function(h){var m;h=this.e3.rna()[h];m=-1;this.zb.ip(h)?m=parseInt(h):this.zb.Zj(h) && (m=h);if(this.zb.ZR(m))return (0,n.Ob)(m);};c.prototype.OTa=function(h,m){return this.Fvb.c5b(h,m);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.ab)),r.__param(1,(0,l.l)(f.uBa)),r.__param(2,(0,l.l)(g.Qf)),r.__param(3,(0,l.l)(k.tBa))],a);b.vBa=a;},34029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SBa="CDMAttestedDescriptorProvider";},6498:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.gUa=void 0;r=a(22674);c=a(34029);l=a(28419);b.gUa=new r.dd(function(f){f(c.SBa).to(l.RBa).ha();});},28419:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t,w,v,y){this.config=q;this.nC=t;this.profile=w;this.Jaa=v;this.vS=y;this.log=u.$a("CDMAttestedDescriptor");this.B_a(m.Cu.lQ);}Object.defineProperty(b,"__esModule",{value:!0});b.RBa=void 0;r=a(5163);l=a(22674);f=a(4203);k=a(87386);d=a(97996);g=a(70865);n=a(71501);h=a(2492);m=a(34231);p=a(24735);c.prototype.B_a=function(q){var u;u=this;return this.Jaa.W$(q)?this.config().JEb?this.z_a().then(function(t){if(t)return (!1,Promise.resolve(void 0));u.Q4a || (!1,u.Q4a=u.vS.qoa(p.xh.wn));return u.Q4a;}).catch(function(t){u.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.mz.close();return null === t || void 0 === t?void 0:t.Dja;}).then(function(t){return Promise.all([Promise.resolve(t),u.z_a()]);}).then(function(t){var w;t=la(t);w=t.next().value;if(t.next().value)!1;else return w;}):this.nC().then(function(t){t.KV.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.z_a=function(){var q;q=this;return this.nC().then(function(u){return (u=u.KV.getServiceTokens(q.profile)) && u.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Yb)),r.__param(1,(0,l.l)(k.ab)),r.__param(2,(0,l.l)(d.bQ)),r.__param(3,(0,l.l)(n.lJ)),r.__param(4,(0,l.l)(g.Z0)),r.__param(5,(0,l.l)(h.tZ))],a);b.RBa=a;},97791:function(r,b,a){var l,f;function c(k){this.GFb=k;this.D5a={Mm:"drmType",Kfc:"drmVersion",expiration:"expiration",P:"movieId",kn:"packageId",duration:"duration",Ed:"playbackContextId",g4:["defaultTrackOrderList",{wM:"mediaId",MO:"videoTrackId",Ddb:"subtitleTrackId",np:"audioTrackId",yic:"preferenceOrder"}],Ofc:["eligibleABTestMap",{jj:f.jj}],Gec:["badgingInfo",{Ffc:"dolbyDigitalAudio",Dgc:"hdrVideo",Gfc:"dolbyVisionVideo",Vjc:"ultraHdVideo","3dVideo":"3dVideo",Efc:"dolbyAtmosAudio",wec:"assistiveAudio",Wic:"sdVideo",Cgc:"hdVideo"}],type:"type",Bec:["audioTextShortcuts",{id:"id",np:"audioTrackId",Zdb:"textTrackId"}],qic:"partiallyHydrated",g6a:"maxRecommendedAudioRank",h6a:"maxRecommendedTextRank",Nk:"drmContextId",YMb:"hasDrmProfile",WMb:"hasClearProfile",IB:"hasDrmStreams",o6:"hasClearStreams",ri:["locations",{bc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],qk:["servers",{id:"id",name:"name",type:"type",bc:"rank",w5a:"lowgrade",TDb:["dns",{host:"host",MOb:"ipv4",NOb:"ipv6",HHb:"forceLookup"}],key:"key"}],Qs:["audio_tracks",{type:"type",YH:"subType",variant:"variant",vh:"trackType",Xf:"new_track_id",CO:"track_id",sZb:"profileType",O4b:"stereo",profile:"profile",channels:"channels",language:"language",uxb:"channelsFormat",TX:"surroundFormatLabel",YB:"languageDescription",LDb:"disallowedSubtitleTracks",hXa:"defaultTimedText",isNative:"isNative",At:"isNoneTrack",streams:["streams",{Lm:"downloadable_id",size:"size",YA:"content_profile",vh:"trackType",bitrate:"bitrate",ii:"isDrm",urls:["urls",{xg:"cdn_id",url:"url",G7:"liveOcaCapabilities"}],lUb:"new_stream_id",type:"type",channels:"channels",uxb:"channelsFormat",TX:"surroundFormatLabel",language:"language",zec:"audioKey",PTb:["moov",{size:"size",offset:"offset"}],sk:["sidx",{size:"size",offset:"offset"}],v4b:["ssix",{size:"size",offset:"offset"}],Di:"tags",t0b:"representationId"}],ryb:"codecName",GC:"rawTrackType",id:"id",bc:"rank",Wf:"hydrated",eVb:"offTrackDisallowed"}],lu:["video_tracks",{vh:"trackType",Xf:"new_track_id",type:"type",CO:"track_id",YMb:"hasDrmProfile",WMb:"hasClearProfile",IB:"hasDrmStreams",o6:"hasClearStreams",cG:"groupName",streams:["streams",{Lm:"downloadable_id",size:"size",YA:"content_profile",vh:"trackType",xF:"drmHeaderId",bitrate:"bitrate",ii:"isDrm",urls:["urls",{xg:"cdn_id",url:"url",G7:"liveOcaCapabilities"}],lUb:"new_stream_id",type:"type",sic:"peakBitrate",FDb:"dimensionsCount",GDb:"dimensionsLabel",a9a:"pix_w",$8a:"pix_h",Dab:"res_w",Qva:"res_h",aCb:"crop_x",bCb:"crop_y",$Bb:"crop_w",ZBb:"crop_h",VZa:"framerate_value",UZa:"framerate_scale",Tcb:"startByteOffset",xb:"vmaf",PTb:["moov",{size:"size",offset:"offset"}],sk:["sidx",{size:"size",offset:"offset"}],v4b:["ssix",{size:"size",offset:"offset"}],FH:["segmentVmaf",{offset:"offset",xb:"vmaf"}],Di:"tags",t0b:"representationId"}],sZb:"profileType",O4b:"stereo",profile:"profile",FDb:"dimensionsCount",GDb:"dimensionsLabel",rjc:["snippets",{jj:[f.jj,{qjc:"snippetSpec",ta:"startTimeMs",va:"endTimeMs"}]}],yla:["drmHeader",{wa:"bytes",Qxb:"checksum",xF:"drmHeaderId",eo:"keyId",lk:["resolution",{height:"height",width:"width"}]}],BW:["prkDrmHeaders",{wa:"bytes",Qxb:"checksum",xF:"drmHeaderId",eo:"keyId",lk:["resolution",{height:"height",width:"width"}]}],Wq:"flavor",Rgc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",d9a:"pixelAspectX",e9a:"pixelAspectY",xhc:"maxCroppedWidth",whc:"maxCroppedHeight",yhc:"maxCroppedX",zhc:"maxCroppedY",Ora:"max_framerate_value",Nra:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Qhc:"minCroppedWidth",Phc:"minCroppedHeight",Rhc:"minCroppedX",Shc:"minCroppedY",Qg:["license",{AQb:"licenseResponseBase64",Cic:"providerSessionToken",$ic:"secureStopExpected",Jfc:"drmSessionId",links:["links",{}]}]}],VA:["cdnResponseData",{KH:"sessionABTestCell",Tp:"pbcid"}],up:["choiceMap",{xe:"initialSegment",type:"type",J:"viewableId",O:["segments",{jj:[f.jj,{ta:"startTimeMs",va:"endTimeMs",next:["next",{jj:[f.jj,{weight:"weight"}]}],Eb:"defaultNext",Tq:"exitZones"}]}]}],Hm:["contentPlaygraph",{ca:["playgraph",{xe:"initialSegment",O:["segments",{jj:[f.jj,{J:"viewableId",ta:"startTimeMs",va:"endTimeMs",next:["next",{jj:[f.jj,{weight:"weight"}]}],Eb:"defaultNext"}]}]}],sjc:["startIdent",{Sgc:"identToken",J:"viewableId"}]}],media:["media",{id:"id",Gd:["tracks",{fa:"AUDIO",Ga:"TEXT",Y:"VIDEO"}]}],NW:["recommendedMedia",{MO:"videoTrackId",np:"audioTrackId",vO:"timedTextTrackId"}],iI:["timedtexttracks",{vh:"trackType",Xf:"new_track_id",type:"type",YH:"subType",variant:"variant",GC:"rawTrackType",YB:"languageDescription",language:"language",id:"id",At:"isNoneTrack",Y6:"isForcedNarrative",PXa:["downloadableIds",{}],Vec:["cdnlist",{id:"id",name:"name",type:"type",bc:"rank",w5a:"lowgrade",TDb:["dns",{host:"host",MOb:"ipv4",NOb:"ipv6",HHb:"forceLookup"}],key:"key"}],Kya:["ttDownloadables",{jj:[f.jj,{id:"id",size:"size",Hjc:"textKey",Bgc:"hashValue",Agc:"hashAlgo",Zgc:"isImage",$ra:"midxOffset",C6a:"midxSize",height:"height",width:"width",vla:["downloadUrls",{}],urls:["urls",{url:"url",xg:"cdn_id",G7:"liveOcaCapabilities"}]}]}],a7:"isLanguageLeftToRight",ut:"headIdentDuration",bc:"rank",Wf:"hydrated"}],a7b:["trickplays",{Lm:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",vXb:"pixelsAspectY",uXb:"pixelsAspectX",width:"width",height:"height",ut:"headIdentDuration"}],Cgb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],Ifc:"dpsid",qg:"isBranching",ikc:"viewableType",Qpa:"isAd",cM:"isSupplemental",hyb:"clientIpAddress",Yjc:"urlExpirationDuration",rhc:"manifestExpirationDuration",ujc:["steeringAdditionalInfo",{vjc:"steeringId",qec:"additionalGroupNames",wjc:["streamingClientConfig",{}]}],$b:"auxiliaryManifestToken",Ih:["liveMetadata",{x4:["downloadableIdToSegmentTemplateId",{jj:f.jj}],pX:["segmentTemplateIdToSegmentTemplate",{jj:[f.jj,{a3:"availabilityStartTime",uOb:"initialization",media:"media",M9a:"presentationTimeOffset",FX:"startNumber",duration:"duration",N:"timescale"}]}],dVb:"ocLiveWindowDurationSeconds",Q4:"eventAvailabilityOffsetMs",jma:"eventStartTime",R4:"eventEndTime",IDb:"disableLiveUi"}],Zf:"streamingType"};this.$Rb=Object.assign(Object.assign({},this.D5a),{op:["auxiliaryManifests",this.D5a],zm:["adverts",{de:["adBreaks",{pr:"locationMs",eh:"adBreakToken",Xe:["ads",{id:"id",ta:"startTimeMs",va:"endTimeMs",Caa:["timedAdEvents",{event:"event",cv:"adEventToken",lya:"timeMs"}],FA:["actionAdEvents",{start:["start",{event:"event",cv:"adEventToken"}],complete:["complete",{event:"event",cv:"adEventToken"}],stop:["stop",{event:"event",cv:"adEventToken"}]}],yt:"is3pVerificationEnabled",pO:"thirdPartyVerificationToken"}],Fha:["actionAdBreakEvents",{complete:["complete",{event:"event",cv:"adEventToken"}]}],X2:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.THa=void 0;r=a(5163);l=a(22674);f=a(90030);c.prototype.cL=function(k){this.GFb.cL(k,this.$Rb);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.nEa))],a);b.THa=a;},47930:function(r,b,a){var l,f,k,d,g;function c(n,h){this.V4a=n;this.ZRb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.VHa=void 0;r=a(5163);l=a(22674);f=a(81025);k=a(60042);d=a(31149);g=a(36129);c.prototype.create=function(n){var h,m,p,q;h=this;if(n && !this.qPb(n)){if(this.vPb(n))throw d.Mc.H9b(g.V.GD,g.S.cob,n);q=this.V4a();q.Qha(n.links);this.ZRb.cL(n);return {Fa:n,oi:q,Zpa:!1,Ypa:!1,op:null !== (p=null === (m=n.op) || void 0 === m?void 0:m.map(function(u){var t;t=h.V4a();t.Qha(u.links);return {Fa:u,oi:t,Zpa:!1,Ypa:!1,op:[]};})) && void 0 !== p?p:[]};}};c.prototype.vPb=function(n){return ("type" in n) && "muxed" === n.type;};c.prototype.qPb=function(n){return ("runtime" in n) && !!n.runtime;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.pKa)),r.__param(1,(0,l.l)(k.UHa))],a);b.VHa=a;},99070:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u,t,w,v,y,x,z){this.Sf=t;this.F5a=v;this.qV=x;this.sa=z;this.QW=new Map();this.log=u.$a("ManifestFetcher");this.jg=w.jg;this.rwb=y().ZEb;}Object.defineProperty(b,"__esModule",{value:!0});b.WHa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(30869);d=a(31149);g=a(87386);n=a(5021);h=a(4203);m=a(72639);p=a(18148);a=a(17398);c.prototype.jy=function(u,t,w){var v;v=this;t=void 0 === t?!0:t;w && this.htb(u.J,w);return t && this.n6(u.J)?this.x5(u.J).catch(function(){return v.wab(u,t);}):this.wab(u,t);};c.prototype.n6=function(u){return this.jg.nU(u,"manifest");};c.prototype.MX=function(u,t){var w;w=this;this.rwb && this.jg.setData(u,"manifest",t,function(){return w.IMb(u,t?Promise.resolve(t):void 0);});};c.prototype.x5=function(u){var t;t=this;return this.jg.getData(u,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.Fa.expiration <= t.sa.fe.da(n.pa))throw (t.jg.clearData(u,"manifest"),Error("Manifest has expired"));return w;});};c.prototype.IMb=function(u,t){var w;null === (w=this.QW.get(u)) || void 0 === w?void 0:w.forEach(function(v){return v(t);});this.QW.delete(u);};c.prototype.htb=function(u,t){this.QW.has(u) || this.QW.set(u,[]);this.QW.get(u).push(t);};c.prototype.wab=function(u,t){var w,v,y;w=this;this.log.trace("Requesting a new manifest",u.J);v=this.Sf.Jb().da(n.pa);y=(u.Cf && !u.Cf.eh?this.k7b(u).catch(function(x){w.log.warn(x.message);return w.F5a.yf(w.log,u);}):this.F5a.yf(this.log,u)).then(function(x){var z,A;if(x.$x && (null === (z=u.Cf) || void 0 === z || !z.eh)){A=x.$x;z={M$:Promise.resolve(A),source:"manifest"};delete x.$x;w.jg.setData(u.J,"ldl",z,function(){A.close().catch(function(B){w.log.info("Unable to cleanup LDL session.",B);});});}u.Wq === m.ml.fJ && (x.vH=v,x.EN=w.Sf.Jb().da(n.pa));return x;}).catch(function(x){t && w.MX(u.J,void 0);w.log.error("Failed to fetch manifest",d.Mc.we(x));throw x;});t && this.MX(u.J,y);return y;};c.prototype.k7b=function(u){var t;t=this;return new Promise(function(w,v){var y,x,z,A,B;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",u.J);A=null === (y=u.Cf) || void 0 === y?void 0:y.mW;if(!A)return v(Error("Parent manifest does not exist."));B=null === (x=u.Cf) || void 0 === x?void 0:x.$b;y=null === (z=A.op) || void 0 === z?void 0:z.find(function(C){return C.P === u.J && (void 0 === B || C.$b === B);});if(!y)return v(Error("Auxiliary manifest not found in parent manifest."));w(t.qV.create(y));});};q=c;q=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.ab)),r.__param(1,(0,l.l)(f.Lc)),r.__param(2,(0,l.l)(p.dca)),r.__param(3,(0,l.l)(m.pea)),r.__param(4,(0,l.l)(h.Yb)),r.__param(5,(0,l.l)(a.YI)),r.__param(6,(0,l.l)(k.ag))],q);b.WHa=q;},16520:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qh=void 0;r=b.Qh || (b.Qh={});r[r.Qcb=1]="sourceopen";r[r.Qn=2]="currentTimeChanged";r[r.mX=3]="seeked";r[r.S4a=5]="licenseadded";r[r.Ocb=6]="sourceBufferAdded";r[r.b9=7]="onNeedKey";r[r.F$a=8]="readyStateChanged";},12653:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.a7a=void 0;r=a(22674);c=a(21801);l=a(59586);b.a7a=new r.dd(function(f){f(c.Sda).to(l.OIa).ha();});},21801:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sda=b.Rlb=void 0;b.Rlb=function(){};b.Sda="MseConfigSymbol";},59586:function(r,b,a){var l,f,k,d,g;function c(n){return f.Pe.call(this,n,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;r=a(5163);l=a(12501);f=a(64174);k=a(22674);d=a(83767);g=a(5021);fa(c,f.Pe);Xa.Object.defineProperties(c.prototype,{P6a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(5E3);}},i8a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(1E3);}},j8a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(1E3);}}});a=c;r.__decorate([l.config(l.ik,"minDecoderBufferMilliseconds")],a.prototype,"P6a",null);r.__decorate([l.config(l.ik,"optimalDecoderBufferMilliseconds")],a.prototype,"i8a",null);r.__decorate([l.config(l.ik,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"j8a",null);a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.sl))],a);b.OIa=a;},7826:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.nC=void 0;r=a(22674);c=a(50681);l=a(63390);f=a(97996);b.nC=new r.dd(function(k){k(c.Tda).to(l.PIa).ha();k(f.bQ).jY(function(d){return function(){return d.lb.get(c.Tda).YTb;};});});},97996:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bQ="MslProviderSymbol";},50681:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tda="MslReadyNotifierSymbol";},63390:function(r,b,a){var l;function c(){var f;f=this;this.ready=!1;this.YTb=new Promise(function(k){f.R0b=k;});}Object.defineProperty(b,"__esModule",{value:!0});b.PIa=void 0;r=a(5163);a=a(22674);c.prototype.ZTb=function(f){this.ready || (this.R0b(f),this.ready=!0);};c.prototype.Ev=function(){return this.ready;};l=c;l=r.__decorate([(0,a.U)()],l);b.PIa=l;},30698:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.i7a=void 0;r=a(22674);c=a(76698);l=a(32934);f=a(81438);k=a(59806);d=a(21941);g=a(55823);n=a(27E3);h=a(2571);m=a(17559);b.i7a=new r.dd(function(p){p(f.nPa).to(c.mPa).ha();p(l.zu).XC(function(){return ob._cad_global.http;});p(d.cJa).to(k.bJa).ha();p(g.dJa).gl(n.default);p(h.LFa).to(m.KFa).ha();});},2571:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LFa="HttpDispatcherSymbol";},32934:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zu=b.dQ=b.ResponseType=void 0;b.ResponseType={Text:1,Tdc:2,Vhb:3};b.dQ="OPEN_CONNECT_APPLIANCE";b.zu="LegacyHttpSymbol";},55823:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dJa="NetworkMonitorSymbol";},48004:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aJa="NetworkMonitorConfigSymbol";},21941:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cJa="NetworkMonitorFactorySymbol";},81438:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nPa="XhrFactorySymbol";},17559:function(r,b,a){var l,f,k;function c(d,g){this.Ge=g;this.la=d.$a("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.KFa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(32934);c.prototype.download=function(d,g){var n;n=this;g=void 0 === g?{j6a:0}:g;return new Promise(function(h,m){var q;function p(u){if(u.ia)return h(u.content);if(q === g.j6a)return m({Aa:u.Aa,Ym:u.Hl});q++;!1;n.Ge.download(d,p);}q=0;n.Ge.download(d,p);});};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(a.zu))],k);b.KFa=k;},40158:function(r,b,a){var l,f,k,d;function c(g,n){return k.Pe.call(this,g,void 0 === n?"NetworkMonitorConfigImpl":n) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ia=void 0;r=a(5163);l=a(22674);f=a(12501);k=a(64174);a=a(83767);fa(c,k.Pe);Xa.Object.defineProperties(c.prototype,{Qfb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([f.config(f.ed,"useNetworkMonitor")],d.prototype,"Qfb",null);d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.sl)),r.__param(1,(0,l.l)(a.uZ)),r.__param(1,(0,l.optional)())],d);b.$Ia=d;},59806:function(r,b,a){var l,f,k,d;function c(g,n,h){this.config=g;this.uRb=n;this.Jc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.bJa=void 0;r=a(5163);l=a(48004);f=a(22674);k=a(48159);a=a(55823);c.prototype.zBb=function(){if(this.config.Qfb)return this.Jc(this.uRb());};d=c;d=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(l.aJa)),r.__param(1,(0,f.l)(k.XIa)),r.__param(2,(0,f.l)(a.dJa))],d);b.bJa=d;},76698:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mPa=void 0;r=a(5163);a=a(22674);c.prototype.create=function(){return new XMLHttpRequest();};l=c;l=r.__decorate([(0,a.U)()],l);b.mPa=l;},10256:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q){this.log=h;this.UF=m;this.ez=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});l=a(36129);f=a(31276);k=a(74870);d=a(84408);g=a(2248);n=a(82100);c.prototype.Qg=function(h){var m,p;m=this;(this.context.ef || this.context.fk) && this.log.debug("Requesting a license",h);if(f.Ba.get(k.bh).XA(f.Ba.get(d.yq).decode("certificate"),h.uj[0].data)){m.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({Sk:[{sessionId:h.uj[0].sessionId,data:f.Ba.get(g.Zg).decode(n.VZ)}]});}else p=f.Ba.get(k.bh).XA(f.Ba.get(d.yq).decode("content"),h.uj[0].data)?Promise.resolve({Sk:[{sessionId:h.uj[0].sessionId,data:h.eo}]}):(function(){m.log.trace("Requesting license",{drmType:h.Mm});return m.UF(h).catch(function(q){m.log.error("Unable to get the Fairplay license",q);throw {code:l.V.UI,ec:q.ec,Vc:q.Vc,Nm:q.Nm,yj:q.message || q.yj,sB:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.yj),Xb:q};});})();return p;};c.prototype.release=function(h){var m;m=this;this.log.trace("Requesting stop data");return this.ez(h).catch(function(p){m.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.ec,extCode:p.Vc,edgeCode:p.Nm,message:p.message || p.yj});throw {ia:!1,code:l.V.Uea,ec:p.ec,Vc:p.Vc,Nm:p.Nm,yj:p.message || p.yj,message:"Unable to release the FairPlay license. " + (p.message || p.yj),Xb:p};});};r.exports=c;},7748:function(r,b,a){var l;function c(f,k,d,g){this.log=f;this.UF=k;this.ez=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.lPa=void 0;l=a(36129);c.prototype.Qg=function(f){var k;k=this;(this.context.ef || this.context.fk) && this.log.trace("Requesting license",{drmType:f.Mm});return this.UF(f).catch(function(d){k.log.error("Unable to get the Playready license",d);if(k.context.Zjc)throw d;throw {ia:!1,code:l.V.UI,ec:d.ec,Vc:d.Vc,Nm:d.Nm,yj:d.message || d.yj,sB:d.data,message:"Unable to send the Playready license request. " + (d.message || d.yj)};});};c.prototype.release=function(f){var k;k=this;this.log.trace("Requesting stop data");return this.ez(f).catch(function(d){k.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.ec,extCode:d.Vc,edgeCode:d.Nm,message:d.message || d.yj});throw {ia:!1,code:l.V.Uea,ec:d.ec,Vc:d.Vc,Nm:d.Nm,yj:d.message || d.yj,message:"Unable to release the PlayReady license. " + (d.message || d.yj)};});};b.lPa=c;ob._cad_global.WindowsDrmRequests=c;},71834:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.Hfa=void 0;c=a(36129);l=a(83989);f=a(88490);k=a(74870);d=a(6405);g=a(2248);n=a(56800);h=a(63156);(function(){var z;function m(A,B,C){var D;D=this;this.log=A;this.en=B || x.bind(this);this.context=C;this.oW=this.challenge=this.keySystem=this.o7=this.Db=this.mediaKeys=void 0;this.Xc={};this.Nqa=this.Jxa=!1;this.ZV=t.bind(this);this.oW=void 0;this.wza=new Promise(function(F,G){D.Tva=F;D.rva=G;});this.wza.catch(function(F){D.log.error("wait for license rejected",F);});l.ac.get(n.Jw).G5().then(function(F){(D.context.ef || D.context.fk) && D.log.debug("DRIVERINFO: ",F);}).catch(function(F){D.log.error("DRIVERINFO",F);});this.dn=function(F,G){D.rva(F,G);D.context.onerror(F,G);};this.bta=function(){D.Tva();};if(!(this instanceof m))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return l.ac.get(g.Zg);}function q(){return l.ac.get(k.bh);}function u(A){var B,C;B=l.ac.get(f.rfa);C="";A.forEach(function(D){C+="<KeyID>" + D + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.vdb(A));(this.context.ef || this.context.fk) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function t(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Db.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.Of.tq,z.eA.ds,B);this.Db=void 0;}function w(A,B,C){var F,G,E;for(var D=2;D < arguments.length;++D){;}D="";G=A.length;for(F=0;F < G;F++){E=A[F];0 < E && (D+=String.fromCharCode(E));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){E=arguments[F];if(0 > D.search(E))return;E="(?:[^:].*:|)" + E;G="[\\s\\S]*<" + E + "[^>]*>" + G + "</" + E + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function v(A,B,C,D){var F,G;F=A.target && A.target.sessionId;G=p().decode(w(A.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(C.context.ef || C.context.fk || C.context.Ez) && C.log.debug("LICENSE: License challenge",p().encode(G));C.o7=F;A={gf:B,messageType:"license-request",Mm:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",uj:[{data:G,sessionId:F}]};12 === C.state && (C.en("lc"),G={data:G,Mm:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.aH || (C.oW=G));C.context.rd.Qg(A).then(function(E){if(12 === C.state && (C.en("lr"),C.bta(),!C.context.aH))(C.pW=E.Sk[0].data,C.state=13,D({ia:!0,state:C.state}));else if(C.Db)return y(C,E.Sk[0].data,C.Db).then(function(){C.state=30;D({ia:!0,state:C.state});});}).catch(function(E){D(q().kC(E,{state:C.state}));});}function y(A,B,C){A.U6() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:p().encode(B)});return new Promise(function(D,F){try{A.Db.update(B);D(void 0);A.U6() && A.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(G){F({ia:!1,code:z.Of.p0,message:"Unable to update the EME.",Nb:q().we(G)});}});}function x(A){this.context.sa && (this.Xc[A]=this.context.sa.getTime(),this.log.trace("Milestone: " + A + ", " + this.Xc[A]));}z={Of:c.V,eA:c.S};m.prototype.CL=function(){return this.keySystem;};m.prototype.xfb=function(A,B){A.log && (this.log=A.log);A.en && (this.en=A.en);B.rd && (this.context.rd=B.rd);B.onerror && (this.context.onerror=B.onerror);};m.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):l.ac.get(n.Jw).SF()).then(function(C){B.en("lg");B.log.trace("Creating the media keys",{keySystem:C});B.keySystem=C;if(B.context.FW)C=Promise.reject({ia:!1,code:z.Of.sP,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new ob.MSMediaKeys(C);}catch(D){C=Promise.reject({ia:!1,code:z.Of.IJa,message:"create MSMediaKeys(" + C + ") failed",Nb:q().we(D)});break a;}try{B.context.$ && B.context.$.msSetMediaKeys(B.mediaKeys);}catch(D){C=Promise.reject({ia:!1,code:z.Of.eJ,message:"set MSMediaKeys failed",Nb:q().we(D)});break a;}C=Promise.resolve({ia:!0,mediaKeys:B.mediaKeys});}return C;});};m.prototype.close=function(){this.mediaKeys=void 0;this.context.$=void 0;if(this.Db){this.log.info("Closing the session",{sessionId:this.Db.sessionId});this.Db.removeEventListener("mskeyerror",this.ZV);try{this.Db.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Db=void 0;}};m.prototype.Qg=function(A,B,C){var D;if(1 < B.length)return Promise.reject({code:z.Of.MJa});if(0 === B.length)return Promise.reject({code:z.Of.LJa});B=B[0];D=this;D.context.ef && D.log.trace("LICENSE: Setting license");return D.context.FW?Promise.reject({ia:!1,code:z.Of.UDa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var E,I,M,L,K,O,H;try{I=function(J){D.Db && (D.Db.removeEventListener("mskeymessage",L),D.Db.removeEventListener("mskeyadded",K),D.Db.removeEventListener("mskeyerror",O),D.Db.addEventListener("mskeyerror",D.ZV));J.state=11;J.ia?F(J):(D.close(),G(J));};M=function(J){var N,R;N=[];R=Array.prototype.map.call(J,function(ka){return ka?String.fromCharCode(ka):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(R)N.push(R[1]);else {J=w(J,"KIDS");R=/VALUE="(.+?)">/g;for(var T=R.exec(J);null != T;){N.push(T[1]);T=R.exec(J);}}return N;};L=function(J){E && ob.clearTimeout(E);v(J,A,D,I);};K=function(J){(D.context.ef || D.context.fk) && D.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});I({ia:!0});};O=function(J){var N,R;E && ob.clearTimeout(E);if(J.target && J.target.error)(N=J.target.error.systemCode,R=J.target.error.code);N={code:z.Of.tq,ec:z.eA.ds,Vc:N?l.ac.get(d.Fw).JF(N,4):R,details:q().we(J),Xb:J.target && J.target.error,waa:N,S4:R};D.log.error("LICENSE: Received " + J.type + " event",{sessionId:D.Db && D.Db.sessionId,keySystem:J.target.keySystem,systemCode:N.waa,code:N.S4});D.en("le");D.dn && D.dn(z.Of.tq,N);I({ia:!1,code:z.Of.tq,ec:z.eA.ds,Vc:N.Vc,message:"Received a key error.",Nb:N.details,Xb:N.Xb});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.ef || D.context.fk) && D.log.debug("LICENSE: PSSH",p().encode(B));D.Hv || (D.Hv=M(B));if(C){H=u.call(D,D.Hv);D.Db=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),H);}else D.Db=D.mediaKeys.createSession("video/mp4",B,null);(D.context.ef || D.context.fk) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Db.keySystem,sessionId:D.Db.sessionId});D.Db.addEventListener("mskeymessage",L);D.Db.addEventListener("mskeyadded",K);D.Db.addEventListener("mskeyerror",O);D.context.Kqa && (E=ob.setTimeout(function(){I({ia:!1,code:z.Of.gQ,ec:z.eA.Wjb});},D.context.Kqa));}catch(J){G({code:z.Of.gQ,ec:z.eA.kl});}});})();};m.prototype.sH=function(){var A;(this.context.ef || this.context.fk) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.Qg(h.Tj.oda.om,A,!0);};m.prototype.F2=function(A){this.pW || this.log.error("pending license must exist at this point");this.context.aH=!0;try{A && (this.context.$=A,this.context.$.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ia:!1,code:z.Of.eJ,message:"setMediaKeys failed",Nb:q().we(B)});}return y(this,this.pW,this.Db);};m.prototype.RYa=function(A){var B,C;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));C={na:A.na,je:A.je};return new Promise(function(D,F){(function(){B.context.rd.release.call(B.context.rd,C).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={ia:!0};B.close();G.ia?D(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.o7,code:G.code,subCode:G.ec,extCode:G.Vc,edgeCode:G.Nm,message:G.yj});B.close();G.ia?D(G):F(G);});})();});};m.prototype.U6=function(){return this.context.ef || this.context.fk;};b.Hfa=m;ob._cad_global.WindowsEmeSession=b.Hfa;})();},99813:function(r,b,a){var v,y,x,z,A,B,C,D,F,G,E,I;function c(M,L,K){var O;O=this;this.log=M;this.en=L || w.bind(this);this.context=K;this.oW=this.challenge=this.keySystem=this.o7=this.mediaKeys=void 0;this.Xc={};this.mo=void 0;this.url="";this.Nqa=this.Jxa=!1;this.ZV=h.bind(this);this.mk=this.oW=void 0;this.wza=new Promise(function(H,J){O.Tva=H;O.rva=J;});this.dn=function(H,J){O.rva(H,J);O.context.onerror(H,J);};this.bta=function(){O.Tva();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function l(){return v.Ba.get(A.yq);}function f(){return v.Ba.get(z.Zg);}function k(){return v.Ba.get(y.bh);}function d(M){return (/com.apple.fps/).test(M) && !(/com.apple.fps.2_0/).test(M);}function g(M){var L;M=(function(K){var H,J;function O(N,R,T,ka){var sa,ia;sa=new Uint8Array("piff" == R?88:72);ia=new G.pP(sa);ia.Iz(12);ia.Hz("frma");ia.Hz(N);ia.Iz(20);ia.Hz("schm");ia.QY(0);ia.QY(0);ia.Hz(R);ia.Iz(T);"piff" == R?(ia.Iz(56),ia.Hz("schi"),ia.Iz(48),ia.Hz("uuid"),ia.PY([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(ia.Iz(40),ia.Hz("schi"),ia.Iz(32),ia.Hz("tenc"));ia.QY(0);ia.QY(0);ia.Iz(264);ia.PY(ka);return sa;}H=O("avc1","piff",65537,K);H=l().decode(f().encode(H));K=O("avc1",E.vu,65536,K);K=l().decode(f().encode(K));J=new Uint8Array(7 + H.length + 8 + K.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(H,7);J.set([34,44,10,32,32,32,32,34],7 + H.length);J.set(K,7 + H.length + 8);J.set([34,10,32,32,93],7 + H.length + 8 + K.length);return J;})(M);L=new Uint8Array(13 + M.length + 2);L.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);L.set(M,13);L.set([10,125],13 + M.length);return L;}function n(M){var L;M=M.subarray(14,30);M=String.fromCharCode.apply(null,M);M=f().decode(M);M=M.subarray(4);L=new Uint8Array(16);L.set(M);return L;}function h(M){var L;L=m(M);this.log.error("LICENSE Error: Received event: " + M.type,{sessionId:this.Db?this.Db.sessionId:void 0,keySystem:M.target.keySystem,systemCode:L.waa,code:L.S4});this.dn && this.dn(I.Of.tq,L);this.Db=void 0;}function m(M){var L,K;if(M.target.error)(L=M.target.error.systemCode,K=M.target.error.code);return {code:I.Of.tq,ec:I.eA.ds,Vc:L?v.Ba.get(x.Fw).JF(L,4):K,details:k().we(M),Xb:M.target.error,waa:L,S4:K};}function p(M,L,K,O){var H,J,N;H=M.target.sessionId;J=M.message;N=k().XA(J,l().decode("certificate"));K.Nqa=L === F.Tj.oda.wn;K.state=N?2:12;K.log.trace("LICENSE: Received event: " + M.type,{keySystem:M.target.keySystem,sessionId:H});(K.context.ef || K.context.fk || K.context.Ez) && K.log.debug("LICENSE: License challenge",f().encode(J));K.o7=H;M={eo:K.eo,gf:L,messageType:"license-request",Mm:(/clearkey/i).test(K.keySystem)?"clearkey":"fps",uj:[{data:J,sessionId:H}]};12 === K.state && (K.en("lc"),J={data:J,Mm:(/clearkey/i).test(K.keySystem)?"clearkey":"fps"},K.context.aH || (K.oW=J));K.context.rd.Qg(M).then(function(R){if(12 === K.state && (K.en("lr"),K.bta(),!K.context.aH))(K.pW=R.Sk[0].data,K.state=13,O({ia:!0,state:K.state}));else if(K.Db)return (R=t(K,N,R.Sk[0].data,K.Db),2 === K.state?R:R.then(function(){K.state=30;O({ia:!0,state:K.state});}));}).catch(function(R){O(k().kC(R,{state:K.state}));});}function q(M,L,K){L.log.trace("LICENSE: Received event: " + M.type,{keySystem:M.target.keySystem,sessionId:M.target.sessionId});K({ia:!0});}function u(M,L,K){var O;O=m(M);L.dn && L.dn(I.Of.tq,O);L.log.error("LICENSE Error: Received event: " + M.type,{sessionId:L.Db?L.Db.sessionId:void 0,keySystem:M.target.keySystem,systemCode:O.waa,code:O.S4});K({ia:!1,code:I.Of.tq,ec:I.eA.ds,Vc:O.Vc,message:"Received a key error.",Nb:O.details,Xb:O.Xb});}function t(M,L,K,O){O={sessionId:O.sessionId};M.U6() && (O.license=f().encode(K));M.log.trace("calling keysession update",O);return new Promise(function(H,J){function N(){M.Db.removeEventListener("webkitkeyadded",N);H(void 0);}try{L || M.Db.addEventListener("webkitkeyadded",N);M.Db.update(K);L && H(void 0);}catch(R){J({ia:!1,code:I.Of.p0,message:"Unable to update the EME.",e:R});}});}function w(M){this.Xc[M]=v.Ba.get(B.Lc).Jb().da(C.pa);this.log.trace("Milestone: " + M + ", " + this.Xc[M]);}Object.defineProperty(b,"__esModule",{value:!0});v=a(31276);b=a(36129);y=a(74870);x=a(6405);z=a(2248);A=a(84408);B=a(81918);C=a(5021);D=a(22365);F=a(63156);G=a(62082);E=a(82100);I={Of:b.V,eA:b.S};c.prototype.CL=function(){return this.keySystem;};c.prototype.xfb=function(M,L){M.log && (this.log=M.log);M.en && (this.en=M.en);L.rd && (this.context.rd=L.rd);L.onerror && (this.context.onerror=L.onerror);};c.prototype.create=function(M){var L;L=this;L.en("lg");L.log.trace("CREATE: Creating the media keys",{keySystem:M});L.keySystem=M;return L.context.FW?Promise.reject({ia:!1,code:I.Of.sP,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function K(){var O,H;O=k().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");H=O.lastChild;L.mk=O;L.context.$=D.Hg.createElement("VIDEO");H?L.mk.insertBefore(L.context.$,H):L.mk.appendChild(L.context.$);}return new Promise(function(O,H){function J(N){(L.context.ef || L.context.fk || L.context.Ez) && L.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{L.mediaKeys=new ob.WebKitMediaKeys(M);L.context.$.webkitSetMediaKeys(L.mediaKeys);O({ia:!0,mediaKeys:L.mediaKeys});}catch(R){L.log.error("CREATE: Exception on webkitSetMediaKeys",R);H({ia:!1,code:I.Of.gQ,Nb:k().we(R)});}}if(d(L.keySystem))try{L.mediaKeys=new ob.WebKitMediaKeys(M);L.context.$ && (L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.$.webkitSetMediaKeys(L.mediaKeys));O({ia:!0,mediaKeys:L.mediaKeys});}catch(N){H({ia:!1,code:I.Of.gQ,Nb:k().we(N)});}else (L.mediaKeys=new ob.WebKitMediaKeys(M),L.context.$?(L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.$.webkitSetMediaKeys(L.mediaKeys)):(K(),L.mo=new D.Yz(),L.mo.addEventListener("sourceopen",J),L.url=URL.createObjectURL(L.mo),L.context.$.src=L.url),O({ia:!0,mediaKeys:L.mediaKeys}));});})();};c.prototype.close=function(){this.Db && (this.log.info("Closing the session",{sessionId:this.Db.sessionId}),this.Db.removeEventListener("webkitkeyerror",this.ZV),this.Db.close(),this.Db=void 0);};c.prototype.Qg=function(M,L){var K;if(1 < L.length)return Promise.reject({code:I.Of.MJa});if(0 === L.length)return Promise.reject({code:I.Of.LJa});L=L[0];K=this;K.context.ef && K.log.trace("LICENSE: Setting license",{initData:f().encode(L)});return K.context.FW?Promise.reject({ia:!1,code:I.Of.UDa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(O,H){var N,R,T;function J(ka){K.Db && (K.Db.removeEventListener("webkitkeymessage",N),K.Db.removeEventListener("webkitkeyadded",R),K.Db.removeEventListener("webkitkeyerror",T),K.Db.addEventListener("webkitkeyerror",K.ZV));ka.ia?O(ka):(K.close(),H(ka));}N=function(ka){p(ka,M,K,J);};R=function(ka){q(ka,K,J);};T=function(ka){u(ka,K,J);};d(K.keySystem) && (K.eo=n(L),L=g(K.eo));K.log.trace("LICENSE: Executing prefix based EME");K.context.ef | K.context.fk && K.log.debug("LICENSE: PSSH",f().encode(L));K.Db=K.mediaKeys.createSession("video/mp4",L,null);(K.context.ef || K.context.fk) && K.log.debug("LICENSE: Created the media keys sessions",{keySystem:K.Db.keySystem,sessionId:K.Db.sessionId});K.Db.addEventListener("webkitkeymessage",N);K.Db.addEventListener("webkitkeyadded",R);K.Db.addEventListener("webkitkeyerror",T);});})();};c.prototype.sH=function(){var M;M=this;return M.Jxa?Promise.resolve({ia:!0}):new Promise(function(L,K){var H,J,N;function O(R){M.Db && (M.Db.removeEventListener("webkitkeymessage",H),M.Db.removeEventListener("webkitkeyadded",J),M.Db.removeEventListener("webkitkeyerror",N));R.ia?L(R):(K(R),M.close());}H=function(R){p(R,F.Tj.oda.om,M,O);};J=function(R){q(R,M,O);L({ia:!0});};N=function(R){u(R,M,O);};M.Nqa=!1;M.Db.addEventListener("webkitkeymessage",H);M.Db.addEventListener("webkitkeyadded",J);M.Db.addEventListener("webkitkeyerror",N);M.Db.update(l().decode("renew"));});};c.prototype.F2=function(M){this.pW || this.log.error("pending license must exist at this point");this.context.aH=!0;try{M && (this.context.$=M,this.log.trace("calling setmediakeys on video element"),this.context.$.webkitSetMediaKeys(this.mediaKeys));}catch(L){return new Promise(function(K,O){O({ia:!1,code:I.Of.eJ,message:"setMediaKeys failed",Nb:k().we(L)});});}return t(this,!1,this.pW,this.Db);};c.prototype.RYa=function(M){var L,K;L=this;L.log.trace("Releasing the license of the current session",JSON.stringify(M));L.Jxa=!0;K={na:M.na,je:M.je};return new Promise(function(O,H){(function(){L.context.rd.release.call(L.context.rd,K).then(function(){var J;L.log.trace("successfully released the license",JSON.stringify(M));J={ia:!0};J.ia?O(J):(L.close(),H(J));}).catch(function(J){L.log.error("RELEASE: Unable to get the release the license",{sessionId:L.Db?L.Db.sessionId:void 0,code:J.code,subCode:J.ec,extCode:J.Vc,edgeCode:J.Nm,message:J.yj});J.ia?O(J):(L.close(),H(J));});})();});};c.prototype.U6=function(){return this.context.ef || this.context.fk;};r.exports=c;},31360:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.R8a=void 0;r=a(22674);c=a(30650);l=a(71976);f=a(7605);k=a(17705);d=a(31071);g=a(91918);n=a(81025);h=a(23632);m=a(15348);p=a(17108);b.R8a=new r.dd(function(q){q(f.ax).to(k.fKa).ha();q(c.hKa).to(l.gKa).ha();q(n.rKa).to(h.qKa);q(n.pKa).Zd(function(u){return function(){return u.lb.get(n.rKa);};});q(d.NKa).to(g.MKa).ha();q(m.rea).to(p.JKa).ha();});},7605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ax="PboConfigSymbol";},30650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hKa="PboDispatcherSymbol";},81025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rKa="PboLinksManagerSymbol";b.pKa="PboLinksManagerFactorySymbol";},15348:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rea="PboPublisherSymbol";},31071:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NKa="PboRequestFactorySymbol";},49917:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bba="AdEventPboCommandSymbol";b.Aba="AdBreakEventPboCommandSymbol";},18880:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O,H,J,N,R,T,ka,sa;Object.defineProperty(b,"__esModule",{value:!0});b.uVa=void 0;r=a(22674);c=a(40953);l=a(30543);f=a(72639);k=a(86563);d=a(81378);g=a(13158);n=a(75014);h=a(39832);m=a(16257);p=a(46303);q=a(829);u=a(45830);t=a(87607);w=a(84860);v=a(35329);y=a(31149);x=a(36129);z=a(25546);A=a(69740);B=a(88951);C=a(83998);D=a(54949);F=a(62898);G=a(15153);E=a(70285);I=a(76427);M=a(36642);L=a(15614);K=a(95738);O=a(82306);H=a(7605);J=a(67658);N=a(3035);R=a(46320);T=a(595);ka=a(49917);sa=a(49449);b.uVa=new r.dd(function(ia){ia(C.ol).to(D.eKa);ia(c.tKa).to(l.sKa);ia(F.$Ja).to(G.ZJa);ia(E.bKa).to(I.aKa);ia(f.pea).to(k.uKa);ia(J.vKa).Zd(function(wa){return function(){var Aa;Aa=wa.lb.get(H.ax);return Aa && Aa.Vfb?wa.lb.resolve(R.OKa):wa.lb.resolve(N.wKa);};});ia(d.YJa).to(g.XJa);ia(n.LKa).to(h.KKa);ia(m.nKa).to(p.mKa);ia(q.oea).to(u.oKa);ia(t.CNa).to(w.BNa);ia(t.JNa).to(v.INa);ia(t.MGa).to(z.LGa);ia(t.xNa).to(A.wNa);ia(t.kEa).to(B.jEa);ia(L.lnb).to(M.xKa);ia(K.lKa).to(O.kKa);ia(ka.Bba).to(T.aAa);ia(ka.Aba).to(sa.Vza);ia(t.Kca).Zd(function(wa){return function(Aa){switch(Aa){case t.Lo.start:return wa.lb.get(t.CNa);case t.Lo.stop:return wa.lb.get(t.JNa);case t.Lo.UU:return wa.lb.get(t.MGa);case t.Lo.splice:return wa.lb.get(t.xNa);case t.Lo.bL:return wa.lb.get(t.kEa);}throw new y.Mc(x.V.xmb,void 0,void 0,void 0,void 0,"The event key was invalid - " + Aa);};});});},87607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lo={start:"start",stop:"stop",UU:"keepAlive",bL:"engage",splice:"splice"};b.Kca="EventPboCommandFactorySymbol";b.CNa="StartEventPboCommandSymbol";b.JNa="StopEventPboCommandSymbol";b.MGa="KeepAliveEventPboCommandSymbol";b.xNa="SpliceEventPboCommandSymbol";b.kEa="EngageEventPboCommandSymbol";},81378:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YJa="PboAcquireLicenseCommandSymbol";},62898:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ja="PboBindCommandSymbol";},70285:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bKa="PboBindDeviceCommandSymbol";},40547:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wg={cra:"logblob",X:"manifest",CQb:"licensedmanifest",Qg:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.Fnb={EMa:"X-Netflix.Request.Attempt",Zea:"X-Netflix.Client.Request.Name",FBa:"x-netflix.browsername",KBa:"x-netflix.browserversion",sJa:"x-netflix.osname",tJa:"x-xetflix.osversion",vCa:"x-netflix.clienttype",DOa:"x-netflix.uiversion"};b.cA={EMa:"reqAttempt",Zea:"reqName",FBa:"browsername",KBa:"browserversion",sJa:"osname",tJa:"osversion",vCa:"clienttype",DOa:"uiversion"};},83998:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ol="PboCommandContextSymbol";},95738:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lKa="PboGenerateScreenshotsCommandSymbol";},16257:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nKa="PboLicenseRequestTransformerSymbol";},829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oea="PboLicenseResponseTransformerSymbol";},40953:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tKa="PboLogblobCommandSymbol";},72639:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pea=b.ml=void 0;r=b.ml || (b.ml={});r.fJ="PRE_FETCH";r.ynb="QC";r.om="STANDARD";r.K0="SUPPLEMENTAL";r.lac="DOWNLOAD";b.pea="PboManifestCommandSymbol";},67658:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vKa="PboManifestRequestTransformerSymbol";},15614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lnb="PboPingCommandSymbol";},75014:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LKa="PboReleaseLicenseCommandSymbol";},49449:function(r,b,a){var l,f,k,d,g;function c(n){return d.$g.call(this,n,f.V.Iza,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Vza=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);g=a(83998);a(2762);fa(c,d.$g);c.prototype.yf=function(n,h){var m,p,q;m=this;p=h.event;q=this.SA(h);!1;!1;return this.send(n,{url:h.href,name:k.wg.events,Gj:k.wg.events + "/" + p},q).then(function(){return h;}).catch(function(u){throw m.Kl(u);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.SA=function(n){return {xid:n.na,event:n.event,adEventToken:n.cv,adBreakLocationMs:n.KE,position:n.position,clientTime:n.Mx,sessionStartTime:n.am,appId:n.appId,sessionId:n.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.ol))],a);b.Vza=a;},595:function(r,b,a){var l,f,k,d,g;function c(n){return d.$g.call(this,n,f.V.Iza,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aAa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);g=a(83998);a(2762);fa(c,d.$g);c.prototype.yf=function(n,h){var m,p,q;m=this;p=h.event;q=this.SA(h);!1;!1;return this.send(n,{url:h.href,name:k.wg.events,Gj:k.wg.events + "/" + p},q).then(function(){return h;}).catch(function(u){throw m.Kl(u);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.SA=function(n){return {xid:n.na,event:n.event,adEventToken:n.cv,adBreakLocationMs:n.KE,position:n.position,clientTime:n.Mx,sessionStartTime:n.am,appId:n.appId,sessionId:n.sessionId,playTimes:this.hja(n.Vv),mainManifestPlaybackContextId:n.PRb,thirdPartyAdVerificationMetadata:n.d6b};};c.prototype.hja=function(n){return {total:n.total,audio:n.audio.map(function(h){return {duration:h.duration,downloadableId:h.Vb,cdnId:h.Fm};}),video:n.video.map(function(h){return {duration:h.duration,downloadableId:h.Vb,cdnId:h.Fm};}),text:n.text.map(function(h){return {duration:h.duration,downloadableId:h.Vb,cdnId:h.Fm};})};};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.ol))],a);b.aAa=a;},88496:function(r,b,a){var l,f,k;function c(d,g,n,h){g=k.$g.call(this,d,g,h) || this;g.context=d;g.hma=n;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.nq=void 0;r=a(5163);l=a(22674);f=a(40547);k=a(51658);a(2762);fa(c,k.$g);c.prototype.Y5=function(d){return "LIVE" === d.Zf?f.wg.events + "/live/" + this.hma:f.wg.events + "/" + this.hma;};c.prototype.yf=function(d,g){var n,h;n=this;h=this.SA(g);!1;!1;return this.send(d,{url:g.href,name:f.wg.events,Gj:this.Y5(g)},h).then(function(){return g;}).catch(function(m){throw n.Kl(m);});};c.prototype.Un=function(d,g,n){var h,m,p;h=this;m=this.SA(n);!1;!1;p={url:g.DL("events").href,name:f.wg.events,Gj:this.Y5(n)};return this.send(d,p,m).then(function(q){g.Qha(q.result.links);return n;}).catch(function(q){throw h.Kl(q);});};c.prototype.SA=function(d){return {event:this.hma,xid:d.na,position:d.position || 0,clientTime:d.Mx,sessionStartTime:d.am,videoTrackId:d.MO,audioTrackId:d.np,timedTextTrackId:d.vO,mediaId:d.wM,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.hja(d.Vv),sessionParams:d.$l};};c.prototype.gja=function(d){return {downloadableId:d.Vb,duration:d.duration};};c.prototype.hja=function(d){var g;g={total:d.total,audio:d.audio.map(this.gja),video:d.video.map(this.gja),text:d.text.map(this.gja)};d.total !== d.lI && (g.totalContentTime=d.lI);0 !== d.YC && (g.totalAdDuration=d.YC);0 !== d.ZC && (g.totalOtherDuration=d.ZC);if(0 !== d.ZC || 0 !== d.YC)g.totalCombinedDuration=d.xO;0 !== d.mI && (g.totalLiveEdgeDuration=d.mI);0 !== d.nI && (g.totalStartSlateDuration=d.nI);return g;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.tn)()),r.__param(1,(0,l.tn)()),r.__param(2,(0,l.tn)()),r.__param(3,(0,l.tn)())],a);b.nq=a;},51658:function(r,b,a){var l,f,k,d,g;function c(n,h,m){this.context=n;this.errorCode=h;this.d1b=m;}Object.defineProperty(b,"__esModule",{value:!0});b.$g=void 0;r=a(5163);l=a(22674);f=a(71977);k=a(5021);d=a(31149);g=a(34231);c.prototype.send=function(n,h,m,p,q,u){var t;t=this;u=void 0 === u?g.Cu.lQ:u;return this.vJb(n,h,m,u,p,q).then(function(w){return t.context.MDb.send(w.context,w.request);});};c.prototype.vJb=function(n,h,m,p,q,u){var t,w;try{t=this.context.x0b.create(this.context.qy.$A(),h.url,m,q,p);w=this.fwb(h,n,p,u);return Promise.resolve({context:w,request:t});}catch(v){return Promise.reject(v);}};c.prototype.fwb=function(n,h,m,p){return {Ge:this.context.Ge,log:h,Gm:n.name,url:this.context.v8b((0,f.cUa)(this.context.fh,this.context.ph,n.name,m)),Zva:this.d1b,timeout:(0,k.sh)(59),headers:(0,f.bUa)(this.context.ph,this.context.sF),Gj:n.Gj,Cvb:p};};c.prototype.Kl=function(n){return n instanceof d.Mc?n:(0,f.Kl)(this.errorCode,n);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.tn)()),r.__param(1,(0,l.tn)()),r.__param(2,(0,l.tn)())],a);b.$g=a;},88951:function(r,b,a){var l,f,k,d,g;function c(n){return k.nq.call(this,n,f.V.Xjb,d.Lo.bL,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jEa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.nq);c.prototype.SA=function(n){return Object.assign(Object.assign({},k.nq.prototype.SA.call(this,n)),{action:n.action});};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ol))],g);b.jEa=g;},82306:function(r,b,a){var l,f,k,d,g;function c(n){return d.$g.call(this,n,f.V.ikb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.kKa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.yf=function(n,h){var m;m=this;return this.send(n,{url:"/generateScreenshots",name:k.wg.X,Gj:"generateScreenshots"},h).then(function(p){return p.result;}).catch(function(p){throw m.Kl(p);});};c.prototype.Un=function(n,h,m){var p;p=this;h={url:h.DL("generateScreenshots").href,name:k.wg.X,Gj:"generateScreenshots"};return this.send(n,h,m).then(function(q){return q.result;}).catch(function(q){throw p.Kl(q);});};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ol))],g);b.kKa=g;},25546:function(r,b,a){var l,f,k,d,g;function c(n){return k.nq.call(this,n,f.V.lda,d.Lo.UU,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LGa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.nq);g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ol))],g);b.LGa=g;},13158:function(r,b,a){var l,f,k,d,g;function c(n){return d.$g.call(this,n,f.V.UI,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XJa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.yf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.Y5=function(n){var h;h="ldl" === n.U4a?"prefetch/license":"license";"LIVE" === n.Zf && (h+="/live");return h;};c.prototype.Un=function(n,h,m){var p;p=this;h={url:h.DL(m.U4a).href,name:k.wg.Qg,Gj:this.Y5(m)};return this.send(n,h,m.inputs,"drmSessionId").then(function(q){q=q.result;p.Cxb(q);return q;}).catch(function(q){throw p.Kl(q);});};c.prototype.Cxb=function(n){n.forEach(function(h){if(!h.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ol))],g);b.XJa=g;},15153:function(r,b,a){var l,f,k,d,g;function c(n){return d.$g.call(this,n,f.V.Fhb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZJa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.yf=function(n,h,m){var p;p=this;return this.send(n,{url:"/" + k.wg.bind,name:k.wg.bind,Gj:k.wg.bind},h,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Kl(q);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ol))],g);b.ZJa=g;},76427:function(r,b,a){var l,f,k,d,g;function c(n){return d.$g.call(this,n,f.V.Ghb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aKa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.yf=function(n,h,m){var p;p=this;return this.send(n,{url:"/bindDevice",name:k.wg.bind,Gj:k.wg.bind},h,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Kl(q);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ol))],g);b.aKa=g;},54949:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t,w,v,y,x,z,A){this.fh=q;this.Ge=u;this.ph=t;this.MDb=w;this.qy=v;this.v8b=y;this.x0b=z;this.sF=A;}Object.defineProperty(b,"__esModule",{value:!0});b.eKa=void 0;r=a(5163);l=a(22674);f=a(24747);k=a(7605);d=a(31071);g=a(30650);n=a(62665);h=a(32934);m=a(77687);p=a(15160);a=a(33554);c=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.cZ)),r.__param(1,(0,l.l)(h.zu)),r.__param(2,(0,l.l)(k.ax)),r.__param(3,(0,l.l)(g.hKa)),r.__param(4,(0,l.l)(n.Qw)),r.__param(5,(0,l.l)(m.GOa)),r.__param(6,(0,l.l)(p.KZ)),r.__param(7,(0,l.l)(d.NKa)),r.__param(8,(0,l.l)(a.Kw))],c);b.eKa=c;},71977:function(r,b,a){var n,h;function c(m){return !(!m || !m.tC && !m.pboc || !m.code && !m.code);}function l(m){return !(!m || !m.ec);}function f(m){return !!(m instanceof Error);}function k(m){switch(m){case "ACCOUNT_ON_HOLD":return h.S.mmb;case "STREAM_QUOTA_EXCEEDED":return h.S.vmb;case "INSUFFICICENT_MATURITY":return h.S.Bmb;case "TITLE_OUT_OF_WINDOW":return h.S.Kmb;case "CHOICE_MAP_ERROR":return h.S.umb;case "BadRequest":return h.S.Fmb;case "Invalid_SemVer_Format":return h.S.Cmb;case "RESTRICTED_TO_TESTERS":return h.S.Imb;case "AGE_VERIFICATION_REQUIRED":return h.S.smb;case "BLACKLISTED_IP":return h.S.tmb;case "DEVICE_EOL_WARNING":return h.S.dea;case "DEVICE_EOL_FINAL":return h.S.AJa;case "INCORRECT_PIN":return h.S.EJa;case "MOBILE_ONLY":return h.S.Hmb;case "MDX_CONTROLLER_CTICKET_INVALID":return h.S.Gmb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return h.S.Lmb;case "RESET_DEVICE":return h.S.DJa;case "RELOAD_DEVICE":return h.S.CJa;case "EXIT_DEVICE":return h.S.BJa;case "FREE_PREVIEW_ENDED":return h.S.Amb;case "STREAMING_LOCATION_DISALLOWED":return h.S.Jmb;case "EXTRA_MEMBER_STREAM_HOLD":return h.S.zmb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return h.S.ymb;case "ADS_UNAVAILABLE_VIEWABLE":return h.S.nmb;case "ADS_UNSUPPORTED_DEVICE":return h.S.qmb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return h.S.omb;case "ADS_UNSUPPORTED_COUNTRY":return h.S.pmb;case "ADS_VPN_USE_DETECTED":return h.S.rmb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return h.S.Emb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return h.S.Dmb;case "CONTENT_PREVIEW_MFA_REQUIRED_EXCEPTION":return h.S.wmb;default:return h.S.MEa;}}function d(m,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new n.Mc(m,k(p.code),"BadRequest" === p.code?h.R_.Uhb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag,p.playbackContextId);}function g(m,p){return new n.Mc(m,p.ec,p.Vc,void 0,p.Ry,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.bUa=b.cUa=b.ZHb=b.cIb=b.Kl=b.bIb=b.NU=b.YOb=b.L3a=void 0;n=a(31149);h=a(36129);b.L3a=c;b.YOb=l;b.NU=f;b.bIb=k;b.Kl=function(m,p){return l(p)?g(m,p):c(p)?d(m,p):f(p)?n.Mc.fna(m,p):new n.Mc(m,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.cIb=d;b.ZHb=g;b.cUa=function(m,p,q,u,t){var w,v,y,x;t=void 0 === t?"router":t;w=p.Fbb[q];if(void 0 === w)throw {tC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};v=w.version;if(void 0 === v)throw {tC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};y=w.service;if(void 0 === y)throw {tC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};x=w.orgOverride;if(void 0 === x && (x=p.organization,void 0 === x))throw {tC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?m.bLb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(v):m.QKb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(v) + "/" + t;};b.bUa=function(m,p){var q;q={"Content-Type":"text/plain"};p=p();m.xSa && p && (q["X-Esn"]=p.ck);return q;};},46303:function(r,b,a){var l,f,k,d,g;function c(n,h,m){this.sa=n;this.platform=h;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.mKa=void 0;r=a(5163);l=a(22674);f=a(30869);k=a(5021);d=a(91581);a=a(4203);c.prototype.N6b=function(n){var h,m;h=this;m=this.sa.fe.da(k.pm);return {inputs:n.uj.map(function(p){var q,u,t,w,v;return {drmSessionId:p.sessionId,clientTime:m,challengeBase64:p.dataBase64,xid:n.na.toString(),clientVersion:h.platform.version,platform:null === (q=h.config().od) || void 0 === q?void 0:q.version,osVersion:null === (t=null === (u=h.config().od) || void 0 === u?void 0:u.os) || void 0 === t?void 0:t.version,osName:null === (v=null === (w=h.config().od) || void 0 === w?void 0:w.os) || void 0 === v?void 0:v.name};}),U4a:"standard" === n.gf.toLowerCase()?"license":"ldl",Zf:n.Zf};};c.prototype.Q6b=function(n){var h,m;h=this;m=[];return n.je.map(function(p){m.push(p.id);return {url:h.hwb(p.AG,p.bV),echo:"drmSessionId",params:{drmSessionId:p.id,xid:n.na.toString()}};});};c.prototype.hwb=function(n,h){return "/releaseLicense?drmLicenseContextId=" + n + (h?"&licenseId=" + h:"");};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ag)),r.__param(1,(0,l.l)(d.zn)),r.__param(2,(0,l.l)(a.Yb))],g);b.mKa=g;},45830:function(r,b,a){var l,f,k;function c(d,g){this.wh=d;this.PA=g;}Object.defineProperty(b,"__esModule",{value:!0});b.oKa=void 0;r=a(5163);l=a(22674);f=a(74870);a=a(2248);c.prototype.Heb=function(d){var g,n;g=this;n=d.map(function(h){return h.links.releaseLicense.href;}).map(function(h){return g.wh.nW(h.substring(h.indexOf("?") + 1));});return {ia:!0,je:d.map(function(h,m){return {id:h.drmSessionId,AG:n[m].drmlicensecontextid,bV:n[m].licenseid};}),Sk:d.map(function(h){return {data:g.PA.decode(h.licenseResponseBase64),sessionId:h.drmSessionId};})};};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bh)),r.__param(1,(0,l.l)(a.Zg))],k);b.oKa=k;},30543:function(r,b,a){var l,f,k,d,g;function c(n){return d.$g.call(this,n,f.V.nlb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sKa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.yf=function(n,h){var m;m=this;return this.send(n,{url:"/" + k.wg.cra,name:k.wg.cra,Gj:k.wg.cra},h).then(function(p){return p.result;}).catch(function(p){throw m.Kl(p);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ol))],g);b.sKa=g;},86563:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x){t=d.$g.call(this,t,f.V.GD,3) || this;t.platform=w;t.qV=v;t.BQb=y;t.aSb=x;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.uKa=void 0;r=a(5163);l=a(72639);f=a(36129);k=a(40547);a(2762);d=a(51658);g=a(83998);n=a(91581);h=a(34231);m=a(17398);p=a(829);q=a(22674);a=a(67658);fa(c,d.$g);c.prototype.wLb=function(t,w){var v,y;y=w?k.wg.CQb:k.wg.X;w=w?"licensedManifest":"manifest";t.Wq === l.ml.fJ && (w="prefetch/" + w);"live" === t.bb.zd && (w+="/live");if(null === (v=t.Cf) || void 0 === v?0:v.eh)w="adBreakHydration";return {Gj:w,zyb:y};};c.prototype.yf=function(t,w){var v,y;v=this;y=w.Wq === l.ml.K0?h.Cu.ZLa:h.Cu.lQ;return this.aSb().transform(w,y).then(function(x){var z,A;z=la(x);x=z.next().value;A=z.next().value;!1;z=v.wLb(w,"licensedManifest" === A.Gm);return v.send(t,{url:A.Gm,name:z.zyb,Gj:z.Gj},x,void 0,void 0,y).then(function(B){var C;B=v.qV.create(B.result);C=B.Fa;A.$x && (C=C.lu.map(function(D){return D.Qg;}).filter(Boolean),0 < C.length?(C=v.BQb.Heb(C),A.$x.iSa(C),B.$x=A.$x,B.Zpa=w.Wq === l.ml.fJ,B.Ypa=!0):A.$x.close());B.fS=A.fS;B.GY=A.GY;!1;return B;});}).catch(function(x){!1;throw v.Kl(x);});};c.prototype.Un=function(){return Promise.reject(Error("Links are not supported with manifest command"));};u=c;u=r.__decorate([(0,q.U)(),r.__param(0,(0,q.l)(g.ol)),r.__param(1,(0,q.l)(n.zn)),r.__param(2,(0,q.l)(m.YI)),r.__param(3,(0,q.l)(p.oea)),r.__param(4,(0,q.l)(a.vKa))],u);b.uKa=u;},3035:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,F,G,E,I){this.ph=x;this.platform=z;this.config=A;this.hxb=B;this.CXb=C;this.lo=D;this.vS=F;this.sa=G;this.a8=E;this.Km=I;}Object.defineProperty(b,"__esModule",{value:!0});b.wKa=void 0;r=a(5163);l=a(22674);f=a(72639);k=a(4203);d=a(14423);g=a(34029);n=a(67650);h=a(21103);m=a(91581);p=a(30869);q=a(5021);u=a(2492);t=a(7605);w=a(36582);v=a(56800);y=a(24735);c.prototype.transform=function(x,z){var A,B,C,D,F,G,E,I;A=this;B=x.bb;C=Object.assign({},B.Y2,B.$l);D={};F=x.J;G=this.config();D[F]={unletterboxed:!!C.preferUnletterboxed || G.nYb};E=G.E8b?30:25;G=G.Vr?this.lo.BJb():Promise.resolve(this.a8.nt());I={zd:null === B || void 0 === B?void 0:B.zd};return Promise.all([this.Km.q1a(I),this.Km.s1a(I),this.Km.aU(),this.Km.U5(),this.XIb(x.na,z),this.DJb(x),G]).then(function(M){var L,K,O,H,J,N,R,T,ka,sa,ia,wa,Aa,La,Ya,ab,aa;L=la(M);K=L.next().value;O=L.next().value;H=L.next().value;J=L.next().value;N=L.next().value;M=L.next().value;R=L.next().value;L=K.c6().concat(O.c6()).concat(A.config().fu).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;aa="postplay" === B.zd?!0:!!C.isUIAutoPlay;H={type:"standard",manifestVersion:A.ph.zYa?"v2":"v1",viewableId:F,profiles:L,flavor:x.Wq,drmType:R,drmVersion:E,usePsshBox:!0,isBranching:!!x.bb.qg,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().H5b,imageSubtitleHeight:d.sfa.Y0a(),uiVersion:A.ph.tw,uiPlatform:A.ph.Naa,clientVersion:A.platform.version,platform:null === (T=A.config().od) || void 0 === T?void 0:T.version,osVersion:null === (sa=null === (ka=A.config().od) || void 0 === ka?void 0:ka.os) || void 0 === sa?void 0:sa.version,osName:null === (wa=null === (ia=A.config().od) || void 0 === ia?void 0:ia.os) || void 0 === wa?void 0:wa.name,supportsPreReleasePin:A.config().zp.z5b,supportsWatermark:A.config().zp.A5b,packageId:A.ZKb(B),deviceSecurityLevel:J,videoOutputInfo:H,titleSpecificData:D,preferAssistiveAudio:!!C.assistiveAudioPreferred,preferredTextLocale:C.preferredTextLocale,preferredAudioLocale:C.preferredAudioLocale,isUIAutoPlay:aa,challenge:N,isNonMember:A.ph.J3a,pin:B.Y8a,desiredVmaf:A.config().Pfb?A.config().tXa:A.config().uXa,desiredSegmentVmaf:A.config().Pfb?A.config().tXa:A.config().uXa,requestSegmentVmaf:A.config().D0b,supportsPartialHydration:A.ph.XK,contentPlaygraph:x.bb.qg?[]:A.ph.lF,supportsAdBreakHydration:!0,auxiliaryManifestToken:x.bb.qg?void 0:null === (Aa=x.Cf) || void 0 === Aa?void 0:Aa.$b,adBreakToken:x.bb.qg?void 0:null === (La=x.Cf) || void 0 === La?void 0:La.eh,originalPlaybackContextId:!x.bb.qg && (null === (Ya=x.Cf) || void 0 === Ya?0:Ya.$b)?null === (ab=x.Cf) || void 0 === ab?void 0:ab.hW:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};B.UYa && (H.extraParams=B.UYa);B.rXa && (H.desiredDownloadables=B.rXa);B.Kva && (H.requestReference=B.Kva);T={Gm:H.adBreakToken?"adBreakHydration":M?"licensedManifest":"manifest",$x:null === M || void 0 === M?void 0:M.mz,fS:K,GY:O};M && (M={drmSessionId:M.mz.hy() || "session",clientTime:A.sa.IH.da(q.pm),challengeBase64:M.Dja},H.challenges={"default":[M]},H.profileGroups=[{name:"default",profiles:L}],H.licenseType=x.gf == y.xh.wn?"limited":"standard",x.na && (H.xid=x.na.toString()));A.ph.XK || (H.showAllSubDubTracks=A.config().zp.Q3b || !!C.showAllSubDubTracks);A.ph.sYa && x.Wq === f.ml.K0 && (H.maxSupportedLanguages=2);x.AO && (H.originalPlaybackContextId=x.AO.hW,H.requiredAudioTrackId=x.AO.H0b,H.requiredTextTrackId=x.AO.K0b);return [H,T];});};c.prototype.ZKb=function(x){if(this.config().P9.enabled){if(void 0 !== x.kn)return x.kn;if(void 0 !== this.config().P9.kn)return Number(this.config().P9.kn);}};c.prototype.XIb=function(x,z){var A;A=this;return this.hxb.B_a(z).then(function(B){var C;C=x && A.CXb.dLb(x);C && C.jp("cad");return B;});};c.prototype.DJb=function(x){var z;if(void 0 === x.gf || !this.config().Vr)return Promise.resolve(void 0);z=x.gf === y.xh.om && this.ph.ov;return x.gf === y.xh.wn && this.ph.mB || z?this.vS.qoa(x.gf):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(t.ax)),r.__param(1,(0,l.l)(m.zn)),r.__param(2,(0,l.l)(k.Yb)),r.__param(3,(0,l.l)(g.SBa)),r.__param(4,(0,l.l)(n.Eea)),r.__param(5,(0,l.l)(h.Uw)),r.__param(6,(0,l.l)(u.tZ)),r.__param(7,(0,l.l)(p.ag)),r.__param(8,(0,l.l)(w.Mda)),r.__param(9,(0,l.l)(v.Jw))],a);b.wKa=a;},36642:function(r,b,a){var l,f,k,d,g;function c(n){return d.$g.call(this,n,f.V.Mmb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xKa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.yf=function(n,h,m){var p;p=this;return this.send(n,{url:"/" + k.wg.ping,name:k.wg.ping,Gj:k.wg.ping},h,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Kl(q);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ol))],g);b.xKa=g;},39832:function(r,b,a){var l,f,k,d,g;function c(n){return d.$g.call(this,n,f.V.Uea,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KKa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);fa(c,d.$g);c.prototype.yf=function(n,h){var m;m=this;return this.send(n,{url:"/bundle",name:k.wg.Qg,Gj:"release/license"},h).then(function(p){return p.result;}).catch(function(p){throw m.Kl(p);});};c.prototype.Un=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ol))],g);b.KKa=g;},46320:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q){this.platform=h;this.config=m;this.vS=p;this.Km=q;}Object.defineProperty(b,"__esModule",{value:!0});b.OKa=void 0;r=a(5163);l=a(22674);f=a(4203);k=a(91581);d=a(2492);g=a(56800);n=a(24735);c.prototype.transform=function(h){var m,p,q;m=this;p=h.bb;q={zd:void 0};return Promise.all([this.Km.q1a(q),this.Km.s1a(q),this.vS.qoa(n.xh.om)]).then(function(u){var t,w;t=la(u);u=t.next().value;w=t.next().value;t=t.next().value;return [{viewableId:h.J,packageId:p.kn,assetId:p.Cia,challenge:t.Dja,audioProfiles:u.c6(),textProfiles:m.config().fu,trickplayProfiles:["BIF240","BIF320"],videoProfiles:w.c6(),audioLanguages:p.Rub,textLanguages:p.a6b,videoLanguages:p.hgb?[p.hgb]:void 0,requestReference:p.Kva,additionalAudioAssets:p.rtb,additionalTextAssets:p.utb,useBetterTextUrls:!0},{$x:null === t || void 0 === t?void 0:t.mz,Gm:"studioManifest",fS:u,GY:w}];});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.zn)),r.__param(1,(0,l.l)(f.Yb)),r.__param(2,(0,l.l)(d.tZ)),r.__param(3,(0,l.l)(g.Jw))],a);b.OKa=a;},69740:function(r,b,a){var l,f,k,d,g;function c(n){return k.nq.call(this,n,f.V.QMa,d.Lo.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wNa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.nq);g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ol))],g);b.wNa=g;},84860:function(r,b,a){var l,f,k,d,g;function c(n){return k.nq.call(this,n,f.V.Wnb,d.Lo.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.BNa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.nq);g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ol))],g);b.BNa=g;},35329:function(r,b,a){var l,f,k,d,g;function c(n){return k.nq.call(this,n,f.V.Xnb,d.Lo.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.INa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);fa(c,k.nq);g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ol))],g);b.INa=g;},17705:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u){m=f.Pe.call(this,m,"PboConfigImpl") || this;m.config=p;m.Rtb=q;m.og=u;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.fKa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(4203);n=a(24747);a=a(5614);fa(c,f.Pe);Xa.Object.defineProperties(c.prototype,{tw:{configurable:!0,enumerable:!0,get:function(){return this.config().zp.tw || "";}},Naa:{configurable:!0,enumerable:!0,get:function(){return this.config().zp.Naa || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().zp.yua;}},J3a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Fbb:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Rtb.JTa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.Gbb);}},Gbb:{configurable:!0,enumerable:!0,get:function(){return {};}},R$a:{configurable:!0,enumerable:!0,get:function(){return !1;}},fpa:{configurable:!0,enumerable:!0,get:function(){return 10;}},xSa:{configurable:!0,enumerable:!0,get:function(){return !1;}},ov:{configurable:!0,enumerable:!0,get:function(){return this.og.ov;}},mB:{configurable:!0,enumerable:!0,get:function(){return this.og.mB;}},uI:{configurable:!0,enumerable:!0,get:function(){return this.og.uI;}},Vfb:{configurable:!0,enumerable:!0,get:function(){return !1;}},sYa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Ofb:{configurable:!0,enumerable:!0,get:function(){return [];}},zYa:{configurable:!0,enumerable:!0,get:function(){return !0;}},XK:{configurable:!0,enumerable:!0,get:function(){return this.og.XK;}},lF:{configurable:!0,enumerable:!0,get:function(){return this.og.lF;}}});h=c;r.__decorate([d.config(d.string,"uiVersion")],h.prototype,"tw",null);r.__decorate([d.config(d.string,"uiPlatform")],h.prototype,"Naa",null);r.__decorate([d.config(d.zz,"pboVersion")],h.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],h.prototype,"organization",null);r.__decorate([d.config(d.lO,"pboLanguages")],h.prototype,"languages",null);r.__decorate([d.config(d.ed,"hasLimitedPlaybackFunctionality")],h.prototype,"J3a",null);r.__decorate([d.config(d.object(),"pboCommands")],h.prototype,"Fbb",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],h.prototype,"Gbb",null);r.__decorate([d.config(d.ed,"pboRecordHistory")],h.prototype,"R$a",null);r.__decorate([d.config(d.zz,"pboHistorySize")],h.prototype,"fpa",null);r.__decorate([d.config(d.ed,"pboAddXEsnHeader")],h.prototype,"xSa",null);r.__decorate([d.config(d.ed,"combineManifestAndLicense")],h.prototype,"ov",null);r.__decorate([d.config(d.ed,"enableLicensedManifestForPrefetch")],h.prototype,"mB",null);r.__decorate([d.config(d.ed,"useLdlForPrefetchLicensedManifest")],h.prototype,"uI",null);r.__decorate([d.config(d.ed,"pboUseStudioManifest")],h.prototype,"Vfb",null);r.__decorate([d.config(d.ed,"pboEnableLeanManifest")],h.prototype,"sYa",null);r.__decorate([d.config(d.ed,"useHeaderForRequestNames")],h.prototype,"Ofb",null);r.__decorate([d.config(d.ed,"pboEnableV2OptimizedManifest")],h.prototype,"zYa",null);r.__decorate([d.config(d.ed,"pboEnableManifestPartialHydrationSupport")],h.prototype,"XK",null);r.__decorate([d.config(d.lO,"pboContentPlaygraphTypes")],h.prototype,"lF",null);h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.sl)),r.__param(1,(0,l.l)(g.Yb)),r.__param(2,(0,l.l)(n.cZ)),r.__param(3,(0,l.l)(a.iJ))],h);b.fKa=h;},71976:function(r,b,a){var k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B;function c(C){this.config=C;this.Nx=[];}function l(C,D,F){this.Ea=C;this.DO=D;this.context=F;this.startTime=this.Ea.Jb();}function f(C,D,F,G,E,I,M,L,K,O){this.Neb=D;this.json=F;this.Ea=G;this.kt=E;this.$ua=I;this.yc=M;this.config=L;this.Ib=K;this.receiver=O;this.log=C.$a("Pbo");L.R$a && (this.Nx=new c(L));this.DO=this.Neb();}Object.defineProperty(b,"__esModule",{value:!0});b.gKa=void 0;r=a(5163);k=a(22674);d=a(5021);g=a(14543);n=a(87386);h=a(63368);m=a(81918);p=a(34231);q=a(10306);u=a(53085);t=a(71977);w=a(7605);v=a(15160);y=a(85001);x=a(40547);z=a(45385);a=a(15348);A={"shakti-":"akira"};f.prototype.send=function(C,D){var F;F=new l(this.Ea,this.DO,C);this.Nx && this.Nx.append(F);return this.Hwa(C,D,F);};f.prototype.Hwa=function(C,D,F){var G;G=this;return new Promise(function(E,I){G.retry(C,D).then(function(M){var L,K;G.h2b(M);L=la(G.U8b(M));K=L.next().value;L=L.next().value;K && (G.receiver.Vua({command:C.Gm,inputs:D,outputs:K}),G.pyb(F),E(M));L && (G.receiver.Vua({command:C.Gm,inputs:D,outputs:L}),G.kVa(F,L),I(L));}).catch(function(M){var L;G.receiver.Vua({command:C.Gm,inputs:D,outputs:M});L=G.kVa(F,M);M.Nb && (M.Nb=[M.Nb," ",L].join(""));I(M);});});};f.prototype.h2b=function(C){(C=C.serverTime) && this.Ib.Ec(y.hda.Ebb,(0,d.Ob)(C));};f.prototype.U8b=function(C){var D;!1;D=C.result;if(("deviceCommand" in C)){C=C.deviceCommand;this.log.trace("Received device command '" + C + "'");switch(C){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + C + "'"));}return [,{tC:!0,code:D,detail:{message:"Server sent device action to '" + C + "' device"}}];}if(D)return (!1,[D,void 0]);if(C.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",C),[,{code:C.code,detail:{message:C.message}}]);this.log.error("Response did not contain a result or an error",C);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};f.prototype.Kub=function(C,D,F){var G;G=this;this.o8b(D,C);this.DO=this.Neb(F);return this.DO.send(D,F).then(function(E){return {retry:!1,result:z.q0.VWb(G.json,E.body)};}).catch(function(E){var I,M;I=z.q0.xKb(E);M=void 0 !== I?Math.min(I,D.Zva):D.Zva;return G.V$(D,E,C,M)?(I=G.Pwb(E,C,M),G.log.warn("Method failed, retrying",Object.assign({Method:D.Gm,Attempt:C + 1,WaitTime:I,MaxRetries:M},G.Wka(E))),Promise.resolve({retry:!0,delay:I,error:E})):Promise.resolve({retry:!1,error:E});});};f.prototype.tIb=function(C){var D,F;if(!this.Dha || this.Dha.pWb !== C){D="";F=C;Object.entries(A).find(function(G){var E;E=la(G);G=E.next().value;E=E.next().value;if(0 === C.indexOf(G))return (D=E,C=C.slice(G.length),!0);});this.Dha={gVa:D,tw:C,pWb:F};}return this.Dha;};f.prototype.o8b=function(C,D){var F,G,E,I;I=C.url.searchParams;I.set(x.cA.EMa,(D + 1).toString());this.config.Ofb.includes(C.Gj)?C.headers[x.Fnb.Zea]=C.Gj:I.set(x.cA.Zea,C.Gj);C=this.tIb(null !== (F=this.config.tw) && void 0 !== F?F:"");C.gVa && (I.set(x.cA.vCa,C.gVa),C.tw && I.set(x.cA.DOa,encodeURIComponent(C.tw)),F=this.kt.od,(null === F || void 0 === F?0:F.name) && I.set(x.cA.FBa,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && I.set(x.cA.KBa,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && I.set(x.cA.sJa,encodeURIComponent(F.os.name)),(null === (E=null === F || void 0 === F?void 0:F.os) || void 0 === E?0:E.version) && I.set(x.cA.tJa,encodeURIComponent(F.os.version)));};f.prototype.retry=function(C,D,F){var G;G=this;F=void 0 === F?0:F;return this.Kub(F++,C,D).then(function(E){if(E.retry)return G.wait(E.delay).then(function(){return G.retry(C,D,F);});if(E.error)throw E.error;if(void 0 === E.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return E.result;});};f.prototype.V$=function(C,D,F,G){var E;E=z.q0.EPb(D);if(E && F < G)return !0;E?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:C.Gm,Attempt:F + 1,MaxRetries:G},this.Wka(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:C.Gm},this.Wka(D)));return !1;};f.prototype.Pwb=function(C,D,F){if(C && C.JC && void 0 !== C.JC.retryAfterSeconds)return (0,d.sh)(C.JC.retryAfterSeconds);C=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,F));return (0,d.Ob)(this.$ua.s$a(C,D));};f.prototype.wait=function(C){var D;D=this;return new Promise(function(F){D.yc.nk(C || d.Ha,F);});};f.prototype.Wka=function(C){return (0,t.L3a)(C)?C:{message:C.message,subCode:C.ec,extCode:C.Vc,mslCode:C.Ry,data:C.data};};f.prototype.pyb=function(C){C.oO();};f.prototype.kVa=function(C,D){var F;C.Vq(D);if(this.Nx)try{F=this.json.stringify(this.Nx);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=f;B=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(n.ab)),r.__param(1,(0,k.l)(g.uOa)),r.__param(2,(0,k.l)(h.BD)),r.__param(3,(0,k.l)(m.Lc)),r.__param(4,(0,k.l)(p.vn)),r.__param(5,(0,k.l)(q.E0)),r.__param(6,(0,k.l)(u.Th)),r.__param(7,(0,k.l)(w.ax)),r.__param(8,(0,k.l)(v.Pca)),r.__param(9,(0,k.l)(a.rea))],B);b.gKa=B;l.prototype.oO=function(){this.ia=!0;this.elapsedTime=this.Ea.Jb().qa(this.startTime);};l.prototype.Vq=function(C){this.ia=!1;this.elapsedTime=this.Ea.Jb().qa(this.startTime);this.i5b=C.ec || C.subCode;this.lGb=C.Vc || C.extCode;};l.prototype.toString=function(){return JSON.stringify(this);};l.prototype.toJSON=function(){var C;C=Object.assign({success:this.ia,method:this.context.Gm,startTime:this.startTime.da(d.pa),elapsedTime:this.elapsedTime?this.elapsedTime.da(d.pa):"in progress"},this.DO.rka());return this.ia?C:Object.assign(Object.assign(Object.assign({},C),this.DO.rka()),{subcode:this.i5b,extcode:this.lGb});};c.prototype.append=function(C){this.Nx.push(C);0 < this.config.fpa && this.Nx.length > this.config.fpa && this.Nx.shift();};c.prototype.toJSON=function(){return this.Nx;};},45385:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.q0=void 0;l=a(36129);c.EPb=function(f){var k,d;k=f && f.code;d=f && (f.Aa || f.ec);f=f.Vc !== l.R_.WJa;d=!!d && d >= l.S.FP && d <= l.S.DP && f;return !("RETRY" !== k && "FAIL" !== k) || d;};c.xKb=function(f){var k,d;d=null === (k=null === f || void 0 === f?void 0:f.JC) || void 0 === k?void 0:k.maxRetries;return "number" === typeof d?d:"FAIL" === (null === f || void 0 === f?void 0:f.code)?1:void 0;};c.VWb=function(f,k){var d;if(k){try{d=f.parse(k);}catch(g){throw {tC:!0,code:"FAIL",message:"Unable to parse the response body",data:k};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (f=d.result.find(function(g){return g.error;})))throw f.error;return d;}throw {tC:!0,code:"FAIL",message:"There is no result property on the response"};}throw {tC:!0,code:"FAIL",message:"There is no body property on the response"};};b.q0=c;},23632:function(r,b,a){var l,f,k;function c(d,g){this.sF=g;this.log=d.$a("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.qKa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(33554);c.prototype.Qha=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.DL=function(d){!1;return this.links[d];};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(a.Kw))],k);b.qKa=k;},17108:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JKa=void 0;r=a(5163);a=a(22674);c.prototype.P2b=function(f){this.listener=f;};c.prototype.Vua=function(f){var k;null === (k=this.listener) || void 0 === k?void 0:k.call(this,f);};l=c;l=r.__decorate([(0,a.U)()],l);b.JKa=l;},91918:function(r,b,a){var f,k;function c(d,g,n,h,m,p,q){this.version=d;this.url=g;this.id=n;this.languages=h;this.tb=m;this.pEb=p;this.WTb=q;}function l(d){this.ph=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MKa=void 0;r=a(5163);f=a(22674);a=a(7605);l.prototype.create=function(d,g,n,h,m){return new c(this.ph.version,g,d,this.ph.languages,n,h,m);};k=l;k=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(a.ax))],k);b.MKa=k;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.tb,echo:this.pEb};};},5652:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(22674);c=a(70865);l=a(14543);f=a(60204);k=a(89146);d=a(74429);g=a(34231);b.transports=new r.dd(function(n){n(c.Z0).to(d.tOa).ha();n(l.RIa).to(f.QIa);n(l.zNa).to(k.yNa);n(l.uOa).Zd(function(h){return function(m){var p;return h.lb.get(c.Z0).W$(null !== (p=null === m || void 0 === m?void 0:m.WTb) && void 0 !== p?p:g.Cu.lQ)?h.lb.get(l.RIa):h.lb.get(l.zNa);};});});},14543:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uOa="TransportFactorySymbol";b.RIa="MslTransportSymbol";b.zNa="SslTransportSymbol";},70865:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z0="TransportConfigSymbol";},60204:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){var q;q=this;this.nC=m;this.profile=p;this.log=h.$a("MslTransport");this.nC().then(function(u){return q.x8=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.QIa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(97996);d=a(5021);a=a(71501);g={license:!0};c.prototype.send=function(h,m){var p,q;p=this;q={nsa:Object.assign({Ge:h.Ge,log:h.log,profile:this.profile},h.Cvb),method:h.Gm,url:h.url.href,body:JSON.stringify(m),timeout:h.timeout.da(d.pa),Xfb:this.profile,m0b:!g[h.Gm],w7a:!!g[h.Gm],zF:!0,kw:h.Zva,headers:h.headers};!1;return this.nC().then(function(u){return u.send(q).catch(function(t){var w;if(!t.error)throw (t.ec=t.Aa || t.ec,t);w=t.error;w.JC=t.JC;p.log.error("Error sending MSL request",{mslCode:w.Ry,subCode:w.ec,data:w.data,message:w.message});throw w;});});};c.prototype.rka=function(){var h;return {userTokens:null === (h=this.x8) || void 0 === h?void 0:h.KV.getUserIdTokenKeys()};};n=c;n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.bQ)),r.__param(2,(0,l.l)(a.lJ))],n);b.QIa=n;},89146:function(r,b,a){var l,f,k,d;function c(g,n){this.Ge=n;this.log=g.$a("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.yNa=void 0;r=a(5163);l=a(22674);f=a(5021);k=a(87386);a=a(32934);c.prototype.send=function(g,n){var h,m;h=this;m={url:g.url.href,gB:"nq-" + g.Gm,z9a:JSON.stringify(n),H3:g.timeout.da(f.pa),headers:g.headers,withCredentials:!0,Kr:"pbo"};!1;return new Promise(function(p,q){h.Ge.download(m,function(u){u.ia?p(u):q(u);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.ec=p.Aa || p.ec,p);q=p.error;q.JC=p.JC;h.log.error("Error sending SSL request",{subCode:q.ec,data:q.content,message:q.message});throw q;});};c.prototype.rka=function(){return {};};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(a.zu))],d);b.yNa=d;},74429:function(r,b,a){var l,f,k,d,g;function c(n){return f.Pe.call(this,n,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tOa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(34231);fa(c,f.Pe);c.prototype.W$=function(n){var h,m;h=this.IO;m=this.GSa;switch(n){case g.Cu.lQ:return h;case g.Cu.ZLa:return h && !m;case g.Cu.emb:return !1;}};Xa.Object.defineProperties(c.prototype,{IO:{configurable:!0,enumerable:!0,get:function(){return !0;}},GSa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.ed,"usesMsl")],a.prototype,"IO",null);r.__decorate([d.config(d.ed,"allowRequestsWithoutMsl")],a.prototype,"GSa",null);a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.sl))],a);b.tOa=a;},21892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vea="PlatformEmeSymbol";},75236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.a1="UserAgentDataPlatformVersionProviderSymbol";},92623:function(r,b,a){var g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C;function c(D,F,G){this.Em=D;this.groups=F;this.prefix=G;D=v(D,F,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function l(){}function f(){}function k(){return w?w:"0.0.0.0";}function d(D){D({nic:0,Djc:0,Egc:0,agc:0});}g=a(57055);l.prototype.set=function(D,F){m[D]=F;p.save(D,F);};l.prototype.get=function(D,F){if(m.hasOwnProperty(D))return m[D];t.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.ia?(m[D]=G.data,F && F(G.data)):m[D]=void 0;});};l.prototype.remove=function(D){p.remove(D);};l.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};f.prototype.now=function(){return q();};f.prototype.xa=function(){return u();};f.prototype.lsa=function(D){return D + q() - u();};f.prototype.Msa=function(D){return D + u() - q();};c.prototype.yWa=function(D){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ca(this.prefix)):this.prefix && F.push(this.prefix);F.push(D);return new c(this.Em,this.groups,F);};y=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){n=D.t9;v=D.Ri;p=D.storage;m=D.lM;q=D.PKb;u=D.getTime;t=D.lub;x=D.No;C=D.hj;z=D.rP;A=D.SourceBuffer;B=D.MediaSource;w=D.Xgc;h=D.Ws;return {name:"cadmium",Ws:h,t9:n,storage:new l(),Storage:l,time:new f(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:y,No:x,rP:z,Nbc:A,MediaSource:B,hj:C,Wk:{name:k},memory:{qgc:d},UT:D.UT,Z3:D.Z3,Yka:D.Yka,ping:function(F){fetch(F).catch(function(){});}};};},87141:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.Gt,minHCInitVideoBitrate:a.xTb,maxInitVideoBitrate:a.My,minInitAudioBitrate:a.n8,maxInitAudioBitrate:a.T7,minHCInitAudioBitrate:a.wTb,minAcceptableVideoBitrate:a.j8,minRequiredBuffer:a.jC,minPrebufSize:a.yr,minCheckBufferingCompleteInterval:a.esa,rebufferingFactor:a.hva,useMaxPrebufSize:a.kza,maxPrebufSize:a.gC,maxRebufSize:a.Kra,maxBufferingTime:a.vr,minAudioMediaRequestSizeBytes:a.dsa,minVideoMediaRequestSizeBytes:a.hsa,initialBitrateSelectionCurve:a.J6,initSelectionLowerBound:a.R2a,initSelectionUpperBound:a.T2a,throughputPercentForAudio:a.cY,bandwidthMargin:a.Qia,bandwidthMarginContinuous:a.Ria,bandwidthMarginCurve:a.Sia,conservBandwidthMargin:a.nka,switchConfigBasedOnInSessionTput:a.Zxa,conservBandwidthMarginTputThreshold:a.pka,conservBandwidthMarginCurve:a.oka,switchAlgoBasedOnHistIQR:a.Pdb,switchConfigBasedOnThroughputHistory:a.$xa,maxPlayerStateToSwitchConfig:a.f6a,lowEndMarkingCriteria:a.t5a,IQRThreshold:a.pGa,histIQRCalcToUse:a.l2a,maxTotalBufferLevelPerSession:a.xV,highWatermarkLevel:a.g2a,toStableThreshold:a.web,toUnstableThreshold:a.Gaa,skipBitrateInUpswitch:a.uxa,watermarkLevelForSkipStart:a.Aza,highStreamRetentionWindow:a.bpa,lowStreamTransitionWindow:a.jra,highStreamRetentionWindowUp:a.dpa,lowStreamTransitionWindowUp:a.lra,highStreamRetentionWindowDown:a.cpa,lowStreamTransitionWindowDown:a.kra,highStreamInfeasibleBitrateFactor:a.apa,lowestBufForUpswitch:a.Hy,lockPeriodAfterDownswitch:a.iV,lowWatermarkLevel:a.ora,lowestWaterMarkLevel:a.Iy,lowestWaterMarkLevelBufferRelaxed:a.qra,mediaRate:a.c8,maxTrailingBufferLen:a.uM,audioBufferTargetAvailableSize:a.Fia,videoBufferTargetAvailableSize:a.pza,maxVideoTrailingBufferSize:a.n6a,maxAudioTrailingBufferSize:a.S5a,fastUpswitchFactor:a.X4,fastDownswitchFactor:a.yma,maxMediaBufferAllowed:a.HG,simulatePartialBlocks:a.Fcb,simulateBufferFull:a.Ecb,considerConnectTime:a.qka,connectTimeMultiplier:a.mka,lowGradeModeEnterThreshold:a.KRb,lowGradeModeExitThreshold:a.LRb,maxDomainFailureWaitDuration:a.V5a,maxAttemptsOnFailure:a.P7,enableMaxAttemptsOnFailure:a.Ola,exhaustAllLocationsForFailure:a.QYa,maxNetworkErrorsDuringBuffering:a.b6a,maxBufferingTimeAllowedWithNetworkError:a.Q7,fastDomainSelectionBwThreshold:a.cZa,throughputProbingEnterThreshold:a.feb,throughputProbingExitThreshold:a.geb,locationProbingTimeout:a.j5a,finalLocationSelectionBwThreshold:a.jZa,throughputHighConfidenceLevel:a.deb,throughputLowConfidenceLevel:a.eeb,locationStatisticsUpdateInterval:a.Vqa,enablePerfBasedLocationSwitch:a.wYa,probeServerWhenError:a.mH,probeRequestTimeoutMilliseconds:a.Hua,allowSwitchback:a.XR,probeDetailDenominator:a.S9a,maxDelayToReportFailure:a.R7,countGapInBuffer:a.kzb,bufferThresholdForAbort:a.Xvb,allowCallToStreamSelector:a.Htb,pipelineScheduleTimeoutMs:a.qXb,maxPartialBuffersAtBufferingStart:a.tM,maxActiveRequestsSABCell100:a.P5a,maxStreamingSkew:a.ISb,maxPendingBufferPercentage:a.BSb,headerRequestSize:a.x6,estimateHeaderSize:a.cma,minBufferLenForHeaderDownloading:a.l8,numExtraFragmentsAllowed:a.QUb,pipelineEnabled:a.so,maxParallelConnections:a.Ira,socketReceiveBufferSize:a.Mcb,audioSocketReceiveBufferSize:a.U2,videoSocketReceiveBufferSize:a.dba,headersSocketReceiveBufferSize:a.Zoa,updatePtsIntervalMs:a.c8b,bufferTraceDenominator:a.$vb,bufferLevelNotifyIntervalMs:a.TTa,aseReportDenominator:a.cS,aseReportIntervalMs:a.Aia,enableAbortTesting:a.EEb,abortRequestFrequency:a.nsb,streamingStatusIntervalMs:a.a5b,prebufferTimeLimit:a.wW,minBufferLevelForTrackSwitch:a.E6a,penaltyFactorForLongConnectTime:a.Vta,longConnectTimeThreshold:a.gra,additionalBufferingLongConnectTime:a.aia,additionalBufferingPerFailure:a.bia,rebufferCheckDuration:a.LW,enableLookaheadHints:a.YEb,lookaheadFragments:a.IRb,enableOCSideChannel:a.ZK,OCSCBufferQuantizationConfig:a.k0,updateDrmRequestOnNetworkFailure:a.mfb,deferAseScheduling:a.bDb,maxDiffAudioVideoEndPtsMs:a.rSb,defaultHeaderCacheSize:a.ela,defaultHeaderCacheDataPrefetchMs:a.dla,neverWipeHeaderCache:a.j7a,networkFailureResetWaitMs:a.rsa,networkFailureAbandonMs:a.qsa,maxThrottledNetworkFailures:a.V7,throttledNetworkFailureThresholdMs:a.yaa,lowThroughputThreshold:a.nra,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.lma,mp4ParsingInNative:a.TTb,sourceBufferInOrderAppend:a.p4b,requireAudioStreamToEncompassVideo:a.FN,allowAudioToStreamPastVideo:a.Gtb,enableManagerDebugTraces:a.tYa,managerDebugMessageInterval:a.C5a,managerDebugMessageCount:a.B5a,bufferThresholdToSwitchToSingleConnMs:a.Zvb,bufferThresholdToSwitchToParallelConnMs:a.Yvb,netIntrStoreWindow:a.bUb,minNetIntrDuration:a.zTb,fastHistoricBandwidthExpirationTime:a.vGb,bandwidthExpirationTime:a.pvb,failureExpirationTime:a.uGb,historyTimeOfDayGranularity:a.qNb,expandDownloadTime:a.dGb,minimumMeasurementTime:a.ITb,minimumMeasurementBytes:a.HTb,throughputMeasurementTimeout:a.i6b,initThroughputMeasureDataSize:a.qOb,throughputMeasureWindow:a.h6b,throughputIQRMeasureWindow:a.g6b,IQRBucketizerWindow:a.elb,connectTimeHalflife:a.Oyb,responseTimeHalflife:a.V0b,historicBandwidthUpdateInterval:a.pNb,throughputWarmupTime:a.m6b,minimumBufferToStopProbing:a.GTb,throughputPredictor:a.j6b,ase_stream_selector:a.pub,liveStreamSelectorAlgorithm:a.Rqa,enableFilters:a.PEb,filterDefinitionOverrides:a.LGb,defaultFilter:a.MCb,secondaryFilter:a.K1b,defaultFilterDefinitions:a.fXa,initBitrateSelectorAlgorithm:a.Dpa,bufferingSelectorAlgorithm:a.dja,ase_ls_failure_simulation:a.sCb,ase_dump_fragments:a.Uka,ase_location_history:a.Vka,ase_throughput:a.XWa,ase_simulate_verbose:a.tCb,secondThroughputEstimator:a.xwa,secondThroughputMeasureWindowInMs:a.lbb,marginPredictor:a.Ara,networkMeasurementGranularity:a.ssa,HistoricalTDigestConfig:a.HFa,maxIQRSamples:a.$5a,minIQRSamples:a.H6a,periodicHistoryPersistMs:a.q9,saveVideoBitrateMs:a.x$,needMinimumNetworkConfidence:a.psa,biasTowardHistoricalThroughput:a.Via,maxFastPlayBufferInMs:a.Fra,maxFastPlayBitThreshold:a.X5a,minAudioMediaRequestDuration:a.Mv,minVideoMediaRequestDuration:a.Py,minAudioMediaRequestDurationCache:a.Mv,minVideoMediaRequestDurationCache:a.Py,addHeaderDataToNetworkMonitor:a.Pha,hindsightDenominator:a.j2a,hindsightDebugDenominator:a.i2a,hindsightParam:a.k2a,minimumTimeBeforeBranchDecision:a.s8,minimumTimeBeforeDelayedSeekToQueuedSegment:a.Q6a,enableSessionHistoryReport:a.xYa,earlyStageEstimatePeriod:a.WXa,lateStageEstimatePeriod:a.M4a,maxNumSessionHistoryStored:a.c6a,minSessionHistoryDuration:a.L6a,appendMediaRequestOnComplete:a.SSa,waitForDrmToAppendMedia:a.vza,forceAppendHeadersAfterDrm:a.Wma,startMonitorOnLoadStart:a.Bxa,reportFailedRequestsToNetworkMonitor:a.Cva,reappendRequestsOnSkip:a.b_b,maxActiveRequestsPerSession:a.uV,limitAudioDiscountByMaxAudioBitrate:a.Mqa,appendFirstHeaderOnComplete:a.mia,maxAudioFragmentOverlapMs:0,editVideoFragments:a.vEb,declareBufferingCompleteAtSegmentEnd:a.ZWa,applyProfileTimestampOffset:a.bS,profileTimestampOffsets:a.M9,applyProfileStreamingOffset:a.Am,mediaSourceSupportsNegativePts:a.e8,requireDownloadDataAtBuffering:a.Mva,requireSetupConnectionDuringBuffering:a.Nva,recordFirstFragmentOnSubBranchCreate:a.Q$a,earlyAppendSingleChildBranch:a.VXa,selectStartingVMAFMethod:a.TN,activateSelectStartingVMAF:a.MR,minStartingVideoVMAF:a.Ht,minAcceptableVMAF:a.GV,minAllowedVmaf:a.MG,alwaysNotifyEOSForPlaygraph:a.Otb,enableNewAse:a.bFb,useNewApi:a.z8b,enableCombinedPlaygraphs:a.fT,enableAdPlaygraphs:a.VK,retainSbrOnFade:a.m$,excludedContentPlaygraphIds:a.mma,enableDiscontiguousBuffering:a.G4,forceImmediateTransitionTypeForTitles:a.Zma,forceImmediateTransitionExitZone:a.Yma,useBufferSizeLimiter:a.xY,useLegacyFragmentRounding:a.y8b,maxAllowedOutstandingRequests:a.O7,alwaysRunUnderflowTimer:a.cK,minStreamableConcurrencyWindow:a.fsa,streamableConcurrencyFactor:a.Nxa,bufferingConcurrencyWindow:a.qS,singleStreamablePerBranch:a.Y3b,enableResolutionVMAFStreamFilter:a.J4,resolutionVMAFCappingRuleList:a.k$,percentCapTitlesForResolutionVMAFStreamFilter:a.Yta,useExitZones:a.jza,perFragmentVMAFConfig:a.cN,enableInitialTputLogging:a.qYa,maxResponsesInitialTput:a.DSb,paddingDurationMs:a.Gta,paddingMediaType:a.Hta,supportsPtsChanged:a.Ndb,ciPredictorSource:a.Pja,experimentalFilter:a.eGb,simulationDurationStrategy:a.sxa,liveTargetBufferDuration:a.BG,liveEdgeCushion:a.E7,liveSwitchStreamsOnErrorInPipeline:a.nM,liveAccurateFragmentTimestamps:a.D7,enableMissingSegmentsDetection:a.YK,enableMissingSegmentsReplacement:a.iT,liveMaxTemporaryRequestErrorRetries:a.F7,lowerStreamLiveMaxTemporaryRequestErrorRetries:a.pra,explorationPhaseLiveMaxTemporaryRequestErrorRetries:a.nma};};},31594:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O,H,J,N;Object.defineProperty(b,"__esModule",{value:!0});b.c5a=void 0;c=a(28131);l=a(38385);f=a(56371);k=a(33194);d=a(36149);g=a(75950);n=a(40076);h=a(51259);m=a(62945);p=a(66393);q=a(6498);u=a(51770);t=a(7826);w=a(82656);v=a(21009);y=a(30698);x=a(63341);z=a(32754);A=a(72614);B=a(1891);C=a(49594);D=a(28838);F=a(99584);G=a(92692);E=a(12653);I=a(31360);M=a(65945);L=a(18880);K=a(5652);O=a(43367);H=a(87886);J=a(87284);N=a(81737);b.c5a=function(R){R.load(c.Px,n.eI,l.s5a,h.Km,f.T6a,k.O,d.kgb,g.m2a,m.storage,p.iK,q.gUa,u.G5a,t.nC,w.Mk,v.r5a,y.i7a,x.YZa,z.i$a,A.dH,B.TXa,C.bYa,D.ae,F.bd,G.cb,E.a7a,I.R8a,M.j,L.uVa,K.transports,O.Rk,H.Cg,J.mTa,N.X);};},83989:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.ac=void 0;r=a(22674);c=a(71501);l=a(88351);f=a(49594);k=a(83810);d=a(51120);g=a(31594);a=a(99198);b.ac=new r.vZ({PH:!0});(0,g.c5a)(b.ac);b.ac.load(l.platform);b.ac.load(k.config);f.SK.load(d.cYa);b.ac.load(a.OSa);b.ac.load(a.profile);b.ac.bind(c.CGa).gl(b.ac);},76892:function(r,b,a){var l,f,k,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.IOa=void 0;r=a(5163);k=a(22674);a=a(22365);d={VU:!1,reason:"uninitialized"};null === (f=null === (l=null === a.Ae || void 0 === a.Ae?void 0:a.Ae.userAgentData) || void 0 === l?void 0:l.getHighEntropyValues) || void 0 === f?void 0:f.call(l,["platformVersion"]).then(function(g){d=(g=g.platformVersion)?{VU:!0,version:g}:{VU:!1,reason:"undefined"};}).catch(function(){d={VU:!1,reason:"exception"};});Xa.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});l=c;l=r.__decorate([(0,k.U)()],l);b.IOa=l;},25066:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.D_a=b.C_a=b.E_a=void 0;c=a(56800);l=a(17612);f=a(75568);k=a(88195);d=a(64232);b.E_a=function(g){return Object.assign(Object.assign({},(0,d.wL)()),{Rq:g.W3a?"T":g.KU?"C":"M",Sn:g.W3a?"NFCDTS-01-":g.Ay?"NFCDCH-02-":g.TB?"NFCDCH-MC-":g.KU?"NFCDCH-01-":g.R6?"NFCDCH-AP-":g.IU?"NFCDCH-AT-":g.$L?"NFCDCH-PH-":"NFCDCH-LX-",fB:g.KU?"chromeos-cadmium":"chrome-cadmium"});};b.C_a=function(g){var n,h,m,p,q,u;n=(0,d.vL)();h=Object.assign(Object.assign({},n),{UK:!0,ov:!0,mB:!0,uI:!0});m=[f.H.e_,f.H.c_,f.H.AQ];p=[f.H.d_];q={minimumCores:3};u={minimumCores:5};g.Ay && (h.Nh=[].concat(ca((0,k.NM).apply(null,[n.Nh].concat(ca(m)))),ca((0,k.Dg)([f.H.ru,f.H.su].concat(ca(m),[f.H.Jz,f.H.Kz]),u))),h.nr=[].concat(ca((0,k.NM).apply(null,[n.nr].concat(ca(p)))),ca((0,k.Dg)([].concat(ca(p)),u))),115 <= g.Al && (h.Nh=[].concat(ca(h.Nh),ca((0,k.Dg)([].concat(ca(f.Cc.rZ),ca(f.Cc.qZ),ca(f.Cc.pZ),ca(f.Cc.oZ),ca(f.Cc.nZ)))))));g.TB && (h.Nh=[].concat(ca((0,k.NM).apply(null,[n.Nh].concat(ca(m)))),ca((0,k.Dg)([f.H.ru,f.H.su].concat(ca(m),[f.H.Jz,f.H.Kz]),q))),h.nr=[].concat(ca((0,k.NM).apply(null,[n.nr].concat(ca(p)))),ca((0,k.Dg)([].concat(ca(p)),q))));g.KU && (h.Nh=(0,k.Dg)([].concat(ca(f.Cc.mZ),ca(f.Cc.WY),ca(f.Cc.rba),ca(f.Cc.rZ),ca(f.Cc.pZ),ca(f.Cc.qZ),ca(f.Cc.nZ),ca(f.Cc.oZ))),h.nr=(0,k.Dg)([].concat(ca(f.Cc.VY),ca(f.Cc.bca),ca(f.Cc.aca))));g.$pa && (h.Nh=[].concat(ca((0,k.NM).apply(null,[n.Nh].concat(ca(m)))),ca((0,k.Dg)([f.H.ru,f.H.su].concat(ca(m),[f.H.Jz,f.H.Kz]),u))));return h;};b.D_a=function(g){var n;n={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.tl.HI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1,applyProfileStreamingOffset:!0};80 <= g.Al && (n=Object.assign(Object.assign({},n),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));g.IU && (n=Object.assign(Object.assign({},n),{enableFullHdForWidevineL1:!0}));g.KU && (n=Object.assign(Object.assign({},n),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= g.Al && (n=Object.assign(Object.assign({},n),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));115 <= g.Al && g.Ay && (n=Object.assign(Object.assign({},n),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableFullHdForWidevineL1:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,keySystemList:[l.eb.gPa,l.eb.CQ]}));if(g.Ay || g.TB)n=Object.assign(Object.assign({},n),{enableFullHdForWidevineL3:!0});g.Ay && 99 <= g.Al && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));g.TB && 113 <= g.Al && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));g.$pa && 113 <= g.Al && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));return n;};},30837:function(r,b,a){var l,f,k,d,g,n;function c(){var h,m,p;p=null === (h=ob.MSMediaKeys) || void 0 === h?void 0:h.isTypeSupported(f.eb.vd,g.cd.bsa);h=p || (null === (m=ob.MSMediaKeys) || void 0 === m?void 0:m.isTypeSupported(f.eb.OD,g.cd.bsa));return {O3a:p,N3a:h};}Object.defineProperty(b,"__esModule",{value:!0});b.S_a=b.AJb=b.R_a=b.T_a=void 0;l=a(56800);f=a(17612);k=a(75568);d=a(64232);g=a(73796);n=a(88195);b.T_a=function(h){return Object.assign(Object.assign({},(0,d.wL)()),{Rq:h.yy?"D":"H",Sn:h.yy?h.TB?"NFCDIE-04-":h.$pa?"NFCDIE-LX-":h.R6?"NFCDIE-AP-":h.IU?"NFCDIE-AT-":h.$L?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",fB:"edge-cadmium",y2:!1});};b.R_a=function(){var h,m,p;h=Object.assign(Object.assign({},(0,d.vL)()),{RE:(0,n.Dg)([k.Bd.vD,k.Bd.wD,k.Bd.mP,k.Bd.nP]),Nh:(0,n.Dg)([].concat(ca(k.Cc.mZ),ca(k.Cc.WY),ca(k.Cc.rba),ca(k.Cc.rZ),ca(k.Cc.pZ),ca(k.Cc.qZ),ca(k.Cc.nZ),ca(k.Cc.oZ),ca(k.Cc.TBa),ca(k.Cc.UBa),ca(k.Cc.VBa))),nr:(0,n.Dg)([].concat(ca(k.Cc.VY),ca(k.Cc.bca),ca(k.Cc.aca))),Rl:void 0,vU:!1});m=c();p=m.O3a;m.N3a || (h.ov=!0,h.mB=!0,h.uI=!0);h.lF=p?[]:["start"];return h;};b.AJb=c;b.S_a=function(h){var m,p,q,u,t,w,v;m=h.MU;p=h.yy;q=h.Ay;u=c();t=u.N3a;w=u.O3a;u={nudgeSourceBuffer:!0,audioCapabilityDetectorType:l.uu.Vw,videoCapabilityDetectorType:l.tl.Vw,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:w?!1:!0,enableAdPlaygraphs:w?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};w={prepareCadmium:!0,enableLdlPrefetch:!t || w,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};v={audioCapabilityDetectorType:l.uu.Iw,videoCapabilityDetectorType:l.tl.HI,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.eb.CQ],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,n.Dg)([k.Bd.vD,k.Bd.wD]),videoProfiles:(0,n.Dg)([k.H.tD,k.H.uD,k.H.ZZ,k.H.a_]),liveVideoProfiles:(0,n.Dg)([k.H.$Z,k.H.b_]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};m && (14 <= h.Al && (u=Object.assign(Object.assign(Object.assign({},u),w),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= h.Al && (u=Object.assign(Object.assign({},u),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= h.Al && (u=Object.assign(Object.assign({},u),{microsoftHwdrmRequiresHevc:!1})),17 <= h.Al && (u=Object.assign(Object.assign({},u),{enableDDPlusAtmos:!0})));p && (u=Object.assign(Object.assign(Object.assign({},u),w),{useEncryptedEvent:!1}),q && (u=Object.assign(Object.assign({},u),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),t?(u=Object.assign(Object.assign({},u),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[f.eb.wea,f.eb.$Ka]}),94 === h.Al && (u=Object.assign(Object.assign({},u),{enableHWDRM:!1})),102 <= h.Al && (u=Object.assign(Object.assign({},u),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}))):u=Object.assign(Object.assign({},u),v));return u;};},54534:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.Z_a=b.Y_a=b.$_a=void 0;c=a(56800);l=a(75568);f=a(88195);k=a(64232);b.$_a=function(d){return Object.assign(Object.assign({},(0,k.wL)()),{Rq:"F",Sn:d.TB?"NFCDFF-MC-":d.Ay?"NFCDFF-02-":d.R6?"NFCDFF-AP-":d.IU?"NFCDFF-AT-":d.$L?"NFCDFF-PH-":"NFCDFF-LX-",fB:"firefox-cadmium"});};b.Y_a=function(d){var g,n;g=(0,k.vL)();n=Object.assign(Object.assign({},g),{UK:!0,ov:!0,mB:!0,uI:!0});d.Ay && (n.Nh=[].concat(ca(g.Nh),ca((0,f.Dg)([l.H.ru,l.H.su],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.TB && (n.Nh=[].concat(ca(g.Nh),ca((0,f.Dg)([l.H.ru,l.H.su],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return n;};b.Z_a=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.tl.HI,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,applyProfileStreamingOffset:!0};(d.Ay || d.TB) && 95 <= d.Al && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));return g;};},64232:function(r,b,a){var l,f,k,d;function c(g,n){var h,m,p,q,u,t;h=g.Ky;m=g.CM;g=g.$M;p=n.Ky;q=n.CM;n=n.$M;u=void 0 === h || void 0 === p;t=u || void 0 === m || void 0 === q;return u || h > p || h === p && (t || m > q) || h === p && m === q && (t || void 0 === g || void 0 === n || g >= n);}Object.defineProperty(b,"__esModule",{value:!0});b.vL=b.wL=b.UPb=b.JU=b.PU=void 0;l=a(5021);f=a(17612);k=a(75568);d=a(88195);b.PU=function(g,n,h,m){return c({Ky:g.qWb,CM:g.rWb,$M:g.sWb},{Ky:n,CM:h,$M:m});};b.JU=function(g,n){return c({Ky:g.Al},{Ky:n});};b.UPb=c;b.wL=function(){return {version:"6.0043.278.911",x8:!0,sL:!0,nla:"browser",gXa:["en-US"],bra:"",TS:"cadmium",$fb:!0,y2:!0};};b.vL=function(){return {RE:(0,d.Dg)([k.Bd.vD,k.Bd.wD]),Nh:(0,d.Dg)([].concat(ca(k.Cc.mZ),ca(k.Cc.WY),ca(k.Cc.rba))),nr:(0,d.Dg)([].concat(ca(k.Cc.VY))),Rl:f.eb.CQ,Ly:(0,l.Ob)(31E3)};};},20447:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.K0a=b.J0a=b.L0a=void 0;c=a(56800);l=a(75568);f=a(88195);k=a(64232);b.L0a=function(d){return Object.assign(Object.assign({},(0,k.wL)()),{Rq:"O",Sn:d.R6?"NFCDOP-AP-":d.IU?"NFCDOP-AT-":d.$L?"NFCDOP-PH-":"NFCDOP-01-",fB:"opera-cadmium"});};b.J0a=function(){var d,g;d=(0,k.vL)();g=Object.assign(Object.assign({},d),{UK:!0,ov:!0,mB:!0,uI:!0});g.Nh=[].concat(ca(d.Nh),ca((0,f.Dg)([l.H.ru,l.H.su,l.H.Jz,l.H.Kz],{minimumCores:5})));return g;};b.K0a=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.tl.HI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= d.Al && (g=Object.assign(Object.assign({},g),{enableVP9:!0,enableAV1:!0,enablePRK:!0}));return g;};},22224:function(r,b,a){var l,f,k,d,g,n;function c(h){var m;m=Object.assign(Object.assign({},(0,n.vL)()),{RE:(0,g.Dg)([d.Bd.vD,d.Bd.wD,d.Bd.ix]),Nh:(0,g.Dg)([].concat(ca(d.Cc.mZ),ca(d.Cc.WY),ca(d.Cc.rZ),ca(d.Cc.pZ),ca(d.Cc.qZ),ca(d.Cc.nZ),ca(d.Cc.oZ),ca(d.Cc.TBa),ca(d.Cc.UBa),ca(d.Cc.VBa))),nr:(0,g.Dg)([].concat(ca(d.Cc.VY),ca(d.Cc.bca),ca(d.Cc.aca))),Rl:k.eb.fkb,Ly:(0,l.Ob)(7E3),lF:[]});(0,n.JU)(h,14) && (m.lF=["start"]);return m;}Object.defineProperty(b,"__esModule",{value:!0});b.f1a=b.e1a=b.i0a=b.g1a=void 0;l=a(5021);f=a(56800);k=a(17612);d=a(75568);g=a(88195);n=a(64232);b.g1a=function(h){return Object.assign(Object.assign({},(0,n.wL)()),{Rq:"S",Sn:h.$L?"NFCDSF-PH-":"NFCDSF-01-",fB:"safari-cadmium"});};b.i0a=function(h){return Object.assign(Object.assign({},c(h)),{Saa:!0,XK:!1,fu:[d.qm.e1]});};b.e1a=c;b.f1a=function(h){var m;m={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:f.tl.Iw,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,n.JU)(h,14) && (m=Object.assign(Object.assign({},m),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,n.PU)(h,10,12,2) && (m=Object.assign(Object.assign({},m),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,n.PU)(h,10,13,6) && (m=Object.assign(Object.assign({},m),{enableLdlPrefetch:!0}));(0,n.PU)(h,10,15,5) && (m=Object.assign(Object.assign({},m),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,n.PU)(h,10,15,6) && (m=Object.assign(Object.assign({},m),{keyStatusFilterEnabled:!0,enableUHD:!0}));(0,n.JU)(h,9) && (m=Object.assign(Object.assign({},m),{maxDecoderBufferMilliseconds:31E3}));(0,n.JU)(h,16) && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));return m;};},89397:function(r,b,a){var d,g,n,h,m,p,q,u;function c(){}function l(t){this.od=t;}function f(t){var w;w=g.uea.call(this) || this;t.$L?Object.assign(w,(0,u.i0a)(t)):t.X6?Object.assign(w,(0,q.Y_a)(t)):t.dqa?Object.assign(w,(0,p.J0a)()):t.yy || t.MU?Object.assign(w,(0,m.R_a)()):t.RU?Object.assign(w,(0,u.e1a)(t)):Object.assign(w,(0,h.C_a)(t));return w;}function k(t){this.data=t.X6?(0,q.$_a)(t):t.dqa?(0,p.L0a)(t):t.yy || t.MU?(0,m.T_a)(t):t.RU?(0,u.g1a)(t):(0,h.E_a)(t);}Object.defineProperty(b,"__esModule",{value:!0});b.JBa=b.IBa=b.HBa=b.GBa=void 0;r=a(5163);d=a(22674);g=a(27081);n=a(22816);h=a(25066);m=a(30837);p=a(20447);q=a(54534);u=a(22224);Xa.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},x8:{configurable:!0,enumerable:!0,get:function(){return this.data.x8;}},Rq:{configurable:!0,enumerable:!0,get:function(){return this.data.Rq;}},Sn:{configurable:!0,enumerable:!0,get:function(){return this.data.Sn;}},sL:{configurable:!0,enumerable:!0,get:function(){return this.data.sL;}},fB:{configurable:!0,enumerable:!0,get:function(){return this.data.fB;}},nla:{configurable:!0,enumerable:!0,get:function(){return this.data.nla;}},gXa:{configurable:!0,enumerable:!0,get:function(){return this.data.gXa;}},bra:{configurable:!0,enumerable:!0,get:function(){return this.data.bra;}},TS:{configurable:!0,enumerable:!0,get:function(){return this.data.TS;}},$fb:{configurable:!0,enumerable:!0,get:function(){return this.data.$fb;}},y2:{configurable:!0,enumerable:!0,get:function(){return this.data.y2;}}});a=k;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.nD))],a);b.GBa=a;fa(f,g.uea);a=f;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.nD))],a);b.HBa=a;l.prototype.apply=function(){this.od.X6?Object.assign(this,(0,q.Z_a)(this.od)):this.od.dqa?Object.assign(this,(0,p.K0a)(this.od)):this.od.yy || this.od.MU?Object.assign(this,(0,m.S_a)(this.od)):this.od.RU?Object.assign(this,(0,u.f1a)(this.od)):Object.assign(this,(0,h.D_a)(this.od));return this;};a=l;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.nD))],a);b.IBa=a;c=r.__decorate([(0,d.U)()],c);b.JBa=c;},88351:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.platform=void 0;r=a(22674);c=a(22816);l=a(91581);f=a(5614);k=a(52033);d=a(7748);g=a(71834);n=a(89397);h=a(21892);b.platform=new r.dd(function(m){m(l.zn).to(n.GBa).ha();m(f.iJ).to(n.HBa).ha();m(k.TKa).to(n.IBa).ha();m(l.t0).to(n.JBa).ha();m(h.vea).Zd(function(p){return function(){var q;q=p.lb.get(c.nD);return q.yy || q.MU?{mz:function(u,t,w){return new g.Hfa(u,t,w);},request:d.lPa}:q.RU?{mz:function(u,t,w){return new (a(99813))(u,t,w);},request:a(10256)}:{};};});});},80966:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cba={Ksb:"adStart",YRa:"adProgress",pec:"adComplete",Lsb:"adStop"};b.Wza={GA:"adBreakComplete"};b.Dba={error:"error",cGb:"exit",cfb:"unload"};b.dAa="AdImpressionLoggerrFactorySymbol";},70068:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iAa="AdManagerFactorySymbol";},1200:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XO="AdTrackerBaseSymbol";},25540:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sAa="AdFocusMonitorSymbol";},12826:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nBa="BandwidthMeterFactorySymbol";},65945:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O,H,J,N,R,T,ka,sa,ia,wa,Aa,La,Ya,ab,aa,oa,Ga,Sa,Q,da,P,Y,ta,Ha,Wa,$a,fb,sb,Jb,Ua,bb,kb,rb;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(22674);c=a(77601);l=a(78388);f=a(18181);k=a(12826);d=a(31085);g=a(41106);n=a(51038);h=a(24722);m=a(27104);p=a(4203);q=a(81918);u=a(90597);t=a(42207);w=a(87386);v=a(65090);y=a(61861);x=a(37025);z=a(5021);A=a(89561);B=a(25837);C=a(65106);D=a(13889);F=a(15160);G=a(92205);E=a(52200);I=a(45842);M=a(74870);L=a(95162);K=a(33554);O=a(2160);H=a(67650);J=a(25138);N=a(77134);R=a(34231);T=a(93367);ka=a(82557);sa=a(85405);ia=a(56800);wa=a(39551);Aa=a(69334);La=a(70068);Ya=a(89540);ab=a(30869);aa=a(49917);oa=a(80966);Ga=a(72160);Sa=a(54952);Q=a(97635);da=a(74834);P=a(25540);Y=a(38508);ta=a(30873);Ha=a(78312);Wa=a(53085);$a=a(63013);fb=a(14177);sb=a(56386);Jb=a(1200);Ua=a(24711);bb=a(13673);kb=a(31099);rb=a(67590);b.j=new r.dd(function(qb){qb(H.Eea).to(J.nLa).ha();qb(sa.KAa).Zd(function(yb){var Ab;Ab=yb.lb;return function(Lb,Sb){return new (a(92720).Bda)(Lb,Sb,Ab.get(u.Hw),Ab.get(F.KZ),Ab.get(rb.Oba));};});qb(c.vOa).Zd(function(yb){var Ab;Ab=yb.lb;return function(Lb,Sb,Xb,Ib,Nb,Pb,cc,nc,Ac){return new (a(37517).z)(Ab.get(A.AOa),Lb,Sb,Xb,Ib,Nb,Pb,cc,nc,Ac);};});qb(A.AOa).to(B.zOa).ha();qb(l.yOa).to(f.xOa).ha();qb(n.iLa).to(h.hLa).ha();qb(Q.hNa).to(da.gNa).ha();qb(T.DMa).to(ka.CMa);qb(T.BMa).teb(T.DMa);qb(g.sDa).Zd(function(yb){var Ab;Ab=yb.lb;return function(Lb){return new (a(11372).Oca)(Ab.get(F.rDa),Ab.get(u.Hw),Ab.get(q.Lc),Lb);};});qb(k.nBa).Zd(function(){return function(yb){return new d.oBa(yb);};});qb(wa.Hea).Zd(function(yb){var Ab;Ab=yb.lb;return function(Lb){return new Aa.tLa(Lb,Ab.get(w.ab),Ab.get(t.Qf));};});qb(oa.dAa).Zd(function(yb){var Ab;Ab=yb.lb;return function(Lb){return new Ga.eAa(Lb,Ab.get(w.ab).$a("AdImpressionLogger"),Ab.get(ab.ag),Ab.get(p.Yb),Ab.get(q.Lc),Ab.get(aa.Bba),Ab.get(aa.Aba));};});qb(P.sAa).to(Y.rAa);qb(Jb.XO).to($a.kAa);qb(Jb.XO).to(sb.pAa);qb(Jb.XO).to(Ua.tAa);qb(Jb.XO).to(fb.uAa);qb(La.iAa).Zd(function(yb){var Ab;Ab=yb.lb;return function(Lb,Sb){return new Ya.jAa(Lb,Sb,Ab.get(w.ab).$a("AdManager"),Ab.get(p.Yb),Ab.get(Q.hNa),Ab.getAll(Jb.XO),Ab.get(oa.dAa),function(Xb){return new Sa.hAa(Xb);},Ab.get(P.sAa));};});qb(v.aLa).Zd(function(yb){var Ab;Ab=yb.lb;return function(Lb){return new m.bLa(Lb,Ab.get(w.ab),Ab.get(p.Yb),Ab.get(t.Qf),Ab.get(u.Hw),Ab.get(wa.Hea));};});qb(ta.bHa).Zd(function(yb){var Ab;Ab=yb.lb;return function(Lb,Sb){return new Ha.cHa(Ab.get(p.Yb),Ab.get(bb.dHa),Ab.get(Wa.Th),Ab.get(w.ab),Lb,Sb);};});qb(bb.dHa).Zd(function(yb){var Ab;Ab=yb.lb;return function(Lb){return new kb.eHa(Ab.get(p.Yb),Ab.get(w.ab),Ab.get(I.VD),Lb);};});qb(y.Gea).Zd(function(yb){var Ab;Ab=yb.lb;return function(Lb,Sb,Xb,Ib,Nb,Pb,cc,nc,Ac,Pc,Yd){return new x.pLa(Lb,Sb,Xb,Ib,Nb,Pb,cc,nc,Ac,Ab.get(v.aLa),Ab.get(H.Eea),Ab.get(ta.bHa),Pc,Yd);};});qb(C.bNa).Zd(function(yb){return function(Ab){var Lb,Sb;Lb=yb.lb.get(p.Yb);Sb=yb.lb.get(w.ab);return new D.cNa(Lb,Ab,Sb);};});qb(G.kLa).Zd(function(yb){return function(Ab){var Lb,Sb,Xb,Ib,Nb;Lb=yb.lb.get(K.Kw);Sb=yb.lb.get(I.VD);Xb=yb.lb.get(M.bh);Ib=yb.lb.get(L.rQ);Nb=yb.lb.get(ia.Jw);return new E.lLa(Ab,Lb,Sb((0,z.sh)(1)),Xb,Ib,Nb);};});qb(O.Qda).XC(function(yb){return new (a(51149).KIa)(yb.lb.get(N.aQ),yb.lb.get(R.vn));}).ha();});},41106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sDa="DiagnosticsFactorySymbol";},30873:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hs={pQ:"START_SLATE",pda:"LIVE_EVENT",Fca:"END_SLATE"};b.bHa="LivePlaybackManagerFactorySymbol";},13673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dHa="LivePlaybackRateControllerFactorySymbol";},45526:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},2160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qda="MilestonesEventBuilderSymbol";},65090:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aLa="PlayTimeTrackerFactorySymbol";},51038:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iLa="PlaybackFactorySymbol";},92205:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kLa="PlaybackInfoPanelFactorySymbol";},67650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eea="PlaybackMilestoneStoreSymbol";},61861:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gea="PlaybackSegmentDataFactorySymbol";},39551:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hea="PlayedSegmentsTrackerFactorySymbol";},93367:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DMa="RepositionTraceSymbol";b.BMa="RepositionTraceFactorySymbol";},65106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bNa="SeekManagerFactorySymbol";},97635:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hNa="SegmentDroppedLoggerSymbol";},94025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qo=void 0;r=b.Qo || (b.Qo={});r[r.j0=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.CD=2]="LOADED";r[r.KP=3]="LOAD_FAILED";r[r.zJa=4]="PARSE_FAILED";},77601:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vOa="TrickPlayFactorySymbol";},78388:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yOa="TrickPlayManagerSymbol";},89561:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AOa="TrickPlayParserSymbol";},72160:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u,t,w,v){this.context=m;this.log=p;this.sa=q;this.config=u;this.Ea=t;this.Isb=w;this.Bsb=v;this.Nwa={};}Object.defineProperty(b,"__esModule",{value:!0});b.eAa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(30869);d=a(5021);g=a(4203);n=a(49917);h=a(80966);c.prototype.a2b=function(m,p){var q,u,t;q=this;u=m.event;if(Object.values(h.Wza).includes(u)){t=p.vy?p.vy.da(d.pa):-1;m={href:p.X.oi.DL("events").href,na:this.context.na.toString(),event:u,cv:m.cv,KE:m.KE,position:m.Og.offset.G,am:t,Vv:{},Mx:this.sa.IH.da(d.pa),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id};this.Bsb.yf(this.log,m).catch(function(w){q.log.error("Failed to send event",{eventKey:u,xid:p.na,error:w});});}else this.log.debug("Ignoring unsupported event " + m.event);};c.prototype.b2b=function(m,p,q){var u,t,w;u=this;t=m.event;if(Object.values(h.Cba).includes(t)){w=m.X.links.events.href;this.Nwa[m.am] || (this.Nwa[m.am]=this.sa.ytb((0,d.Ob)(m.am)).da(d.pa));m={href:w,na:this.context.na.toString(),event:t,cv:m.cv,KE:m.KE,position:m.Og.offset.G,am:this.Nwa[m.am],Vv:m.Vv,Mx:this.sa.IH.da(d.pa),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id,PRb:p,d6b:null !== q && void 0 !== q?q:void 0};this.Isb.yf(this.log,m).catch(function(v){u.log.error("Failed to send event",{eventKey:t,xid:u.context.na,error:v});});}else this.log.debug("Ignoring unsupported event " + m.event);};a=c;a=r.__decorate([r.__param(2,(0,l.l)(k.ag)),r.__param(3,(0,l.l)(g.Yb)),r.__param(4,(0,l.l)(f.Lc)),r.__param(5,(0,l.l)(n.Bba)),r.__param(6,(0,l.l)(n.Aba))],a);b.eAa=a;},54952:function(r,b){function a(p){this.bf=p;}function c(p){this.padding=p;}function l(p){this.YJ=p;}function f(p){this.Og=p;}function k(p){this.I9=p;}function d(p){this.Bua=p;}function g(p){this.Aua=p;}function n(p){this.XJ=p;}function h(p){this.Yy=p;}function m(p){this.Uc=p;}Object.defineProperty(b,"__esModule",{value:!0});b.uhb=b.jnb=b.thb=b.kkb=b.tnb=b.unb=b.snb=b.shb=b.rnb=b.hAa=void 0;m.prototype.getPresentingAdBreak=function(){var p;p=this.Uc.HL();if(p)return new h(p);};m.prototype.getAds=function(){return this.Uc.jna();};m.prototype.getLogInfo=function(){return this.Uc.rKb();};b.hAa=m;Xa.Object.defineProperties(h.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new n(this.Yy.Tc);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Yy.HA;if(p)return new g(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Yy.D8a;if(p)return new d(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new k(this.Yy.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new f(this.Yy.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.Yy.index;}}});b.rnb=h;Xa.Object.defineProperties(n.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new l(this.XJ.YJ);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.XJ.faa);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.XJ.jT);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.XJ.fNb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.XJ.duration.G};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.XJ.i9.G};}}});b.shb=n;Xa.Object.defineProperties(g.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.Aua.bf);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.Aua.YRa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.Aua.index;}}});b.snb=g;Xa.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.Bua.Ita;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Bua.GWb;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Bua.i9.G};}}});b.unb=d;Xa.Object.defineProperties(k.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.I9.Esb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.I9.Csb.G};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.I9.Gsb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.I9.Fsb.G};}}});b.tnb=k;Xa.Object.defineProperties(f.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.Og.I;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Og.offset.G};}}});b.kkb=f;Xa.Object.defineProperties(l.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.YJ.Xe.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.YJ.duration.G};}}});b.thb=l;Xa.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.G};}}});b.jnb=c;Xa.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.bf.dr;}},id:{configurable:!0,enumerable:!0,get:function(){return this.bf.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.bf.startTime.G};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.bf.endTime.G};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.bf.yt;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.bf.pO;}}});b.uhb=a;},89540:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q,u,t,w,v,y){var x;x=this;this.cb=h;this.j=m;this.log=p;this.config=q;this.O1b=u;this.aeb=t;this.xl=new l.Hb(!1);this.Ib=new g.Uj();this.HTa=!1;this.WV=function(){x.HTa=!0;n.ie.removeListener(n.Pk,x.WV);};this.wFb=v(this);h=h.Wn();this.dv=w({na:m.na.toString()});w=null === h || void 0 === h?void 0:h.n9a.events;null === w || void 0 === w?void 0:w.addListener("adPresenting",function(){!1;x.dZa();});null === w || void 0 === w?void 0:w.addListener("adBreakPresenting",function(){!1;y.EM(m);x.xl.set(!0);});null === w || void 0 === w?void 0:w.addListener("adBreakEnded",function(){!1;x.xl.set(!1);});null === w || void 0 === w?void 0:w.addListener("adPlaygraphUpdated",function(){!1;});null === w || void 0 === w?void 0:w.addListener("segmentDropped",function(z){var A;!1;A=x.j.Si(z.segmentId);x.O1b.nZb(z,A);});this.Vp=new k.w0();this.j.addEventListener("playbackStart",function(){x.Vp.resolve();});w=null === h || void 0 === h?void 0:h.ppa.events;null === w || void 0 === w?void 0:w.addListener("adEvent",function(z){x.Vp.promise.then(function(){var A,B,C;z.event === f.Cba.Ksb && z.yt && x.aeb.forEach(function(D){return D.start(x.j);});B=null === (A=m.X) || void 0 === A?void 0:A.Fa.Ed;A=x.dMb(z);if(z.event === f.Cba.Lsb && A){C=x.HTa?f.Dba.cfb:m.kh?f.Dba.error:f.Dba.cGb;A=Object.assign(Object.assign({},A),{reason:C});}x.dv.b2b(z,B,A);});});n.ie.addListener(n.Pk,this.WV);null === w || void 0 === w?void 0:w.addListener("adBreakEvent",function(z){z.event === f.Wza.GA && x.Ib.Ec(d.bZ.GA);x.Vp.promise.then(function(){x.dv.a2b(z,m);});});}Object.defineProperty(b,"__esModule",{value:!0});b.jAa=void 0;l=a(81734);f=a(80966);k=a(94293);d=a(85001);g=a(94886);n=a(37509);c.prototype.addEventListener=function(h,m,p){this.Ib.addListener(h,m,p);};c.prototype.removeEventListener=function(h,m){this.Ib.removeListener(h,m);};c.prototype.HL=function(){var h,m;return null === (m=null === (h=this.cb) || void 0 === h?void 0:h.Wn()) || void 0 === m?void 0:m.jN.Yy;};c.prototype.rKb=function(){var h,m,p,q;p=this.HL();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.G,adDuration:null === (h=null === p || void 0 === p?void 0:p.HA) || void 0 === h?void 0:h.bf.endTime.G,adIndex:null === (m=p.HA) || void 0 === m?void 0:m.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.Tc.duration.G};(h=p.D8a) && (q.padding={type:h.Ita,duration:h.i9.G});return q;}};c.prototype.jna=function(){var h,m,p,q,u;q=this.j.ba.P.toString();u=null === (m=null === (h=this.cb) || void 0 === h?void 0:h.Wn()) || void 0 === m?void 0:m.n9a.jna({rgb:[q]});return null !== (p=null === u || void 0 === u?void 0:u.result[q]) && void 0 !== p?p:[];};c.prototype.dZa=function(){};c.prototype.dMb=function(h){var m;if(h.yt){m=this.aeb.reduce(function(p,q){return Object.assign(Object.assign({},p),q.e6(h));},{});return Object.assign(Object.assign({},m),{thirdPartyVerificationToken:h.pO});}};b.jAa=c;},63013:function(r,b,a){var l,f,k,d,g;function c(n,h){var m;m=g.yk.call(this) || this;m.Ea=n;m.paused=!1;m.Mq=function(){var p,q,u;u=m.Uc.HL();m.Uc.xl.value && null !== (p=null === u || void 0 === u?void 0:u.HA) && void 0 !== p && p.bf.yt?(p=null === (q=u.HA) || void 0 === q?void 0:q.bf.id,q=m.paused,m.paused=m.j.paused.value,q !== m.paused && (m.paused?(m.n9=m.Ea.Jb(),m.PR=u.position.offset.G,m.la.debug("Ad " + p + " paused at " + m.PR + " ms into the ad")):void 0 !== m.n9 && void 0 !== m.PR && (u=m.Ea.Jb().qa(m.n9).da(d.pa),m.la.debug("Ad " + p + " resumed. Pause duration: " + u),m.trace.push([m.PR,u]),m.PR=void 0,m.n9=void 0))):m.unsubscribe();};m.la=h.$a("AdPauseStateTracker");return m;}Object.defineProperty(b,"__esModule",{value:!0});b.kAa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(87386);d=a(5021);g=a(87144);fa(c,g.yk);c.prototype.start=function(n){g.yk.prototype.start.call(this,n);this.Fv || (this.j.paused.addListener(this.Mq),this.Fv=!0);};c.prototype.e6=function(){return {pauseTrace:this.trace};};c.prototype.cX=function(){this.PR=void 0;this.paused=this.j.paused.value;this.n9=void 0;this.trace=[];};c.prototype.unsubscribe=function(){g.yk.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.Mq);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(k.ab))],a);b.kAa=a;},56386:function(r,b,a){var l,f,k,d,g;function c(n,h){var m;m=g.yk.call(this) || this;m.Ska=h;m.O0b=function(){0 === m.trace.length?m.Mq():m.fma.Mj(function(){m.Mq();});};m.Mq=function(){var p,q,u,t;q=m.Uc.HL();if(m.Uc.xl.value && null !== (p=null === q || void 0 === q?void 0:q.HA) && void 0 !== p && p.bf.yt){(p=m.trace[m.trace.length - 1]) && p[0] === q.position.offset.G && m.trace.pop();p=m.trace[m.trace.length - 1];u=m.j.mk.getBoundingClientRect();t=u.height;u=u.width;0 < t && 0 < u && (!p || p[1] !== u || p[2] !== t) && m.trace.push([q.position.offset.G,u,t]);}else m.unsubscribe();};m.la=n.$a("AdResizeTracker");m.fma=h((0,d.sh)(1));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.pAa=void 0;r=a(5163);l=a(22674);f=a(34043);k=a(87386);d=a(5021);g=a(87144);fa(c,g.yk);c.prototype.start=function(n){g.yk.prototype.start.call(this,n);this.Fv || (this.Q7a=new ResizeObserver(this.O0b),this.Q7a.observe(this.j.mk),this.Fv=!0);};c.prototype.e6=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.cX=function(){this.trace=[];};c.prototype.unsubscribe=function(){var n;g.yk.prototype.unsubscribe.call(this);null === (n=this.Q7a) || void 0 === n?void 0:n.disconnect();};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(f.JZ))],a);b.pAa=a;},87144:function(r,b){function a(){var c;c=this;this.Fv=!1;this.trace=[];this.Y3=function(){c.fma.Mj(function(){c.Mq();});};}Object.defineProperty(b,"__esModule",{value:!0});b.yk=void 0;a.prototype.start=function(c){var l;l=this;this.j=c;this.Uc=this.j.Wn();this.Fv || (this.Uc.xl.addListener(this.Mq),this.j.addEventListener("closing",function(){return l.unsubscribe();}));this.cX();};a.prototype.unsubscribe=function(){this.Uc.xl.removeListener(this.Mq);this.Fv=!1;this.cX();};b.yk=a;},38508:function(r,b,a){var l,f;function c(k){var d;d=this;this.cF=function(){var g,n,h;n=!document.hidden;h=null === (g=d.j.Wn()) || void 0 === g?void 0:g.xl.value;g=d.j.paused.value;n || !h || g || (d.la.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{KM:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.cF);d.j.Wn().xl.removeListener(d.cF);d.j.paused.removeListener(d.cF);};this.la=k.$a("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.rAa=void 0;r=a(5163);l=a(22674);a=a(87386);c.prototype.EM=function(k){this.OTb || (this.la.debug("Starting to monitor playback for visibility"),this.j=k,this.OTb=!0,document.addEventListener("visibilitychange",this.cF),this.j.Wn().xl.addListener(this.cF),this.j.paused.addListener(this.cF),this.j.addEventListener("closing",this.unsubscribe),this.cF());};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ab))],f);b.rAa=f;},24711:function(r,b,a){var l,f,k;function c(d){var g;g=k.yk.call(this) || this;g.Mra=0;g.JWa=[0];g.GG=[0];g.visibility=0;g.Mq=function(){var n,h;h=g.Uc.HL();g.Uc.xl.value && null !== (n=null === h || void 0 === h?void 0:h.HA) && void 0 !== n && n.bf.yt?(n=g.visibility,g.visibility=document.hidden?0:1,n !== g.visibility && (1 === g.visibility?(g.Mra=g.visibility,g.W7=h.position.offset.G):(h=h.position.offset.G - (g.W7 || 0),h > g.GG[0] && (g.GG[0]=h),g.W7=void 0))):g.unsubscribe();};g.la=d.$a("AdVisibilityTracker");return g;}Object.defineProperty(b,"__esModule",{value:!0});b.tAa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(87144);fa(c,k.yk);c.prototype.start=function(d){k.yk.prototype.start.call(this,d);this.Fv || (document.addEventListener("visibilitychange",this.Mq),this.Fv=!0);};c.prototype.e6=function(d){var g,n,h;n=this.j.mk.getBoundingClientRect();h=n.height;n=n.width;"adStart" === d.event && (h=0 === h?document.documentElement.clientHeight:h,n=0 === n?document.documentElement.clientWidth:n);d=d.Og.offset.G - (null !== (g=this.W7) && void 0 !== g?g:0);d > this.GG[0] && (this.GG[0]=d);g=document.fullscreenElement?!0:screen.height === ob.outerHeight && screen.width === ob.outerWidth;this.JWa=this.GG;return {cumulativeTimeByVisibilityMs:this.JWa,maxContinuousTimeByVisibilityMs:this.GG,visibility:this.visibility,maxVisibility:this.Mra,screenHeight:screen.height,screenWidth:screen.width,adHeight:h,adWidth:n,fullScreen:g};};c.prototype.cX=function(){this.W7=void 0;this.GG=[0];this.Mra=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){k.yk.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.Mq);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab))],a);b.tAa=a;},14177:function(r,b,a){var l,f,k,d,g;function c(n,h){var m;m=g.yk.call(this) || this;m.zf=n;m.Ska=h;m.Mq=function(){var p,q;q=m.Uc.HL();m.Uc.xl.value && null !== (p=null === q || void 0 === q?void 0:q.HA) && void 0 !== p && p.bf.yt?(p=m.trace[m.trace.length - 1],q=q.position.offset.G,p && p[0] === q && m.trace.pop(),(p=m.trace[m.trace.length - 1]) && p[1] === m.j.Oka || m.trace.push([q,m.j.Oka])):m.unsubscribe();};m.la=n.$a("AdVolumeTracker");m.fma=h((0,d.sh)(1));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.uAa=void 0;r=a(5163);l=a(22674);f=a(34043);k=a(87386);d=a(5021);g=a(87144);fa(c,g.yk);c.prototype.start=function(n){g.yk.prototype.start.call(this,n);this.Fv || (this.j.volume.addListener(this.Y3),this.j.muted.addListener(this.Y3),this.Fv=!0);};c.prototype.e6=function(){return {volumeChangeTrace:this.trace,volume:this.j.Oka};};c.prototype.cX=function(){this.trace=[];};c.prototype.unsubscribe=function(){g.yk.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.Y3);this.j.muted.removeListener(this.Y3);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(f.JZ))],a);b.uAa=a;},31085:function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.oBa=void 0;a.prototype.Afb=function(){var c;c=this.j.cb;if(null !== c && void 0 !== c && c.qx){c=c.Jc.get();if(null === c || void 0 === c?0:c.rh)this.j.rh=c.rh.Ca;if(null === c || void 0 === c?0:c.nb)this.j.nb=c.nb.Ca;}};a.prototype.Vm=function(){-1 === this.j.nb && this.Afb();return this.j.nb;};a.prototype.Cwb=function(c){-1 !== this.j.rh && -1 !== this.j.nb || this.Afb();return -1 === this.j.rh || -1 === this.j.nb?Number.MAX_VALUE:this.j.rh + 8 * c / this.j.nb;};b.oBa=a;},43422:function(r,b,a){var f,k,d,g,n,h,m,p;function c(q){this.j=q;this.T4a=!1;this.log=(0,k.Eh)(this.j,"Playback");this.mM=k.Ba.get(m.LP);(0,d.oa)(f.config);f.config.Vr || (this.gEb=k.Ba.get(g.ADa));}function l(q,u){var w;function t(v){return v && 0 < v.length && v[0].AG;}w=k.Ba.get(m.LP);return q.na && t(q.je)?w.release({na:q.na,je:q.je}).then(function(){}):u.na && t(u.je)?w.release(u).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.ez=b.KCa=void 0;f=a(29204);k=a(31276);d=a(45146);g=a(58120);n=a(63156);h=a(32687);m=a(98166);p=a(85001);c.prototype.UF=function(q){var u;u=this;return new Promise(function(t,w){var v,y,x;v=n.Tj.WVa(q.gf);y=q.uj.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,k.Ex)(z.data)};});x=u.j.eLb(q.uj[0].sessionId);u.mM.Ms({Ed:x.Ed,gf:h.is.ym(q.gf)?q.gf:v,z4:[x.Nk],uj:y,na:x.na,Mm:q.Mm,oi:x.X.oi,Zf:x.X.Fa.Zf}).then(function(z){u.j.je=z.je;t(z);u.kHb(x);}).catch(w);});};c.prototype.release=function(q){return l(this.j,q);};c.prototype.dWa=function(){var q;q=this.gEb.create();q.je=this.j.je;q.na=this.j.na;q.P=this.j.P;return q;};c.prototype.kHb=function(q){this.T4a || (this.T4a=!0,this.j.fireEvent(p.ga.cV,{P:q.P}));};b.KCa=c;b.ez=l;},11372:function(r,b,a){var l;function c(f,k,d,g){this.ola=f;this.debug=k;this.Ea=d;this.j=g;this.j9=[];this.u8={};this.pla={};this.Lma=!1;this.Vdb=1;this.jBa=7.8125;}b.Oca=void 0;l=a(5021);a(85001);a(32687);a(61726);c.prototype.register=function(f,k){this.debug.assert(!(0 <= this.j9.indexOf(f)),"panel already registered");this.u8[f]=k;this.j9.push(f);};c.prototype.G7a=function(f){var k;k=this;this.pla[f]=!0;this.Lma || (this.Lma=!0,setTimeout(function(){return k.nHb();},0));};c.prototype.FKb=function(f){return (f=this.u8[f])?f():void 0;};c.prototype.RT=function(){var f;f=this.j.s9;return f?f.RT():[];};c.prototype.addEventListener=function(f,k){this.ola.addListener(f,k);this.u8[f] && this.G7a(f);};c.prototype.removeEventListener=function(f,k){this.ola.removeListener(f,k);};c.prototype.getTime=function(){return this.Ea.Jb().da(l.pa);};c.prototype.nHb=function(){this.Lma=!1;for(var f=this.j9.length,k;f--;){k=this.j9[f];this.pla[k] && (this.pla[k]=!1,this.ola.Ec(k + "changed",{getModel:this.u8[k]}));}};b.Oca=c;},78312:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q,u,t){var w,v,y,x;w=this;this.config=h;this.yc=p;this.v=u;this.j=t;this.WL=new n.Hb(!1);this.Dia=new n.Hb(!1);this.Il=this.fi=void 0;this.lxa=!1;this.GF=void 0;this.log=q.$a("LivePlaybackManager");this.GF=this.config().EHb;v=this.config().H4b;y=this.config().gRb;this.lxa=(0,k.Rb)(v) && (0,k.Rb)(y);null === t || void 0 === t?void 0:t.addEventListener(d.ga.Yk,function(){var z;if(w.aa && ((0,f.oa)(w.j && w.j.ba === w.v,"Unexpected playback segment on playbackReady"),w.config().WEb && (w.j9a=m(function(A){(0,f.oa)(w.aa && w.j && w.j.ba === w.v,"Unexpected playback segment on playback rate update");w.v.playbackRate.value !== A && (w.v.playbackRate.set(A),w.j.fireEvent(d.ga.bC));})),w.lxa)){z=w.Yq();x=w.yc.CH((0,l.Ob)(500),function(){var A,B,C,D;A=w.Yq();C=z + v;A >= C - 500 && (B=w.wka(C));C=z + v + y;if(A >= C - 500){D=w.wka(C);null === x || void 0 === x?void 0:x.cancel();}w.Rwa(B,D,!0);});}});null === t || void 0 === t?void 0:t.addEventListener(d.ga.mg,function(){var z;w.aa && ((0,f.oa)(w.j && w.j.ba === w.v,"Unexpected playback segment on closing"),w.j9a=void 0,null === (z=w.dV) || void 0 === z?void 0:z.cancel(),w.dV=void 0,null === x || void 0 === x?void 0:x.cancel());});null === t || void 0 === t?void 0:t.addEventListener(d.ga.IC,function(z){w.aa && ((0,f.oa)(w.j && w.j.ba === w.v,"Unexpected playback segment on repositioning"),z.Xb !== d.mc.cx && z.Xb !== d.mc.VI || w.WL.set(z.Xb === d.mc.VI && !w.P3a()));});null === t || void 0 === t?void 0:t.addEventListener(d.ga.Yfb,function(){w.aa && ((0,f.oa)(w.j && w.j.ba === w.v,"Unexpected playback segment on userInitiatedPause"),w.WL.set(!1));});null === t || void 0 === t?void 0:t.background.addListener(function(){var z;w.aa && ((0,f.oa)(w.j && w.j.ba === w.v,"Unexpected playback segment on background update"),!w.j.background.value && w.oU() && void 0 === w.GF && (w.b7()?null === (z=w.j.Ud) || void 0 === z?void 0:z.seek(w.fi,d.mc.cx):w.D$()));});this.v.mediaTime.addListener(function(z){var A,B,C,D;if(w.aa){(0,f.oa)(w.j && w.j.ba === w.v,"Unexpected playback segment on mediaTime update");C=w.j;w.o3();D=w.AB(z.oldValue);z=w.AB(z.newValue);D !== z && (!1,C.fireEvent(d.ga.bC));w.b7()?(null === (A=w.dV) || void 0 === A?void 0:A.cancel(),w.dV=void 0):w.dV || (w.dV=w.yc.CH((0,l.Ob)(1E3),function(){w.o3();C.fireEvent(d.ga.bC);}));null === (B=w.j9a) || void 0 === B?void 0:B.EO(w.j.Ai.value && w.oU(),w.v.mediaTime.value,w.Yq());w.config().QEb && w.j.Ai.value && w.AB() === g.hs.pQ && w.rPb() && !w.SB() && void 0 === w.GF && w.D$();}});this.WL.addListener(function(){(0,f.oa)(w.aa,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.aa);(0,f.oa)(w.j && w.j.ba === w.v,"Playback is required for live.");w.o3();});this.Dia.addListener(function(){(0,f.oa)(w.aa,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.aa);(0,f.oa)(w.j && w.j.ba === w.v,"Playback is required for live.");!1;w.j.fireEvent(d.ga.bC);});}Object.defineProperty(b,"__esModule",{value:!0});b.cHa=void 0;l=a(5021);f=a(45146);k=a(32687);d=a(85001);g=a(30873);n=a(81734);c.prototype.F3b=function(){var h,m,p;(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");return null !== (p=null === (m=null === (h=this.v.X) || void 0 === h?void 0:h.Fa.Ih) || void 0 === m?void 0:m.IDb) && void 0 !== p?p:!1;};c.prototype.eZb=function(){var h;(0,f.oa)(this.aa,"Unexpected call to processManifest(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");(0,f.oa)(null === (h=this.v.X) || void 0 === h?void 0:h.Fa.Ih,"Live manifest is unavailable.");h=this.v.X.Fa.Ih;this.Rwa(h.jma,h.R4);h=this.config().GHb;void 0 !== h && void 0 !== this.fi && (this.GF=this.fi + h);};c.prototype.Rwa=function(h,m,p){var q,u,t,w,v;(0,f.oa)(this.aa,"Unexpected call to setLiveEventTimes(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");if(!this.lxa || p){p=this.j;t=this.fi;w=this.Il;v=null !== (q=this.VVa(h)) && void 0 !== q?q:t;q=null !== (u=this.VVa(m)) && void 0 !== u?u:w;if(void 0 === v && void 0 === q || void 0 !== v && 0 <= v && void 0 === q || void 0 !== v && 0 <= v && void 0 !== q && q > v){if((this.fi=v,this.Il=q,t !== this.fi || w !== this.Il))(!1,p.fireEvent(d.ga.bC));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (h + ", startPts:") + (v + ", endTime:") + (m + ", endPts:") + q);}};c.prototype.HJb=function(){var h;(0,f.oa)(this.aa,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");h=this.v.mediaTime.value;if(void 0 !== h)return this.wka(h);};c.prototype.g6=function(){var h;(0,f.oa)(this.aa,"Unexpected call to getUIAdjustedTime(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");h=this.v.mediaTime.value;if(void 0 !== h)switch(this.AB(h)){case g.hs.pQ:return 0;case g.hs.pda:return ((0,f.oa)(void 0 !== this.fi,"eventStartPts should be defined in LIVE_EVENT slate."),h - this.fi);case g.hs.Fca:return ((0,f.oa)(void 0 !== this.fi && void 0 !== this.Il,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.Il - this.fi);}};c.prototype.Sab=function(h){var m,p;(0,f.oa)(this.aa,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");return void 0 === this.fi?null !== (p=null !== (m=this.Yq()) && void 0 !== m?m:this.v.mediaTime.value) && void 0 !== p?p:h:this.fi + h;};c.prototype.a4a=function(h){var m;(0,f.oa)(this.aa,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");m=this.Yq();return void 0 !== m && h >= m - this.config().XQb;};c.prototype.Sna=function(h,m){var p,q;(0,f.oa)(this.aa,"Unexpected call to getLiveBookmark(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");if(void 0 !== this.GF)return {zl:this.GF,xC:Number.MAX_SAFE_INTEGER,eXa:this.GF};m || void 0 === this.fi || void 0 === this.Il && 0 === h?(this.WL.set(!0),h=36E7):(h=this.fi + h,void 0 !== this.Il && h > this.Il && (h=this.fi));return {zl:h,xC:null !== (p=this.Il) && void 0 !== p?p:Number.MAX_SAFE_INTEGER,eXa:null !== (q=this.fi) && void 0 !== q?q:36E7};};c.prototype.t0a=function(){var h;(0,f.oa)(this.aa,"Unexpected call to getLiveContentDuration(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");h=this.SB()?this.v.mediaTime.value:this.Yq();h=void 0 !== this.Il && void 0 !== h?Math.min(this.Il,h):h;h=void 0 !== h && void 0 !== this.fi?h - this.fi:0;!1;return h;};c.prototype.yKb=function(){var h;(0,f.oa)(this.aa,"Unexpected call to getMaxSeekPts(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");h=this.Yq();h=void 0 !== this.Il && void 0 !== h?Math.min(this.Il,h):h;!1;return null !== h && void 0 !== h?h:0;};c.prototype.Yq=function(){var h,m;(0,f.oa)(this.aa,"Unexpected call to getLiveEdge(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");return null === (m=null === (h=this.j.cb) || void 0 === h?void 0:h.zB(this.v.I)) || void 0 === m?void 0:m.G;};c.prototype.D$=function(){var h;(0,f.oa)(this.aa,"Unexpected call to seekToLiveEdge(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");this.WL.set(!this.P3a());if(this.j.Ud){h=this.Yq();void 0 !== h?this.j.Ud.seek(h,d.mc.VI,this.v.I):!1;}else this.v.zl=this.Sna(0,!0).zl;};c.prototype.SB=function(){(0,f.oa)(this.aa,"Unexpected call to isAtLiveEdge(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");this.o3();return this.Dia.value;};c.prototype.oU=function(){(0,f.oa)(this.aa,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");return this.WL.value;};c.prototype.AB=function(h){var m,p,q;(0,f.oa)(this.aa,"Unexpected call to getLiveEventState(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");h=null !== (m=null !== h && void 0 !== h?h:this.v.mediaTime.value) && void 0 !== m?m:0;m=null !== (p=this.fi) && void 0 !== p?p:Infinity;p=null !== (q=this.Il) && void 0 !== q?q:Infinity;return h < m?g.hs.pQ:h > p?g.hs.Fca:g.hs.pda;};c.prototype.b7=function(){var h;(0,f.oa)(this.aa,"Unexpected call to isLiveEventEnded(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");h=this.Yq();return void 0 !== this.Il && void 0 !== h && this.Il < h;};c.prototype.rPb=function(){var h;(0,f.oa)(this.aa,"Unexpected call to isLiveEventStarted(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");h=this.Yq();return void 0 !== this.fi && void 0 !== h && this.fi < h;};c.prototype.P3a=function(){var h;(0,f.oa)(this.aa,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");return this.j.paused.value && !(null === (h=this.j.paused.Dh) || void 0 === h?0:h.KM);};c.prototype.o3=function(){var h;(0,f.oa)(this.aa,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");this.Dia.set(this.oU() && this.a4a(null !== (h=this.v.mediaTime.value) && void 0 !== h?h:0));};c.prototype.wka=function(h){var m,p;(0,f.oa)(this.aa,"Unexpected call to convertPtsToEventTime(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");(0,f.oa)(null === (m=this.v.X) || void 0 === m?void 0:m.Fa.Ih,"Live manifest is unavailable.");m=this.v.X.Fa.Ih;p=new Date(m.pX[m.x4[this.v.X.Fa.lu[0].streams[0].Lm]].a3).getTime();return new Date(p - m.Q4 + h).toISOString();};c.prototype.VVa=function(h){var m,p,q;(0,f.oa)(this.aa,"Unexpected call to convertEventTimeToPts(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ba === this.v,"Playback is required for live.");(0,f.oa)(null === (m=this.v.X) || void 0 === m?void 0:m.Fa.Ih,"Live manifest is unavailable.");if(h){m=this.v.X.Fa.Ih;p=m.pX[m.x4[this.v.X.Fa.lu[0].streams[0].Lm]];q=new Date(h).getTime() + m.Q4 - new Date(p.a3).getTime();if(isNaN(q) || 0 > q)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (h + ", eventAvailabilityOffsetMs:") + (m.Q4 + ", availabilityStartTime:") + p.a3);else return q;}};Xa.Object.defineProperties(c.prototype,{aa:{configurable:!0,enumerable:!0,get:function(){var h,m;h=this.v;m=h.X;return m?(h=m.Fa,m=h.Ih,"LIVE" === h.Zf && !!m):"live" === h.zd;}}});b.cHa=c;},31099:function(r,b,a){var l,f;function c(k,d,g,n){this.config=k;this.Q$=n;this.log=d.$a("LivePlaybackRateController");this.e6b=g((0,l.Ob)(this.config().bRb));}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;l=a(5021);f=a(8825);c.prototype.EO=function(k,d,g){var n,h;n=this;if(!k || void 0 === d || void 0 === g || Math.abs(d - g) < this.config().cRb)h=1;else (k=g - d,k=1 + this.config().aRb / 1E3 * k,h=(0,f.Zw)(k,this.config().eRb,this.config().dRb));this.e6b.Mj(function(){!1;n.Q$(h);});};b.eHa=c;},11953:function(r,b,a){var d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O;function c(){this.Haa=[];this.I6b=50;}function l(H){var J;J=this;this.j=H;this.ygb=Promise.resolve();this.aEa=ob.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.BE=[];this.mj=new h.Uj();this.GPa=0;this.m1=[];this.Ii=(0,q.Eh)(this.j,"MediaElementASE");this.nRa=g.Xw;this.ega=!1;this.Pb=new c();this.Te=new K.Hb(E.Tj.Tz.HAVE_NOTHING);this.In={};this.$Pa={};this.F5=this.n1(function(){var N;if(J.$)return null !== (N=J.$.webkitDecodedFrameCount) && void 0 !== N?N:0;});this.zv=this.n1(function(){var N;if(J.$){N=J.uga();return N?N.totalVideoFrames:J.$.webkitDecodedFrameCount;}});this.PF=this.n1(function(){var N;if(J.$){N=J.uga();return N?N.droppedVideoFrames:J.$.webkitDroppedFrameCount;}});this.NT=this.n1(function(){var N;if(J.$){N=J.uga();return N && N.corruptedVideoFrames;}});this.tQa=function(N){!1;J.mj.Ec(C.Qh.S4a,{J:N});};this.Rk=q.Ba.get(B.YGa).create(n.config.Vr,this,this.j);this.yc=q.Ba.get(L.Th);n.config.ZB && (this.ygb=new Promise(function(N){J.nRa=N;J.j.addEventListener(G.ga.mg,N);}));this.Ii.trace("Created Media Element");this.addEventListener=this.mj.addListener;this.removeEventListener=this.mj.removeListener;}function f(H){var J,N;J=q.Ba.get(D.kPa).uLb();H=H.width / H.height * J.height;N=(J.width - H) / 2;return n.config.l3b?(0,p.createElement)("VIDEO","position:absolute;width:" + H + "px;height:" + J.height + "px;left:" + N + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function k(H){H.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.nIa=void 0;d=a(90762);g=a(33096);n=a(29204);h=a(94886);m=a(37509);p=a(52569);q=a(31276);u=a(36129);t=a(45146);w=a(8825);v=a(67572);y=a(3887);x=a(77705);z=a(22365);A=a(32687);B=a(80012);C=a(16520);D=a(45613);F=a(5021);G=a(85001);E=a(63156);I=a(82100);M=a(60328);L=a(53085);K=a(81734);O=!!(z.Yz && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);l.prototype.yL=function(H){try{this.$ && (this.GPa=this.$.currentTime);}catch(J){this.Ii.error("Exception while getting VIDEO.currentTime",J);H && this.NQ(u.V.$mb,J);}return (0,z.xn)(this.GPa * g.js);};l.prototype.seek=function(H){var J;(0,t.oa)(!this.um);this.fRa();J=this.yL(!0);if(!n.config.Ltb && (0,z.a0)(J - H) <= this.pbb)(this.Ii.trace("Seek delta too small",{currentTime:J,seekTime:H,min:this.pbb}),this.Pb.trace("smallseek",H));else {this.Pb.trace("seek",H);try{this.Ii.trace("Setting video elements currentTime",{From:(0,w.ah)(J),To:(0,w.ah)(H)});this.um={};this.$.currentTime=H / g.js;this.mj.Ec(C.Qh.Qn);}catch(N){this.Ii.error("Exception while setting VIDEO.currentTime",N);this.NQ(u.V.anb,N);}}};l.prototype.i1a=function(){return !!this.um;};l.prototype.addSourceBuffer=function(H){var J;try{J=new d.Nda(this.j,H,this.hg,this.Ii);this.BE.push(J);H == g.TP && J.Oma && J.Oma.addListener(this.nRa);this.mj.Ec(C.Qh.Ocb);return J;}catch(N){J=(0,y.we)(N);this.Ii.error("Unable to add source buffer.",{error:J});this.j.pd(u.V.iea,{Aa:H === M.u.fa?u.S.Ida:u.S.Jda,Nb:J});}};l.prototype.VR=function(H){var J;J=this;H.forEach(function(N){return J.addSourceBuffer(N);});return !0;};l.prototype.removeSourceBuffer=function(H){this.BE=this.BE.filter(function(J){return !(0,p.vVa)(H,J);});this.hg.removeSourceBuffer(H);};l.prototype.endOfStream=function(){this.Pb.trace("endofstream");!1;n.config.vja && this.hg.endOfStream();};l.prototype.$s=function(H){!1;this.BE=[];H && H.kic();return !0;};l.prototype.B0a=function(){if(this.hg)return (0,F.D9a)(this.hg.duration);};l.prototype.BDb=function(){var H;if(!this.ega && this.$ && this.$.readyState >= E.Tj.Tz.HAVE_CURRENT_DATA){H=this.$.webkitDecodedFrameCount;if(void 0 === H || 0 < H || n.config.B9b)this.ega=!0;}return this.ega;};l.prototype.open=function(){var H,J,N;H=this;this.$=f(this.j.eD.value);this.a_b=this.yc.CH((0,F.Ob)(500),function(){H.Te.set(H.$.readyState);});this.sourceBuffers=this.BE;this.j.addEventListener(G.ga.zcb,function(R){return H.Wqb(R);});if(O){this.j.rG && !n.config.Mfb && this.Rk.b9();try{this.hg=new z.Yz();}catch(R){this.NQ(u.V.Rmb,R);return;}try{this.Rf=URL.createObjectURL(this.hg);}catch(R){this.NQ(u.V.Smb,R);return;}try{this.Rk.Xsb(this.tQa);this.hg.addEventListener("sourceopen",function(R){return H.OQa(R);});this.hg.addEventListener(this.aEa + "sourceopen",function(R){return H.OQa(R);});this.$.addEventListener("error",this.In.error=function(R){return H.Yga(R);});this.$.addEventListener("seeking",this.In.seeking=function(){return H.Vqb();});this.$.addEventListener("seeked",this.In.seeked=function(){return H.Uqb();});this.$.addEventListener("timeupdate",this.In.timeupdate=function(){return H.Yqb();});this.$.addEventListener("loadstart",this.In.loadstart=function(){return H.Rqb();});this.$.addEventListener("volumechange",this.In.volumechange=function(R){return H.Zqb(R);});this.Te.addListener(function(){return H.Tqb();});this.$.addEventListener(this.Rk.oC,this.In[this.Rk.oC]=function(){H.Ii.trace(H.Rk.oC);H.Sqb();});J=this.j.mk;N=J.lastChild;N?J.insertBefore(this.$,N):J.appendChild(this.$);n.config.BXa && this.$.addEventListener("contextmenu",k);this.$.src=this.Rf;m.ie.addListener(m.ar,this.$Pa[m.ar]=function(){return H.NQa();});this.NQa();}catch(R){this.NQ(u.V.Tmb,R);}}else this.i1(u.V.OJa);};l.prototype.close=function(){var J;function H(){J.Rf && (J.fRa(),m.ie.removeListener(m.ar,J.$Pa[m.ar]),J.Yob());}J=this;this.Pb.trace("close");this.$.removeEventListener(this.Rk.oC,this.In[this.Rk.oC]);this.$.removeEventListener("error",this.In.error);this.$.removeEventListener("seeking",this.In.seeking);this.$.removeEventListener("seeked",this.In.seeked);this.$.removeEventListener("timeupdate",this.In.timeupdate);this.$.removeEventListener("loadstart",this.In.loadstart);this.$.removeEventListener("volumechange",this.In.volumechange);this.Rk.c0b(this.tQa);n.config.Vr?this.Rk.ez().then(function(){return H();}):H();this.Rk.nab && clearTimeout(this.Rk.nab);};l.prototype.DB=function(){return this.Pb.DB();};l.prototype.N0b=function(){this.um && (this.Pb.trace("resetSeek"),this.um=void 0);};l.prototype.Sqb=function(){n.config.Mfb && this.Rk.b9();};l.prototype.uga=function(){if(this.$)return this.$.getVideoPlaybackQuality && this.$.getVideoPlaybackQuality() || this.$.videoPlaybackQuality || this.$.playbackQuality;};l.prototype.Jrb=function(){var H;H=this.j.kh;return (H=H && H.errorCode) && 0 <= [u.V.o0,u.V.T_].indexOf(H);};l.prototype.Yob=function(){var H,J;J=!1;n.config.NYb && this.Jrb() && (J=!0);n.config.gyb && !J && (this.$.removeAttribute("src"),this.$.load && this.$.load());URL.revokeObjectURL(this.Rf);n.config.BXa && this.$.removeEventListener("contextmenu",k);!J && this.$ && this.j.mk.removeChild(this.$);this.hg=void 0;null === (H=this.a_b) || void 0 === H?void 0:H.cancel();this.Te.set(E.Tj.Tz.HAVE_NOTHING);this.$=void 0;this.Rf="";};l.prototype.NQa=function(){!0 === z.Hg.hidden?this.m1.forEach(function(H){H.refresh();H.x4b();}):this.m1.forEach(function(H){H.refresh();H.P4b();});};l.prototype.n1=function(H){var J;J=q.Ba.get(v.vJa)(H);this.m1.push(J);return function(){J.refresh();return J.kJb();};};l.prototype.NQ=function(H,J){var N,R;N={Aa:u.S.kl,Nb:(0,y.we)(J)};try{(R=J.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == R.length && (N.Ee=R);}catch(T){}this.j.pd(H,N);};l.prototype.fRa=function(){this.m1.forEach(function(H){H.refresh();});};l.prototype.Jpb=function(){return this.$ && this.$.msGraphicsTrustStatus;};l.prototype.i1=function(H,J){this.j.pd(H,J,void 0);};l.prototype.Wqb=function(H){var J,R,T,ka,sa,ia,wa;if(this.$){H=H.bba;J=this.Jpb();J && (H.ConstrictionActive=J.constrictionActive,H.Status=J.status);try{H.readyState="" + this.$.readyState;H.currentTime="" + this.$.currentTime;H.pbRate="" + this.$.playbackRate;}catch(Aa){}J=this.BE.length;for(var N;J--;){N=this.BE[J];R="";N.type == g.$_?R="audio":N.type == g.TP && (R="video");(0,y.Wd)(H,N.w5(),{prefix:R});}this.hg && (J=this.hg.duration) && !isNaN(J) && (H.duration=J.toFixed(4));if(n.config.ARb)try{T=this.j.ee;ka=T && T.Db;if(ka){sa=ka.expiration;isNaN(sa) || (H.exp=sa);ia=ka.keyStatuses.entries();if(ia.next){wa=ia.next().value;wa && (H.keyStatus=wa[1]);}}}catch(Aa){}}};l.prototype.OQa=function(H){!1;this.Lrb || (this.Lrb=!0,this.mj.Ec(C.Qh.Qcb,H));};l.prototype.Vqb=function(){this.Pb.trace("seeking");this.Ii.trace("Video element event: seeking");this.um?this.um.XUb=!0:(this.Ii.error("unexpected seeking event"),n.config.BGb && this.i1(u.V.fnb,{Nb:{Trace:this.DB()}}));};l.prototype.Uqb=function(){this.Pb.trace("seeked");this.Ii.trace("Video element event: seeked");this.um?((0,t.oa)(this.um.XUb),this.um.WUb=!0,this.HRa()):(this.Ii.error("unexpected seeked event"),n.config.AGb && this.i1(u.V.enb,{Nb:{Trace:this.DB()}}));};l.prototype.Yqb=function(){var H;this.Pb.trace("timeupdate",null === (H=this.$) || void 0 === H?void 0:H.currentTime);!1;this.um && (this.um.ZUb=!0,this.HRa());this.mj.Ec(C.Qh.Qn);};l.prototype.Rqb=function(){this.Ii.trace("Video element event: loadstart");};l.prototype.Zqb=function(H){this.Ii.trace("Video element event:",H.type);try{this.j.volume.set(this.$.volume);this.j.muted.set(this.$.muted);}catch(J){this.Ii.error("error updating volume",J);}};l.prototype.Tqb=function(){this.mj.Ec(C.Qh.F$a);};l.prototype.Yga=function(H){var J,N,R,T,ka,sa,ia,wa;J=this.i1;N=u.V.NJa;R=u.rEa;T=this.DB();ka=H.target;sa=ka && ka.error;ia=H.errorCode;ka=sa && sa.code;(0,A.Wc)(ka) || (ka=ia && ia.code);ia=sa && sa.message;wa=sa && sa.msExtendedCode;(0,A.Wc)(wa) || (wa=sa && sa.systemCode);(0,A.Wc)(wa) || (wa=H.systemCode);(0,A.Wc)(wa) || (wa=(0,I.doa)(ia));H=(0,y.Wd)({},{code:ka,systemCode:wa,trace:JSON.stringify(T)},{f9:!0});R={Aa:R(ka),Nb:(0,x.tra)(H)};try{ia && (R.CV=ia);}catch(Aa){}wa=(0,y.Wi)(wa);(0,A.Rb)(wa) && (R.Ee=(0,q.Tia)(wa,4));J.call(this,N,R);};l.prototype.HRa=function(){this.um && this.um.WUb && this.um.ZUb && (this.Pb.trace("seekcomplete"),this.um=void 0,this.mj.Ec(C.Qh.mX));};Xa.Object.defineProperties(l.prototype,{pbb:{configurable:!0,enumerable:!0,get:function(){return n.config.f4b;}}});b.nIa=l;c.prototype.trace=function(H,J){this.Haa.push([H,J]);this.Haa.length > this.I6b && this.Haa.shift();};c.prototype.DB=function(){return this.Haa;};},51149:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q){var u;u=this;this.Vl=p;this.kt=q;this.Ceb=function(t){var w,v,y,x,z,A;w=u.Vdb++;v=t.request.gB || "dl";y=u.x1a(v,"start");if(y){x=t.request.hC.I;if(x && !u.cdb.has(x)){z=u.P0a(x);A=t.cw;u.Vl.mark(y,z,A?v + "-" + A + "-" + w:v);t.q2(function(){var B,C;B=u.x1a(v,"end");C=A?v + "-" + A + "-" + w:v;B && u.Vl.mark(B,z,C);});}}};this.Vdb=0;this.cdb=new Set();this.Cwa=new Map();q.hT && this.E9b();}Object.defineProperty(b,"__esModule",{value:!0});b.KIa=void 0;r=a(5163);l=a(22674);f=a(63156);k=a(77134);d=a(5021);g=a(61726);n=a(34231);h=a(79542);m={start:{video:f.Pa.kP,audio:f.Pa.gP},end:{video:f.Pa.jP,audio:f.Pa.fP}};c.prototype.Q0a=function(p){var u,t,w,v,y,x,z,A;function q(B){return (0,d.timestamp)(u.CSa((0,d.timestamp)(B),p,!0));}u=this;t=new Set();w=p.Xc;v=p.na;y=void 0 === p.Ycb?null:p.Ycb;x=p.I;z=this.Vl.y0a(v);A=x && this.P0a(x);A && z.push.apply(z,ca(this.Vl.y0a(A)));this.Vl.dab(p.na);A && this.Vl.dab(A);x && this.cdb.add(x);x=[];("pr_ats" in w) && x.push({name:f.Pa.C0,Qr:q(w.pr_ats),na:v,xf:"request-pre-manifest"});("ats" in w) && x.push({name:f.Pa.A0,Qr:q(w.ats),na:v,xf:"request-manifest"});("pr_at" in w) && x.push({name:f.Pa.B0,Qr:q(w.pr_at),na:v,xf:"request-pre-manifest"});("at" in w) && x.push({name:f.Pa.z0,Qr:q(w.at),na:v,xf:"request-manifest"});("lg" in w) && x.push({name:f.Pa.y0,Qr:q(w.lg),na:v,xf:"request-license"});("lr" in w) && (x.push({name:f.Pa.x0,Qr:q(w.lr),na:v,xf:"request-license"}),x.push({name:f.Pa.YY,Qr:q(w.lr),na:v,xf:"apply-license"}));("ld" in w) && x.push({name:f.Pa.XY,Qr:q(w.ld),na:v,xf:"apply-license"});("tt_start" in w) && x.push({name:f.Pa.iP,Qr:q(w.tt_start),na:v,xf:"request-timed-text"});("tt_comp" in w) && x.push({name:f.Pa.hP,Qr:q(w.tt_comp),na:v,xf:"request-timed-text"});return x.concat(z).map(function(B){return u.u6b(B,p);}).filter(function(B){return B.ts <= (null !== y && void 0 !== y?y:B.ts)?("end" === B.step && t.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || t.has(B.eventId)?!0:!1;}).sort(function(B,C){return B.ts - C.ts;}).reduce(function(B,C){var D;D=C.eventName;delete C.eventName;D && (B[D]=C);return B;},{});};c.prototype.xtb=function(p,q,u){return (void 0 === u?0:u)?p.da(d.pa) + q.Lh.da(d.pa):p.da(d.pa) - q.Lh.da(d.pa);};c.prototype.CSa=function(p,q,u){u=void 0 === u?!1:u;if(q.fm)if(u)p.da(d.pa) + q.fm;else return p.da(d.pa) - q.fm;return this.xtb(p,q,u);};c.prototype.u6b=function(p,q){var u,t;u=p.xf;t=p.name;return {eventName:this.vUb(t,u),eventId:u || t,ts:this.CSa(p.Qr,q),comp:this.LT(t),cat:this.WIb(t),step:this.RLb(t)};};c.prototype.vUb=function(p,q){switch(p){case f.Pa.iP:case f.Pa.hP:case f.Pa.gP:case f.Pa.fP:case f.Pa.kP:case f.Pa.jP:return p + "-" + q;default:return p;}};c.prototype.LT=function(p){switch(p){case f.Pa.C0:case f.Pa.B0:case f.Pa.A0:case f.Pa.z0:return "manifest";case f.Pa.y0:case f.Pa.x0:case f.Pa.bfa:case f.Pa.afa:case f.Pa.YZ:case f.Pa.XZ:case f.Pa.YY:case f.Pa.XY:return "license";case f.Pa.iP:case f.Pa.hP:case f.Pa.gP:case f.Pa.fP:case f.Pa.kP:case f.Pa.jP:case f.Pa.tba:case f.Pa.sba:return "buffering";case f.Pa.fea:case f.Pa.eea:return "playback";default:return (0,h.iL)(p);}};c.prototype.WIb=function(p){switch(p){case f.Pa.C0:case f.Pa.B0:case f.Pa.A0:case f.Pa.z0:return "aws";case f.Pa.y0:case f.Pa.x0:return "mixed";case f.Pa.fea:case f.Pa.eea:case f.Pa.bfa:case f.Pa.afa:case f.Pa.YZ:case f.Pa.XZ:case f.Pa.YY:case f.Pa.XY:case f.Pa.tba:case f.Pa.sba:return "device";case f.Pa.iP:case f.Pa.hP:case f.Pa.gP:case f.Pa.fP:case f.Pa.kP:case f.Pa.jP:return "cdn";default:return (0,h.iL)(p);}};c.prototype.RLb=function(p){switch(p){case f.Pa.C0:case f.Pa.fea:case f.Pa.A0:case f.Pa.y0:case f.Pa.tba:case f.Pa.iP:case f.Pa.gP:case f.Pa.kP:case f.Pa.bfa:case f.Pa.YZ:case f.Pa.YY:return "start";case f.Pa.B0:case f.Pa.eea:case f.Pa.z0:case f.Pa.x0:case f.Pa.afa:case f.Pa.XZ:case f.Pa.XY:case f.Pa.sba:case f.Pa.hP:case f.Pa.fP:case f.Pa.jP:return "end";default:return (0,h.iL)(p);}};c.prototype.x1a=function(p,q){if((p in m[q]))return m[q][p];};c.prototype.z7b=function(){g.Ge.removeEventListener(g.y6,this.Ceb);};c.prototype.E9b=function(){this.z7b();g.Ge.addEventListener(g.y6,this.Ceb);};c.prototype.P0a=function(p){var q;if(this.Cwa.has(p))return this.Cwa.get(p);q=Date.now();this.Cwa.set(p,q);return q;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.aQ)),r.__param(1,(0,l.l)(n.vn))],a);b.KIa=a;},27104:function(r,b,a){var f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){var A;A=this;this.Sg=t;this.config=v;this.zb=y;this.debug=x;this.VE={};this.IXa=!1;this.kS={};this.Ppa=0;this.I5=function(B){var C,D,F;C=B.stream;if(C){B=C.Vb;D=C.bitrate;F=C.xb;}else B=B.track.Vb;return {key:B + "$" + D + "$" + F,Vb:B,bitrate:D,xb:F};};this.Q_a=function(B){var C,D,F;D=A.I5(B);F=null === (C=B.Dc) || void 0 === C?void 0:C.id;B=B.track.xf;return Object.assign({},D,{key:D.key + "$" + F + "$" + B,Fm:F,xf:B});};this.TIb=function(B){var C;C=B.stream;B=null === C || void 0 === C?void 0:C.Vb;C=null === C || void 0 === C?void 0:C.bitrate;return {key:B + "$" + C,Vb:null !== B && void 0 !== B?B:"",BM:C};};this.wMb=function(B){var C;C=B.stream;B=null === C || void 0 === C?void 0:C.Vb;C=null === C || void 0 === C?void 0:C.xb;return {key:B + "$" + C,Vb:null !== B && void 0 !== B?B:"",BM:C};};this.log=w.$a("PlayTimeTracker");this.x9=z(t);this.Qt=z(t);this.iua=z(t);this.startTime=this.Sg.mediaTime.value;this.M7=this.config().psb;this.zI();this.VE.abrdel=0;this.M7.forEach(function(B){B="abrdel" + B;A.kS[B]=0;A.VE[B]=0;});}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.bLa=void 0;r=a(5163);f=a(22674);k=a(87386);d=a(4203);g=a(71501);a(5021);n=a(42207);h=a(90597);m=a(33096);p=a(3887);q=a(39551);u=a(30873);l.prototype.encode=function(t){return {downloadableId:t.Vb,correlationId:t.xf,bitrate:t.bitrate,vmaf:t.xb,duration:t.duration,metric:t.BM,cdnId:t.Fm};};l.prototype.decode=function(t){return {Vb:t.downloadableId,xf:t.correlationId,bitrate:t.bitrate,xb:t.vmaf,duration:t.duration,BM:t.metric,Fm:t.cdnId};};c.prototype.Fp=function(t){t=void 0 === t?"content":t;this.PC(this.Sg.mediaTime.value);return Math.floor(this.Qt.Fp(function(w){return w.track.wC === t;}));};c.prototype.X_a=function(t){this.PC(this.Sg.mediaTime.value);return Math.floor(this.Qt.Fp(t));};c.prototype.hU=function(t){var w;t=void 0 === t?"content":t;this.PC(this.Sg.mediaTime.value);w=this.Qt.hU(function(v){return v.track.wC === t;});this.debug.assert(w === Math.floor(w),"Value of totalContentPlayTime is not an integer.");return Math.floor(w);};c.prototype.KIb=function(){this.PC(this.Sg.mediaTime.value);return {audio:this.PT(this.x9,this.Q_a),video:this.PT(this.Qt,this.Q_a)};};c.prototype.cLb=function(){var t,w,v;t=this.Fp("content");w=this.Fp("ads");v=this.Fp("other");t={total:t,totalAdDuration:w,totalOtherDuration:v,totalCombinedDuration:t + w + v,totalContentTime:this.hU("content"),totalStartSlateDuration:this.X_a(function(y){return !0 === y.Xpa;}),totalLiveEdgeDuration:this.X_a(function(y){return !0 === y.SB;}),audio:this.PT(this.x9,this.I5),video:this.PT(this.Qt,this.I5),timedtext:this.PT(this.iua,this.I5)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.ona=function(){var t,w;this.PC(this.Sg.mediaTime.value);t=this.Qt.kna(this.TIb);try{w=this.n_a(t);}catch(v){return (this.log.warn("Failed to calc average bitrate."),null);}this.VE.abrdel=Math.round(w);return this.VE.abrdel;};c.prototype.o_a=function(){var t,w;this.PC(this.Sg.mediaTime.value);t=this.Qt.kna(this.wMb);try{w=this.n_a(t);}catch(v){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(w);};c.prototype.m_a=function(){var t,w;t=this;if(!this.IXa){w=this.Fp();this.M7.forEach(function(v){var y,x,z;if(0 === t.kS["abrdel" + v] && w > v * m.js){y=0;x=0;z=0;t.Qt.some(function(A){y+=A.stream.bitrate * (A.endTime - A.startTime);x+=A.endTime - A.startTime;z=A.stream.bitrate;return x > v * m.js;});y && (t.kS["abrdel" + v]=Math.round((y - z * (x - v * m.js)) / (v * m.js)));}});0 !== this.kS["abrdel" + this.M7[this.M7.length - 1]] && (this.IXa=!0);(0,p.Tf)(this.kS,function(v,y){t.VE[v]=0 === y?t.VE.abrdel:y;});}return this.VE;};c.prototype.Vsb=function(t){this.Ppa+=t;};c.prototype.w6=function(){return this.Qt.w6();};c.prototype.zI=function(){var t;t=this;this.Sg.jf.addListener(function(w){t.EK=t.BUa(t.EK,t.x9,w.newValue);});this.Sg.Yd.addListener(function(w){t.HK=t.BUa(t.HK,t.Qt,w.newValue);});this.Sg.playbackRate.addListener(function(w){t.PC(t.Sg.mediaTime.value,w.oldValue);});this.Sg.Yh.addListener(this.lVb.bind(this));};c.prototype.Ksa=function(t,w){this.PC(t);this.startTime=w;this.HK=this.EK=void 0;this.GK && (this.GK.startTime=this.startTime);!1;};c.prototype.lVb=function(t){this.iua.De(this.GK,this.Sg.mediaTime.value);this.GK=(t=t.newValue)?{track:t,startTime:this.Sg.mediaTime.value,endTime:g.Sw}:void 0;};c.prototype.PC=function(t,w){w=void 0 === w?this.Sg.playbackRate.value:w;t && this.EK && this.HK && (t=Math.min(t,this.EK.endTime,this.HK.endTime),this.x9.De(this.EK,t,w),this.EK.startTime=t,this.Qt.De(this.HK,t,w),this.HK.startTime=t,this.GK && (this.iua.De(this.GK,t,w),this.GK.startTime=t),this.startTime=t,!1);};c.prototype.BUa=function(t,w,v){var y;t && w.De(t,Math.min(t.endTime,this.Sg.mediaTime.value));if(v && v.stream){t=v.tK;w=v.stream;y=this.Sg.gd;return {Dc:v.Dc,track:w.track,stream:w,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,Xpa:y.aa?y.AB(t.endTime) === u.hs.pQ:void 0,SB:y.aa?y.oU():void 0};}};c.prototype.PT=function(t,w){return t.kna(w,"content").map(function(v){return new l().encode(v);});};c.prototype.n_a=function(t){var w,v,y;w=this;v=0;t.forEach(function(x){if(w.zb.pg(x.duration) && w.zb.pg(x.BM))v+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!v)return 0;y=0;t.forEach(function(x){y+=x.BM * x.duration / v;});return y;};a=c;a=r.__decorate([(0,f.U)(),r.__param(1,(0,f.l)(k.ab)),r.__param(2,(0,f.l)(d.Yb)),r.__param(3,(0,f.l)(n.Qf)),r.__param(4,(0,f.l)(h.Hw)),r.__param(5,(0,f.l)(q.Hea))],a);b.bLa=a;},24722:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O;function c(H,J,N,R,T,ka,sa,ia,wa,Aa,La,Ya,ab,aa,oa,Ga,Sa,Q,da,P,Y,ta,Ha,Wa,$a,fb,sb){this.qy=H;this.MA=J;this.Ea=N;this.sa=R;this.svb=T;this.eya=ka;this.sV=sa;this.xra=ia;this.qM=wa;this.bd=Aa;this.qh=La;this.zi=Ya;this.iK=ab;this.uW=aa;this.Kh=oa;this.Fya=Ga;this.Gf=Sa;this.Vl=Q;this.ae=da;this.gua=P;this.s0b=Y;this.yia=ta;this.LG=Ha;this.Tta=Wa;this.Jha=$a;this.vwb=fb;this.eK=sb;}Object.defineProperty(b,"__esModule",{value:!0});b.hLa=void 0;r=a(5163);l=a(62665);f=a(22674);k=a(45842);d=a(11479);g=a(81918);n=a(30869);h=a(12826);m=a(37104);p=a(24273);q=a(73449);u=a(66476);t=a(79274);w=a(52531);v=a(24550);y=a(91622);x=a(61861);z=a(78388);A=a(45118);B=a(74870);C=a(92205);D=a(77134);F=a(93367);G=a(85405);E=a(2160);I=a(49745);M=a(50889);L=a(70068);K=a(33258);c.prototype.create=function(H,J,N,R,T,ka,sa,ia){return new (a(18128).jLa)(H,J,ka,sa,R,T,this.qy,N,this.Ea,this.MA,this.sa,this.sV,this.svb,this.eya,this.xra,this.qM,this.bd,this.qh,this.zi,this.iK,this.uW,this.Kh,this.Fya,this.Gf,this.ae,this.gua,this.Vl,this.s0b(),this.yia,this.LG,this.Tta,this.Jha,this.vwb,void 0,ia);};O=c;O=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(l.Qw)),r.__param(1,(0,f.l)(d.Oh)),r.__param(2,(0,f.l)(g.Lc)),r.__param(3,(0,f.l)(n.ag)),r.__param(4,(0,f.l)(h.nBa)),r.__param(5,(0,f.l)(k.VD)),r.__param(6,(0,f.l)(m.Kda)),r.__param(7,(0,f.l)(p.bIa)),r.__param(8,(0,f.l)(q.QP)),r.__param(9,(0,f.l)(u.YD)),r.__param(10,(0,f.l)(t.kQ)),r.__param(11,(0,f.l)(w.PD)),r.__param(12,(0,f.l)(y.wBa)),r.__param(13,(0,f.l)(x.Gea)),r.__param(14,(0,f.l)(I.JD)),r.__param(15,(0,f.l)(z.yOa)),r.__param(16,(0,f.l)(A.ll)),r.__param(17,(0,f.l)(D.aQ)),r.__param(18,(0,f.l)(B.bh)),r.__param(19,(0,f.l)(C.kLa)),r.__param(20,(0,f.l)(F.BMa)),r.__param(21,(0,f.l)(G.KAa)),r.__param(22,(0,f.l)(E.Qda)),r.__param(23,(0,f.l)(M.EKa)),r.__param(24,(0,f.l)(L.iAa)),r.__param(25,(0,f.l)(K.gca)),r.__param(26,(0,f.l)(v.ZO)),r.__param(26,(0,f.optional)())],O);b.hLa=O;},18128:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O,H,J,N,R,T,ka,sa,ia,wa,Aa,La,Ya,ab;function c(aa,oa,Ga,Sa,Q,da,P,Y,ta,Ha,Wa,$a,fb,sb,Jb,Ua,bb,kb,rb,qb,yb,Ab,Lb,Sb,Xb,Ib,Nb,Pb,cc,nc,Ac,Pc,Yd,Lf,Zd){var Cb,Mf;function gf(wb){wb.newValue && wb.newValue.stream && (Cb.Yd.removeListener(gf),Cb.N6=wb.newValue.stream.bitrate);}function hf(wb){wb.newValue !== R.hb.Af && wb.newValue !== R.hb.Rh && (Cb.wb.removeListener(hf),Cb.vy=Cb.sa.IH,Cb.Ib.Ec(R.ga.Nt));}function jf(wb){wb.newValue !== R.hb.Af && (Cb.wb.removeListener(jf),Cb.Yk=!0,Cb.tW=Cb.sa.fe.da(D.pa),Cb.Ib.Ec(R.ga.Yk));}Cb=this;this.rb=Q;this.Sj=da;this.qy=P;this.Ea=ta;this.MA=Ha;this.sa=Wa;this.sV=$a;this.xra=Jb;this.qM=Ua;this.bd=bb;this.qh=kb;this.zi=rb;this.iK=qb;this.uW=yb;this.Kh=Ab;this.Fya=Lb;this.Gf=Sb;this.ae=Xb;this.gua=Ib;this.Vl=Nb;this.tab=Pb;this.yia=cc;this.LG=nc;this.Tta=Ac;this.Jha=Pc;this.oja=Yd;this.eK=Lf;this.v9a=[];this.Wp=new Map();this.s2a=new Map();this.uc=new q.Hb(null);this.Fg=new q.Hb(null);this.Mb=new q.Hb(null);this.Yh=new q.Hb(null);this.eu=new q.Hb(void 0);this.Le=new q.Hb(null);this.Kg=new q.Hb(null);this.mediaTime=new q.Hb(void 0);this.playbackRate=new Aa.oLa(1,u.config.Jra);this.background=new q.Hb(!0);this.E7b=function(wb){return Cb.uc.set(wb.newValue);};this.n8b=function(wb){return Cb.Fg.set(wb.newValue);};this.k8b=function(wb){return Cb.Mb.set(wb.newValue);};this.C7b=function(wb){return Cb.Yh.set(wb.newValue);};this.j8b=function(wb){return Cb.eu.set(wb.newValue);};this.m8b=function(wb){return Cb.Le.set(wb.newValue);};this.D7b=function(wb){return Cb.Kg.set(wb.newValue);};this.b8b=function(wb){return Cb.Yd.set(wb.newValue);};this.a8b=function(wb){return Cb.jf.set(wb.newValue);};this.Y7b=function(wb){return Cb.mediaTime.set(wb.newValue);};this.F7b=function(wb){return Cb.background.set(wb.newValue);};this.EO=function(wb){return Cb.playbackRate.set(wb.newValue);};this.ho={};this.Vva=this.vya=0;this.Ib=new t.Uj();this.bba={};this.HX=this.l9a=this.Yk=!1;this.eD=new q.Hb(void 0);this.state=new q.Hb(R.Wb.bJ);this.Ai=new q.Hb(!1);this.paused=new q.Hb(!1);this.muted=new q.Hb(!1);this.volume=new q.Hb(u.config.RCb / 100);this.wb=new q.Hb(R.hb.Af);this.Pd=new q.Hb(R.pf.Ne);this.Hq=new q.Hb(R.pf.Ne);this.dm=new q.Hb(R.pf.Ne);this.jf=new q.Hb(null);this.Yd=new q.Hb(null);this.ija=new q.Hb(null);this.z6=(0,m.MFa)(this);this.Dc=[new q.Hb(null),new q.Hb(null)];this.Uia={};this.eT=!1;this.nb=this.rh=-1;this.$F=function(wb,Zb){var Qc;wb=void 0 === wb?null:wb;return (0,L.Rb)(wb)?Zb && !Cb.Si(Zb).X?wb:(null === (Qc=Cb.cb) || void 0 === Qc?0:Qc.Ah)?Cb.cb.vka(wb):wb:null;};this.WV=function(){Cb.zxa();};this.ORb=this.cB=aa;this.addEventListener=this.Ib.addListener;this.removeEventListener=this.Ib.removeListener;this.fireEvent=this.Ib.Ec;this.Vha({J:aa,I:Sa,bb:Ga || ({})},u.config.Er?this.bd.qt(aa):void 0,oa);this.log=(0,C.Eh)(this);this.yXa=Y(this);this.rvb=fb(this);this.mk=(0,J.createElement)("DIV",p.Vea,void 0,{id:this.P});this.mOb();this.Fc=this.log.R3("Playback");(0,k.VKa)(this);y.aA.Y6a=this;y.aA.Rma || (y.aA.Rma=this);this.Fc.info("Playback created",this.sg);this.q5a?this.Fc.info("Playback selected for trace playback info logging"):this.Fc.trace("Playback not selected for trace playback info logging");u.config.Er && (this.bd.MMb(this.P),this.addEventListener(R.ga.Nt,function(){Cb.bd.OMb(Cb.P);Cb.Mb.addListener(function(){Cb.bd.J1a();});Cb.uc.addListener(function(){Cb.bd.J1a();});}),this.addEventListener(R.ga.mg,function(){Cb.bd.LMb(Cb.P);}));this.state.addListener(function(wb){Cb.Fc.info("Playback state changed",{From:wb.oldValue,To:wb.newValue});(0,G.oa)(wb.newValue > wb.oldValue);});v.ie.addListener(v.Pk,this.WV,p.$da);Mf=sb((0,D.sh)(1));this.mediaTime.addListener(function(){Cb.mHb();Mf.Mj(function(){return Cb.yZa();});});this.wb.addListener(function(wb){Cb.Fc.info("PresentingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,E.ah)(Cb.mediaTime.value)},Cb.Et());});this.wb.addListener(function(){Cb.Ai.set(Cb.wb.value === R.hb.Oe);});this.Pd.addListener(function(wb){Cb.Fc.info("BufferingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,E.ah)(Cb.mediaTime.value)},Cb.Et());});this.Hq.addListener(function(wb){Cb.Fc.info("AV BufferingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,E.ah)(Cb.mediaTime.value)},Cb.Et());});this.dm.addListener(function(wb){Cb.Fc.info("Text BufferingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,E.ah)(Cb.mediaTime.value)},Cb.Et());});this.uc.addListener(function(wb){(0,G.oa)(wb.newValue && wb.newValue.Wf);Cb.Fc.info("AudioTrack changed",wb.newValue && ({ToBcp47:wb.newValue.te,To:wb.newValue.trackId}),wb.oldValue && ({FromBcp47:wb.oldValue.te,From:wb.oldValue.trackId}),{MediaTime:(0,E.ah)(Cb.mediaTime.value)});});this.Mb.addListener(function(wb){(0,G.oa)(!wb.newValue || wb.newValue.Wf);Cb.Fc.info("TimedTextTrack changed",wb.newValue?{ToBcp47:wb.newValue.te,To:wb.newValue.trackId}:{To:"none"},wb.oldValue?{FromBcp47:wb.oldValue.te,From:wb.oldValue.trackId}:{From:"none"},{MediaTime:(0,E.ah)(Cb.mediaTime.value)});});this.wb.addListener(jf,p.dJ);this.wb.addListener(hf);this.addEventListener(R.ga.Nt,function(){Cb.HX=!0;Cb.Ycb=Cb.sS();Cb.ke("start");});this.Yd.addListener(gf);(0,B.fLa)(this);y.An.push(this);u.config.SW && (this.s9=this.gua(this),this.v9=new z.qLa(this));y.Bea.forEach(function(wb){wb(Cb);});this.dtb=function(){Cb.addEventListener(R.ga.IC,function(wb){var Zb;wb=wb.Xb;wb !== R.mc.gs && wb !== R.mc.SD && (null === (Zb=Cb.cb) || void 0 === Zb?void 0:Zb.stop());});Cb.addEventListener(R.ga.Fj,function(wb){var Zb,Qc,kf,Nf,Hc,$d,Of,ae,lf,Pf;Cb.tab.Fj(wb);kf=wb.Xb;Nf=wb.skip;Hc=wb.C8;$d=wb.Rsa;Of=wb.P;ae=wb.Vs;Cb.ba.Xk.Ksa($d,Hc);if(kf !== R.mc.SD && kf !== R.mc.gs)if(Nf){if(null !== (Zb=Cb.cb) && void 0 !== Zb && Zb.bi(Hc)){Cb.Fc.trace("Repositioned. Skipping from " + $d + " to " + Hc);wb=function($b){Cb.log.error("streamingSession.skipped threw an exception",$b);$b=T.Mc.fna(F.V.dhb,$b);Cb.Gr($b.code,$b);};try{Cb.cb.RH(Hc).then(function($b){var Rc;$b.YL || (null === (Rc=Cb.cb) || void 0 === Rc?void 0:Rc.play());}).catch(wb);}catch($b){wb($b);}}else Cb.log.error("can skip returned false");}else {Cb.Fc.trace("Repositioned. Seeking from " + $d + " to " + Hc);try{lf=Cb.rb.V5(Cb.ba);Pf=Object.keys(lf.O).find(function($b){var Rc;$b=lf.O[$b];return $b.J === Of && $b.ta <= ae && (null !== (Rc=$b.va) && void 0 !== Rc?Rc:Infinity) > ae;});null === (Qc=Cb.cb) || void 0 === Qc?void 0:Qc.L1b(ae,Pf);}catch($b){Cb.log.error("streamingSession.seekByContentPts threw an exception",$b);Hc=T.Mc.fna(F.V.bhb,$b);Cb.Gr(Hc.code,Hc);}}});};this.playbackRate.addListener(function(){var wb,Zb;if(null === (wb=Cb.cb) || void 0 === wb?0:wb.Ah)null === (Zb=Cb.cb) || void 0 === Zb?void 0:Zb.DXb();});this.addEventListener(R.ga.Gx,function(wb){var Zb;wb.Xb == y.yea && (Cb.Pd.set(R.pf.Ne),null === (Zb=Cb.cb) || void 0 === Zb?void 0:Zb.hm(Cb.Ud.U_a()));});Zd && (this.ba.X=Zd,this.Kh.MX(aa,Zd));}Object.defineProperty(b,"__esModule",{value:!0});b.jLa=void 0;l=a(5163);f=a(50040);k=a(86258);d=a(20318);g=a(66093);n=a(11953);h=a(73585);m=a(24427);p=a(33096);q=a(81734);u=a(29204);t=a(94886);w=a(42654);v=a(37509);y=a(13044);x=a(59032);z=a(62439);A=a(79014);B=a(39480);C=a(31276);D=a(5021);F=a(36129);G=a(45146);E=a(8825);I=a(3887);M=a(32219);L=a(32687);K=a(73056);O=a(45266);H=a(16520);J=a(52569);N=a(72639);R=a(85001);T=a(31149);ka=a(43422);sa=a(78719);ia=a(35128);wa=a(13494);Aa=a(65361);La=a(50954);Ya=a(24066);ab=a(60328);c.prototype.ke=function(aa,oa){var Ga;oa=void 0 === oa?this.cB:oa;null === (Ga=this.Wp.get(oa)) || void 0 === Ga?void 0:Ga.ke(aa);};c.prototype.ry=function(aa){this.ba.ry(aa);};c.prototype.p6=function(){var aa;return !(null === (aa=this.X) || void 0 === aa || !aa.Fa.Hm);};c.prototype.PL=function(){var aa,oa,Ga;return !(null === (Ga=null === (oa=null === (aa=this.X) || void 0 === aa?void 0:aa.Fa.zm) || void 0 === oa?void 0:oa.de.length) || void 0 === Ga || !Ga);};c.prototype.mOb=function(){var aa;aa=this;this.uc.addListener(function(oa){return aa.ba.uc.set(oa.newValue);});this.Fg.addListener(function(oa){return aa.ba.Fg.set(oa.newValue);});this.Mb.addListener(function(oa){return aa.ba.Mb.set(oa.newValue);});this.Yh.addListener(function(oa){return aa.ba.Yh.set(oa.newValue);});this.eu.addListener(function(oa){return aa.ba.eu.set(oa.newValue);});this.Le.addListener(function(oa){return aa.ba.Le.set(oa.newValue);});this.Kg.addListener(function(oa){return aa.ba.Kg.set(oa.newValue);});this.Yd.addListener(function(oa){return aa.ba.Yd.set(oa.newValue);});this.jf.addListener(function(oa){return aa.ba.jf.set(oa.newValue);});this.Dc[ab.u.fa].addListener(function(oa){return aa.ba.Dc[ab.u.fa].set(oa.newValue);});this.Dc[ab.u.Y].addListener(function(oa){return aa.ba.Dc[ab.u.Y].set(oa.newValue);});this.mediaTime.addListener(function(oa){return aa.ba.mediaTime.set(oa.newValue);});this.background.addListener(function(oa){return aa.ba.background.set(oa.newValue);});this.playbackRate.addListener(function(oa){return aa.ba.playbackRate.set(oa.newValue);});this.Uab();};c.prototype.Uab=function(){var aa;aa=this;this.ba !== this.Dwa && (this.ba.mediaTime.set(this.mediaTime.value),this.ba.background.set(this.background.value),this.ba.playbackRate.set(this.playbackRate.value),this.Jo(function(oa){return oa.uc;},this.E7b),this.Jo(function(oa){return oa.Fg;},this.n8b),this.Jo(function(oa){return oa.eu;},this.j8b),this.Jo(function(oa){return oa.Mb;},this.k8b),this.Jo(function(oa){return oa.Yh;},this.C7b),this.Jo(function(oa){return oa.Le;},this.m8b),this.Jo(function(oa){return oa.Kg;},this.D7b),this.Jo(function(oa){return oa.jf;},this.a8b),this.Jo(function(oa){return oa.Yd;},this.b8b),this.Jo(function(oa){return oa.Dc[ab.u.fa];},function(oa){return aa.Dc[ab.u.fa].set(oa.newValue);}),this.Jo(function(oa){return oa.Dc[ab.u.Y];},function(oa){return aa.Dc[ab.u.Y].set(oa.newValue);}),this.Jo(function(oa){return oa.mediaTime;},this.Y7b),this.Jo(function(oa){return oa.background;},this.F7b),this.Jo(function(oa){return oa.playbackRate;},this.EO),this.Mb.set(this.ba.Mb.value),this.uc.set(this.ba.uc.value,{A2:!0}),this.Fg.set(this.ba.Fg.value),this.Yh.set(this.ba.Yh.value),this.eu.set(this.ba.eu.value),this.Le.set(this.ba.Le.value),this.Kg.set(this.ba.Kg.value),this.Dwa=this.ba);};c.prototype.Jo=function(aa,oa){this.Dwa && aa(this.Dwa).removeListener(oa);aa(this.ba).addListener(oa);};c.prototype.cxb=function(){var aa;return !(null === (aa=this.Uc) || void 0 === aa?0:aa.xl.value);};c.prototype.load=function(aa){var oa,Ga;oa=this;this.load=function(){};this.y9a=aa;if(this.state.value == R.Wb.bJ){this.Fc.info("Playback loading",this);this.DUb();this.ke("asl_load_start");Ga=this.MA;aa=Ga.startTime;Ga=Ga.endTime;(0,L.Wc)(aa)?(0,L.Wc)(Ga)?this.ke("asl_ended"):this.ke("asl_in_progress"):this.ke("asl_not_started");this.MA.fV(function(Sa){oa.ke("asl_load_complete");Sa.ia?oa.YAb():oa.Gr(Sa.errorCode || F.V.cda,Sa);});}};c.prototype.eYb=function(){!1;try{this.state.value === R.Wb.LOADING && (this.Dfb(),this.zl=this.iK.ztb({Bz:(0,D.Ob)(this.gb),P:this.P,xC:this.Sx,bb:this.bb,rC:this.bb.qg?u.config.yta:u.config.rC,gd:this.gd}).da(D.pa),this.sia(),this.XBb());}catch(aa){this.Gr(F.V.Nkb,{Aa:F.S.kl,Nb:(0,I.we)(aa)});}};c.prototype.Dfb=function(){var aa,oa,Ga;Ga={width:1,height:1};this.EB({Lfb:!0}).forEach(function(Sa){Ga.width * Ga.height < Sa.width * Sa.height && (Ga={width:Sa.width,height:Sa.height});});Ga.height === (null === (aa=this.eD.value) || void 0 === aa?void 0:aa.height) && Ga.width === (null === (oa=this.eD.value) || void 0 === oa?void 0:oa.width) || this.eD.set(Ga);};c.prototype.Rv=function(){var aa,oa;!1;oa=this.rb.V5(this);this.nWa(oa);null === (aa=this.cb) || void 0 === aa?void 0:aa.ku(oa);};c.prototype.SG=function(aa){var oa,Ga;!1;(0,G.oa)(this.cb,"ASE should be initialized");Ga=this.rb.VT(aa);Ga?aa === this.rb.hh?this.cb.u3(Ga,!0) || this.lU(Ga,{}):null === (oa=this.cb) || void 0 === oa?void 0:oa.Oj(aa,Ga,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.lU=function(aa,oa,Ga){var Sa,Q,da,P,Y;Sa=this;Ga=void 0 === Ga?!0:Ga;!1;P=this.rb.he(aa);if(this.zi.Taa && this.rb.ba.J === P.J)return Promise.resolve(this.Ud.seek(P.ta,R.mc.cx,void 0));P=this.Sj.NL(P.J);oa=(0,O.h8)(P.tb,oa);if(null === (Q=this.cb) || void 0 === Q || !Q.Ah)throw (!1,Error("No streaming session"));!1;this.ME("Transition " + this.rb.hh + "->" + aa);Y=this.Si(aa);Y.fm=this.Ea.Jb().da(D.pa);Y.bb=oa;return "seamless" !== (null !== (da=this.rb.he(aa).$d) && void 0 !== da?da:"seamless") || Ga?(this.cb.WT(aa).pS?this.xMb(aa,Y.P):this.lX(aa,Y.P)).then(function(){Sa.KHb(Y.P);}):Promise.resolve();};c.prototype.lX=function(aa,oa){var Ga;Ga=this.rb.kk.O[aa].ta;!1;this.ME("NO DATA " + aa + ", SEEKING " + Ga + ", viewableId: " + oa);return Promise.resolve(this.Ud.seek(Ga,R.mc.cx,aa,!0));};c.prototype.xMb=function(aa,oa){var Ga,Sa,Q,da,P;Ga=this;!1;Sa=this.cb;if(null === Sa || void 0 === Sa || !Sa.Ah)throw Error("No streaming session");Q=new Promise(function(Y){function ta(){!1;Sa.removeEventListener("stop",ta);Y();}Sa.addEventListener("stop",ta);});da=!1;P=new Promise(function(Y){function ta(Wa){!1;Ga.removeEventListener(R.ga.Fj,ta);da=Wa.skip;Y();}function Ha(){!1;Ga.removeEventListener(R.ga.IC,Ha);Sa.stop();}Ga.addEventListener(R.ga.IC,Ha);Ga.addEventListener(R.ga.Fj,ta);});Q=Promise.all([Q,P]).then(function(){var Y;Y=!1;da && (Y=Sa.u3(aa,!1));if(!Y)return (Ga.ME("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),Ga.lX(aa,oa));});P=Sa.xka(aa,this.rb.kk.O[aa].ta);!1;this.Ud.seek(P,R.mc.SD,aa,!0);return Q;};c.prototype.Vha=function(aa,oa,Ga){var Sa,Q,da,P,Y,ta,Ha,Wa;oa=void 0 === oa?this.qy.$A():oa;Ga=void 0 === Ga?this.Ea.Jb():Ga;da=!!u.config.egb && !(oa % u.config.egb);P=aa.J;Y=aa.I;ta=aa.bb;Ha=aa.Cf;if(this.Wp.has(P))oa=this.Wp.get(P);else {oa=this.uW(y.aA.index++,P,Y,ta,oa,Ga,da,this.ba,this.$F,Ha,this);this.Wp.set(P,oa);1 < this.Wp.size && (oa.pM=this.qM.create(this,oa,!1,this.$F));oa.AM=new x.CIa(this,oa);Wa=null === Ha || void 0 === Ha?void 0:Ha.$b;(aa=aa.lvb) || (aa=null === (Q=null === (Sa=this.ba.X) || void 0 === Sa?void 0:Sa.op) || void 0 === Q?void 0:Q.find(function($a){return $a.Fa.P === P && (void 0 === Wa || $a.Fa.$b === Wa);}));aa && this.L9(aa,oa);1 < this.Wp.size && this.Kh.n6(oa.P) && this.R9(oa);}};c.prototype.mWa=function(aa,oa,Ga,Sa){var Q,da,P,Y,ta,Ha,Wa,$a,fb,sb;Q=this;!1;$a={aM:!0,qg:!1,aD:Date.now()};(0,G.oa)(oa.Bf,"Auxiliary viewable config request options must have auxiliary options");fb=oa.Bf;oa=fb.$b;fb=fb.xd;if(this.u6(fb)){sb=null === (da=this.ek(fb).X) || void 0 === da?void 0:da.Fa;da={$b:oa,hW:this.Ed,xd:fb,mW:sb};(0,G.oa)(null === (P=this.cb) || void 0 === P?void 0:P.wj,"If we have auxiliary viewables combined playgraph must exist");if(null === (ta=null === (Y=this.cb) || void 0 === Y?void 0:Y.wj) || void 0 === ta?0:ta.O)(P=Object.keys(null === (Wa=null === (Ha=this.cb) || void 0 === Ha?void 0:Ha.wj) || void 0 === Wa?void 0:Wa.O).find(function(Jb){var Ua,bb;return (null === (bb=null === (Ua=Q.cb) || void 0 === Ua?void 0:Ua.wj) || void 0 === bb?void 0:bb.O[Jb].J) === aa;}),(0,G.oa)(!!P,"Segment for the auxiliary viewable should exist in the combined playgraph"),this.Vha({lvb:Sa,Cf:da,bb:$a,I:P,J:aa},Ga));}};c.prototype.u6=function(aa){return !!this.Wp.has(aa);};c.prototype.U1a=function(aa){try{return (this.Si(aa),!0);}catch(oa){return !1;}};c.prototype.ek=function(aa){if(aa === La.sq)return this.ba;if(!this.Wp.has(aa))throw Error("Playback segment not found: " + aa);return this.Wp.get(aa);};c.prototype.Si=function(aa){var oa,Ga,Sa;a:{for(var Q=la(this.bH),da=Q.next();!da.done;da=Q.next()){if((da=da.value,da.I === aa)){Q=da;break a;}}Q=void 0;}return Q?Q:(null === (Ga=null === (oa=this.cb) || void 0 === oa?void 0:oa.wj) || void 0 === Ga?0:Ga.O[aa])?(aa=null === (Sa=this.cb) || void 0 === Sa?void 0:Sa.wj.O[aa].J,this.sra.P === aa && (Q=this.sra),null !== Q && void 0 !== Q?Q:this.ek(aa)):this.ba;};c.prototype.eLb=function(aa){for(var oa,Ga,Sa=la(this.bH),Q=Sa.next();!Q.done;Q=Sa.next()){if((Q=Q.value,(null === (Ga=null === (oa=Q.ee) || void 0 === oa?void 0:oa.Db) || void 0 === Ga?void 0:Ga.sessionId) === aa))return Q;}return this.ba;};c.prototype.h0a=function(aa){return this.s2a.get(aa);};c.prototype.R9=function(aa){var oa,Ga;oa=this;!1;Ga=aa.P;this.Sj.I2b(Ga);return this.sX(aa).then(function(Sa){oa.L9(Sa,aa);Sa=aa.rG?oa.Fb.Rk.uab(aa):Promise.resolve();oa.rYb(aa);return Sa.then(function(){return oa.Sj.Pbb(Ga);});}).catch(function(Sa){oa.log.error("queueManifest failed",Sa);oa.Sj.H2b(Ga,Sa);throw oa.qh(Sa.code,Sa);});};c.prototype.iw=function(aa,oa){var Ga,Sa,Q,da,P;Ga=this;(0,G.oa)(oa.Bf,"auxiliaryOptions must exist if an adBreak hydration was requested");Sa=oa.Bf;Q=Sa.$b;da=Sa.xd;(0,G.oa)(!!Q,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;oa=this.ek(oa.Bf.xd);Sa=N.ml.om;P={aM:!0,qg:!1,aD:Date.now()};return this.Kh.jy({na:oa.na,bb:P,J:oa.P,Wq:Sa,gf:void 0,AO:void 0,Cf:{eh:aa,$b:Q,xd:da,hW:oa.Ed}},!1).then(function(Y){var ta,Ha;Y.op.forEach(function(Wa){Ga.s2a.set(Wa.Fa.P,Wa);});if(null === (ta=Y.Fa.zm) || void 0 === ta || !ta.de.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (da + ", adBreakToken: " + aa));return null === (Ha=Y.Fa.zm) || void 0 === Ha?void 0:Ha.de[0];});};c.prototype.LIb=function(){if((0,L.Rb)(this.Xc.ats) && (0,L.Rb)(this.Xc.at))return this.Xc.at - this.Xc.ats;};c.prototype.t_a=function(){var aa,oa;aa=this.DY();oa=this.dS();return Math.min(aa,oa);};c.prototype.eO=function(){this.background.value || (this.Fc.info("Starting inactivity monitor for movie " + this.P),new w.tGa(this));};c.prototype.close=function(aa){aa && (this.state.value == R.Wb.CLOSED?aa():this.addEventListener(R.ga.closed,function(){aa();}));this.zxa();};c.prototype.pd=function(aa,oa,Ga){aa=this.qh(aa,oa,Ga);this.fF(aa,void 0);};c.prototype.fF=function(aa,oa){var Ga,Sa,Q,da;Ga=this;!1;(0,F.TZ)(aa.errorCode,aa.Aa,this.Ea.Jb().qa(this.Lh).da(D.pa),null === (Sa=this.Ud) || void 0 === Sa?void 0:Sa.zv()) || this.oja.add(this.sa.fe,null === (Q=this.ee) || void 0 === Q?void 0:Q.CL(),aa.errorCode,aa.Aa,aa.Ee);aa.acb(this.Yk);if(this.state.value == R.Wb.bJ)this.kh || (this.kh=aa,this.load());else {oa && (this.state.value == R.Wb.CLOSED?oa():this.addEventListener(R.ga.closed,function(){oa();}));Sa=function(){Ga.zxa(aa);};Q=u.config.lXa && aa && u.config.lXa[aa.errorCode];da=-1;(0,L.fM)(Q) && (da=(0,I.Wi)(Q));this.Fc.error("Fatal playback error",{Error:"" + aa,HandleDelay:"" + Q});0 <= da?setTimeout(Sa,da):Sa();}};c.prototype.ME=function(aa){var oa;oa=void 0 === oa?this.I:oa;aa=this.Ea.Jb().da(D.pa) + "-" + oa + "-" + aa;!1;this.v9a.push(aa);};c.prototype.yHb=function(){this.yZa();};c.prototype.hoa=function(){var aa;if(null === (aa=this.cb) || void 0 === aa?0:aa.Ah)if((aa=this.cb.Zn().id,void 0 !== aa))return aa;return null;};c.prototype.BB=function(){var aa,oa;oa=null === (aa=this.cb) || void 0 === aa?void 0:aa.Ah;return void 0 === this.ba.GS || oa?this.$F(this.mediaTime.value):this.ba.GS;};c.prototype.goa=function(){var aa;aa=this.$F(this.Ud.U_a());return null === aa?null:Math.min(this.Sx.da(D.pa),Math.max(0,aa));};c.prototype.JT=function(){var aa,oa;return null === (oa=null === (aa=this.X) || void 0 === aa?void 0:aa.Fa.up) || void 0 === oa?void 0:oa.O;};c.prototype.Qaa=function(aa){!1;this.bb=(0,O.h8)(this.bb,aa);this.sia();};c.prototype.Koa=function(aa){return (null === aa || void 0 === aa?0:aa.J)?aa.J:(null === aa || void 0 === aa?0:aa.Lfb) && this.gF?this.gF.J === La.sq?(aa=this.gF.Eb) && this.cb && this.cb.wj?this.cb.wj.O[aa].J:this.P:this.gF.J:this.P;};c.prototype.HIb=function(){var aa;aa=this.ek(this.Koa(void 0)).uc;return aa.value?aa.value.streams:[];};c.prototype.EB=function(aa){return (aa=this.ek(this.Koa(aa)).Fg) && aa.value?aa.value.streams:[];};c.prototype.O1a=function(aa){for(var oa=la(this.bH),Ga=oa.next();!Ga.done;Ga=oa.next()){if(Ga=(Ga=Ga.value.kg) && Ga.find(function(Sa){return Sa.id === aa;}))return Ga;}!1;};c.prototype.rYb=function(aa){aa=void 0 === aa?this.ba:aa;!1;aa.Mb.value?this.sn.oYb(aa.Mb.value):Promise.resolve();};c.prototype.K1a=function(aa){for(var oa=la(this.bH),Ga=oa.next();!Ga.done;Ga=oa.next()){Ga=la(Ga.value.ai);for(var Sa=Ga.next();!Sa.done;Sa=Ga.next()){if(Sa=Sa.value.streams.find(function(Q){return Q.Vb === aa;}))return Sa;}}!1;};c.prototype.Z1a=function(aa){for(var oa=la(this.bH),Ga=oa.next();!Ga.done;Ga=oa.next()){Ga=la(Ga.value.xw);for(var Sa=Ga.next();!Sa.done;Sa=Ga.next()){if(Sa=(Sa=Sa.value) && Sa.streams.find(function(Q){return Q.Vb === aa;}))return Sa;}}!1;};c.prototype.gNb=function(aa){for(var oa=la(this.bH),Ga=oa.next();!Ga.done;Ga=oa.next()){if(Ga.value.Ed === aa)return !0;}return !1;};c.prototype.Ws=function(){var aa,oa,Ga;return null !== (Ga=null === (oa=null === (aa=this.v9) || void 0 === aa?void 0:aa.IS) || void 0 === oa?void 0:oa.call(aa)) && void 0 !== Ga?Ga:this.gBb().iZa;};c.prototype.kcb=function(aa){var oa,Ga;null !== (oa=this.cb) && void 0 !== oa && oa.Ah && this.Wp.has(aa) && ((null === (Ga=this.v9) || void 0 === Ga?0:Ga.IS)?this.v9.ifb():(oa=this.Hka(aa),this.cb.T$(oa,aa)));};c.prototype.OPb=function(){return "trailer" === this.zd;};c.prototype.UOb=function(){return !!this.zd && 0 <= this.zd.indexOf("billboard");};c.prototype.VPb=function(){return !!this.zd && 0 <= this.zd.indexOf("video-merch");};c.prototype.tPb=function(){return !!this.zd && 0 <= this.zd.indexOf("mini-modal");};c.prototype.cM=function(){return this.OPb() || this.UOb() || this.VPb() || this.tPb();};c.prototype.C5=function(){var aa,oa,Ga;oa={Lfb:!0};if((null === (aa=this.ek(this.Koa(oa)).X) || void 0 === aa || !aa.Fa.Qpa) && this.xw){this.EB(oa).forEach(function(Sa){var Q,da;if((0,L.Rb)(Sa.Ika) && (0,L.Rb)(Sa.GWa) && (0,L.Rb)(Sa.FWa) && (0,L.Rb)(Sa.EWa) && (0 < Sa.Ika || 0 < Sa.GWa)){Q=1;da=1;(0,L.Rb)(Sa.b9a) && (0,L.Rb)(Sa.c9a) && (Q=Sa.b9a,da=Sa.c9a);Q=Sa.EWa * da / (Sa.FWa * Q);Ga=(0,L.Rb)(Ga)?0 < Sa.Ika?Math.max(Ga,Q):Math.min(Ga,Q):Q;}});return Ga;}};c.prototype.ALb=function(){return {tr:this.vya,rt:this.Vva};};c.prototype.EL=function(aa){return this.ho[aa];};c.prototype.qja=function(){return this.fm?this.Ea.Jb().da(D.pa) - this.fm:this.sa.fe.da(D.pa) - this.KF();};c.prototype.sS=function(){var aa;if(this.fm)return this.Ea.Jb().da(D.pa) - this.fm;aa=this.Ea.Dy;return this.tW - (this.Lh.da(D.pa) + aa.da(D.pa));};c.prototype.rja=function(){return this.fm?this.Ea.Jb().da(D.pa) - this.fm:this.tW - this.KF();};c.prototype.RIb=function(){var aa,oa;aa=this.loadTime;oa={};(0,I.Tf)(this.Uia,function(Ga,Sa){oa[Ga]=Sa.map(function(Q){return Q - aa;});});return g.kv?{level:g.kv.q0a(),charging:g.kv.una(),statuses:oa}:null;};c.prototype.j6=function(){this.xZa();return this.bba;};c.prototype.KF=function(){var aa;aa=this.bb.aD;aa=(0,L.Rb)(aa)?aa:this.Lh.da(D.pa) + this.Ea.Dy.da(D.pa);(0,G.oa)((0,L.VB)(aa));return aa;};c.prototype.c1a=function(){return this.Ea.Jb().da(D.pa) - this.Lh.da(D.pa);};c.prototype.s9b=function(){this.P3b=!0;};c.prototype.J8=function(){this.V$a();};c.prototype.DY=function(){var aa;aa=this.fK();return aa && aa.vbuflmsec || 0;};c.prototype.dS=function(){var aa;aa=this.fK();return aa && aa.abuflmsec || 0;};c.prototype.Z5b=function(){var aa;aa=this.fK();return aa && aa.tbuflmsec || 0;};c.prototype.oza=function(){var aa;aa=this.fK();return aa && aa.vbuflbytes || 0;};c.prototype.Eia=function(){var aa;aa=this.fK();return aa && aa.abuflbytes || 0;};c.prototype.Y5b=function(){var aa;aa=this.fK();return aa && aa.tbuflbytes || 0;};c.prototype.sX=function(aa,oa,Ga){var Sa,Q,da,P;Sa=this;aa=void 0 === aa?this.ba:aa;Ga=void 0 === Ga?!0:Ga;!1;Q=!!oa;da=!Q && aa !== this.ba;P=u.config.P9.enabled?N.ml.ynb:da?N.ml.fJ:this.cM()?N.ml.K0:N.ml.om;Q=this.cM() || Q || da?void 0:this.Fb.Rk.O5(da);return this.Kh.jy({na:aa.na,bb:aa.bb,J:aa.P,Wq:P,gf:Q,AO:oa,Cf:aa.Cf},aa.Cf?!1:Ga).then(function(Y){Y.Ypa && Sa.fireEvent(R.ga.cV,{P:aa.P});return Y;});};c.prototype.L9=function(aa,oa,Ga){var Sa,Q,da;oa=void 0 === oa?this.ba:oa;Ga=void 0 === Ga?!1:Ga;!1;if(oa.bb.qg && !aa.Fa.up)this.pd(F.V.Nhb);else {Sa=this.sV.create(this);Q=!!(oa.Cf && oa.Cf.$b && oa.Cf.mW);if(Ga){da=Sa.HNb(oa.X,oa.Bc,aa);aa=da.X;da=da.Bc;}else (aa=Q?Sa.w1b(aa,null === (da=oa.Cf) || void 0 === da?void 0:da.mW):aa,da=Sa.K8a(aa));oa.X=aa;oa.Bc=da;Ga || (oa.Fg.set(da.h4),oa.uc.set(da.PS),oa.Mb.set(da.QS));oa.gd.aa && oa.gd.eZb();}};c.prototype.KHb=function(aa){var oa;oa=void 0 === oa?!1:oa;!1;this.EH({J:aa,oG:oa});};c.prototype.P1a=function(aa,oa){if(!this.zi.lza)return !0;aa=this.Xp.da(D.pa) - aa;return 0 > aa || aa > oa;};c.prototype.Y0b=function(){!1;this.Ud.seek(this.BB() || 0,R.mc.WZ);};c.prototype.q2a=function(aa,oa){var Ga,Sa;Ga=this;!1;Sa=this.ba;Sa.s4=!0;return this.sX(Sa,{hW:Sa.Ed,H0b:aa,K0b:oa},!1).then(function(Q){var da;Ga.L9(Q,Sa,!0);Ga.Kh.MX(Sa.P,Sa.X);return null === (da=Ga.cb) || void 0 === da?void 0:da.FO(Ga.u9a);}).then(function(){var Q,da;Q=Sa.ai.find(function(P){return P.trackId === aa;});da=Sa.Wg.find(function(P){return P.trackId === oa;});if(!(Q && Q.Wf && da && da.Wf))throw Error("Track hydration failed: requiredAudioTrackId=" + aa + " requiredTextTrackId=" + oa);Ga.fireEvent(R.ga.Geb);return {uc:Q,bY:da};});};c.prototype.Wn=function(){return this.Uc;};c.prototype.EH=function(aa){var oa,Ga,Sa;oa=aa.J;Ga=aa.oG;aa=aa.gF;!1;aa !== this.gF && (this.gF=aa,this.Dfb());if(this.lN){if(oa === this.cB){this.lN=oa;return;}aa=this.ek(oa);Sa=aa.X;Sa && (0,L.Wc)(Sa.vH) && (0,L.Wc)(Sa.EN) && aa.ry({pr_ats:Sa.vH,pr_at:Sa.EN});this.fireEvent(R.ga.wra,{P:this.cB});this.cB=oa;this.sia();Ga || this.Uab();this.vy=this.sa.IH;this.ba.fm || (this.ba.fm=this.Ea.Jb().da(D.pa));}("boolean" === typeof this.bb.$K?this.bb.$K:u.config.$K) && !Ga && this.Fya.$K(this);Ga={P:oa,oG:Ga,lN:this.lN};this.lN=oa;this.fireEvent(R.ga.EG,Ga);};c.prototype.YAb=function(){!1;try{this.Fb=new n.nIa(this);this.L3=new ka.KCa(this);this.pM=this.qM.create(this,this.ba,!0,this.$F);u.config.fxb && new sa.vEa(this,this.Gf,this.log);u.config.wS && this.wS(this);this.R8b();}catch(aa){this.Gr(F.V.Mkb,{Aa:F.S.kl,Nb:(0,I.we)(aa)});}};c.prototype.R8b=function(){!1;this.kh?this.fF(this.kh):(0,L.gqa)(this.P)?this.Kxb():this.Gr(F.V.Jkb,{Nb:"" + this.P});};c.prototype.Kxb=function(){var aa;!1;aa=f.WH.Hbb;aa?aa.ia?this.Zja():this.Gr(F.V.mGa,aa):((0,G.oa)(!u.config.K4),this.Eha());};c.prototype.Zja=function(){var aa;aa=this;!this.background.value && u.config.Zja?(0,y.Aea)(function(){aa.Eha();},this):this.Eha();};c.prototype.Eha=function(){var aa;aa=this;!1;this.state.value == R.Wb.LOADING && (u.config.Vla && !this.cM()?f.WH.Ms(y.eLa,function(oa){oa.ia?(aa.K7=oa.K7,aa.tTa()):aa.Gr(F.V.lGa);},!0):this.tTa());};c.prototype.tTa=function(){var aa,oa,Ga;aa=this;if(this.state.value == R.Wb.LOADING){this.log.info("Authorizing",this);oa=this.Ea.Jb().da(D.pa);this.ke("ats");(0,G.IK)(this.P);(0,G.IK)(this.Qj);Ga=this.kZb.bind(this,oa);Promise.all([this.X,u.config.Er && this.Kh.n6(this.P)?this.Kh.x5(this.P).catch(function(){}):void 0]).then(function(Sa){var Q,da;Q=la(Sa);Sa=Q.next().value;Q=Q.next().value;Sa && Q?da=Q.Fa.expiration > Sa.Fa.expiration?Q:Sa:Sa?da=Sa:Q && (da=Q);da && 18E5 > da.Fa.expiration - (0,Ya.Yja)() && (da=void 0);return da?(aa.$E=da === Sa?"ui":"videopreparer",da):aa.sX();}).then(function(Sa){try{aa.L9(Sa);Ga(p.bg);aa.l9a || (aa.l9a=!0,aa.Tta.Pj(aa));}catch(Q){aa.log.error("Exception processing authorization response",Q);Ga({ia:!1,Aa:F.S.inb});}}).catch(Ga);}};c.prototype.kZb=function(aa,oa){var Ga,Sa;Ga=this;!1;if(this.state.value == R.Wb.LOADING){this.ke("at");Sa=this.X;this.ry({pr_ats:Sa && (0,L.Wc)(Sa.vH)?Sa.vH:aa,pr_at:Sa && (0,L.Wc)(Sa.EN)?Sa.EN:this.Ea.Jb().da(D.pa)});oa.ia?0 < this.Bc.kg.length && this.Bc.PS && this.Bc.h4 && this.Bc.QS?this.y9a?(this.log.info("Processing post-authorize",this),this.y9a(this,function(Q){Q.ia?Ga.lfb():Ga.Gr(F.V.Qkb,Q);})):this.lfb():this.Gr(F.V.KHa,this.xra(this.Bc)):this.Gr(F.V.GD,oa);}};c.prototype.lfb=function(){var aa,oa;l.__awaiter(this,void 0,void 0,function Sa(){var Q;Q=this;return Ja(Sa,function(da){!1;if(Q.state.value != R.Wb.LOADING)return da.return();(null === (aa=Q.ba.X) || void 0 === aa?0:aa.Fa.up) && Q.rb.reset((0,La.t3)(null === (oa=Q.ba.X) || void 0 === oa?void 0:oa.Fa.up,{config:u.config}));Q.cb=Q.yia(Q.rb,Q);Q.cb.p3b({lp:d.lp,config:u.config,ae:Q.ae,Fc:Q.Fc,Et:Q.Et.bind(Q),Ri:C.Ri,wX:Q.wX.bind(Q),EH:Q.EH.bind(Q)});Q.eYb();da.Nv=0;});});};c.prototype.XBb=function(){var aa,oa,Ga,Sa,Q,da,P;aa=this;!1;try{if(this.state.value === R.Wb.LOADING){this.Fb.open();oa=new Promise(function(Y){aa.Fb.addEventListener(H.Qh.Qcb,Y);});this.Ud=new K.vIa(this);Ga=this.Bc.PS.vh === ia.Po.NONE;Sa={jgb:this.Bc.PS.bo || Ga};Q={na:this.na,Tp:this.xf,lB:this.lB};try{if(this.state.value !== R.Wb.LOADING)return;da=this.cb;da.DU({flags:Sa,IWa:Q,I:this.u9a,Hka:this.Hka.bind(this)});P=this.rb.V5(this);this.nWa(P);da.ku(P);this.dtb();da.Dvb({ho:this.ho,loadTime:this.loadTime});this.Uc=this.Jha(da,this);this.Uc.xl.addListener(function(Y){Y.newValue?(aa.sn.oNb(),u.config.Er && aa.bd.I1a()):aa.sn.R3b();});this.Uc.addEventListener(R.bZ.GA,function(){aa.bd.I1a();});}catch(Y){throw (this.log.error("Failed to initialize ASE streaming",{error:Y,startPts:this.gb,flags:Sa}),Y);}oa.then(function(){var Y;aa.state.value !== R.Wb.CLOSING && aa.state.value !== R.Wb.CLOSED && (null === (Y=aa.cb) || void 0 === Y?void 0:Y.open());});this.mediaTime.set(this.gb);this.sn=new h.kOa(this);if("boolean" === typeof this.bb.c$?this.bb.c$:u.config.c$)this.fY=new A.lOa(this);this.eO();y.Cea.forEach(function(Y){Y(aa);});this.CUb();}}catch(Y){this.Gr(F.V.Okb,{Aa:F.S.kl,Nb:(0,I.we)(Y)});}};c.prototype.DUb=function(){(0,G.oa)(this.state.value == R.Wb.bJ);this.loadTime=this.Ea.Jb().da(D.pa);this.state.set(R.Wb.LOADING);};c.prototype.Gr=function(aa,oa){this.done || (this.done=!0,oa instanceof T.Mc?this.pd(oa.code,oa):this.pd(aa,oa));};c.prototype.wS=function(aa){var Ga,Sa;function oa(){var Q,da;Q=g.kv.una() + "";da=aa.Uia[Q];da || (da=aa.Uia[Q]=[]);da.push(Ga.Ea.Jb().da(D.pa));Ga.log.trace("charging change event",{level:g.kv.q0a(),charging:g.kv.una()});}Ga=this;Sa=g.kv.pib;g.kv.addEventListener(Sa,oa);aa.addEventListener(R.ga.mg,function(){g.kv.removeEventListener(Sa,oa);});};c.prototype.zxa=function(aa){var oa,Ga;oa=this;if(this.state.value == R.Wb.bJ || this.state.value == R.Wb.LOADING || this.state.value == R.Wb.ce){this.Fc.info("Playback closing",this,aa?{ErrorCode:aa.u4}:void 0);this.ME("Closing");v.ie.removeListener(v.Pk,this.WV);this.kh=aa;this.ba.GS=this.BB();this.xZa();(null === (Ga=this.cb) || void 0 === Ga?0:Ga.Ah) && this.cb.flush();try{this.Ib.Ec(R.ga.mg,{movieId:this.cB});}catch(Sa){this.Fc.error("Unable to fire playback closing event",Sa);}this.state.set(R.Wb.CLOSING);this.ahb();this.P3b || (0,M.Ef)(function(){return oa.V$a();});}};c.prototype.mHb=function(){this.Ib.Ec(R.ga.hfb);};c.prototype.yZa=function(){var aa;aa=this.mediaTime.value;this.vQb != aa && (!1,this.vQb=aa,this.Ib.Ec(R.ga.fya));};c.prototype.V$a=function(){var aa,oa;aa=this;(0,G.oa)(this.state.value == R.Wb.CLOSING);oa=this.K7;this.K7=void 0;oa?f.WH.release(oa,function(Ga){(0,G.oa)(Ga.ia);aa.fka();}):this.fka();};c.prototype.ahb=function(){var aa;null === (aa=this.cb) || void 0 === aa?void 0:aa.Ze();delete this.cb;};c.prototype.fka=function(){var aa;this.fka=p.Xw;(0,G.oa)(this.state.value == R.Wb.CLOSING);aa=y.An.indexOf(this);(0,G.oa)(0 <= aa);y.An.splice(aa,1);this.state.set(R.Wb.CLOSED);this.Ib.Ec(R.ga.closed,void 0,!0);this.Ib.zg();delete this.ee;this.ba.J8();};c.prototype.sia=function(){this.bb.playbackState && ("number" === typeof this.bb.playbackState.volume && this.volume.set((0,E.Zw)(this.bb.playbackState.volume,0,1)),"boolean" === typeof this.bb.playbackState.muted && this.muted.set(this.bb.playbackState.muted),"number" === typeof this.bb.playbackState.playbackRate && this.playbackRate.set(this.bb.playbackState.playbackRate));};c.prototype.xZa=function(){this.Ib.Ec(R.ga.zcb,{bba:this.bba});};c.prototype.wX=function(aa,oa,Ga){oa=this.O1a(oa);aa=this.Si(aa);oa && aa.Dc[Ga].set(oa);};c.prototype.Et=function(){return {AudioBufferLength:this.dS(),VideoBufferLength:this.DY()};};c.prototype.fK=function(){var aa;if(null === (aa=this.cb) || void 0 === aa?0:aa.Ah)return this.cb.k3a();};c.prototype.CUb=function(){this.state.value == R.Wb.LOADING && this.state.set(R.Wb.ce);};c.prototype.gBb=function(){var aa,oa,Ga;aa=void 0 === aa?this.P:aa;oa=this.EB({J:aa});Ga=this.ek(aa);return (0,wa.Ws)(oa,function(Sa){return Ga.AM.pz(Sa);});};c.prototype.Hka=function(aa){var oa,Ga;aa=void 0 === aa?this.P:aa;oa=this.EB({J:aa});Ga=this.ek(aa);return (0,wa.A1a)(oa,function(Sa){return Ga.AM.pz(Sa);});};c.prototype.nWa=function(aa){var oa;oa=this;Object.keys(aa.O).filter(function(Ga){return !oa.Wp.has(aa.O[Ga].J);}).forEach(function(Ga){var Sa,Q,da;Q=aa.O[Ga];da=Q.J;Q=Object.assign(null !== (Sa=oa.Sj.NL(da).tb) && void 0 !== Sa?Sa:{},{gb:Q.ta,df:Q.va,qg:!1,aD:Date.now(),aM:!0});oa.Vha({J:da,I:Ga,bb:Q});});};Xa.Object.defineProperties(c.prototype,{bH:{configurable:!0,enumerable:!0,get:function(){return this.Wp.values();}},ba:{configurable:!0,enumerable:!0,get:function(){return this.Wp.get(this.cB);}},sra:{configurable:!0,enumerable:!0,get:function(){return this.ek(this.ORb);}},gb:{configurable:!0,enumerable:!0,get:function(){var aa,oa;return void 0 !== this.zl?this.zl:null !== (oa=null === (aa=this.bH.next()) || void 0 === aa?void 0:aa.value.bb.gb) && void 0 !== oa?oa:0;}},Bc:{configurable:!0,enumerable:!0,get:function(){return this.ba.Bc;},set:function(aa){this.ba.Bc=aa;}},m5:{configurable:!0,enumerable:!0,get:function(){return this.ba.bb.m5;}},n5:{configurable:!0,enumerable:!0,get:function(){return this.ba.bb.n5;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ba.index;}},I:{configurable:!0,enumerable:!0,get:function(){return this.ba.I;}},u9a:{configurable:!0,enumerable:!0,get:function(){return this.rb.mza?this.rb.hh:this.ba.I;}},ee:{configurable:!0,enumerable:!0,get:function(){return this.ba.ee;},set:function(aa){this.ba.ee=aa;}},fm:{configurable:!0,enumerable:!0,get:function(){return this.ba.fm;},set:function(aa){this.ba.fm=aa;}},$E:{configurable:!0,enumerable:!0,get:function(){return this.ba.$E;},set:function(aa){this.ba.$E=aa;}},ZE:{configurable:!0,enumerable:!0,get:function(){return this.ba.ZE;},set:function(aa){this.ba.ZE=aa;}},N6:{configurable:!0,enumerable:!0,get:function(){return this.ba.N6;},set:function(aa){this.ba.N6=aa;}},X:{configurable:!0,enumerable:!0,get:function(){return this.ba.X;},set:function(aa){this.ba.X=aa;}},zl:{configurable:!0,enumerable:!0,get:function(){return this.ba.zl;},set:function(aa){this.ba.zl=aa;}},XX:{configurable:!0,enumerable:!0,get:function(){return this.ba.XX;},set:function(aa){this.ba.XX=aa;}},bb:{configurable:!0,enumerable:!0,get:function(){return this.ba.bb;},set:function(aa){this.ba.bb=aa;}},pM:{configurable:!0,enumerable:!0,get:function(){return this.ba.pM;},set:function(aa){this.ba.pM=aa;}},Xk:{configurable:!0,enumerable:!0,get:function(){return this.ba.Xk;}},P:{configurable:!0,enumerable:!0,get:function(){return this.ba.P;}},zd:{configurable:!0,enumerable:!0,get:function(){return this.ba.zd;}},ai:{configurable:!0,enumerable:!0,get:function(){return this.ba.ai;}},xw:{configurable:!0,enumerable:!0,get:function(){return this.ba.xw;}},yz:{configurable:!0,enumerable:!0,get:function(){return this.ba.yz;}},Wg:{configurable:!0,enumerable:!0,get:function(){return this.ba.Wg;}},Ed:{configurable:!0,enumerable:!0,get:function(){return this.ba.Ed;}},rG:{configurable:!0,enumerable:!0,get:function(){return this.ba.rG;}},Tt:{configurable:!0,enumerable:!0,get:function(){return this.ba.Tt;}},Nk:{configurable:!0,enumerable:!0,get:function(){return this.ba.Nk;}},kg:{configurable:!0,enumerable:!0,get:function(){return this.ba.kg;}},Sx:{configurable:!0,enumerable:!0,get:function(){return this.ba.Sx;},set:function(aa){this.ba.Sx=aa;}},na:{configurable:!0,enumerable:!0,get:function(){return this.ba.na;}},Qj:{configurable:!0,enumerable:!0,get:function(){return this.ba.Qj;}},Lh:{configurable:!0,enumerable:!0,get:function(){return this.ba.Lh;}},vy:{configurable:!0,enumerable:!0,get:function(){return this.ba.vy;},set:function(aa){this.ba.vy=aa;}},xf:{configurable:!0,enumerable:!0,get:function(){return this.ba.xf;}},KH:{configurable:!0,enumerable:!0,get:function(){return this.ba.KH;}},KS:{configurable:!0,enumerable:!0,get:function(){return this.ba.KS;}},Xc:{configurable:!0,enumerable:!0,get:function(){return this.ba.Xc;}},qp:{configurable:!0,enumerable:!0,get:function(){return this.ba.qp;}},Bla:{configurable:!0,enumerable:!0,get:function(){return this.ba.Bla;}},AM:{configurable:!0,enumerable:!0,get:function(){return this.ba.AM;}},lB:{configurable:!0,enumerable:!0,get:function(){return 0 !== u.config.w4 && 0 === this.ba.na % u.config.w4;}},s4:{configurable:!0,enumerable:!0,get:function(){return this.ba.s4;}},gd:{configurable:!0,enumerable:!0,get:function(){return this.ba.gd;}},Oka:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},sg:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.P,TrackingId:this.Qj,Xid:this.na};}},z9:{configurable:!0,enumerable:!0,get:function(){return this.rb.z9;}}});b.jLa=c;},52200:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D){var F;F=this;this.j=x;this.Mk=z;this.wY=A;this.wh=B;this.CX=C;this.Km=D;this.QWa={};this.update=function(){var G;if(F.Co.selectionStart == F.Co.selectionEnd){G="";F.RT().forEach(function(E){G=G?G + "\n":"";Object.entries(E).forEach(function(I){var M;M=la(I);I=M.next().value;M=M.next().value;G+=I + ": " + M + "\n";});});F.Co.style.fontSize=(0,k.Zw)((0,g.ZI)(F.element.clientHeight / 60),8,18) + "px";F.Co.value=G;}};this.DVb=function(){var G,E;if(F.j.Ud){E=F.j.Ud.PF();E && (F.Kka=E - (null !== (G=F.yeb) && void 0 !== G?G:0),F.yeb=E,F.QM());}};this.QM=function(){F.wY.Mj(F.update);};this.onkeydown=function(G){G.ctrlKey && G.altKey && G.shiftKey && (G.keyCode == m.Vz.Jib || G.keyCode == m.Vz.Q) && F.toggle();};this.i9a=[x.mediaTime,x.Dc[q.u.fa],x.Dc[q.u.Y],x.jf,x.Yd,x.Kg,x.Le,x.Yh,x.state,x.Hq,x.wb,x.volume,x.muted];this.element=this.wh.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.Co=this.wh.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.Co);this.controls=this.wh.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);z=this.wh.createElement("button",void 0,"X");z.addEventListener("click",function(){return F.Cv();},!1);this.controls.appendChild(z);f.ie.addListener(f.FB,this.onkeydown);x.addEventListener(h.ga.mg,function(){f.ie.removeListener(f.FB,F.onkeydown);F.Cv();});}Object.defineProperty(b,"__esModule",{value:!0});b.lLa=void 0;l=a(13044);f=a(37509);k=a(8825);d=a(77705);g=a(22365);n=a(32687);h=a(85001);m=a(43193);p=a(5021);q=a(60328);u=a(93161);r={};t=(r[h.Wb.bJ]="Not Loaded",r[h.Wb.LOADING]="Loading",r[h.Wb.ce]="Normal",r[h.Wb.CLOSING]="Closing",r[h.Wb.CLOSED]="Closed",r);r={};w=(r[h.pf.ce]="Normal",r[h.pf.Ne]="Pre-buffering",r[h.pf.RMa]="Network stalled",r);r={};v=(r[h.hb.Af]="Waiting for decoder",r[h.hb.Oe]="Playing",r[h.hb.Rh]="Paused",r[h.hb.oq]="Media ended",r);y=[h.ga.AV];c.prototype.C2b=function(x){this.QWa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.GU=ob.setInterval(this.DVb,1E3),document.body.appendChild(this.element),this.i9a.forEach(function(z){z.addListener(x.QM);}),y.forEach(function(z){x.j.addEventListener(z,x.QM);}),this.visible=!0,this.Km.RX().then(function(z){x.Yoa=z;x.QM();}));this.update();};c.prototype.Cv=function(){var x;x=this;this.visible && (clearInterval(this.GU),this.yeb=this.Kka=void 0,document.body.removeChild(this.element),this.i9a.forEach(function(z){z.removeListener(x.QM);}),y.forEach(function(z){x.j.removeEventListener(z,x.QM);}),this.wY.Mj(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Cv():this.show();};c.prototype.RT=function(){var x,z,A,B,C,D,F,G,E,I,M,L,K,O,H,J,N,R,T,ka,sa,ia,wa,Aa,La,Ya,ab,aa,oa,Ga,Sa,Q,da,P,Y,ta,Ha,Wa,$a,fb,sb,Jb,Ua,bb,kb,rb,qb,yb,Ab,Lb,Sb,Xb,Ib,Nb;x=this;T=[];ka=this.Mk();T.push({Version:"6.0043.278.911",Esn:ka?ka.ck:"UNKNOWN",PBCID:this.j.xf,UserAgent:g.MD});try{sa=this.j.mediaTime.value;ia={MovieId:this.j.P,PackageId:null === (A=null === (z=this.j.X) || void 0 === z?void 0:z.Fa) || void 0 === A?void 0:A.kn,Xid:this.j.na + " (" + l.An.map(function(Pb){return Pb.na;}).join(", ") + ")",Position:(0,k.ah)(sa),Duration:(0,k.ah)(this.j.Sx.da(p.pa)),PlayerDuration:(0,k.ah)(this.j.Xp.da(p.pa)),Volume:(0,g.xn)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.hoa()};if(this.j.bb.qg || this.j.bb.aM)ia["Segment Position"]=(0,k.ah)(this.j.BB());if(this.j.gd.aa){ia["Is Live"]="true";ia["Live Event Slate"]=this.j.gd.AB();ia["Is At Live Edge"]="" + this.j.gd.SB();ia["Adjusted Live Edge Target"]=(0,k.ah)(this.j.gd.Yq());ia["Live Adjusted Duration"]=(0,k.ah)(this.j.gd.t0a());ia["Live Adjusted Playback Position"]=(0,k.ah)(this.j.gd.g6());ia["Live Event Time Playback Position"]=this.j.gd.HJb();wa=[q.u.Y,q.u.fa,q.u.Ga].reduce(function(Pb,cc){var nc,Ac,Pc;Pc=null === (Ac=null === (nc=x.j.cb) || void 0 === nc?void 0:nc.Iv) || void 0 === Ac?void 0:Ac[cc];Pb[(0,u.JG)(cc)]=Pc?{encoderRegion:Pc.nB,encoderTag:Pc.oB}:void 0;return Pb;},{});ia["Live Logging Info"]=JSON.stringify(wa);}T.push(ia);}catch(Pb){}try{T.push({"Player state":t[this.j.state.value],"Buffering state":w[this.j.Hq.value],"Rendering state":v[this.j.wb.value]});}catch(Pb){}try{Aa=this.j.oza() + this.j.Eia();La=this.j.jf.value;Ya=null === La || void 0 === La?void 0:La.stream;ab=this.j.Yd.value;aa=null === ab || void 0 === ab?void 0:ab.stream;oa=null !== (B=null === Ya || void 0 === Ya?void 0:Ya.bitrate) && void 0 !== B?B:"?";Ga=aa?aa.bitrate + " (" + aa.width + "x" + aa.height + ")":"?";Sa=null !== (C=null === Ya || void 0 === Ya?void 0:Ya.Vb) && void 0 !== C?C:"?";Q=null !== (D=null === aa || void 0 === aa?void 0:aa.Vb) && void 0 !== D?D:"?";da=null !== (F=null === aa || void 0 === aa?void 0:aa.xb) && void 0 !== F?F:"?";P=null !== (E=null === (G=this.j.Le.value) || void 0 === G?void 0:G.xb) && void 0 !== E?E:"?";Y=null !== (M=null === (I=this.j.Kg.value) || void 0 === I?void 0:I.bitrate) && void 0 !== M?M:"?";ta=null !== (K=null === (L=this.j.Le.value) || void 0 === L?void 0:L.bitrate) && void 0 !== K?K:"?";Ha=this.j.Dc[q.u.Y].value;Wa=this.j.Dc[q.u.fa].value;T.push({"Playing bitrate (a/v)":oa + " / " + Ga,"Playing/Buffering vmaf":da + "/" + P,"Buffering bitrate (a/v)":Y + " / " + ta,"Buffer size in Bytes (a/v)":this.j.Eia() + " / " + this.j.oza(),"Buffer size in Bytes":"" + Aa,"Buffer size in Seconds (a/v)":(0,k.ah)(this.j.dS()) + " / " + (0,k.ah)(this.j.DY()),"Downloadables (a/v)":Sa + " / " + Q,"Current CDN (a/v)":(Wa?Wa.name + ", Id: " + Wa.id:"?") + " / " + (Ha?Ha.name + ", Id: " + Ha.id:"?")});}catch(Pb){}try{$a=this.j.jf.value;z={};if($a && $a.stream){fb=$a.stream;sb=fb.track;Jb=this.CX.O3(sb.streams);Ua=fb.Cd;bb=(/xheaac/).test(Ua)?"xhe-aac":(/heaac/).test(Ua)?"he-aac":(/ddplus/).test(Ua)?"ddplus":"unknown";(/atmos/).test(Ua) && (bb+=", atmos");z["Audio Track"]=sb.te + ", Id: " + sb.trackId + ", Channels: " + sb.channels + ", Codec: " + Jb + " (" + bb + ")";z["Audio Tags"]=null === (O=$a.stream) || void 0 === O?void 0:O.Di.toString();}kb=this.j.Yd.value;if(kb && kb.stream){rb=kb.stream;qb=this.CX.U3(this.j.Fg.value?this.j.Fg.value.streams:[]);yb=rb.Cd;Ab=(/hevc/).test(yb)?"hevc":(/vp9/).test(yb)?"vp9":(/h264hpl/).test(yb)?"avchigh":(/av1/).test(yb)?"av1":"avc";(/hdr/).test(yb) && (Ab+=", hdr");(/dv/).test(yb) && (Ab+=", dv");(/prk/).test(yb) && (Ab+=", prk");z["Video Track"]="Codec: " + qb + " (" + Ab + ")";z["Video Tags"]=null === (H=kb.stream) || void 0 === H?void 0:H.Di.toString();}Lb=this.j.Yh.value;z["Timed Text Track"]=Lb?Lb.te + ", Profile: " + Lb.profile + ", Id: " + Lb.trackId + ", DownloadableId: " + Lb.Vb:"none";T.push(z);}catch(Pb){}try{Sb=this.j.Ud;Xb=this.j.Le.value?this.j.Le.value.framerate:0;Ib=a(99732).y5a;T.push({Framerate:Xb.toFixed(3),"Current Dropped Frames":(0,n.Rb)(this.Kka)?this.Kka:"","Total Frames":Sb.zv(),"Total Dropped Frames":Sb.PF(),"Total Corrupted Frames":Sb.NT(),"Main Thread stall/sec":Ib?Ib.N5().join(" "):"DISABLED",KeySystem:null === (J=this.j.ee) || void 0 === J?void 0:J.CL(),KeyStatus:null === (R=null === (N=this.j.ee) || void 0 === N?void 0:N.n0a) || void 0 === R?void 0:R.call(N),VideoDiag:(0,d.tra)(this.j.j6()),"HDR support":this.Yoa?this.Yoa.result + " (" + this.Yoa.reason + ")":"unknown"});}catch(Pb){}try{T.push({Throughput:this.j.nb + " kbps"});}catch(Pb){}Nb=void 0;try{Object.entries(this.QWa).forEach(function(Pb){var cc;cc=la(Pb);Pb=cc.next().value;cc=cc.next().value;Nb=Nb || ({});Nb[Pb]=JSON.stringify(cc);});Nb && T.push(Nb);}catch(Pb){}return T;};b.lLa=c;},25138:function(r,b,a){var f,k,d,g;function c(n,h,m,p){this.na=n;this.E0b=h;this.la=m;this.Sf=p;this.Xc={};}function l(n,h){this.zf=n;this.Sf=h;this.Vd={};this.la=n.$a("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.pnb=b.nLa=void 0;r=a(5163);f=a(22674);k=a(87386);d=a(81918);g=a(5021);l.prototype.L_b=function(n,h){this.Vd[n] && this.la.warn("registerPlayback: xid " + n + " already registered, overriding");h=(h?h:this.Sf.Jb()).da(g.pa);this.la.trace("registerPlayback: xid " + n + " at " + h);this.Vd[n]=new c(n,h,this.la,this.Sf);return this.Vd[n];};l.prototype.dLb=function(n){this.Vd[n] || this.la.warn("getPlaybackMilestones: xid " + n + " is not registered");return this.Vd[n];};l.prototype.f0b=function(n){this.la.trace("removePlayback: xid " + n);delete this.Vd[n];};a=l;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.ab)),r.__param(1,(0,f.l)(d.Lc))],a);b.nLa=a;c.prototype.jp=function(n,h){h=h?h.da(g.pa):this.Sf.Jb().da(g.pa) - this.E0b;this.la.trace("addMilestone: xid " + this.na + " " + n + " at " + h);this.Xc[n]=h;};b.pnb=c;},81889:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Fea=void 0;a.prototype.yra=function(c){c=void 0 === c?{}:c;return {Qj:c.trackingId,Y2:c.authParams,$l:c.sessionParams,zd:c.uiLabel,Vaa:c.uxLabels,rla:c.disableTrackStickiness,aD:c.uiPlayStartTime,m5:c.forceAudioTrackId,n5:c.forceTimedTextTrackId,qg:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,$K:c.enableTrickPlay,$oa:c.heartbeatCooldown,aM:c.isPlaygraph,J7:c.loadImmediately || !1,Y8a:c.pin,xW:c.preciseSeeking,gb:c.startPts,df:c.endPts,Ui:c.logicalEnd,c$:c.renderTimedText,UYa:c.extraManifestParams,Cia:c.assetId,Rub:c.audioLanguages,a6b:c.textLanguages,hgb:c.videoLanguage,kn:c.packageId,rXa:c.desiredDownloadables,Kva:c.requestReference,rtb:c.additionalAudioAssets,utb:c.additionalTextAssets};};b.Fea=a;},65361:function(r,b,a){var l,f;function c(k,d){k=l.Hb.call(this,k) || this;k.Jra=d;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.oLa=void 0;l=a(81734);f=a(8825);fa(c,l.Hb);c.prototype.set=function(k){l.Hb.prototype.set.call(this,(0,f.Zw)(k,0,this.Jra));};b.oLa=c;},37025:function(r,b,a){var l,f,k;function c(d,g,n,h,m,p,q,u,t,w,v,y,x,z){this.index=d;this.P=g;this.I=n;this.bb=h;this.na=m;this.Lh=p;this.q5a=q;this.Zyb=t;this.D6a=v;this.Cf=x;this.uc=new l.Hb(null);this.Fg=new l.Hb(null);this.Mb=new l.Hb(null);this.Yh=new l.Hb(null);this.eu=new l.Hb(void 0);this.Le=new l.Hb(null);this.Kg=new l.Hb(null);this.jf=new l.Hb(null);this.Yd=new l.Hb(null);this.Dc=[new l.Hb(null),new l.Hb(null)];this.mediaTime=new l.Hb(void 0);this.playbackRate=new l.Hb(1);this.qp=new l.Hb(null);this.background=new l.Hb(!1);this.$E=this.ZE="notcached";this.s4=!1;u && (this.Le.set(u.Le.value),this.Kg.set(u.Kg.value));this.Xk=w(this);this.Vl=this.D6a.L_b(this.na,this.Lh);this.gd=y(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.pLa=void 0;l=a(81734);f=a(5021);k=a(45146);c.prototype.ke=function(d){this.Vl.jp(d);};c.prototype.ry=function(d){var g;g=this;Object.entries(d).forEach(function(n){var h;h=la(n);n=h.next().value;h=h.next().value;g.Vl.jp(n,(0,f.Ob)(h - g.Lh.da(f.pa)));});};c.prototype.J8=function(){this.D6a.f0b(this.na);};Xa.Object.defineProperties(c.prototype,{zd:{configurable:!0,enumerable:!0,get:function(){return this.bb.zd;}},Vaa:{configurable:!0,enumerable:!0,get:function(){return this.bb.Vaa;}},Nk:{configurable:!0,enumerable:!0,get:function(){return this.Bc && this.Bc.Nk;}},ai:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.ai) && void 0 !== d?d:[];}},xw:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.xw) && void 0 !== d?d:[];}},yz:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.yz) && void 0 !== d?d:[];}},Wg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.Wg) && void 0 !== d?d:[];}},Ed:{configurable:!0,enumerable:!0,get:function(){return this.Bc && this.Bc.Ed;}},rG:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.rG) && void 0 !== d?d:!1;}},Tt:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.Tt) && void 0 !== d?d:[];}},kg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.kg) && void 0 !== d?d:[];}},Sx:{configurable:!0,enumerable:!0,get:function(){var d,g,n,h,m;return this.gd.aa?((0,k.oa)(void 0 === this.CJ || Infinity === this.CJ.da(f.pa),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.gd.aa + ", contentDuration:" + (null === (d=this.CJ) || void 0 === d?void 0:d.display)),(0,f.Ob)(Math.max(null !== (g=this.gd.Yq()) && void 0 !== g?g:0,null !== (n=this.mediaTime.value) && void 0 !== n?n:0))):this.CJ && 0 < this.CJ.da(f.pa)?this.CJ:(0,f.Ob)(null !== (m=null === (h=this.X) || void 0 === h?void 0:h.Fa.duration) && void 0 !== m?m:0);},set:function(d){this.CJ=d;}},k6a:{configurable:!0,enumerable:!0,get:function(){var d;return this.gd.aa?((0,k.oa)(void 0 === this.L1 || Infinity === this.L1.da(f.pa),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.gd.aa + ", maxSeekPts:" + (null === (d=this.L1) || void 0 === d?void 0:d.display)),(0,f.Ob)(this.gd.yKb())):this.L1;},set:function(d){this.L1=d;}},Qj:{configurable:!0,enumerable:!0,get:function(){return this.bb.Qj || 0;}},KS:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.GS?this.GS:void 0 === this.mediaTime.value?null:this.Zyb(this.mediaTime.value,this.I);}},xf:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.X) || void 0 === d?void 0:d.Fa.VA) || void 0 === g?void 0:g.Tp;}},KH:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.X) || void 0 === d?void 0:d.Fa.VA) || void 0 === g?void 0:g.KH;}},Xc:{configurable:!0,enumerable:!0,get:function(){return this.Vl.Xc;}}});b.pLa=c;},69334:function(r,b,a){var l,f,k;function c(d,g,n){this.Sg=d;this.zb=n;this.O=[];this.log=g.$a("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.tLa=void 0;l=a(5163);r=a(22674);f=a(42207);k=a(87386);a(5021);c.prototype.some=function(d){return this.O.some(d);};c.prototype.w6=function(){return !!(this.O[0] && this.O[0].stream && this.zb.pg(this.O[0].stream.xb));};c.prototype.Fp=function(d){return this.O.filter(d).reduce(function(g,n){return g + (n.endTime - n.startTime) / n.rate;},0);};c.prototype.hU=function(d){return this.O.filter(d).reduce(function(g,n){return g + n.endTime - n.startTime;},0);};c.prototype.kna=function(d,g){var n,h;n=this;h={};return this.O.filter(function(m){return !g || m.track.wC === g;}).reduce(function(m,p){var q,u,t;q=d.bind(n,p)();u=q.key;q=l.__rest(q,["key"]);p=p.endTime - p.startTime;t=h[u];t?t.duration+=p:(t=q,t.duration=p,m.push(t),h[u]=t);return m;},[]);};c.prototype.De=function(d,g,n){var h;n=void 0 === n?this.Sg.playbackRate.value:n;h=this.O;d && g && g >= d.startTime && (d={Dc:d.Dc,track:d.track,stream:d.stream,startTime:d.startTime,SB:d.SB,Xpa:d.Xpa,endTime:g,rate:n},(g=h[h.length - 1]) && g.track === d.track && g.stream === d.stream && g.Dc === d.Dc && g.endTime === d.startTime && g.rate === d.rate?g.endTime=d.endTime:h.push(d),!1);};a=c;a=l.__decorate([l.__param(1,(0,r.l)(k.ab)),l.__param(2,(0,r.l)(f.Qf))],a);b.tLa=a;},82557:function(r,b,a){var l,f,k,d;function c(g){this.Ea=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.CMa=void 0;r=a(5163);l=a(85001);f=a(22674);k=a(81918);d=a(5021);c.prototype.Fj=function(g){g.Xb !== l.mc.gs && (this.trace.unshift({time:this.Ea.Jb(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.p1a=function(){var g,n;g=this;if(0 === this.trace.length)return {};n=this.trace[0];return {timeSinceLastRepositionMs:this.neb(n.time),lastRepositionCause:this.A_a(n.event.Xb),repositionTrace:this.trace.map(function(h){return {timeSince:g.neb(h.time),cause:g.A_a(h.event.Xb),newMediaTime:h.event.C8,oldMediaTime:h.event.Rsa,contentPts:h.event.Vs,skip:h.event.skip};})};};c.prototype.neb=function(g){return this.Ea.Jb().qa(g).da(d.pa);};c.prototype.A_a=function(g){switch(g){case l.mc.gs:return "initial";case l.mc.cx:return "seek";case l.mc.VI:return "live_edge";case l.mc.SD:return "segment_changed";case l.mc.tQ:return "track_changed";case l.mc.WZ:return "force_rebuffer";case l.mc.vP:return "fragments_missing";case l.mc.Fda:return "media_discontinuity";}};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.Lc))],a);b.CMa=a;},13889:function(r,b,a){var l,f,k,d;function c(g,n,h){this.config=g;this.j=n;this.zf=h;this.Wy=void 0;this.p9=!1;this.E4a=0;this.log=this.zf.$a();}Object.defineProperty(b,"__esModule",{value:!0});b.cNa=void 0;l=a(85001);f=a(5021);k=a(8825);d=a(32687);c.prototype.IKb=function(g,n,h,m,p){var q,u,t,w;h=void 0 === h?this.j.I:h;m=void 0 === m?!1:m;q=n === l.mc.SD;u=this.Rwb(q?g:this.Xxb(g,h),n,m,h);m=this.j.cb;q?(g=u,u=m.vka(u)):g=m.xka(h,u);n === l.mc.gs && (this.j.PTa=u);p=this.bi(g,n,p);t=(q=q || p)?g:u;if(this.j.Xp){w=this.j.bb.qg?this.config().yta:this.config().rC;this.j.P1a(t,w) || n !== l.mc.cx && n !== l.mc.VI || (t=this.j.Xp.da(f.pa) - w - 1E3,q?(g=t,u=m.vka(t)):(g=m.xka(h,t),u=t));}return {C8:t,Vs:u,MXb:g,bi:p};};c.prototype.Rwb=function(g,n,h,m){this.BPb() || h?g=Math.round(g):(h=this.j.cb.Twb(g,m),g=(0,d.Rb)(h)?h:Math.round(g));this.j.bb.qg && (g=this.JHb(g));this.config().obb && 0 !== g && n !== l.mc.gs && (g+=this.config().obb);return g;};c.prototype.bi=function(g,n,h){if(this.config().JDb || n === l.mc.gs || n === l.mc.tQ || n === l.mc.WZ || !h || g < h.start.da(f.pa) || g >= h.end.da(f.pa))return !1;n=this.j.cb;return (null === n || void 0 === n?void 0:n.Ah) && n.bi(g) || !1;};c.prototype.BPb=function(){return this.j.bb.qg?!0:"boolean" === typeof this.j.bb.xW?this.j.bb.xW:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().xW && this.config().kYb:this.config().xW;};c.prototype.Xxb=function(g,n){var h;h=this.j.Si(n);n=h.Sx;h=h.k6a;!1;n=h || n;h=this.j.gd.aa && !this.j.gd.b7()?0:this.config().K9b;n=Math.max(0,n.da(f.pa) - h);return (0,k.Zw)(g,0,n);};c.prototype.JHb=function(g){var n,h,m;n=this.j.JT();if(Object.values(n).find(function(p){var q;q=p.va;q=g < (null !== q && void 0 !== q?q:Infinity);return p.ta <= g && q;}))return (!1,g);m=g;Object.entries(n).forEach(function(p){var q;p=la(p);p.next();p=p.next().value.ta;q=p - g;0 < q && (void 0 === h || q < h) && (h=q,m=p);});!1;return m;};Xa.Object.defineProperties(c.prototype,{d7:{configurable:!0,enumerable:!0,get:function(){return this.p9 || !!this.Wy;}}});b.cNa=c;},74834:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.gNa=void 0;r=a(5163);a=a(22674);c.prototype.nZb=function(f,k){k.pM.fb.Bwa({xid:k.na,auxPlaybackcontextid:k.Ed,auxMid:f.auxMid,auxMidType:f.auxMidType,reason:f.reason,adBreakLocationMs:f.adBreakLocationMs},"error" === f.sev);};l=c;l=r.__decorate([(0,a.U)()],l);b.gNa=l;},37517:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u,t,w,v,y,x,z){var A;A=this;this.Z6b=m;this.j=p;this.id=q;this.height=u;this.width=t;this.sXb=w;this.tXb=v;this.size=y;this.ut=x;this.urls=z;this.type=l.Vj.Gya;this.retry=!0;this.state=g.Qo.j0;this.sg={};this.R2={};this.lZb=function(B){if(B.ia)try{A.data=A.Z6b.parse(B.content);A.state=g.Qo.CD;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.sg);A.j.fireEvent(n.ga.oY);}catch(C){A.state=g.Qo.zJa;A.log.error("TrickPlay parse failed.",C);}else (A.state=g.Qo.j0,A.log.error("TrickPlay download failed.",(0,h.Ow)(B),A.sg));};this.log=(0,k.Eh)(p,"TrickPlay");}b.z=void 0;l=a(51344);f=a(29204);k=a(31276);d=a(61726);g=a(94025);n=a(85001);h=a(36129);c.prototype.QJb=function(m){if(this.data && (this.ut && (m+=this.ut),m=Math.floor(m / this.data.header.qeb),0 <= m && m < this.data.images.length))return {image:this.data.images[m],time:m * this.data.header.qeb,height:this.height,width:this.width,pixelAspectHeight:this.sXb,pixelAspectWidth:this.tXb};};c.prototype.JL=function(){switch(this.state){case g.Qo.CD:return "downloaded";case g.Qo.LOADING:return "loading";case g.Qo.KP:return "downloadfailed";case g.Qo.zJa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var m;m=this.nMb();m?(this.state=g.Qo.LOADING,this.$Db(m)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.nMb=function(){var m,p,q;m=this;p=Object.keys(this.urls).find(function(u){return (m.R2[m.urls[u]] || 0) <= f.config.V6b;});if(p){q=this.urls[p];(q in this.R2)?this.R2[q]++:this.R2[q]=1;return {url:q,Fm:p};}};c.prototype.$Db=function(m){var p,q;this.log.trace("Downloading",m.url,this.sg);q=this.y5(m.Fm);m={responseType:d.tU,Dc:q,url:m.url,track:this,Kr:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",gB:"trickplay"};this.j.z6.download(m,this.lZb);};c.prototype.y5=function(m){return this.j.kg.find(function(p){return p && p.id === m;});};b.z=c;},18181:function(r,b,a){var l,f,k,d,g,n;function c(h,m){this.Sf=h;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.xOa=void 0;r=a(5163);l=a(85001);f=a(94025);k=a(81918);d=a(22674);g=a(5021);a=a(4203);c.prototype.$K=function(h){var m;h.pY={};if(!h.cM() && h.yz && 0 < h.yz.length && (h.xz=this.g0a(h),h.xz)){m=this.q3b(h);m() || (h.wb.addListener(m),h.Le.addListener(m));}};c.prototype.q3b=function(h){var p;function m(){var q,u;if(!h.Le.value || h.wb.value === l.hb.Af)return !1;q=h.xz;u=q.getState();return u === f.Qo.LOADING?!1:u !== f.Qo.CD && q.retry?(q=p.iMb(h))?(h.pY.offset=p.Sf.Jb().da(g.pa),h.xz=q,q.download(),!0):!1:(h.wb.removeListener(m),h.Le.removeListener(m),!1);}p=this;return m;};c.prototype.iMb=function(h){var m,p;m=this.config();p=h.Xk.Fp() < m.X6b;m=(h.Le.value?h.Le.value.bitrate:0) > m.W6b;return this.DLb(h,p && m);};c.prototype.DLb=function(h,m){if(m && (m=this.g0a(h),this.h1a(h,m.size)))return (h.pY.Cab="h",m);m=this.uKb(h);if(this.h1a(h,m.size))return (h.pY.Cab="l",m);};c.prototype.h1a=function(h,m){var p,q;p=this.config();q=Math.min(h.dS(),h.DY());return h.rvb.Cwb(m) * (1 + .01 * p.ttb[2]) < q * p.$6b;};c.prototype.g0a=function(h){return h.yz[h.yz.length - 1];};c.prototype.uKb=function(h){return h.yz[0];};n=c;n=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(k.Lc)),r.__param(1,(0,d.l)(a.Yb))],n);b.xOa=n;},25837:function(r,b,a){var l,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.zOa=void 0;r=a(5163);f=a(62082);a=a(22674);c.prototype.parse=function(d){var g,n;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);n=new f.pP(g);d=this.OWb(n);g=this.PWb(n,g,d);return {header:d,images:g};};c.prototype.OWb=function(d){var g,n,h,m;if(d.moa() < this.I0b())throw Error("array buffer too short");l.JHa.forEach(function(p){if(p != d.cz())throw Error("BIF has invalid magic.");});g=d.uN();if(g > l.VERSION)throw Error("BIF version in unsupported");n=d.uN();if(0 == n)throw Error("BIF has no frames.");h=d.uN();m=d.Ej(l.pMa);return {version:g,VUb:n,qeb:h,Eab:m};};c.prototype.PWb=function(d,g,n){var p,q;for(var h=[],m=0;m <= n.VUb;m++){p={timestamp:d.uN(),offset:d.uN()};void 0 != q && h.push(g.subarray(q.offset,p.offset));q=p;}return h;};c.prototype.I0b=function(){return l.JHa.length + 4 + 4 + 4 + l.pMa;};k=l=c;k.JHa=[137,66,73,70,13,10,26,10];k.VERSION=0;k.pMa=44;k=l=r.__decorate([(0,a.U)()],k);b.zOa=k;},72614:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v;function c(y){return function(){return y.lb.get(l.GKa).Cb();};}Object.defineProperty(b,"__esModule",{value:!0});b.dH=void 0;r=a(22674);l=a(96687);f=a(32979);k=a(23048);d=a(62278);g=a(95480);n=a(91859);h=a(95398);m=a(77334);p=a(10469);q=a(44698);u=a(36258);t=a(78339);w=a(50889);v=a(18477);b.dH=new r.dd(function(y){y(h.sLa).to(m.rLa).ha();y(f.qea).to(k.CKa).ha();y(d.dKa).to(g.cKa).ha();y(l.GKa).to(n.FKa).ha();y(l.jQ).jY(c);y(w.EKa).to(v.DKa).ha();y(p.jKa).to(q.iKa).ha().MY();y(u.IKa).to(t.HKa).ha();y(u.zKa).to(t.yKa).ha();y(u.BKa).to(t.AKa).ha();});},62278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dKa="PboCachedPlaydataSymbol";},10469:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nea={UU:"keepAlive",splice:"splice"};b.jKa="PboEventSenderSymbol";},32979:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qea="PboPlaydataFactorySymbol";},50889:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EKa="PboPlaydataPlaybackMonitorSymbol";},96687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GKa="PboPlaydataServicesSymbol";b.jQ="PboPlaydataServicesProviderSymbol";},95398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sLa="PlaydataConfigSymbol";},95480:function(r,b,a){var k,d,g,n,h,m,p,q,u,t;function c(){}function l(){}function f(w,v,y,x,z){var A;A=this;this.is=w;this.cl=v;this.config=y;this.sF=x;this.eXb=z;this.hu=function(){return new c().encode({version:A.version,data:A.dH});};this.q8b=function(B){B=A.upgrade(B);A.eXb.validate(B);return B;};this.upgrade=function(B){var C;if(A.is.ym(B))return A.r8b(B);C=B.version;if(void 0 != C && A.is.Zj(C) && 1 == C)return A.s8b(B);C=B.version;if(void 0 != C && A.is.Zj(C) && 2 == C)return new c().decode(B);if(B.version && A.is.Zj(B.version))throw new h.Mc(g.V.Uz,g.S.OBa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new h.Mc(g.V.Uz,g.S.Pz,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.pk=new m.fda(2,this.config().m9a,"" !== this.config().m9a && 0 < this.config().GXb,this.cl,this.hu);}Object.defineProperty(b,"__esModule",{value:!0});b.cKa=void 0;r=a(5163);k=a(22674);d=a(4203);g=a(36129);n=a(42207);h=a(31149);m=a(52657);p=a(17892);q=a(33554);u=a(23048);a=a(36258);f.prototype.XZb=function(){return this.pk.load(this.q8b).catch(function(w){throw new h.Mc(g.V.Uz,w.Aa || w.ec,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};f.prototype.ftb=function(w){return this.pk.add(w);};f.prototype.fab=function(w){return this.pk.remove(w,function(v,y){return v.na === y.na;});};f.prototype.$ya=function(w){return this.pk.update(w,function(v,y){return v.na === y.na;});};f.prototype.toString=function(){return JSON.stringify(this.hu(),null,"  ");};f.prototype.Hfb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.sF().ck:"";};f.prototype.gza=function(w){return w.map(function(v){return {Vb:v.downloadableId,duration:v.duration};});};f.prototype.Ifb=function(w){var v;return w?{total:w.playTimes.total,lI:null !== (v=w.playTimes.totalContentTime) && void 0 !== v?v:w.playTimes.total,xO:w.playTimes.total,YC:0,ZC:0,mI:0,nI:0,audio:this.gza(w.playTimes.audio || []),video:this.gza(w.playTimes.video || []),text:this.gza(w.playTimes.timedtext || [])}:{total:0,lI:0,xO:0,YC:0,ZC:0,mI:0,nI:0,audio:[],video:[],text:[]};};f.prototype.r8b=function(w){var v,y,x;v=this;w=JSON.parse(w);y={Zf:"VOD",href:this.Hfb(w.playbackContextId),na:w.xid?w.xid.toString():"",P:w.movieId,position:w.position,Mx:w.timestamp,am:w.playback?1E3 * w.playback.startEpoch:-1,wM:w.mediaId,Vv:this.Ifb(w.playback),trackId:"",$l:{},pN:w.accountKey};x=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.cl.create().then(function(z){z.save(v.config().$S,x,!1);});if("" === y.href || "" === y.na)throw new h.Mc(g.V.Uz,g.S.Pz);return {version:2,data:[y]};};f.prototype.s8b=function(w){var v;v=this;if(!w.playdata || !this.is.LA(w.playdata))throw new h.Mc(g.V.Uz,g.S.Pz,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(y){return y.map(function(x){var z;return {Zf:null !== (z=x.streamingType) && void 0 !== z?z:"VOD",href:v.Hfb(x.playbackContextId),na:x.xid?x.xid.toString():"",P:x.movieId,position:x.position,Mx:x.timestamp,am:x.playback?1E3 * x.playback.startEpoch:-1,wM:x.mediaId,Vv:v.Ifb(x.playback),trackId:"",$l:{},pN:x.profileId};});})(w.playdata)};};Xa.Object.defineProperties(f.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.pk.version;}},dH:{configurable:!0,enumerable:!0,get:function(){return this.pk.Bl;}}});t=f;t=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(n.Qf)),r.__param(1,(0,k.l)(p.Dw)),r.__param(2,(0,k.l)(d.Yb)),r.__param(3,(0,k.l)(q.Kw)),r.__param(4,(0,k.l)(a.BKa))],t);b.cKa=t;l.prototype.encode=function(w){var v;v=new u.r0();return w.map(v.encode);};l.prototype.decode=function(w){var v;v=new u.r0();return w.map(v.decode);};c.prototype.encode=function(w){return {version:w.version,data:new l().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new l().decode(w.data)};};},44698:function(r,b,a){var l,f,k;function c(d,g){this.CS=g;this.log=d.$a("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.iKa=void 0;r=a(5163);l=a(87607);f=a(87386);a=a(22674);c.prototype.Iwa=function(d,g){var n;n=this.CS(l.Lo.start);return this.PYa(n,d,g);};c.prototype.zbb=function(d){var g;g=this;return this.CS(l.Lo.stop).yf(this.log,d).then(function(){}).catch(function(n){g.log.error("PBO stop event failed",n);throw n;});};c.prototype.rX=function(d,g,n){d=this.CS(d);return this.PYa(d,g,n);};c.prototype.PYa=function(d,g,n){var h;h=this;return d.Un(this.log,g.X.oi,n).then(function(){}).catch(function(m){h.log.error("PBO event failed",m);throw m;});};k=c;k=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(f.ab)),r.__param(1,(0,a.l)(l.Kca))],k);b.iKa=k;},23048:function(r,b,a){var d,g,n,h,m,p;function c(q,u,t,w){this.sa=q;this.jU=u;this.Ea=t;this.profile=w;}function l(){}function f(){}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.CKa=b.r0=void 0;r=a(5163);d=a(22674);g=a(30869);n=a(5021);h=a(4203);m=a(81918);a=a(71501);k.prototype.encode=function(q){return {downloadableId:q.Vb,duration:q.duration};};k.prototype.decode=function(q){return {Vb:q.downloadableId,duration:q.duration};};f.prototype.encode=function(q){return {total:q.total,totalContentTime:q.lI,totalAdDuration:q.YC,totalCombinedDuration:q.xO,totalOtherDuration:q.ZC,totalStartSlateDuration:q.nI,totalLiveEdgeDuration:q.mI,audio:q.audio.map(new k().encode),video:q.video.map(new k().encode),text:q.text.map(new k().encode)};};f.prototype.decode=function(q){var u;return {total:q.total,lI:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,YC:q.totalAdDuration,xO:q.totalCombinedDuration,ZC:q.totalOtherDuration,nI:q.totalStartSlateDuration,mI:q.totalLiveEdgeDuration,audio:q.audio.map(new k().decode),video:q.video.map(new k().decode),text:q.text.map(new k().decode)};};l.prototype.encode=function(q){return {streamingType:q.Zf,href:q.href,xid:q.na,movieId:q.P,position:q.position,clientTime:q.Mx,sessionStartTime:q.am,videoTrackId:q.MO,audioTrackId:q.np,timedTextTrackId:q.vO,mediaId:q.wM,playTimes:new f().encode(q.Vv),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.$l,profileId:q.pN};};l.prototype.decode=function(q){return {Zf:q.streamingType,href:q.href,na:q.xid,P:q.movieId,position:q.position,Mx:q.clientTime,am:q.sessionStartTime,MO:q.videoTrackId,np:q.audioTrackId,vO:q.timedTextTrackId,wM:q.mediaId,Vv:new f().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,$l:q.sessionParams,pN:q.profileId};};b.r0=l;c.prototype.create=function(q){var u,t,w,v,y,x,z,A;A=Object.assign(Object.assign({},null !== (u=q.bb.$l) && void 0 !== u?u:{}),{uiVersion:this.jU().zp.tw});u=null !== (t=q.gd.aa?q.gd.g6():q.KS) && void 0 !== t?t:0;return {href:q.X && q.X.oi?q.X.oi.DL("events").href:"",Zf:null !== (v=null === (w=q.X) || void 0 === w?void 0:w.Fa.Zf) && void 0 !== v?v:"VOD",na:q.na.toString(),P:q.P,position:Math.floor(u),Mx:this.sa.IH.da(n.pa),am:q.vy?q.vy.da(n.pa):-1,MO:null === (y=q.Fg.value) || void 0 === y?void 0:y.trackId,np:null === (x=q.uc.value) || void 0 === x?void 0:x.trackId,vO:null === (z=q.Mb.value) || void 0 === z?void 0:z.trackId,wM:void 0,Vv:this.eoa(q),trackId:void 0 !== q.Qj?q.Qj.toString():"",sessionId:this.jU().sessionId || this.Ea.id,appId:this.jU().appId || this.Ea.id,$l:A,pN:this.profile};};c.prototype.load=function(q){return new l().decode(q);};c.prototype.ioa=function(q){return q.map(function(u){return {Vb:u.downloadableId,duration:u.duration};});};c.prototype.eoa=function(q){return (q=q.Xk)?(q=q.cLb(),{total:q.total,lI:q.totalContentTime,YC:q.totalAdDuration,ZC:q.totalOtherDuration,xO:q.totalCombinedDuration,mI:q.totalLiveEdgeDuration,nI:q.totalStartSlateDuration,audio:this.ioa(q.audio),video:this.ioa(q.video),text:this.ioa(q.timedtext)}):{total:0,lI:0,YC:0,xO:0,ZC:0,mI:0,nI:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.ag)),r.__param(1,(0,d.l)(h.Yb)),r.__param(2,(0,d.l)(m.Lc)),r.__param(3,(0,d.l)(a.lJ))],p);b.CKa=p;},18477:function(r,b,a){var l,f,k,d;function c(g,n){this.S8a=n;this.log=g.$a("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.DKa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(85001);a=a(96687);c.prototype.Pj=function(g){var n;n=this;this.S8a().then(function(h){g.addEventListener(k.ga.EG,function(m){var p;if(void 0 !== m.lN){p=g.ek(m.lN);h.LX(p);m.oG || new Promise(function(q){var u;if(g.Ai.value)q();else {u=function(t){t.newValue && (q(),g.Ai.removeListener(u));};g.Ai.addListener(u);}}).then(function(){return h.Pj(g,n.ycb(g),function(q){return g.fF(q);});});}});g.addEventListener(k.ga.Nt,function(){h.Pj(g.ba,n.ycb(g),function(m){return g.fF(m);});});g.background.value || g.addEventListener(k.ga.cV,function(m){var p;m=g.ek(m.P);if(m.Cf){p=g.ek(m.Cf.xd);n.log.trace("Auxiliary viewable segment (viewableId: " + m.P + "). Starting playdata monitor for parent viewable " + p.P);m=p;}h.Dxa(m);});g.addEventListener(k.ga.mg,function(){h.fdb();});g.addEventListener(k.ga.Zfb,function(){h.xbb(g.ba).catch(function(m){(m=m.hN) && g.fF(m);});});g.Mb.addListener(function(){g.bb.rla?n.log.trace("stickiness is disabled for timedtext"):h.K$(g.ba);});g.uc.addListener(function(){g.bb.rla?n.log.trace("stickiness is disabled for audio"):h.K$(g.ba).catch(function(m){(m=m.hN) && g.fF(m);});});});};c.prototype.ycb=function(g){return g.state.value == k.Wb.ce;};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(a.jQ))],d);b.DKa=d;},91859:function(r,b,a){var k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,F,G){this.config=x;this.yc=A;this.uw=B;this.Pt=C;this.w9=D;this.qh=F;this.vG=Promise.resolve();this.closed=!1;this.log=z.$a("PlaydataServices");this.cH=[];this.active=new Set();this.b1b=new l(x,G);}function l(x,z){this.config=x;this.sa=z;}function f(x,z,A,B,C,D){this.log=x;this.yc=z;this.Sg=A;this.Pt=B;this.uw=C;this.zXb=D;this.aZa=this.Qd=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.FKa=b.knb=void 0;r=a(5163);k=a(22674);d=a(5021);g=a(87386);n=a(53085);h=a(32979);m=a(62278);p=a(95398);q=a(36129);u=a(23048);t=a(10469);w=a(45266);v=a(30869);a=a(79274);f.prototype.EM=function(x,z){var B;function A(){var C;C=B.Pt.create(B.Sg);B.uw.$ya(C).catch(function(D){var F;F=B.aZa?g.fj.Ffa:g.fj.Ak;B.aZa=!0;B.log.write(F,"Unable to save playdata changes to IDB",D);});}B=this;this.log.trace("Adding initial playdata",z);this.uw.ftb(z).then(function(){B.log.trace("Scheduling monitor",{interval:x});B.Jr=B.yc.CH(x,A);}).catch(function(C){B.log.error("Unable to add playdata",{error:C,playdata:new u.r0().encode(z)});B.Jr=B.yc.CH(x,A);});};f.prototype.stop=function(x){var z,A;z=this;if(this.Qd)return Promise.resolve();this.Jr && this.Jr.cancel();A=this.Pt.create(this.Sg);return this.uw.$ya(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(x){if(z.Sg.background.value)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.zXb.zbb(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (z.log.trace("Removing playdata from the persisted store",A),z.uw.fab(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.P);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};f.prototype.cancel=function(){this.Qd=!0;this.Jr && this.Jr.cancel();this.uw.$ya(this.Pt.create(this.Sg));};Xa.Object.defineProperties(l.prototype,{$wb:{configurable:!0,enumerable:!0,get:function(){var x;x=this.sa.fe;return !this.vG || 0 <= x.qa(this.vG).Jk(this.config.o4a)?(this.vG=x,!0):!1;}}});b.knb=l;c.prototype.Cb=function(){var x;x=this;this.MB || (this.log.trace("Starting playdata services"),this.MB=this.uw.XZb().then(function(){!1;return x;}).catch(function(z){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return x;}));return this.MB;};c.prototype.close=function(){this.closed=!0;this.cH.forEach(function(x){x.EM.cancel();});};c.prototype.send=function(x){var z;if(this.closed)return Promise.resolve();z=this.config;return z.$G && z.Gwa?this.c2b(x):Promise.resolve();};c.prototype.Pj=function(x,z,A){var B;B=this;this.closed || (this.Dxa(x),this.Iwa(x).catch(function(C){B.log.error("Start command failed",{playdata:C.dH,error:C.mT});}),z && this.Axa(this.gKb(x),x,A));};c.prototype.LX=function(x){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.Pt.create(x);this.active.delete(A.na);x=la((0,w.sC)(function(C){return C.key === A.na;},this.cH));B=x.next().value;this.cH=x.next().value;return Promise.all(B.map(function(C){C.stopped=!0;return C.EM.stop(z.config.Gwa);})).then(function(){});};c.prototype.Dxa=function(x){var z,A;x.ke("pdb");if(this.config.$ta.R3a()){z=this.Pt.create(x);A=z.na;this.cH.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.cH.push({key:A,EM:this.GKb(x,z),ow:!1,stopped:!1}));}};c.prototype.c2b=function(x){var z,A,B,C;z=this;A=this.uw.dH.filter(function(D){return !z.active.has(D.na);});B=void 0;C=void 0;x && Infinity === x?B=A:(A=la((0,w.sC)(function(D){return D.P === x;},A)),B=A.next().value,C=A.next().value);C && 0 < C.length && this.yc.nk(this.config.wbb,function(){z.ybb(C).catch(function(){});});return B && 0 !== B.length?this.ybb(B):Promise.resolve();};c.prototype.ybb=function(x){var A;function z(B){return A.w9.zbb(B).then(function(){return A.e0b(B);});}A=this;return x.reduce(function(B,C){return B.then(function(){return z(C);});},Promise.resolve());};c.prototype.e0b=function(x){var z;z=this;return this.uw.fab(x).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.GKb=function(x,z){x=new f(this.log,this.yc,x,this.Pt,this.uw,this.w9);x.EM(this.config.$ta,z);return x;};c.prototype.Iwa=function(x){var z,A;z=this;A=this.Pt.create(x);return this.w9.Iwa(x,A).then(function(){!1;z.O5a(x);}).catch(function(B){z.O5a(x);throw {dH:A,mT:B};});};c.prototype.O5a=function(x){this.cH.filter(function(z){return z.key === x.na.toString();}).forEach(function(z){z.ow=!0;});};c.prototype.xbb=function(x){return this.b1b.$wb?this.rX(t.nea.UU,x,q.V.lda):Promise.resolve();};c.prototype.K$=function(x){return this.rX(t.nea.splice,x,q.V.QMa);};c.prototype.rX=function(x,z,A){var C;function B(D){var F;F=C.cH.filter(function(G){return G.key === D.na.toString();});return 0 === F.length?!0:F.reduce(function(G,E){return G || E.stopped || !E.ow;},!1);}C=this;return B(z)?this.vG:this.vG=this.vG.catch(function(){return Promise.resolve();}).then(function(){var D;if(B(z))return Promise.resolve();!1;D=C.Pt.create(z);return C.w9.rX(x,z,D);}).then(function(D){!1;return D;}).catch(function(D){var F;C.log.error("Failed to send event",{eventKey:x,xid:z.na,error:D});D.yj?F=C.qh(A,D):D.Ry === q.d0.Afa && (F=C.qh(A,D));throw {mT:D,hN:F};});};c.prototype.Axa=function(x,z,A){var B;B=this;!1;this.Tja();this.tqa=this.yc.nk(x,function(){B.Tja();B.rX(t.nea.UU,z,q.V.lda).then(function(){B.Axa(x,z,A);}).catch(function(C){var D;D=C.mT;(C=C.hN) && A(C);D.Ry !== q.d0.Afa && B.Axa(x,z,A);});});};c.prototype.fdb=function(){this.Tja();};c.prototype.Tja=function(){this.tqa && (this.tqa.cancel(),this.tqa=void 0);};c.prototype.gKb=function(x){return x.bb.$oa?(0,d.Ob)(x.bb.$oa):this.config.n4a;};y=c;y=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(p.sLa)),r.__param(1,(0,k.l)(g.ab)),r.__param(2,(0,k.l)(n.Th)),r.__param(3,(0,k.l)(m.dKa)),r.__param(4,(0,k.l)(h.qea)),r.__param(5,(0,k.l)(t.jKa)),r.__param(6,(0,k.l)(a.kQ)),r.__param(7,(0,k.l)(v.ag))],y);b.FKa=y;},78339:function(r,b,a){var k,d,g,n;function c(){}function l(h){this.dXb=h;}function f(h){this.fXb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.HKa=b.AKa=b.yKa=void 0;r=a(5163);k=a(22674);d=a(36258);g=a(31149);n=a(36129);f.prototype.validate=function(h){h.map(this.fXb.validate);};a=f;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.IKa))],a);b.yKa=a;l.prototype.validate=function(h){this.dXb.validate(h.data);};a=l;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.zKa))],a);b.AKa=a;c.prototype.validate=function(h){var m;h.na && "string" === typeof h.na?h.href && "string" === typeof h.href?h.pN && "string" === typeof h.pN || (m="ProfileId value is corrupted."):m="Href value is corrupted.":m="Xid value is corrupted.";if(m)throw new g.Mc(n.V.Uz,n.S.Pz,void 0,void 0,void 0,m,void 0,h.na);};d=c;d=r.__decorate([(0,k.U)()],d);b.HKa=d;},77334:function(r,b,a){var l,f,k,d,g,n;function c(h,m){h=f.Pe.call(this,h,"PlaydataConfigImpl") || this;h.config=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.rLa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(5021);a=a(34231);fa(c,f.Pe);Xa.Object.defineProperties(c.prototype,{$G:{configurable:!0,enumerable:!0,get:function(){return this.config.dy?"unsentplaydatatest":"unsentplaydata";}},Gwa:{configurable:!0,enumerable:!0,get:function(){return !0;}},wbb:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(1E4);}},$ta:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(4E3);}},n4a:{configurable:!0,enumerable:!0,get:function(){return (0,g.t8)(1);}},o4a:{configurable:!0,enumerable:!0,get:function(){return (0,g.sh)(30);}}});n=c;r.__decorate([d.config(d.string,"playdataPersistKey")],n.prototype,"$G",null);r.__decorate([d.config(d.ed,"sendPersistedPlaydata")],n.prototype,"Gwa",null);r.__decorate([d.config(d.ik,"playdataSendDelayMilliseconds")],n.prototype,"wbb",null);r.__decorate([d.config(d.ik,"playdataPersistIntervalMilliseconds")],n.prototype,"$ta",null);r.__decorate([d.config(d.ik,"heartbeatCooldown")],n.prototype,"n4a",null);r.__decorate([d.config(d.ik,"keepAliveWindow")],n.prototype,"o4a",null);n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.sl)),r.__param(1,(0,l.l)(a.vn))],n);b.rLa=n;},58343:function(r,b,a){var l,f;function c(k,d){var g;g=this;this.Lh=k;this.Cg=d;this.addEventListener=function(n,h,m){return g.Cg.addListener(n,g.aXa(n,h),m);};this.removeEventListener=function(n,h){return g.Cg.removeListener(n,g.aXa(n,h));};this.getReady=function(){return g.Cg.Ev();};this.getXid=function(){return g.yb().qt();};this.getMovieId=function(){return g.yb().G0a();};this.getPlaygraphId=function(){return g.Cg.fLb();};this.getElement=function(){return g.Cg.Sm();};this.isPlaying=function(){return g.yb().UB();};this.isPaused=function(){return g.yb().Ct();};this.isMuted=function(){return g.yb().aqa();};this.isReady=function(){return g.yb().Ev();};this.isBackground=function(){return g.yb().s3a();};this.setBackground=function(n){return g.yb().Owa(n);};this.startInactivityMonitor=function(){return g.yb().eO();};this.setTransitionTime=function(n){return g.yb().fxa(n);};this.getDiagnostics=function(){return g.yb().O_a();};this.getTextTrackList=function(n){return g.yb().Doa(n);};this.getMaxRecommendedTextIndex=function(n){return g.yb().Una(n);};this.getTextTrack=function(){return g.yb().Coa();};this.setTextTrack=function(n){return g.yb().bxa(n);};this.getVolume=function(){return g.yb().D1a();};this.isEnded=function(){return g.yb().Vpa();};this.getBusy=function(){return g.yb().mh();};this.getError=function(){return g.yb().getError();};this.getCurrentTime=function(){return g.yb().yL();};this.getAdManager=function(){return g.yb().Wn();};this.getLivePlaybackManager=function(){var n;n=g.yb().Ml();(0,f.oa)(n,"Unexpected call to getLivePlaybackManager()");if(n.aa && !n.F3b())return {seekToLiveEdge:function(){return n.D$();},isAtLiveEdge:function(){return n.SB();},getLiveEventState:function(){return n.AB();},isLiveEventEnded:function(){return n.b7();}};};this.getBufferedTime=function(){return g.yb().u_a();};this.getSegmentTime=function(){return g.yb().B5();};this.getDuration=function(){return g.yb().xna();};this.getVideoSize=function(){return g.yb().B1a();};this.getAudioTrackList=function(){return g.yb().l_a();};this.getMaxRecommendedAudioIndex=function(){return g.yb().A0a();};this.getAudioTrack=function(){return g.yb().k_a();};this.getTimedTextTrackList=function(n){return g.yb().Doa(n);};this.getMaxRecommendedTimedTextIndex=function(n){return g.yb().Una(n);};this.getTimedTextTrack=function(){return g.yb().Coa();};this.getAdditionalLogInfo=function(){return g.yb().i_a();};this.getTrickPlayFrame=function(n){return g.yb().y1a(n);};this.getSessionSummary=function(){return g.yb().soa();};this.getTimedTextSettings=function(){return g.yb().gU();};this.setMuted=function(n){return g.yb().Zbb(n);};this.setVolume=function(n){return g.yb().lcb(n);};this.getPlaybackRate=function(){return g.yb().GL();};this.setPlaybackRate=function(n){return g.yb().Q$(n);};this.setAudioTrack=function(n){return g.yb().Jbb(n);};this.setTimedTextTrack=function(n){return g.yb().bxa(n);};this.setTimedTextSettings=function(n){return g.yb().YN(n);};this.prepare=function(){return g.yb().gH();};this.load=function(){return g.yb().load();};this.close=function(n){return g.XSa(g.Cg.close(),n);};this.play=function(){return g.yb().play();};this.pause=function(){return g.yb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(n,h){return g.XSa(g.yb().bL(n),h);};this.induceError=function(n){return g.yb().N2a(n);};this.loadCustomTimedTextTrack=function(n,h,m,p){return g.yb().d5a(n,h,m,p);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return g.yb().C5();};this.generateScreenshots=function(n){return g.yb().b_a(n);};this.getCurrentSegmentId=function(){return g.Cg.J_a();};this.getPlaygraphMap=function(){return g.Cg.YF();};this.updatePlaygraphMap=function(n){return g.Cg.ku(n);};this.gma=new Map();this.log=(0,l.Ri)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.d1=void 0;l=a(31276);a(24550);f=a(45146);c.prototype.yb=function(){return this.Cg.yb();};c.prototype.aXa=function(k,d){var g;this.gma.has(k) || this.gma.set(k,new Map());g=this.gma.get(k);g.has(d) || g.set(d,this.GCb(k,d));return g.get(d);};c.prototype.GCb=function(k,d){var g;g=this;return function(n){return d(Object.assign({},n,{type:k,target:g}));};};c.prototype.XSa=function(k,d){return d?k.then(d,d):k;};b.d1=c;},64059:function(r,b,a){var l;function c(f,k,d){var g;g=l.d1.call(this,f,k) || this;g.seek=function(n){return g.yb().seek(n);};g.addEpisode=function(n){return g.Jqa.Qsb(n);};g.playNextEpisode=function(n){n=void 0 === n?{}:n;return g.Jqa.AXb(n);};g.watchCredits=function(n){return g.Jqa.y9b(n);};g.playSegment=function(n){return g.yb().h9a(n);};g.queueSegment=function(n){return g.yb().o$a(n);};g.updateNextSegmentWeights=function(n,h){return g.yb().dj(n,h);};g.setNextSegment=function(n){for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}h=h.map(function(p){return {I:p.segmentId,IM:p.nextSegmentId};});g.Cg.Oj.apply(g.Cg,ca(h));};g.clearNextSegment=function(n){for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}return g.Cg.ayb.apply(g.Cg,ca(h));};g.goToNextSegment=function(n,h){return g.Cg.Loa(n,h);};g.getPlaying=function(){return g.isPlaying();};g.getPaused=function(){return g.isPaused();};g.getMuted=function(){return g.isMuted();};g.getEnded=function(){return g.isEnded();};g.getTimedTextVisibility=function(){return g.isTimedTextVisible();};g.isTimedTextVisible=function(){return !!g.yb().gU().visibility;};g.setTimedTextVisibility=function(n){return g.setTimedTextVisible(n);};g.setTimedTextSize=function(n){return g.yb().YN({size:n});};g.setTimedTextBounds=function(n){return g.yb().YN({bounds:n});};g.setTimedTextMargins=function(n){return g.yb().YN({margins:n});};g.setTimedTextVisible=function(n){return g.yb().YN({visibility:n});};g.getCongestionInfo=function(n){n && n({success:!1,name:null,isCongested:null});};g.Jqa=d(f,k,g.log);return g;}b.gZ=void 0;l=a(58343);fa(c,l.d1);b.gZ=c;},59219:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x;function c(z){var A,B;A=this;this.u9=new x.Fea();this.createPlaygraphPlayer=function(C,D,F){var G;C=t.Jea.encode(C);G=d.Ba.get(w.YI);F=F?G.create(F):void 0;G=d.Ba.get(p.Lea).create(C);return G.GBb(C.xe,A.u9.yra(A.sTa(D,G.yna())),F);};this.closeAllPlayers=function(C){C=void 0 === C?function(){}:C;(0,k.Aea)(C);};this.init=function(C){A.MA.fV(function(D){D.ia?A.f2b().then(function(){(0,l.WKa)();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}).then(function(){Object.assign(A,c.gK);C(Object.assign({success:!0},c.gK));}):C({success:!1,error:(0,d.wLa)(D.errorCode || n.V.cda,D)});});};this.applyConfig=function(C){A.qfb(C);(0,f.lka)(C);};this.prepare=function(C,D){var F;C=A.G9a.tDb(C) || [];F=new Set();C=C.filter(function(G){var E;E=F.has(G.P);F.add(G.P);return !E;});if(f.config.Er && A.bd)try{A.bd.gH(C,D);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(C){ob._cad_global.playerPredictionModel?(C=A.G9a.vDb(C)) && ob._cad_global.playerPredictionModel.update(C):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){(0,d.zL)().RX().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){(0,d.zL)().SX().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){(0,d.zL)().PX().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){(0,d.zL)().vaa().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return f.config.jFb;};this.qfb(z);d.Ba.get(y.zAa);this.G9a=d.Ba.get(g.YKa);this.MA=d.Ba.get(u.Oh);B=d.Ba.get(v.TKa).apply();(0,f.HVa)([z],B);this.bd=d.Ba.get(q.YD);(0,d.zL)().SX();}Object.defineProperty(b,"__esModule",{value:!0});b.ZD=void 0;l=a(86258);f=a(29204);k=a(13044);d=a(31276);g=a(68976);n=a(36129);h=a(83767);m=a(96687);p=a(58252);q=a(66476);u=a(11479);t=a(50954);w=a(17398);v=a(52033);y=a(13847);x=a(81889);c.prototype.sTa=function(z,A){var B,C,D,F;z=void 0 === z?{}:z;F=null !== (C=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== C?C:A.ta;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},z),{endPts:null !== (D=A.va) && void 0 !== D?D:void 0,isPlaygraph:!0});};c.prototype.qfb=function(z){d.Ba.get(h.HP).eTb(z);};c.prototype.f2b=function(){d.Ba.get(m.jQ)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.ZD=c;c.gK={};},17925:function(r,b,a){var l,f,k,d,g,n;function c(h){var m;m=k.ZD.call(this,h) || this;m.createPlayer=function(p,q){var u,t,w;q=void 0 === q?{}:q;q="number" === typeof q?{Qj:q}:q;u=l.Ba.get(f.jJ);t=l.Ba.get(g.YI).create(q.manifest);w=l.Ba.get(d.Nea);p=u.DBb(p);u=l.Ba.get(n.Lea).create(p);p=u.yna();w=w.vWa(u);w.addEpisode({movieId:p.J,playbackParams:m.sTa(q,p),manifest:t});return w;};return m;}Object.defineProperty(b,"__esModule",{value:!0});b.ZOa=void 0;l=a(31276);f=a(75864);k=a(59219);d=a(32050);g=a(17398);n=a(58252);fa(c,k.ZD);b.ZOa=c;},41325:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(17925);c=a(29204);l=a(13044);b=a(87386);f=a(31276);k=a(45118);d=a(36410);g=a(45146);n=a(32687);ob.netflix=ob.netflix || ({});(0,g.oa)(!ob.netflix.player);ob.netflix.player={VideoSession:r.ZOa,diag:{togglePanel:function(h,m){var p;p=[];if(!c.config || c.config.SW){switch(h){case "info":p=l.An.map(function(q){return q.s9;});break;case "streams":p=l.An.map(function(q){return q.v9;});break;case "log":p=[];}p.forEach(function(q){(0,n.Wc)(m)?m?q.show():q.Cv():q.toggle();});}},addLogMessageSink:function(h){f.Ba.get(k.ll).addListener({hjc:function(){},fTb:function(m){h({data:m.data});}});}},log:(0,f.Ri)("Ext"),LogLevel:b.fj,addLogSink:function(h,m){f.Ba.get(d.XI).Z9(h,m);},getVersion:function(){return "6.0043.278.911";},getMostRecentPlaybackDiagnosticGroups:function(){var h;return null === (h=l.aA.Y6a) || void 0 === h?void 0:h.yXa.RT();}};},61524:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(1481);l=a(59219);f=a(33096);k=a(29204);r=a(36129);d=a(31276);g=a(45146);n=a(3887);h=a(32687);m=a(45118);p=a(31850);a=a(11479);d.Ba.get(a.Oh).register(r.V.gGa,function(q){var u,t;u=(0,d.Ri)("NccpApi");t=(0,n.eTa)(["info","warn","trace","error"]);l.ZD.gK.nccp={getEsn:function(){return c.Mk.ck;},getPreferredLanguages:function(){return k.config.zp.yua;},setPreferredLanguages:function(w){(0,g.oa)((0,h.isArray)(w) && (0,h.fM)(w[0]));k.config.zp.yua=w;},queueLogblob:function(w,v,y){var x;if(w && v)if((v=v.toLowerCase(),t[v])){x=d.Ba.get(m.ll);w=d.Ba.get(p.Rw).Xs(w,v,y);x.xc(w);}else u.warn("Invalid severity",{severity:v});},flushLogblobs:function(){d.Ba.get(m.ll).flush(!0);}};q(f.bg);});},42433:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(59219);l=a(1481);f=a(33096);k=a(52569);r=a(36129);d=a(31276);g=a(62082);n=a(45146);h=a(32687);m=a(22365);b=a(11479);p=a(24066);q=a(71501);u=a(97996);t=a(22816);d.Ba.get(b.Oh).register(r.V.hGa,function(w){var B;function v(){return l.Mk.ck;}function y(C){var D;D=d.Ba.get(q.lJ);d.Ba.get(u.bQ)().then(function(F){var G,E;G=F.KV.getStateForMdx(D);E=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,n.oa)(E),F=["1",(0,d.Ex)(JSON.stringify(F.toJSON())),(0,d.Ex)(JSON.stringify(G.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:F,encrypt:function(I,M){I=(0,h.rg)(I)?(0,d.JO)(I):I;E.encrypt(I,{result:function(L){L=(0,d.Ex)(L);M({success:!0,mslEncryptionEnvelopeBase64:L});},timeout:function(){M({success:!1});},error:function(L){(0,n.oa)(!1,"Encrypt error: " + L);M({success:!1});}});},decrypt:function(I,M){I=(0,d.Iq)(I);E.decrypt(I,{result:function(L){M({success:!0,text:(0,d.zY)(L)});},timeout:function(){M({success:!1});},error:function(L){(0,n.oa)(!1,"Decrypt error: " + L);M({success:!1});}});},hmac:function(I,M){I=(0,h.rg)(I)?(0,d.JO)(I):I;E.sign(I,{result:function(L){M({success:!0,hmacBase64:(0,d.Ex)(L)});},timeout:function(){M({success:!1});},error:function(L){(0,n.oa)(!1,"Hmac error: " + L);M({success:!1});}});}}})):((0,n.oa)(!1,"Must login first"),C({success:!1}));});}function x(C,D){var F;F=(0,d.Iq)(C);C=F.subarray(32,48);F=F.subarray(0,32);if(16 != C.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,k.UG)(m.xp.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,k.UG)(m.xp.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(C,D){function F(G){G=new g.pP((0,d.Iq)(G));G.cz();return {iv:G.u$a(),xFb:G.u$a()};}return {encrypt:function(G,E){var I;G=(0,h.rg)(G)?(0,d.JO)(G):G;I=m.Zz.getRandomValues(new Uint8Array(16));(0,k.UG)(m.xp.encrypt({name:"AES-CBC",iv:I},C,G)).then(function(M){var L,K;M=new Uint8Array(M);L=[];K=new g.pP(L);K.mba(2);K.Jgb(I);K.Jgb(M);M=(0,d.Ex)(L);E({success:!0,encryptedDataAsn1Base64:M});},function(M){(0,n.oa)(!1,"Encrypt error: " + M);E({success:!1});});},decrypt:function(G,E){var I;I=F(G);G=I.iv;I=I.xFb;(0,k.UG)(m.xp.decrypt({name:"AES-CBC",iv:G},C,I)).then(function(M){M=new Uint8Array(M);E({success:!0,text:(0,d.zY)(M)});},function(M){(0,n.oa)(!1,"Decrypt error: " + M);E({success:!1});});},hmac:function(G,E){G=(0,h.rg)(G)?(0,d.JO)(G):G;(0,k.UG)(m.xp.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(I){I=new Uint8Array(I);E({success:!0,hmacBase64:(0,d.Ex)(I)});},function(I){(0,n.oa)(!1,"Hmac error: " + I);E({success:!1});});}};}function A(){return (0,p.Yja)();}B=d.Ba.get(t.nD);if(B.x3a || B.yy)c.ZD.gK.mdx={getEsn:v,createCryptoContext:y,createCryptoContextFromSharedSecret:x,getServerEpoch:A};w(f.bg);});},13777:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});r=a(11479);b=a(36129);c=a(87386);l=a(91581);f=a(15348);k=a(33096);d=a(29204);g=a(31276);n=a(13044);h=a(59219);m=a(62898);p=a(66476);q=a(45118);g.Ba.get(r.Oh).register(b.V.iGa,function(u){var v,y,x,z;function t(A,B){return void 0 === A || void 0 === B?Promise.reject("Invalid email and/or password"):g.Ba.get(m.$Ja).yf(this.log,{},{email:A,password:B}).then(function(){});}function w(A){var B;B=g.Ba.get(p.YD);return B.hZa.fetch(A,B);}if(d.config.jGb){v=g.Ba.get(f.rea);y=g.Ba.get(l.zn);x=g.Ba.get(c.ab).$a("Test");z=g.Ba.get(q.ll);h.ZD.gK.test={setPboRequestsListener:function(A){return v.P2b(A);},playbacks:n.An,getPlayback:function(A){return n.An.find(function(B){return B.na === A;});},playgraphManager:{isNextSegmentReady:function(A){var B,C;return void 0 !== (null === (C=null === (B=n.An.find(function(D){return D.na === A;})) || void 0 === B?void 0:B.cb) || void 0 === C?void 0:{aja:0});},isNextSegmentBuffering:function(A,B){var C,D;return null === (D=null === (C=n.An.find(function(F){return F.na === A;})) || void 0 === C?void 0:C.cb) || void 0 === D?void 0:D.WT(B).pS;}},device:{esn:ob._cad_global.device.ck,esnPrefix:y.Sn,errorPrefix:y.Rq},log:{info:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.info(A,C);},error:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.error(A,C);},warn:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.warn(A,C);},trace:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.trace(A,C);},log:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.log(A,C);},debug:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.debug(A,C);},flush:function(){return z.flush();}},login:t,getManifest:w};}u(k.bg);});},66093:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.kv=void 0;c=a(33096);l=a(29204);r=a(36129);f=a(31276);k=a(22365);d=a(11479);g=a(32687);n=a(59818);h=a(5021);a=f.Ba.get(d.Oh);m=f.Ba.get(n.bA);a.register(r.V.YFa,function(p){var w,v;function q(){p(c.bg);q=c.Xw;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,g.Lp)(y[x]))throw x + " is not a function";});}function t(){return Promise.resolve().then(function(){var y;y=k.Ae.getBattery();if(!(0,g.Lp)(y.then))throw "getBattery did not return a promise";return y;});}w=(0,f.Ri)("BatteryManager");b.kv={pib:"chargingchange",q0a:function(){return v?v.level:null;},una:function(){return v?v.charging:null;},addEventListener:function(y,x){v && v.addEventListener(y,x);},removeEventListener:function(y,x){v && v.removeEventListener(y,x);}};l.config.wS && (0,g.Lp)(k.Ae.getBattery)?m.cq((0,h.Ob)(l.config.QIb),t()).then(function(y){u(y);v=y;}).catch(function(y){w.error("getBattery failed",y);}).then(q):q();});},94886:function(r,b,a){var l,f;function c(){var k,d;k=this;this.Bs={};this.on=function(g,n,h){k.addListener(g,n,h);};this.addListener=function(g,n,h){k.Bs && (k.Bs[g]=k.Bs[g] || new f.Pea(!0)).add(n,h);};this.removeListener=function(g,n){k.Bs && k.Bs[g] && k.Bs[g].removeAll(n);};this.Fna=function(g){return k.Bs && k.Bs[g]?k.Bs[g].flatten():[];};d=this;this.Ec=function(g,n,h){var m;if(d.Bs){m=d.Fna(g);for(g={BI:0};g.BI < m.length;(g={BI:g.BI},g.BI++)){h?(function(p){return function(){var q;q=m[p.BI];(0,l.Ef)(function(){q(n);});};})(g)():m[g.BI].call(this,n);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Uj=void 0;l=a(32219);f=a(20483);c.prototype.zg=function(){this.Bs=void 0;};b.Uj=c;},31298:function(r,b,a){var l,f,k;function c(d,g,n,h,m,p,q){this.debug=d;this.config=g;this.platform=n;this.a8=h;this.debug.assert(m && m != f.V.Ro,"There should always be a specific error code");this.errorCode=m || f.V.Ro;p && "object" === typeof p?(this.Aa=p.Aa || p.ec,this.Ee=p.Ee || p.Vc,this.Yla=p.Yla || p.Nm,this.Nb=p.Nb || p.details,this.WS=p.yj,this.M4=p.M4 || p.$hc || p.Ry,this.sB=p.sB || p.data,p.CV && (this.CV=p.CV),this.Hl=p.Hl,this.method=p.method,this.z8=p.z8,this.alert=p.alert,this.eia=p.eia,this.fG=p.fG,!this.Nb && this.fG && (this.Nb=JSON.stringify(this.fG)),this.Ed=p.Ed,this.debug.assert(!this.Hl || this.Hl == this.Ee)):(this.Aa=p,this.Ee=q);this.stack=[this.errorCode];this.Aa?this.stack.push(this.Aa):this.Ee && this.stack.push(f.S.Ro);this.Ee && this.stack.push(this.Ee);this.u4=this.platform.Rq + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.xLa=void 0;l=a(33096);f=a(36129);k=a(32687);a(3887);c.prototype.acb=function(d){this.LXb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.u4 + "]";this.Nb && (d+=" " + this.Nb);this.WS && (d+=" (CustomMessage: " + this.WS + ")");return d;};c.prototype.kY=function(){var d,g,n,h;this.WS && (n=["streaming_error"]);n || this.a8.nt() !== l.QZ || ("80080017" == this.Ee && (n=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ee && (n=["pause_timeout"]));n || this.a8.nt() !== l.Bca || this.errorCode !== f.V.PDa && this.errorCode !== f.V.sP || (n=["no_cdm","platform_error","plugin_error"]);n || this.errorCode !== f.V.Eca || this.Aa !== f.S.Cca || (n=["pause_timeout"]);this.M4 === f.d0.Afa && (this.Gja("2018") || this.Gja("2020")?n=["received_soad"]:this.Gja("5000") && (n=["should_reset_device"]));h=this.YIb();h && (n=[h],this.WS=void 0);if(!n)switch(this.errorCode){case f.V.o0:case f.V.T_:case f.V.mhb:case f.V.gea:this.LXb && (n=["pause_timeout"]);break;case f.V.lGa:case f.V.mGa:n=this.Aa?["platform_error"]:["multiple_tabs"];break;case f.V.dda:case f.V.OJa:case f.V.iea:case f.V.IJa:n=["platform_error","plugin_error"];break;case f.V.gQ:n=["no_cdm","platform_error","plugin_error"];break;case f.V.WDa:case f.V.tq:case f.V.p0:switch(this.Ee){case "FFFFD000":n=["device_needs_service","platform_error"];break;case "48444350":n=["unsupported_output","platform_error"];break;case "00000024":n=["private_mode"];}break;case f.V.KJa:case f.V.hea:n=["unsupported_output"];}!n && (0,f.qEa)(this.Aa) && (n=this.Aa == f.S.DP?["geo"]:["internet_connection_problem"]);n || this.errorCode !== f.V.sP || this.Aa !== f.S.kl || "S" !== this.platform.Rq || (n=["private_mode"]);if(!n)switch(this.zdb(this.Aa)){case f.S.Gfa:n=["should_upgrade"];break;case f.S.DJa:n=["should_reset_device"];break;case f.S.CJa:n=["should_reload_device"];break;case f.S.BJa:n=["should_exit_device"];break;case f.S.Slb:case f.S.QHa:n=["should_signout_and_signin"];break;case f.S.Tlb:n=["internet_connection_problem"];break;case f.S.TCa:n=["platform_error","plugin_error"];break;case f.S.Tib:case f.S.VFa:case f.S.WFa:n=["private_mode"];break;case f.S.Dda:n=["should_reload_with_preferred_locales"];}n=n || [];n.push(this.platform.Rq + this.errorCode);if(this.Aa)switch(this.zdb(this.Aa)){case f.S.EJa:n.push("incorrect_pin");break;default:n.push("" + this.Aa);}n={display:{code:this.u4,text:this.WS},messageIdList:n,alert:this.alert,alertTag:this.eia,preferredAudioLocale:null === (d=this.fG) || void 0 === d?void 0:d.t2a,preferredTextLocale:null === (g=this.fG) || void 0 === g?void 0:g.u2a};this.config().iGb && (n.debugData=this.sB);return n;};c.prototype.zdb=function(d){var g;g=parseInt(d,10);return isNaN(g)?d:g;};c.prototype.Gja=function(d){return ((0,k.Rb)(this.Ee)?this.Ee.toString():(0,k.rg)(this.Ee)?this.Ee:"").endsWith(d);};c.prototype.YIb=function(){if(this.errorCode === f.V.UI && (this.Aa === f.S.dea || this.Aa === f.S.AJa))return this.ZIb(this.Aa === f.S.dea);};c.prototype.ZIb=function(d){var g,n,h,m;h=this.config().browserInfo || ({});m=null === (g=h.os) || void 0 === g?void 0:g.name;g=((null === (n=h.os) || void 0 === n?void 0:n.version) || "").split(".");n=parseInt(g && g[0]);g=parseInt(g && g[1]);switch(m){case "windows":return 6 > n || 6 === n && 1 > g?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > n || 10 === n && 10 > g?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.xLa=c;},981:function(r,b){function a(c,l){this.pya=c;this.Bv=l;}Object.defineProperty(b,"__esModule",{value:!0});b.vMa=void 0;a.prototype.i3b=function(){this.d2 || (this.d2=setInterval(this.Bv,this.pya));};a.prototype.dVa=function(){this.d2 && (clearInterval(this.d2),this.d2=void 0);};b.vMa=a;},35128:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.X0=void 0;b.Po={gJ:"PRIMARY",uba:"ASSISTIVE",YBa:"COMMENTARY",NONE:"NONE"};b.X0={assistive:b.Po.uba,closedcaptions:b.Po.uba,directorscommentary:b.Po.YBa,commentary:b.Po.YBa,subtitles:b.Po.gJ,primary:b.Po.gJ,none:b.Po.NONE};},24066:function(r,b,a){var l,f,k,d,g;function c(){return l.ac.get(k.Lc).Dy.da(g.pa);}Object.defineProperty(b,"__esModule",{value:!0});b.lyb=b.Yja=b.hVa=b.jyb=b.kyb=b.Xja=b.Nn=void 0;l=a(83989);f=a(30869);k=a(81918);d=a(62665);g=a(5021);b.Nn=function(){return l.ac.get(k.Lc).Jb().da(g.pa);};b.Xja=function(){return l.ac.get(f.ag).fe.da(g.pm);};b.kyb=function(){return l.ac.get(k.Lc).Dy.da(g.pm);};b.jyb=function(){return l.ac.get(d.Qw).$A();};b.hVa=c;b.Yja=function(){return l.ac.get(f.ag).fe.da(g.pa);};b.lyb=function(){return c();};},33096:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TP=b.$_=b.eib=b.$hb=b.bib=b.cib=b.yBa=b.Zhb=b.aib=b.xBa=b.dib=b.kib=b.iib=b.jib=b.hib=b.Hjb=b.Gjb=b.Fjb=b.ulb=b.wlb=b.vlb=b.NHa=b.PHa=b.OHa=b.GDa=b.Ijb=b.Bca=b.QZ=b.fmb=b.Snb=b.MHa=b.Thb=b.QCa=b.$da=b.dJ=b.m0=b.LHa=b.Sw=b.Shb=b.jBa=b.ilb=b.vob=b.tlb=b.slb=b.Lnb=b.Knb=b.js=b.bg=b.qMa=b.Xw=void 0;b.hBa=b.Vea=void 0;b.Xw=function(){};b.qMa=function(){return !0;};b.bg={ia:!0};b.js=1E3;b.Knb=86400;b.Lnb=604800;b.slb=1E4;b.tlb=1E7;b.vob=1.5;b.ilb=.128;b.jBa=7.8125;b.Shb=128;b.Sw=145152E5;b.LHa=1E5;b.m0="$netflix$player$order";b.dJ=-1;b.$da=1;b.QCa=["en-US"];b.Thb=8;b.MHa=65535;b.Snb=65536;b.fmb=Number.MAX_VALUE;b.QZ="playready";b.Bca="widevine";b.Ijb="fps";b.GDa="clearkey";b.OHa='audio/mp4; codecs="mp4a.40.5"';b.PHa='audio/mp4; codecs="mp4a.40.42"';b.NHa='audio/mp4; codecs="ec-3"';b.vlb='video/mp4; codecs="avc1.640028"';b.wlb='video/mp4; codecs="hev1.2.6.L153.B0"';b.ulb='video/mp4; codecs="dvhe.01000000"';b.Fjb="9A04F079-9840-4286-AB92-E65BE0885F95";b.Gjb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Hjb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.hib=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.jib="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.iib="4E657466-6C69-7846-7261-6D6552617465";b.kib="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.dib="mp4a";b.xBa="enca";b.aib="ec-3";b.Zhb="avc1";b.yBa="encv";b.cib="hvcC";b.bib="hev1";b.$hb="dvhe";b.eib="vp09";b.$_=0;b.TP=1;b.Vea="position:relative;width:100%;height:100%;overflow:hidden";b.hBa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},77705:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.HWa=b.tra=void 0;c=a(45146);l=a(3887);f=a(32687);(function(){var d,g,n;function k(h){(0,c.oa)(void 0 !== d[h]);return d[h];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;n=/[", ]/;b.HWa=function(h){return (0,f.Wc)(h)?(0,f.Rb)(h)?h:(0,f.rg)(h)?h.replace(g,k):(0,f.t3a)(h)?h:isNaN(h)?"NaN":"":"";};b.tra=function(h){var m,p;m=b.HWa;p="";(0,l.Tf)(h,function(q,u){q=m(q) + "=" + m(u);n.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},45146:function(r,b,a){var f,k,d;function c(){d || (d=f.Ba.get(k.Hw));return d;}function l(g,n){return c().assert(g,n);}Object.defineProperty(b,"__esModule",{value:!0});b.rCb=b.Tka=b.kCb=b.oCb=b.IK=b.NS=b.nCb=b.pCb=b.OS=b.UWa=b.mCb=b.lCb=b.oa=b.qCb=b.Dhb=void 0;f=a(31276);k=a(90597);b.Dhb=function(){l(!1);};b.qCb=!0;d=void 0;b.oa=l;b.lCb=function(g,n){return c().uub(g,n);};b.mCb=function(g,n){return c().vub(g,n);};b.UWa=function(g,n){return c().N2(g,n);};b.OS=function(g,n){return c().Bub(g,n);};b.pCb=function(g,n){return c().zub(g,n);};b.nCb=function(g,n){return c().M2(g,n);};b.NS=function(g,n){return c().xub(g,n);};b.IK=function(g,n){return c().Aub(g,n);};b.oCb=function(g,n){return c().yub(g,n);};b.kCb=function(g,n){return c().tub(g,n);};b.Tka=function(g,n){return c().wub(g,n);};b.rCb=function(){return c().LOb();};},32219:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ef=void 0;b.Ef=function(a){return setTimeout(a,0);};},22894:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;b.LEa=function(a){var f,k,d,g;function c(){if(d)for(var n;n=f.pop();){n(g);}}function l(n){d=!0;g=n;c();}f=[];return function(n){f.push(n);k || (k=!0,a(l));c();};};},37509:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.k6=b.ar=b.l6=b.FB=b.Pk=b.ie=void 0;r=a(94886);c=a(32219);l=a(22365);b.ie=new r.Uj();b.Pk=1;b.FB=2;b.l6=3;b.ar=4;b.k6=5;(0,c.Ef)(function(){var k,d,g;function f(n,h){if(d)d.on(n,h);else ob.addEventListener(n,h);}k=ob.jQuery;d=k && k(ob);k=(k=ob.netflix) && k.cadmium && k.cadmium.addBeforeUnloadHandler;g=l.Hg.hidden;k?k(function(n){b.ie.Ec(b.Pk,n);}):f("beforeunload",function(n){b.ie.Ec(b.Pk,n);});f("keydown",function(n){b.ie.Ec(b.FB,n);});f("resize",function(){b.ie.Ec(b.l6);});l.Hg.addEventListener("visibilitychange",function(){g !== l.Hg.hidden && (g=l.Hg.hidden,b.ie.Ec(b.ar));});});(function(){ob.addEventListener("error",function(f){b.ie.Ec(b.k6,f);return !0;});})();},52828:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(36129);c=a(31276);l=a(31701);a=a(11479);c.Ba.get(a.Oh).register(r.V.$Fa,function(f){c.Ba.get(l.KDa)().then(function(){f({ia:!0});}).catch(function(k){c.log.error("error in initializing indexedDb debug tool",k);f({ia:!0});});});},15208:function(r,b,a){var n,h,m,p,q;function c(u){var t,v;(0,h.OS)(u);if((0,p.rg)(u) && b.nGa.test(u)){t=u.split(".");if(4 === t.length){for(var w=0;w < t.length;w++){v=(0,q.Wi)(t[w]);if(0 > v || !(0,p.VB)(v,0,255) || 1 !== t[w].length && 0 === t[w].indexOf("0"))return;}return u;}}}function l(u){var t;t=0;if(c(u) === u)return (u=u.split("."),t+=(0,q.Wi)(u[0]) << 24,t+=(0,q.Wi)(u[1]) << 16,t+=(0,q.Wi)(u[2]) << 8,t + (0,q.Wi)(u[3]));}function f(u){var t,w;(0,h.OS)(u);if((0,p.rg)(u) && u.match(b.oGa)){t=u.split(":");-1 !== t[t.length - 1].indexOf(".") && (u=k(t[t.length - 1]),t.pop(),t.push(u[0]),t.push(u[1]),u=t.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== t.length) && (t=1 < u.length?d(u):t,u=t.length,8 === u)){for(;u--;){w=parseInt(t[u],16);if(!(0,p.VB)(w,0,n.MHa))return;}return t.join(":");}}}function k(u){var t;u=l(u) >>> 0;t=[];t.push((u >>> 16 & 65535).toString(16));t.push((u & 65535).toString(16));return t;}function d(u){var t,w,v;t=u[0].split(":");u=u[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === u.length && "" === u[0] && (u=[]);w=8 - (t.length + u.length);if(1 > w)return [];for(v=0;v < w;v++){t.push("0");}for(v=0;v < u.length;v++){t.push(u[v]);}return t;}function g(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.Zkb=b.dlb=b.alb=b.$kb=b.clb=b.Ykb=b.blb=b.zD=b.oGa=b.nGa=void 0;n=a(33096);h=a(45146);m=a(22365);p=a(32687);q=a(3887);b.nGa=/^[0-9.]*$/;b.oGa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.zD="0000000000000000";b.blb=c;b.Ykb=l;b.clb=f;b.$kb=k;b.alb=d;b.dlb=function(u,t,w){var v,y,x,z;v=c(u);y=f(u);x=c(t);z=f(t);if(!v && !y || !x && !z || v && !x || y && !z)return !1;if(u === v)return (w=g(w),(l(u) & w) !== (l(t) & w)?!1:!0);if(u === y){u=u.split(":");t=t.split(":");for(v=(0,m.ZI)(w / b.zD.length);v--;){if(u[v] !== t[v])return !1;}w%=b.zD.length;if(0 !== w)for((u=parseInt(u[v],16).toString(2),t=parseInt(t[v],16).toString(2),u=b.zD.substring(0,b.zD.length - u.length) + u,t=b.zD.substring(0,b.zD.length - t.length) + t,v=0);v < w;v++){if(u[v] !== t[v])return !1;}return !0;}return !1;};b.Zkb=g;},32687:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Lp=b.t3a=b.fM=b.rg=b.pqa=b.jPb=b.WOb=b.gqa=b.VB=b.F3a=b.Rb=b.oqa=b.isArray=b.$3a=b.Bt=b.Wc=b.is=void 0;r=a(76564);b.is=r.AD;b.Wc=function(c){return b.is.pg(c);};b.Bt=function(c){return b.is.YR(c);};b.$3a=function(c){return b.is.Cha(c);};b.isArray=function(c){return b.is.LA(c);};b.oqa=function(c){return b.is.JSa(c);};b.Rb=function(c,l,f){return b.is.Zj(c,l,f);};b.F3a=function(c,l,f){return b.is.iia(c,l,f);};b.VB=function(c,l,f){return b.is.ZR(c,l,f);};b.gqa=function(c){return b.is.HR(c);};b.WOb=function(c){return b.is.lsb(c);};b.jPb=function(c){return b.is.msb(c);};b.pqa=function(c){return b.is.KSa(c);};b.rg=function(c){return b.is.ip(c);};b.fM=function(c){return b.is.ym(c);};b.t3a=function(c){return b.is.h2(c);};b.Lp=function(c){return b.is.j2(c);};},2734:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(31276);b=a(36410);a=a(34126);r.Ba.get(b.XI).Z9(a.xda.Aib,function(c){var l,f;l=c.level;if(!ob._cad_global.config || l <= ob._cad_global.config.ERb){c=c.Faa();f=ob.console;1 >= l?f.error(c):2 >= l?f.warn(c):f.log(c);}});},73100:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(29204);a(33096);r=a(31276);a(36410);a(34126);a(36129);a(45842);a(5021);a=a(11479);r.Ba.get(a.Oh);!1;},8825:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ah=b.gmb=b.Zw=void 0;c=a(32687);b.Zw=b.Zw || (function(l,f,k){return l >= f?l <= k?l:k:f;});b.gmb=function(l,f,k,d,g){return (l - f) * (g - d) / (k - f) + d;};b.ah=function(l){if((0,c.Rb)(l))return (l / 1E3).toFixed(3);};},87051:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.J8b=b.nob=b.lob=b.kob=b.mob=void 0;c=a(32687);l=a(22365);b.mob=function(f,k,d){for(d=(d - f.length) / k.length;0 < d--;){f+=k;}return f;};b.kob=function(f,k,d){d=(0,c.rg)(d)?d:"...";return f.length <= k?f:f.substr(0,f.length - (f.length + d.length - k)) + d;};b.lob=function(f,k){var g;for(var d=1;d < arguments.length;++d){;}g=l.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(n,h){return "undefined" != typeof g[h]?g[h]:n;});};b.nob=function(f){for(var k=f.length,d=new Uint16Array(k),g=0;g < k;g++){d[g]=f.charCodeAt(g);}return d.buffer;};b.J8b=function(f){var k;k=new Uint8Array(f.length);Array.prototype.forEach.call(f,function(d,g){k[g]=d.charCodeAt(0);});return k;};},52569:function(r,b,a){var n,h,m,p,q,u;function c(){var t,w;if(t=b.X5.bRa)return t;t=p.h0.search.substr(1);w=t.indexOf("#");0 <= w && (t=t.substr(0,w));t=l(t);return b.X5.bRa=t;}function l(t){for(var w=/[+]/g,v=(t || "").split("&"),y={},x,z=0;z < v.length;z++){t=(0,m.trim)(v[z]);x=t.indexOf("=");0 <= x?y[decodeURIComponent(t.substr(0,x).replace(w,"%20")).toLowerCase()]=decodeURIComponent(t.substr(x + 1).replace(w,"%20")):y[t.toLowerCase()]=null;}return y;}function f(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function k(t){return f(t.constructor);}function d(t){return p.sort.call(t,function(w,v){return w - v;});}function g(t){for(var w=0,v=t.length;v--;){w+=t[v];}return w;}Object.defineProperty(b,"__esModule",{value:!0});b.dYb=b.XF=b.V_a=b.qqa=b.ZXb=b.S3a=b.fib=b.gib=b.wHb=b.pK=b.Jyb=b.j5=b.GGb=b.UG=b.whb=b.YO=b.xhb=b.dZ=b.vhb=b.IOb=b.createElement=b.HS=b.HYb=b.Psa=b.wna=b.getFunctionName=b.nW=b.X5=b.oLb=b.w$a=b.tSa=b.PVa=b.SZb=b.XA=b.vVa=void 0;n=a(33096);h=a(31276);m=a(3887);p=a(22365);q=a(32687);u=a(82100);b.vVa=function(t,w){if(t === w)return !0;if(!t || !w)return !1;for(var v in t){if(t.hasOwnProperty(v) && (!w.hasOwnProperty(v) || t[v] !== w[v]))return !1;}return !0;};b.XA=b.XA || (function(t,w){if(t.length == w.length){for(var v=t.length;v--;){if(t[v] != w[v])return !1;}return !0;}return !1;});b.SZb=function(t){var w;if(t){w=t.length;if(w)return (w=(0,m.r$a)(0,w - 1),t[w]);}};b.PVa=function(t,w){if(t.length != w.length)return !1;t.sort();w.sort();for(var v=t.length;v--;){if(t[v] !== w[v])return !1;}return !0;};b.tSa=function(t,w,v){function y(){t.removeEventListener(w,y);v.apply(this,arguments);}t.addEventListener(w,y);};b.w$a=function(){var t,w,v,y,x,z;t=p.Hg.cookie.split("; ");w=t.length;x={};for(v=0;v < w;v++){if(y=(0,m.trim)(t[v])){z=y.indexOf("=");0 < z && (x[y.substr(0,z)]=y.substr(z + 1));}}return x;};b.oLb=c;b.X5=Object.assign(c,{bRa:void 0});b.nW=l;b.getFunctionName=f;b.wna=k;b.Psa=function(t){var w;w="";(0,q.isArray)(t) || (0,q.oqa)(t)?w=p.reduce.call(t,function(v,y){return v + (32 <= y && 128 > y?(0,p.PNa)(y):".");},""):(0,q.rg)(t)?w=t:(0,m.Tf)(t,function(v,y){w+=(w?", ":"") + "{" + v + ": " + ((0,q.Lp)(y)?f(y) || "function":y) + "}";});return "[" + k(t) + " " + w + "]";};b.HYb=function(t,w){t.firstChild?t.insertBefore(w,t.firstChild):t.appendChild(w);};b.HS=b.HS || (function(t){var w;w="";(0,m.Tf)(t,function(v,y){w+=(w?";":"") + v + ":" + y;});return w;});b.createElement=b.createElement || (function(t,w,v,y){var x;x=p.Hg.createElement(t);w && (x.style.cssText=w);v && (x.innerHTML=v);y && (0,m.Tf)(y,function(z,A){x.setAttribute(z,A);});return x;});b.IOb=function(t,w){var v;v=t[0];if(w <= v[0])return v.slice(1);for(var y=1,x;x=t[y++];){if(w <= x[0]){t=(w - v[0]) / (x[0] - v[0]);w=[];for(y=1;y < v.length;y++){w.push((v[y] || 0) + t * ((x[y] || 0) - (v[y] || 0)));}return w;}v=x;}return v.slice(1);};b.vhb=function(t,w){var x;for(var v={},y=0;y < w.length;y++){x=w[y];if("string" != typeof x && "number" != typeof x)return !1;v[w[y]]=1;}for(y=0;y < t.length;y++){if((x=t[y],!v[x]))return !1;}return !0;};b.dZ=d;b.xhb=g;b.YO=function(t,w){var v,y,x,z;v=-1;y=t.length;if(1 === arguments.length){for(;++v < y && !(null != (x=t[v]) && x <= x);){x=void 0;}for(;++v < y;){null != (z=t[v]) && z > x && (x=z);}}else {for(;++v < y && !(null != (x=w.call(t,t[v],v)) && x <= x);){x=void 0;}for(;++v < y;){null != (z=w.call(t,t[v],v)) && z > x && (x=z);}}return x;};b.whb=function(t,w){var v,y,x,z;v=-1;y=t.length;if(1 === arguments.length){for(;++v < y && !(null != (x=t[v]) && x <= x);){x=void 0;}for(;++v < y;){null != (z=t[v]) && x > z && (x=z);}}else {for(;++v < y && !(null != (x=w.call(t,t[v],v)) && x <= x);){x=void 0;}for(;++v < y;){null != (z=w.call(t,t[v],v)) && x > z && (x=z);}}return x;};b.UG=function(t){return (0,q.Lp)(t.then)?t:new Promise(function(w,v){t.oncomplete=function(){w(t.result);};t.onerror=function(){v(t.error);};});};b.GGb=function(t,w){var y,x,z,A,B,C;function v(D){0 > y.indexOf(D) && (0,q.Rb)(D) && y.push(D);}t=t.slice();d(t);y=[];if(!w || !w.length)return t;if(!t.length)return [];x=w.length;try{for(;x--;){A="" + w[x];B=(0,m.Wi)(A);switch(A[A.length - 1]){case "-":for(z=t.length;z--;){C=t[z];if(C < B){v(C);break;}}break;case "+":for(z=0;z < t.length;z++){if((C=t[z],C > B)){v(C);break;}}break;default:0 <= t.indexOf(B) && v(B);}}}catch(D){}y.length || y.push(t[0]);d(y);return y;};b.j5=b.j5 || (function(t,w,v){var y;if(t / w > v){y=(0,p.xn)(w * v);t=w;}else (y=t,t=(0,p.xn)(t / v));return {width:y,height:t};});b.Jyb=function(t,w,v){for(var y=[],x=0;x < w;x++){y.push((0,p.dIa)(t[x] - v,2));}return (0,p.eIa)(g(y) / y.length);};b.pK=function(t,w){var v;v=t.length;w=(v - 1) * w + 1;if(1 === w)return t[0];if(w == v)return t[v - 1];v=(0,p.ZI)(w);return t[v - 1] + (w - v) * (t[v] - t[v - 1]);};b.wHb=function(t,w){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");w=(0,q.isArray)(w)?w:[w];for(var v=t.length,y=0;y < v;y++){for(var x=0;x < w.length;x++){if(t[y].type == w[x])return t[y];}}throw Error("Box not found " + w);};b.gib=function(t){return t.qJb("trak/mdia/minf/stbl/stsd/" + n.xBa + "|" + n.yBa).children.filter(function(w){return "sinf" == w.type && w.bgc.schm.Vic == u.vu;})[0].qJb("schi/tenc").eo;};b.fib=function(t){var v;function w(y,x){var z;z=v[y];v[y]=v[x];v[x]=z;}v=new Uint8Array(t);w(0,3);w(1,2);w(4,5);w(6,7);return v;};b.S3a=function(){return (0,q.Lp)(p.Ae.requestMediaKeySystemAccess);};b.ZXb=function(t){return function(w){return w && w[t];};};(0,q.Lp)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,w){var v,y;void 0 === t && (t=0);void 0 === w && (w=this.byteLength);t=Math.floor(t);w=Math.floor(w);0 > t && (t+=this.byteLength);0 > w && (w+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);if(0 >= w - t)return new ArrayBuffer(0);v=new ArrayBuffer(w - t);y=new Uint8Array(v);t=new Uint8Array(this,t,w - t);y.set(t);return v;});b.qqa=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.V_a=function(){var t,w;t=new ArrayBuffer(4);w=new Uint8Array(t);t=new Uint32Array(t);w[0]=161;w[1]=178;w[2]=195;w[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.XF=function(){var t,w,v;try{t=/playercore.*js/;w=p.Eu.getEntries("resource").filter(function(y){return null !== t.exec(y.name);});if(w && 0 < w.length){v=(0,p.xn)(w[0].duration);return JSON.stringify(v);}}catch(y){}};b.dYb=function(t,w,v){if(t && t.length){if(v && v.Rxb)try{t.forEach(function(y,x){var z;z=(x=v.Rxb[x]) && x.media;z && (0,q.rg)(z)?(!1,z=(0,h.Iq)(z).buffer,y.media={arrayBuffer:z,length:z.byteLength,stream:w,Dc:x.cdn}):h.log.warn("chunk not in cache",y.sg);});}catch(y){h.log.error("error reading cached chunks",y);}else h.log.warn("chunks not available in cached stream",v.type);}else h.log.warn("chunks not available in mediabuffer",v.type);};},3887:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.dzb=b.Jl=b.Vf=b.qyb=b.we=b.Jv=b.trim=b.gpa=b.ydb=b.r$a=b.KWb=b.Wi=b.eTa=b.nUa=b.Wd=b.Tf=void 0;c=a(45146);l=a(22365);f=a(32687);b.Tf=function(k,d){for(var g in k){k.hasOwnProperty(g) && d(g,k[g]);}};b.Wd=b.Wd || (function(k,d,g){var n,h,m;if(d)if(g){n=g.oV;h=g.prefix;m=g.f9;(0,b.Tf)(d,function(p,q){if(!m || (0,f.Wc)(q))k[(h || "") + (n?p.toLowerCase():p)]=q;});}else (0,b.Tf)(d,function(p,q){k[p]=q;});return k;});b.nUa=function(k,d,g,n){var h;if(k){h=k[d];(0,f.Lp)(h) && (g=h.apply(k,l.slice.call(arguments,3)));}return g;};b.eTa=function(k){for(var d={},g=k.length;g--;){d[k[g]]=!0;}return d;};b.Wi=b.Wi || (function(k){return parseInt(k,10);});b.KWb=function(k){return (/^true$/i).test(k);};b.r$a=function(k,d){return (0,l.xn)(k + (0,l.b0)() * (d - k));};b.ydb=function(k){return JSON.stringify(k,null,"  ");};b.gpa=(function(){var d,g;function k(n){(0,c.oa)(void 0 !== d[n]);return d[n];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};g=/[&'"<>]/g;return function(n){return n.replace(g,k);};})();b.trim=(function(){var k;k=/^\s+|\s+$/gm;return function(d){return d.replace(k,"");};})();b.Jv=function(k){return Array.isArray(k)?k:[k];};b.we=b.we || (function(k){var d,g,n;if(k){d=k.stack;g=k.number;n=k.message;n || (n="" + k);d?(k="" + d,0 != k.indexOf(n) && (k=n + "\n" + k)):k=n;g && (k+="\nnumber:" + g);return k;}});b.qyb=function(k){var n;for(var d=0;d < arguments.length;++d){;}d=0;for(var g=arguments.length;d < g;){n=arguments[d++];if((0,f.Wc)(n))return n;}};b.Vf=function(k){return (0,f.Rb)(k)?k.toFixed(0):void 0;};b.Jl=function(k){return (0,f.Rb)(k)?(k / 1E3).toFixed(0):void 0;};b.dzb=function(k){for(var d=[],g=0;g < k.length;g++){d[g]=k[g];}return d;};},29204:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C;function c(D){return (D=b.config.p7b[l(D)])?D:{};}function l(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.Lyb=b.Myb=b.GVa=b.G3=b.HVa=b.lka=b.config=void 0;f=a(33096);k=a(52569);d=a(31276);g=a(34231);n=a(45146);h=a(56800);m=a(75568);p=a(3887);a(87386);q=a(22365);u=a(32687);t=a(93294);w=a(45118);v=a(31850);y=a(5614);x=a(72574);z=a(5021);A=a(91581);B=a(81918);C=a(88195);b.HVa=function(D,F){var La,Ya,ab,aa,oa,Ga,Sa,Q,da;function G(P,Y){(0,p.Tf)(P,function(ta,Ha){(0,u.Lp)(Ha)?Y[ta]=Ha.call(void 0,Y[ta]):(0,u.Bt)(Ha) && (Y[ta]=Y[ta] || ({}),G(Ha,Y[ta]));});}function E(P,Y,ta,Ha){for(var Wa=[],$a=3;$a < arguments.length;++$a){Wa[$a - 3]=arguments[$a];}return function(fb){(0,u.Wc)(fb) && (ta=fb);(0,n.oa)((0,u.Lp)(P));return P.apply(void 0,[Y,ta].concat(ca(Wa)));};}function I(P){P=P.toLowerCase();aa.hasOwnProperty(P) && (ab[P]=aa[P],oa[P]=aa[P]);return P;}function M(P,Y,ta){var Ha;P=P.toLowerCase();if(ab.hasOwnProperty(P)){Ha=ab[P];try{Ha=ta?ta(Ha):Ha;}catch(Wa){Ha=void 0;}if(void 0 !== Ha)return Ha;(0,n.oa)(!1);d.log.error("Invalid configuration value. Name: " + P);}return Y;}function L(P,Y,ta,Ha){return M(P,Y,function(Wa){(0,u.rg)(Wa) && (Wa=(0,p.Wi)(Wa));if((0,u.F3a)(Wa,ta,Ha))return Wa;});}function K(P,Y,ta,Ha){return M(P,Y,function(Wa){(0,u.rg)(Wa) && (Wa=(0,p.Wi)(Wa));if((0,u.VB)(Wa,ta,Ha))return Wa;});}function O(P,Y,ta,Ha){return M(P,Y,function(Wa){(0,u.rg)(Wa) && (Wa=parseFloat(Wa));if((0,u.Rb)(Wa,ta,Ha))return Wa;});}function H(P,Y,ta){return M(P,Y,function(Ha){if(ta?ta.test(Ha):(0,u.rg)(Ha))return Ha;});}function J(P,Y){return M(P,Y,function(ta){if("true" == ta || !0 === ta)return !0;if("false" == ta || !1 === ta)return !1;});}function N(P,Y){return M(P,Y,function(ta){if((0,u.rg)(ta))return JSON.parse((0,q.i0)(ta));if((0,u.Bt)(ta))return ta;});}function R(P,Y,ta,Ha,Wa,$a){var fb;P=P.toLowerCase();ab.hasOwnProperty(P) && (fb=ab[P]);if(!(0,u.Wc)(fb))return Y;if((0,u.rg)(fb))if(fb[0] !== ta)fb=Ha(fb);else try{fb=JSON.parse((0,q.i0)(fb));}catch(sb){fb=void 0;}if(void 0 === fb)return Y;for(P=0;P < Wa.length;P++){if(!Wa[P](fb))return Y;}return $a?$a(fb):fb;}function T(P,Y,ta,Ha,Wa){return R(P,Y,"[",function($a){$a=$a.split("|");for(var fb=$a.length;fb--;){$a[fb]=(0,p.Wi)($a[fb]);}return $a;},[function($a){return (0,u.isArray)($a) && 0 < $a.length;},function($a){for(var fb=$a.length;fb--;){if(!(0,u.VB)($a[fb],ta,Ha))return !1;}return !0;},function($a){return void 0 === Wa || $a.length >= Wa;}]);}function ka(P,Y){return R(P,Y,"[",function(ta){ta=(0,u.isArray)(ta)?ta:ta.split("|");for(var Ha=ta.length;Ha--;){try{ta[Ha]=JSON.parse((0,q.i0)(ta[Ha]));}catch(Wa){ta=void 0;break;}}return ta;},[function(ta){return (0,u.isArray)(ta) && 0 < ta.length;},function(ta){for(var Ha=ta.length;Ha--;){if(!(0,u.Wc)(ta[Ha]) || !(0,u.Bt)(ta[Ha]))return !1;}return !0;}]);}function sa(P,Y){var ta;ta=ia(P,[]);return ta && 0 < ta.length?(0,C.Dg)(ta):ka(P,Y);}function ia(P,Y,ta,Ha){return R(P,Y,"[",function(Wa){return (0,u.isArray)(Wa)?Wa:Wa.split("|");},[function(Wa){return (0,u.isArray)(Wa) && 0 < Wa.length;},function(Wa){for(var $a=Wa.length;$a--;){if(ta?!ta.test(Wa[$a]):!(0,u.fM)(Wa[$a]))return !1;}return !0;},function(Wa){return void 0 === Ha || Wa.length >= Ha;}]);}function wa(P,Y,ta){return R(P,Y,"{",function(Ha){var Wa,fb,sb;Wa={};Ha=Ha.split(";");for(var $a=Ha.length;$a--;){fb=Ha[$a];sb=fb.indexOf(":");if(0 >= sb)return;Wa[fb.substring(0,sb)]=fb.substring(sb + 1);}return Wa;},[function(Ha){return (0,u.Bt)(Ha) && 0 < Object.keys(Ha).length;},function(Ha){if(ta)for(var Wa in Ha){if(!ta.test(Ha[Wa]))return !1;}return !0;}],function(Ha){var Wa;Wa={};(0,p.Wd)(Wa,Y);(0,p.Wd)(Wa,Ha);return Wa;});}function Aa(P){var Y;Y=[];(0,p.Tf)(P,function(ta,Ha){var Wa;try{Wa="videoapp" === ta.toLowerCase()?"[object object]":JSON.stringify(Ha);}catch($a){Wa="cantparse";}Y.push(ta + "=" + Wa);});return Y.join("\n");}La=/^[0-9]+[%]?$/;Ya=/^[0-9]*$/;oa={};Ga=d.Ba.get(g.vn);Sa=d.Ba.get(y.iJ);(function(P){function Y(ta){ta.split(",").forEach(function(Ha){var Wa;Wa=Ha.indexOf("=");0 < Wa && (ab[Ha.substring(0,Wa).toLowerCase()]=Ha.substring(Wa + 1));});}ab={};(0,p.Wd)(ab,P);D && D.length && q.forEach.call(D,function(ta){(0,u.rg)(ta)?Y(ta):(0,u.Bt)(ta) && (0,p.Wd)(ab,ta,{oV:!0});});aa=(0,p.Wd)({},(0,k.X5)(),{oV:!0});if(P=(0,k.w$a)().cadmiumconfig)(d.log.info("Config cookie loaded",P),Y(P));if(d.Ba.get(A.zn).y2 || ab.istestaccount)((0,p.Wd)(ab,aa),oa=aa);})(F);b.config={};Q={rFb:E(J,I("enableXHEAAC"),!1),lYa:E(J,I("enableDDPlus20"),!0),kYa:E(J,I("enableDDPlus"),!0),WK:E(J,I("enableDDPlusAtmos"),!1),VEb:E(J,I("enableLSSDH"),!0),SEb:E(J,I("enableHEVC"),!1),x8a:E(J,I("overrideEnableHEVC"),!1),Mla:E(J,I("enableHDR"),!1),w8a:E(J,I("overrideEnableHDR"),!1),v8a:E(J,I("overrideEnableDV"),!1),UK:E(J,I("enableAVCHigh"),Sa.UK),t8a:E(J,I("overrideEnableAVCHigh"),!1),Jla:E(J,I("enableAVCHighLive"),Sa.Jla),u8a:E(J,I("overrideEnableAVCHighLive"),!0),nFb:E(J,I("enableVP9"),!1),y8a:E(J,I("overrideEnableVP9"),!1),DEb:E(J,I("enableAV1"),!1),s8a:E(J,I("overrideEnableAV1"),!1),zWb:E(J,I("overrideEnableXHEAAC"),!1),xWb:E(J,"overrideEnableAllAudioProfiles",!1),yWb:E(J,"overrideEnableAllVideoProfiles",!1),dFb:E(J,I("enablePRK"),!1),NEb:E(J,I("enableDV"),!1),oYa:E(J,I("enableHWDRM"),!1),UEb:E(J,I("enableImageSubs"),!0),RE:E(sa,I("audioProfiles"),Sa.RE),REb:E(J,I("enableFullHdForWidevineL3"),!1),nYa:E(J,I("enableFullHdForWidevineL1"),!1),mFb:E(J,I("enableUHD"),!0),aba:E(K,"videoCapabilityDetectorType",h.tl.Iw),Hia:E(K,"audioCapabilityDetectorType",h.uu.Iw),Nh:E(sa,I("videoProfiles"),Sa.Nh),nr:E(sa,I("liveVideoProfiles"),Sa.nr),ASa:E(sa,I("additionalVideoProfiles"),[]),Prb:E(ia,I("timedTextProfiles"),Sa.fu),fu:function(){return Q.Prb().filter(function(P){return P === m.qm.kca?Q.VEb():P === m.qm.aJ?Q.UEb():!0;});},endpoint:E(J,I("endpoint"),!1),version:E(H,"version","unknown"),TEb:E(J,I("enableHdcp"),!1),Er:E(J,I("prepareCadmium"),!1),qsb:E(J,I("acceptManifestOnPrepareItemParams"),!0),hYb:E(N,"ppmconfig",{maxNumberTitlesScheduled:1}),gT:E(J,I("enableLdlPrefetch"),!1),uYa:E(J,I("enableMediaPrefetch"),!1),ZEb:E(J,I("enableManifestCache"),!0),hDb:E(J,I("deleteCachedManifestOnPlayback"),!1),gDb:E(J,I("deleteCachedManifestOnCreate"),!1),jDb:E(J,I("deleteOtherManifestCacheOnCreate"),!1),iDb:E(J,I("deleteOtherLdlCacheOnCreate"),!1),tic:E(K,I("periodicPrepareLogsIntervalMilliseconds"),36E5),DYb:E(K,I("prepareManifestCacheMaxCount"),50),BYb:E(K,I("prepareLdlCacheMaxCount"),30),I9a:E(K,I("prepareManifestExpiryMilliseconds"),12E5),CYb:E(K,I("prepareLdlExpiryMilliseconds"),78E4),vYb:E(K,I("prefetcherMaxWishlistSize"),10),uYb:E(K,I("prefetcherBudgetInBytes"),Infinity),wYb:E(J,I("prefetcherOverrideItemPriority"),!0),AYb:E(H,I("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),gkc:E(N,"videoApp"),RC:E(N,"storageRules"),iIb:E(J,"ftlEnabled",!0),npa:E(K,I("imageSubsResolution"),0),SNb:E(K,I("imageSubsMaxBuffer"),Sa.vSb.da(x.$r),0),wS:E(J,I("captureBatteryStatus"),!1),QIb:E(K,I("getBatteryApiTimeoutMilliseconds"),5E3),Rl:E(H,I("keySystemId"),Sa.Rl),s4a:E(ia,I("keySystemList"),void 0,void 0),nza:E(J,I("validateKeySystemAccess"),!1),lTb:E(K,I("hdcpGlobalTimeout1"),1E4),mTb:E(K,I("hdcpGlobalTimeout2"),1E4),Khc:E(K,I("hdcpQueryTimeout1"),1E3),Lhc:E(K,I("hdcpQueryTimeout2"),1E3),y6a:E(K,I("hdcpQueryTimeout2"),100),z6a:E(J,I("microsoftHwdrmRequiresHevc"),!1),nTb:E(J,I("microsoftHwdrmRequiresQHD"),!1),x6a:E(J,I("microsoftClearLeadRequiresSwdrm"),!1),iTb:E(J,I("microsoftEnableDeviceInfo"),!1),jTb:E(J,I("microsoftEnableHardwareInfo"),!1),kTb:E(J,I("microsoftEnableHardwareReset"),!1),x8b:E(J,I("useHevcCodecForDolbyVision"),!1),$Eb:E(J,I("enableMediaCapabilities"),!1),gYb:E(J,I("powerEfficientForVideo"),!1),aFb:E(J,I("enableMediaCapabilitiesSourceBufferCheck"),!1),ARb:E(J,"logMediaPipelineStatus",!1),SW:E(J,I("renderDomDiagnostics"),!0),p5a:function(){return -1;},oM:E(L,I("logDisplayMaxEntryCount"),Sa.oM,-1),ERb:E(L,I("logToConsoleLevel"),-1),Jec:E(L,I("bladerunnerCmdHistorySize"),10),dy:function(){return Ga.dy;},Yqa:E(J,"logErrorIfEsnNotProvided",!0),Vla:E(J,"enforceSinglePlayback",Sa.Vla),K4:E(J,"enforceSingleSession",Sa.K4),Zja:E(J,"closeOtherPlaybacks",!0),Eub:E(K,"asyncLoadTimeout",15E3,1),QRb:E(K,"mainThreadMonitorPollRate",0),cG:function(){return Ga.cG;},qK:function(){return Ga.qK;},rY:function(){return Ga.rY;},egb:E(K,I("verbosePlaybackInfoDenominator"),0),c$:E(J,"renderTimedText",!0),iYb:E(J,"preBufferTimedText",!0),zGb:E(J,"fatalOnTimedTextLoadError",!0),nya:E(wa,"timedTextStyleDefaults",{}),Eaa:E(wa,"timedTextStyleOverrides",{}),Daa:E(wa,"timedTextFontFamilyMapping",Sa.Daa || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),uO:E(K,"timedTextSimpleFallbackThreshold",Sa.uO.da(x.$r)),F6:E(ia,I("increasedMediumScaleLanguageList"),Sa.F6),G6:E(ia,I("increasedSmallScaleLanguageList"),Sa.G6),B7:E(ia,I("lessBoldLanguageList"),Sa.B7),Qka:E(H,I("customDfxpUrl")),lFb:E(J,I("enableSubtitleTrackerLogging"),!1),i2b:E(J,I("sendSubtitleQoeLogblobOnMidplay"),!1),Bja:E(T,"cdnIdWhiteList",[]),Aja:E(T,"cdnIdBlackList",[]),Xma:E(H,I("forceAudioTrack")),ana:E(H,I("forceTimedTextTrack")),ESb:E(K,I("maxRetriesTimedTextDownload"),0),r6b:E(K,I("timedTextRetryInterval"),8E3),R4b:E(H,"storageType","idb",/^(none|fs|idb|ls)$/),l5a:E(K,"lockExpiration",1E4),yRb:E(K,"lockRefresh",3E3),fxb:E(J,"captureUnhandledExceptions",!0),RNb:E(J,"ignoreUnhandledExceptionDuringPlayback",!0),s7b:E(J,"unhandledExceptionsArePlaybackErrors",!1),afb:E(H,"unhandledExceptionSource",""),NYb:E(J,"preserveLastFrame",!1),vTb:E(K,"minBufferingTimeInMilliseconds",4E3),uZb:E(K,"progressBackwardsGraceTimeMilliseconds",4E3),vZb:E(K,"progressBackwardsMinPercent",10),Gvb:E(H,I("bookmarkIgnoreBeginning"),"0",La),Hvb:E(H,I("bookmarkIgnoreEnd"),"5%",La),Ivb:E(H,I("bookmarkIgnoreEndForBranching"),"60000",La),Ira:E(K,"maxParallelConnections",3),Dva:E(J,"reportThroughputInLogblobs",!0),Mv:E(K,"minAudioMediaRequestDuration",16E3),tTb:E(K,"minAudioMediaRequestDurationBranching",0),Py:E(K,"minVideoMediaRequestDuration",4E3),CTb:E(K,"minVideoMediaRequestDurationVariableGOP",0),BTb:E(K,"minVideoMediaRequestDurationBranching",0),dsa:E(K,"minAudioMediaRequestSizeBytes",0),hsa:E(K,"minVideoMediaRequestSizeBytes",0),kEb:E(J,"droppedFrameRateFilterEnabled",!1),lEb:E(K,"droppedFrameRateFilterMaxObservation",60,10,1E3),nEb:E(function(P,Y,ta,Ha,Wa,$a){return R(P,Y,"[",function(fb){fb=fb.split(";");for(var sb=fb.length;sb--;){fb[sb]=fb[sb].split("|");for(var Jb=fb[sb].length;Jb--;){fb[sb][Jb]=(0,p.Wi)(fb[sb][Jb]);}}return fb;},[function(fb){return (0,u.isArray)(fb) && 0 < fb.length;},function(fb){for(var sb=fb.length;sb-- && void 0 !== fb;){if(!(0,u.isArray)(fb[sb]))return !1;for(var Jb=fb[sb].length;Jb--;){if(!(0,u.VB)(fb[sb][Jb],ta,Ha))return !1;}}return !0;},function(fb){if(void 0 !== Wa)for(var sb=fb.length;sb--;){if(Wa !== fb[sb].length)return !1;}return !0;},function(fb){return void 0 === $a || fb.length >= $a;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),mEb:E(K,"droppedFrameRateFilterMinHeight",384),oEb:E(T,"droppedFramesPercentilesList",[]),oTb:E(J,"microsoftScreenSizeFilterEnabled",!1),gQb:E(J,"keyStatusFilterEnabled",!1),o7b:E(J,"uiLabelFilterEnabled",!0),n7b:E(N,"uiLabelFilter",{}),RCb:E(K,I("defaultVolume"),100,0,100),Jra:E(K,I("maxPlaybackRate"),2,0,16),dZa:E(J,"fastForwardAds",!1),BXa:E(J,"disableVideoRightClickMenu",!1),m8:E(K,"minDecoderBufferMilliseconds",1E3,0,f.Sw),rC:E(K,"optimalDecoderBufferMilliseconds",5E3,0,f.Sw),yta:E(K,"optimalDecoderBufferMillisecondsBranching",3E3,0,f.Sw),s8:E(K,"minimumTimeBeforeBranchDecision",3E3,0,f.Sw),Q6a:E(K,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,f.Sw),Ly:E(K,"maxDecoderBufferMilliseconds",Sa.Ly.da(z.pa),0,f.Sw),$Wa:E(K,"decoderTimeoutMilliseconds",1E4,1),t7a:E(K,"noRenderTimeoutMilliseconds",0),ggb:E(K,"videoGapsTimeoutMilliseconds",500),bXb:E(K,"pauseTimeoutLimitMilliseconds",18E5),rpa:E(K,"inactivityMonitorInterval",3E4,0),psb:E(T,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),$K:E(J,"enableTrickPlay",!1),ttb:E(T,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),W6b:E(K,"trickPlayHighResolutionBitrateThreshold",1E3),X6b:E(K,"trickPlayHighResolutionThresholdMilliseconds",1E4),$6b:E(O,"trickplayBufferFactor",.5),V6b:E(K,"trickPlayDownloadRetryCount",1),Ara:E(H,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),eGb:E(ia,"experimentalFilter",["throughput-wssl"]),Pja:E(H,"ciPredictorSource","throughput-ci"),sxa:E(H,"simulationDurationStrategy","default"),ssa:E(H,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),HFa:E(N,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),$5a:E(L,"maxIQRSamples",Infinity),H6a:E(L,"minIQRSamples",5),Tfb:E(J,"useResourceTimingAPI",!1),PNb:E(J,"ignoreFirstByte",!0),tGb:E(T,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),H3:E(K,"connectTimeoutMilliseconds",8E3,500),Asa:E(K,"noProgressTimeoutMilliseconds",8E3,500),oeb:E(K,"timedTextDownloadRetryCountBeforeCdnSwitch",3),bic:E(K,"netflixRequestExpiryTimeout",0),B9b:E(J,"webkitDecodedFrameCountIncorrectlyReported",!1),uaa:E(ia,I("supportedAudioTrackTypes"),[],void 0,1),L6:E(K,"initialLogFlushTimeout",5E3),m9a:E(H,"playdataPersistKey",Ga.dy?"unsentplaydatatest":"unsentplaydata"),fjc:E(J,"sendPersistedPlaydata",!0),GXb:E(K,"playdataPersistIntervalMilliseconds",4E3),vic:E(K,"playdataSendDelayMilliseconds",1E4),gjc:E(J,"sendPlaydataBackupOnInit",!0),CRb:E(ia,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),A6a:E(J,"midplayEnabled",!0),i8:E(K,"midplayIntervalMilliseconds",3E5),B6a:E(T,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),w4:E(K,"downloadReportDenominator",0),bEb:E(K,"downloadReportInterval",3E5),o5a:E(K,"logConfigApplyDenominator",0),NTa:E(wa,I("bookmarkByMovieId"),{}),zT:E(J,I("forceLimitedDurationLicense"),!1),ZB:E(K,I("licenseRenewalRequestDelay"),0),aua:E(K,I("persistedReleaseDelay"),1E4),mhc:E(J,I("limitedDurationFlagOverride"),void 0),abb:E(K,"safariPlayPauseWorkaroundDelay",100),K9b:E(K,"workaroundValueForSeekIssue",1200),vja:E(J,I("callEndOfStream"),Sa.vja),kXb:E(J,"performRewindCheck",!0),BGb:E(J,"fatalOnUnexpectedSeeking",!0),AGb:E(J,"fatalOnUnexpectedSeeked",!0),yGb:E(J,"fatalOnManifestMistmatch",!0),l3b:E(J,I("setVideoElementSize")),gyb:E(J,I("clearVideoSrc"),!0),mXa:E(K,I("delayPlayPause"),0),Vr:E(J,I("useTypescriptEme"),!1),Mfb:E(J,I("useEncryptedEvent"),!0),$S:E(H,I("drmPersistKey"),"unsentDrmData"),c$a:E(J,I("promiseBasedEme"),!1),OUb:E(J,I("nudgeSourceBuffer"),!1),obb:E(L,I("seekDelta"),1),xW:E(J,I("preciseSeeking"),!1),kYb:E(J,I("preciseSeekingOnTwoCoreDevice"),!1),lXa:E(wa,I("delayErrorHandling")),ck:E(H,"esn",""),fZa:E(H,"fesn",""),gFb:E(J,I("enablePerformanceLogging"),!1),mYa:E(J,I("enableEmeVerboseLogging"),!1),appId:E(H,"appId","",Ya),sessionId:E(H,"sessionId","",Ya),wUa:E(H,"cdnProxyUrl"),E8b:E(J,"usePlayReadyHeaderObject",!1),NZa:E(K,"forceXhrErrorResponseCode",void 0),zp:{Zhc:E(H,"mslApiPath","/msl/"),Dic:E(H,"proxyPath",""),tw:E(H,"uiVersion"),Naa:E(H,"uiPlatform"),Wec:function(){return "0";},yua:E(ia,"preferredLanguages",f.QCa,/^[a-zA-Z-]{2,5}$/,1),FHb:E(H,I("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),z5b:E(J,"supportPreviewContentPin",!0),A5b:E(J,"supportWatermarking",!0),Q3b:E(J,"showAllSubDubTracks",!1),$fc:E(J,I("failOnGuidMismatch"),!1)},P9:{enabled:E(J,"qcEnabled",!1),kn:E(H,"qcPackageId","")},Ur:E(J,"useRangeHeader",!1),hT:E(J,"enableMilestoneEventList",!0),ivb:E(wa,"authenticationKeyNames",(0,p.Wd)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),M5b:E(H,"systemKeyWrapFormat"),K3b:E(J,"shouldSendUserAuthData",!0),Jwa:E(J,"sendUserAuthIfRequired",Sa.Jwa),D3b:E(J,"shouldClearUserData",!1),IO:E(J,"usesMsl",!0),VTb:E(J,"mslDeleteStore",!1),XTb:E(J,"mslPersistStore",!0),izb:E(J,"correctNetworkForShortTitles",!0),fYb:E(J,"postplayHighInitBitrate",!1),H5b:E(J,"supportsUnequalizedDownloadables",!0),VWa:E(K,I("debugAseDenominator"),100),I2:E(K,"aseAudioBufferSizeBytes",Sa.I2.da(x.$r)),L2:E(K,"aseVideoBufferSizeBytes",Sa.L2.da(x.$r)),K2:E(K,"aseTextBufferSizeBytes",Sa.K2.da(x.$r)),Gt:E(K,"minInitVideoBitrate",560),xTb:E(K,"minHCInitVideoBitrate",560),My:E(K,"maxInitVideoBitrate",Infinity),n8:E(K,"minInitAudioBitrate",0),wTb:E(K,"minHCInitAudioBitrate",0),T7:E(K,"maxInitAudioBitrate",65535),j8:E(K,"minAcceptableVideoBitrate",235),jC:E(K,"minRequiredBuffer",3E4),yr:E(K,"minPrebufSize",7800),esa:E(K,"minCheckBufferingCompleteInterval",999999),hva:E(O,"rebufferingFactor",1),vr:E(K,"maxBufferingTime",2600),kza:E(J,"useMaxPrebufSize",!0),gC:E(K,"maxPrebufSize",45E3),Kra:E(K,"maxRebufSize",Infinity),J6:E(ka,"initialBitrateSelectionCurve",null),R2a:E(K,"initSelectionLowerBound",560),T2a:E(K,"initSelectionUpperBound",1050),cY:E(K,"throughputPercentForAudio",15),Qia:E(K,"bandwidthMargin",10),Ria:E(J,"bandwidthMarginContinuous",!1),Sia:E(ka,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),nka:E(K,"conservBandwidthMargin",20),Zxa:E(J,"switchConfigBasedOnInSessionTput",!1),pka:E(K,"conservBandwidthMarginTputThreshold",0),oka:E(ka,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),Pdb:E(J,"switchAlgoBasedOnHistIQR",!1),$xa:E(H,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),f6a:E(L,"maxPlayerStateToSwitchConfig",-1),t5a:E(H,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),pGa:E(O,"IQRThreshold",.5),l2a:E(H,"histIQRCalcToUse","simple"),xV:E(K,"maxTotalBufferLevelPerSession",0),fT:E(J,"enableCombinedPlaygraphs",!0),VK:E(J,"enableAdPlaygraphs",!0),m$:E(J,"retainSbrOnFade",!1),mma:E(ia,"excludedContentPlaygraphIds",[]),G4:E(J,"enableDiscontiguousBuffering",!1),Zma:E(T,"forceImmediateTransitionTypeForTitles",[]),Yma:E(K,"forceImmediateTransitionExitZone",0),xY:E(J,"useBufferSizeLimiter",!1),y8b:E(J,"useLegacyFragmentRounding",!1),g2a:E(K,"highWatermarkLevel",3E4),web:E(K,"toStableThreshold",3E4),Gaa:E(K,"toUnstableThreshold",Sa.Gaa.da(z.pa)),uxa:E(J,"skipBitrateInUpswitch",!1),Aza:E(K,"watermarkLevelForSkipStart",8E3),bpa:E(K,"highStreamRetentionWindow",9E4),jra:E(K,"lowStreamTransitionWindow",51E4),dpa:E(K,"highStreamRetentionWindowUp",3E5),lra:E(K,"lowStreamTransitionWindowUp",3E5),cpa:E(K,"highStreamRetentionWindowDown",6E5),kra:E(K,"lowStreamTransitionWindowDown",0),apa:E(O,"highStreamInfeasibleBitrateFactor",.5),Hy:E(K,"lowestBufForUpswitch",15E3),iV:E(K,"lockPeriodAfterDownswitch",15E3),ora:E(K,"lowWatermarkLevel",25E3),Iy:E(K,"lowestWaterMarkLevel",2E4),qra:E(J,"lowestWaterMarkLevelBufferRelaxed",!1),c8:E(O,"mediaRate",1),uM:E(K,"maxTrailingBufferLen",1E4),Fia:E(K,"audioBufferTargetAvailableSize",262144),pza:E(K,"videoBufferTargetAvailableSize",1048576),n6a:E(K,"maxVideoTrailingBufferSize",8388608),S5a:E(K,"maxAudioTrailingBufferSize",393216),X4:E(O,"fastUpswitchFactor",3),yma:E(O,"fastDownswitchFactor",1),HG:E(K,"maxMediaBufferAllowed",24E4),Fcb:E(J,"simulatePartialBlocks",!0),Ecb:E(J,"simulateBufferFull",!0),qka:E(J,"considerConnectTime",!1),mka:E(O,"connectTimeMultiplier",1),KRb:E(K,"lowGradeModeEnterThreshold",12E4),LRb:E(K,"lowGradeModeExitThreshold",9E4),V5a:E(K,"maxDomainFailureWaitDuration",3E4),P7:E(K,"maxAttemptsOnFailure",40),Ola:E(J,"enableMaxAttemptsOnFailure",!0),QYa:E(J,"exhaustAllLocationsForFailure",!0),b6a:E(K,"maxNetworkErrorsDuringBuffering",20),Q7:E(K,"maxBufferingTimeAllowedWithNetworkError",12E4),cZa:E(K,"fastDomainSelectionBwThreshold",2E3),feb:E(K,"throughputProbingEnterThreshold",4E4),geb:E(K,"throughputProbingExitThreshold",34E3),j5a:E(K,"locationProbingTimeout",1E4),jZa:E(K,"finalLocationSelectionBwThreshold",1E4),deb:E(O,"throughputHighConfidenceLevel",.75),eeb:E(O,"throughputLowConfidenceLevel",.4),wYa:E(J,"enablePerfBasedLocationSwitch",!1),mH:E(J,"probeServerWhenError",!0),Hua:E(K,"probeRequestTimeoutMilliseconds",8E3),XR:E(J,"allowSwitchback",!0),S9a:E(K,"probeDetailDenominator",100),R7:E(K,"maxDelayToReportFailure",300),Vqa:E(K,"locationStatisticsUpdateInterval",6E4),kzb:E(J,"countGapInBuffer",!1),Htb:E(J,"allowCallToStreamSelector",!0),Xvb:E(K,"bufferThresholdForAbort",1E4),DSb:E(K,"maxResponsesInitialTput",6),qYa:E(J,"enableInitialTputLogging",!1),qXb:E(K,"pipelineScheduleTimeoutMs",2),tM:E(K,"maxPartialBuffersAtBufferingStart",2),ISb:E(K,"maxStreamingSkew",4E3),BSb:E(K,"maxPendingBufferPercentage",10),x6:E(K,"headerRequestSize",4096),cma:E(J,"estimateHeaderSize",!1),l8:E(K,"minBufferLenForHeaderDownloading",1E4),QUb:E(K,"numExtraFragmentsAllowed",2),so:E(J,"pipelineEnabled",!1),Mcb:E(K,"socketReceiveBufferSize",0),U2:E(K,"audioSocketReceiveBufferSize",32768),dba:E(K,"videoSocketReceiveBufferSize",65536),Zoa:E(K,"headersSocketReceiveBufferSize",32768),c8b:E(K,"updatePtsIntervalMs",1E3),$vb:E(K,"bufferTraceDenominator",100),TTa:E(K,"bufferLevelNotifyIntervalMs",2E3),cS:E(K,"aseReportDenominator",0),Aia:E(K,"aseReportIntervalMs",3E5),EEb:E(J,"enableAbortTesting",!1),nsb:E(K,"abortRequestFrequency",8),a5b:E(K,"streamingStatusIntervalMs",2E3),wW:E(K,"prebufferTimeLimit",24E4),E6a:E(K,"minBufferLevelForTrackSwitch",2E3),Vta:E(K,"penaltyFactorForLongConnectTime",2),gra:E(K,"longConnectTimeThreshold",200),aia:E(K,"additionalBufferingLongConnectTime",2E3),bia:E(K,"additionalBufferingPerFailure",8E3),LW:E(K,"rebufferCheckDuration",6E4),YEb:E(J,"enableLookaheadHints",!1),IRb:E(K,"lookaheadFragments",2),ZK:E(J,"enableOCSideChannel",!0),k0:E(N,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),mfb:E(J,"updateDrmRequestOnNetworkFailure",!1),bDb:E(J,"deferAseScheduling",!1),rSb:E(K,"maxDiffAudioVideoEndPtsMs",16E3),ela:E(K,"defaultHeaderCacheSize",4),dla:E(K,"defaultHeaderCacheDataPrefetchMs",8E3),j7a:E(J,"neverWipeHeaderCache",!0),rsa:E(K,"networkFailureResetWaitMs",2E3),qsa:E(K,"networkFailureAbandonMs",6E4),V7:E(K,"maxThrottledNetworkFailures",3),yaa:E(K,"throttledNetworkFailureThresholdMs",200),nra:E(L,"lowThroughputThreshold",400),lma:E(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),TTb:E(J,"mp4ParsingInNative",!1),p4b:E(J,"sourceBufferInOrderAppend",!0),FN:E(J,"requireAudioStreamToEncompassVideo",!0),Gtb:E(J,"allowAudioToStreamPastVideo",!0),tYa:E(J,"enableManagerDebugTraces",!1),C5a:E(K,"managerDebugMessageInterval",1E3),B5a:E(K,"managerDebugMessageCount",20),hic:E(J,"notifyManifestCacheEom",!1),Zvb:E(K,"bufferThresholdToSwitchToSingleConnMs",18E4),Yvb:E(K,"bufferThresholdToSwitchToParallelConnMs",12E4),q9:E(K,"periodicHistoryPersistMs",3E5),x$:E(K,"saveVideoBitrateMs",18E4),SSa:E(J,"appendMediaRequestOnComplete",!0),vza:E(J,"waitForDrmToAppendMedia",!1),Wma:E(J,I("forceAppendHeadersAfterDrm"),!1),CHb:E(J,I("forceAppendEncryptedStreamHeaderFirst"),!0),b_b:E(J,I("reappendRequestsOnSkip"),!1),bUb:E(K,"netIntrStoreWindow",36E3),zTb:E(K,"minNetIntrDuration",8E3),vGb:E(K,"fastHistoricBandwidthExpirationTime",10368E3),pvb:E(K,"bandwidthExpirationTime",5184E3),uGb:E(K,"failureExpirationTime",86400),qNb:E(K,"historyTimeOfDayGranularity",4),dGb:E(J,"expandDownloadTime",!1),ITb:E(K,"minimumMeasurementTime",500),HTb:E(K,"minimumMeasurementBytes",131072),i6b:E(K,"throughputMeasurementTimeout",2E3),qOb:E(K,"initThroughputMeasureDataSize",262144),j6b:E(H,"throughputPredictor","ewma"),h6b:E(K,"throughputMeasureWindow",5E3),m6b:E(K,"throughputWarmupTime",5E3),g6b:E(K,"throughputIQRMeasureWindow",5E3),elb:E(K,"IQRBucketizerWindow",15E3),Oyb:E(K,"connectTimeHalflife",10),V0b:E(K,"responseTimeHalflife",10),pNb:E(K,"historicBandwidthUpdateInterval",2E3),GTb:E(K,"minimumBufferToStopProbing",1E4),xwa:E(H,"secondThroughputEstimator","none"),lbb:E(L,"secondThroughputMeasureWindowInMs",Infinity),PEb:E(ia,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),LGb:E(N,"filterDefinitionOverrides",{}),MCb:E(H,"defaultFilter","throughput-ewma"),K1b:E(H,"secondaryFilter","none"),fXa:E(N,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),psa:E(J,"needMinimumNetworkConfidence",!0),Via:E(J,"biasTowardHistoricalThroughput",!0),Pha:E(J,"addHeaderDataToNetworkMonitor",!1),Bxa:E(J,"startMonitorOnLoadStart",!1),Cva:E(J,"reportFailedRequestsToNetworkMonitor",!1),Fra:E(L,"maxFastPlayBufferInMs",Infinity),X5a:E(L,"maxFastPlayBitThreshold",Infinity),mia:E(J,"appendFirstHeaderOnComplete",!0),pub:E(H,"ase_stream_selector","optimized"),Rqa:E(H,"liveStreamSelectorAlgorithm","livesimple"),Dpa:E(H,"initBitrateSelectorAlgorithm","default"),dja:E(H,"bufferingSelectorAlgorithm","default"),sCb:E(H,"ase_ls_failure_simulation",""),Uka:E(J,"ase_dump_fragments",!1),Vka:E(K,"ase_location_history",0),XWa:E(K,"ase_throughput",0),tCb:E(J,"ase_simulate_verbose",!1),$Xb:E(K,"pollingPeriod",150),sRb:E(K,"loadTimeMs",18E4),hSb:E(K,"marginTimeMs",1E4),Ana:E(J,"getDeviceIdFromBindDevice",!1),Oha:E(J,"addFailedLogBlobsToQueue",!0),p7b:{"content-sampling":{vr:E(K,"contentSamplingMaxBufferingTime",3E3),TN:E(H,"contentSamplingSelectStartingVMAFMethod","fallback"),MR:E(J,"contentSamplingActivateSelectStartingVMAF",!0),Ht:E(K,"contentSamplingMinStartingVideoVMAF",80),GV:E(K,"contentSamplingMinAcceptableVMAF",70),MG:E(K,"contentSamplingMinAllowedVmaf",60)},billboard:{Gt:E(K,"billboardMinInitVideoBitrate",1050),My:E(K,"billboardMaxInitVideoBitrate",null),yr:E(K,"billboardMinPrebufSize",null),gC:E(K,"billboardMaxPrebufSize",null),vr:E(K,"billboardMaxBufferingTime",null),tM:E(K,"billboardMaxPartialBuffersAtBufferingStart",null),Iy:E(K,"billboardLowestWaterMarkLevel",6E3),Hy:E(K,"billboardLowestBufForUpswitch",25E3),$xa:E(H,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Gt:E(K,"preplayMinInitVideoBitrate",1050),My:E(K,"preplayMaxInitVideoBitrate",null),yr:E(K,"preplayMinPrebufSize",null),gC:E(K,"preplayMaxPrebufSize",null),vr:E(K,"preplayMaxBufferingTime",null),tM:E(K,"preplayMaxPartialBuffersAtBufferingStart",null),Iy:E(K,"preplayLowestWaterMarkLevel",6E3),Hy:E(K,"preplayLowestBufForUpswitch",25E3)},embedded:{Gt:E(K,"embeddedMinInitVideoBitrate",1050),My:E(K,"embeddedMaxInitVideoBitrate",null),yr:E(K,"embeddedMinPrebufSize",null),gC:E(K,"embeddedMaxPrebufSize",null),vr:E(K,"embeddedMaxBufferingTime",null),tM:E(K,"embeddedMaxPartialBuffersAtBufferingStart",null),Iy:E(K,"embeddedLowestWaterMarkLevel",6E3),Hy:E(K,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Gt:E(K,"videoMerchBobHorizontalMinInitVideoBitrate",null),My:E(K,"videoMerchBobHorizontalMaxInitVideoBitrate",null),yr:E(K,"videoMerchBobHorizontalMinPrebufSize",null),gC:E(K,"videoMerchBobHorizontalMaxPrebufSize",null),vr:E(K,"videoMerchBobHorizontalMaxBufferingTime",null),tM:E(K,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Iy:E(K,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Hy:E(K,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{Gt:E(K,"miniModalHorizontalMinInitVideoBitrate",null),My:E(K,"miniModalHorizontalMaxInitVideoBitrate",null),yr:E(K,"miniModalHorizontalMinPrebufSize",null),gC:E(K,"miniModalHorizontalMaxPrebufSize",null),vr:E(K,"miniModalHorizontalMaxBufferingTime",500),tM:E(K,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Iy:E(K,"miniModalHorizontalLowestWaterMarkLevel",null),Hy:E(K,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},oFb:E(J,"enableVerbosePlaydelayLogging",!1),jFb:E(J,"enableSeamless",!1),j2a:E(K,"hindsightDenominator",0),i2a:E(K,"hindsightDebugDenominator",0),k2a:E(N,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),xYa:E(J,"enableSessionHistoryReport",!1),WXa:E(K,"earlyStageEstimatePeriod",1E4),M4a:E(K,"lateStageEstimatePeriod",3E4),c6a:E(K,"maxNumSessionHistoryStored",30),L6a:E(K,"minSessionHistoryDuration",3E4),uV:E(K,"maxActiveRequestsPerSession",3),P5a:E(K,"maxActiveRequestsSABCell100",2),Mqa:E(J,"limitAudioDiscountByMaxAudioBitrate",!0),od:E(N,"browserInfo",{}),kwb:E(K,I("busyGracePeriod"),199),j2b:E(J,I("sendTransitionLogblob"),!0),vEb:E(J,I("editVideoFragments"),!0),VXa:E(J,I("earlyAppendSingleChildBranch"),!0),$Nb:E(J,I("includeSegmentInfoOnLogblobs"),!0),jGb:E(J,"exposeTestData",!1),iGb:E(J,I("exposeErrorData"),!1),ZWa:E(J,"declareBufferingCompleteAtSegmentEnd",!0),bS:E(J,I("applyProfileTimestampOffset"),!1),M9:E(N,I("profileTimestampOffsets"),{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}),Am:E(J,I("applyProfileStreamingOffset"),!1),e8:E(J,I("mediaSourceSupportsNegativePts"),!1),Ltb:E(J,I("allowSmallSeekDelta"),!1),f4b:E(K,I("smallSeekDeltaThresholdMilliseconds"),t.I0),JEb:E(J,"enableCDMAttestedDescriptors",!1),Mva:E(J,"requireDownloadDataAtBuffering",!1),Nva:E(J,"requireSetupConnectionDuringBuffering",!1),Q$a:E(J,"recordFirstFragmentOnSubBranchCreate",!1),Pfb:E(J,"useMobileVMAF",!1),tXa:E(H,"desiredVMAFTypeMobile","phone_plus_lts"),uXa:E(H,"desiredVMAFTypeNonMobile","plus_lts"),MR:E(J,"activateSelectStartingVMAF",!1),Ht:E(K,"minStartingVideoVMAF",1),GV:E(K,"minAcceptableVMAF",1),MG:E(K,"minAllowedVmaf",1),Otb:E(J,"alwaysNotifyEOSForPlaygraph",!0),bFb:E(J,"enableNewAse",!0),z8b:E(J,"useNewApi",!0),O7:E(K,"maxAllowedOutstandingRequests",4),cK:E(J,"alwaysRunUnderflowTimer",!0),fsa:E(K,"minStreamableConcurrencyWindow",3E3),Nxa:E(O,"streamableConcurrencyFactor",.3),qS:E(K,"bufferingConcurrencyWindow",7800),Y3b:E(J,"singleStreamablePerBranch",!0),J4:E(J,"enableResolutionVMAFStreamFilter",!1),k$:E(N,"resolutionVMAFCappingRuleList",{}),Yta:E(L,"percentCapTitlesForResolutionVMAFStreamFilter",100),JDb:E(J,"disableSkipping",!1),Saa:E(J,"useHLSPlayer",Sa.Saa),jza:E(J,I("useExitZones"),!0),D0b:E(J,"requestSegmentVmaf",!1),cN:E(N,"perFragmentVMAFConfig",{enabled:!1}),Gta:E(K,"paddingDurationMs",1E3),Hta:E(H,"paddingMediaType","padding"),Ndb:E(J,"supportsPtsChanged",!1),nYb:E(J,I("preferUnletterboxed"),!1),rYa:E(J,"enableKeySystemRestrictor",!1),TFb:E(K,"errorEventToRestrict",2),SFb:E(T,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),RFb:E(T,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),jYa:E(J,"enableCachedErrors",!1),uwb:E(K,"cachedErrorCountLimit",20),wwb:E(K,"cachedErrorExpirationSeconds",604800),xwb:E(K,"cachedErrorsStorageTimeoutSeconds",2E3),BG:E(K,"liveTargetBufferDuration",1E4),E7:E(L,"liveEdgeCushion",2E3),nM:E(J,"liveSwitchStreamsOnErrorInPipeline",!0),D7:E(J,"liveAccurateFragmentTimestamps",!1),YK:E(J,"enableMissingSegmentsDetection",!1),iT:E(J,"enableMissingSegmentsReplacement",!1),F7:E(L,"liveMaxTemporaryRequestErrorRetries",6),pra:E(L,"lowerStreamLiveMaxTemporaryRequestErrorRetries",3),nma:E(L,"explorationPhaseLiveMaxTemporaryRequestErrorRetries",1),XQb:E(L,"liveEdgeThreshold",1E4),QEb:E(J,"enableForceLiveEdgeAtEventStart",!0),WEb:E(J,"enableLivePlaybackRateDriftCorrection",!1),eRb:E(O,"livePlaybackRateMin",.98),dRb:E(O,"livePlaybackRateMax",1.02),cRb:E(L,"livePlaybackRateAdjustmentThresholdMs",20),bRb:E(L,"livePlaybackRateAdjustmentIntervalMs",1E3),aRb:E(O,"livePlaybackRateAdjustmentFactor",.1),EHb:E(L,"forceAstRelativeLiveBookmark",void 0),GHb:E(L,"forceEstRelativeLiveBookmark",void 0),H4b:E(L,"startSlateMs",void 0),gRb:E(L,"liveSlateMs",void 0)};da=!0;b.lka=function(P){var Y,ta,Ha;Y=d.Ba.get(B.Lc).id;if(0 < b.config.o5a && 0 === Y % b.config.o5a)try{ta=d.Ba.get(w.ll);Ha=d.Ba.get(v.Rw).Xs("config","info",{params:P});ta.xc(Ha);}catch(Wa){d.log.error("Failed to log config$apply",Wa);}ob._cad_global.config=b.config;(0,n.oa)(P);P && (ab=(0,p.Wd)({},P,{oV:!0}),(0,p.Wd)(ab,oa,{oV:!0}),G(Q,b.config),ab.istestaccount && d.log.trace("Config applied for",Aa(da?ab:P)),da=!1);};(0,b.lka)(ab);};b.G3=function(D){D=c(D);return (0,p.Wd)({},a(87141)(D),{f9:!0});};b.GVa=function(D,F,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={Mv:D?b.config.tTb:b.config.Mv,Py:D?b.config.BTb:G?b.config.CTb:b.config.Py,VXa:!F};return (0,p.Wd)({},a(87141)(D),{f9:!0});};b.Myb=c;b.Lyb=l;},70:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(52569);l=a(33096);f=a(36129);k=a(22365);r=a(31276);a=a(11479);d=r.Ba.get(a.Oh);d.register(f.V.jGa,function(g){k.xp && k.xp.generateKey && k.xp.importKey && k.xp.unwrapKey?(d.ke("wcs"),(0,c.UG)(k.xp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.ke("wcdone");g(l.bg);},function(n){var h;n="" + n;if(0 <= n.indexOf("missing crypto.subtle"))h=f.S.Gfa;else 0 <= n.indexOf("timeout waiting for iframe to load") && (h=f.S.yob);g({Aa:h,Nb:n});})):g({Aa:f.S.Gfa});});},1481:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.Mk=void 0;c=a(33096);l=a(29204);r=a(36129);f=a(45146);k=a(31276);d=a(68703);g=a(22365);n=a(11479);h=a(91581);m=k.Ba.get(n.Oh);m.register(r.V.dda,function(p){var q,u,t;q=k.Ba.get(h.zn);(0,f.oa)(l.config);(0,f.oa)(g.Zz && g.Zz.getDeviceId || g.UIa || q.sL);u=k.Ba.get(d.qDa);t=(0,k.Ri)("Device");m.ke("devs");u.create({deviceId:l.config.deviceId,sL:q.sL,wXa:"deviceid",ck:l.config.ck,Sn:q.Sn,TS:q.TS,userAgent:g.MD,Yqa:l.config.Yqa,Ana:l.config.Ana,aic:l.config.dy?"mslstoretest":"mslstore",IO:l.config.IO}).then(function(w){b.Mk=w;ob._cad_global.device=b.Mk;t.info("Esn source: " + b.Mk.N4);m.ke("devdone");p(c.bg);}).catch(function(w){w.ia=void 0;p(w);});});},15531:function(r,b,a){var p,q,u,t,w,v,y;function c(x,z,A,B,C){var D;D={};"right" == x.horizontalAlignment?D.right=100 * (A - z.left - z.width - C) / A + "%":D.left=100 * (z.left - C) / A + "%";"bottom" == x.verticalAlignment?D.bottom=100 * (B - z.top - z.height - C) / B + "%":D.top=100 * (z.top - C) / B + "%";return D;}function l(x,z){var A;if(x && z){40 === z.x && 19 === z.y?A=4 / 3 / (40 / 19):52 === z.x && 19 === z.y && (A=16 / 9 / (52 / 19));if(A)return x.width / x.fontSize / A;}}function f(x,z,A,B,C,D,F){for(var G=x.style,E=(0,q.gpa)(x.text),I=x.lineBreaks;I--;){E="<br />" + E;}return k(E,G,z,A,B,C,D,x.lang,F);}function k(x,z,A,B,C,D,F,G,E){var I;I=z.characterStyle;C=C[I];I=0 <= I.indexOf("MONOSPACE")?l(C,z.cellResolution) || C.lineHeight:C.lineHeight;B=z.characterSize * B.height / (I || 1);G && "ja" === G.slice(0,2) && z.ruby && "text" === z.ruby && (B/=2);B=0 < D?(0,u.ZI)(B * D):(0,u.xn)(B);D={"font-size":B + "px","line-height":"normal","font-weight":"normal"};z.characterItalic && (D["font-style"]="italic");z.characterUnderline && (D["text-decoration"]="underline");z.characterColor && (D.color=z.characterColor);z.backgroundColor && 0 !== z.backgroundOpacity && (D["background-color"]=d(z.backgroundColor,z.backgroundOpacity));if(G && "ja" === G.slice(0,2)){if(z.textEmphasis){B=z.textEmphasis;switch(B.textEmphasisShape){case "auto":D["text-emphasis"]="vertical-lr" === F || "vertical-rl" === F?"filled sesame":"filled circle";break;default:D["text-emphasis"]=B.textEmphasisFill + " " + B.textEmphasisShape;}E=n(B.textEmphasisPosition,E);switch(F){case "vertical-rl":D["text-emphasis-position"]=v[E];break;case "vertical-lr":D["text-emphasis-position"]=y[E];break;default:D["text-emphasis-position"]=w[E];}}z.textCombine && (D["text-combine-upright"]=z.textCombine);}F=z.characterEdgeColor || "#000000";switch(z.characterEdgeAttributes){case "DROP_SHADOW":D["text-shadow"]=F + " 0px 0px 7px";break;case "UNIFORM":D["text-shadow"]="-1px 0px " + F + ",0px 1px " + F + ",1px 0px " + F + ",0px -1px " + F;break;case "RAISED":D["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":D["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}F=(0,p.HS)(D);(A=A[z.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (F+=";" + A);A=z.characterOpacity;0 < A && 1 > A && (x='<span style="opacity:' + A + '">' + x + "</span>");G && "ja" === G.slice(0,2)?(x='<span lang="ja" style="' + F + '">' + x + "</span>",z.ruby && "text" === z.ruby && (x="<rt>" + x + "</rt>")):x='<span style="' + F + '">' + x + "</span>";return x;}function d(x,z){x=x.substring(1);x=parseInt(x,16);return "rgba(" + (x >> 16 & 255) + "," + (x >> 8 & 255) + "," + (x & 255) + "," + (void 0 !== z?z:1) + ")";}function g(x,z,A,B){var C;C="";x && "text" === x && (C='<ruby style="ruby-position: ' + ("before" === z || "over" === z || "outside" === z && 0 === A?"over":"under") + "; " + B + '">');return C;}function n(x,z){return x === t[0] || "outside" === x && 0 === z?t[0]:t[1];}function h(x){return x.replace(/(<ruby[\s\S]*?)(<br\s*\/?>+)([\s\S]*?<\/ruby>)/g,"$2$1$3");}function m(x){return (x=x.match(/(font-size:\d+px)/))?x[0]:"";}Object.defineProperty(b,"__esModule",{value:!0});b.NJb=b.QTb=b.bzb=b.iwb=b.GYa=b.JFb=b.HFb=b.KFb=b.IFb=b.HYa=b.IYa=b.Xla=void 0;p=a(52569);q=a(3887);u=a(22365);b.Xla=function(x,z,A,B,C){var D,F,G,E,I,M,L;D="";F="";G=0;E="";I=!1;M="";L="";x.textNodes.forEach(function(K){var O,H,J,N;G+=K.lineBreaks;J=f(K,A,z,B,C,x.region.writingMode,G);if(K.lang && "ja" === K.lang.slice(0,2)){if(K.style && K.style.ruby && "" != K.style.ruby && ("base" === K.style.ruby && (L=m(J)),"container" !== K.style.ruby && (M+=J),J="","text" === K.style.ruby)){N=g(K.style.ruby,null !== (O=K.style.rubyPosition) && void 0 !== O?O:"outside",G,L);I="" !== N;M=N + M;}!E || "" === E || K.style.ruby && "" !== K.style.ruby && "container" !== K.style.ruby || (M=h(M + (I?"</ruby> ":"")),J=M + J,I=!1,M="");}D+=J;E=null !== (H=K.style.ruby) && void 0 !== H?H:"";"" === F && K.style && K.style.shear && (F="font-style: oblique " + -90 * parseFloat(K.style.shear) + "deg;");});"" !== M && (D+=M + (I?"</ruby> ":""));x.region && x.region.multiRowAlignment && (D='<span style="display:inline-block;' + F + "text-align:" + x.region.multiRowAlignment + '">' + D + "</span>");return D;};b.IYa=function(x,z,A,B,C){var D,F,E,I,M;D="";F=C.width;C=C.height;for(var G=z.length;G--;){E=z[G];I=x[G];I=I && I.region;M="position:absolute;background:" + B + ";width:" + (0,u.xn)(E.width + 2 * A) + "px;height:" + (0,u.xn)(E.height + 2 * A) + "px;";E=c(I,E,F,C,A);(0,q.Tf)(E,function(L,K){M+=L + ":" + K + ";";});D+='<div style="' + M + '"></div>';}return D;};b.HYa=c;b.IFb=l;b.KFb=f;b.HFb=k;b.JFb=d;b.GYa=function(x){var z;x=x.region;z={display:"block","white-space":"nowrap"};switch(x.horizontalAlignment){case "left":z["text-align"]="left";break;case "right":z["text-align"]="right";break;default:z["text-align"]="center";}!x.writingMode || "vertical-lr" !== x.writingMode && "vertical-rl" !== x.writingMode || (z["writing-mode"]=x.writingMode);return (0,p.HS)(z);};b.iwb=g;b.bzb=n;b.QTb=h;b.NJb=m;t=["before","after"];w={before:"over right",after:"under right"};v={before:"over right",after:"over left"};y={before:"over left",after:"over right"};},33579:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Zeb=void 0;c=a(22365);b.Zeb=function(l,f){function k(n,h,m){var t,v,y,x,z;if(n && 1 < n.length){for(var p=[],q=[],u=0;u < n.length;u++){p[u]=0;q[u]=0;}t=!1;for(u=0;u < n.length;u++){for(var w=u + 1;w < n.length;w++){v=n[u];y=n[w];if(0 > v.width || 0 > y.width || y.left > v.left + v.width || y.left + y.width < v.left || y.top > v.top + v.height?0:y.top + y.height >= v.top){x=(0,c.ks)(v.left,y.left);z=(0,c.ks)(v.top,y.top);x={width:(0,c.ks)((0,c.Tw)(v.left + v.width,y.left + y.width) - x,0),height:(0,c.ks)((0,c.Tw)(v.top + v.height,y.top + y.height) - z,0),x:x,y:z};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((z=x.width <= x.height,v=d(n[u]),y=d(n[w]),z && h || !z && !h))(x=(0,c.ks)(x.width / 2,.25),v.x <= y.x?(q[u]-=x,q[w]+=x):(q[w]-=x,q[u]+=x));else if(z && !h || !z && h)(v=(0,c.ks)(x.height / 2,.25),p[u]-=v,p[w]+=v);}}for(u=0;u < n.length;u++){if(-.25 > q[u] && 0 <= n[u].left + q[u] || .25 < q[u] && n[u].left + n[u].width + q[u] <= m.width)(n[u].left+=q[u],t=!0);if(-.25 > p[u] && 0 <= n[u].top + p[u] || .25 < p[u] && n[u].top + n[u].height + p[u] <= m.height)(n[u].top+=p[u],t=!0);}return t;}}function d(n){return {x:n.left + n.width / 2,y:n.top + n.height / 2};}l=l.map(function(n){return {top:n.top,left:n.left,width:n.width,height:n.height};});(function(n,h){n.forEach(function(m){0 > m.left && m.left + m.width < h.width?m.left+=(0,c.Tw)(-m.left,h.width - (m.left + m.width)):m.left + m.width > h.width && 0 < m.left && (m.left-=(0,c.Tw)(m.left + m.width - h.width,m.left));0 > m.top && m.top + m.height < h.height?m.top+=(0,c.Tw)(-m.top,h.height - (m.top + m.height)):m.top + m.height > h.height && 0 < m.top && (m.top-=(0,c.Tw)(m.top + m.height - h.height,m.top));});})(l,f);for(var g=0;50 > g && k(l,!0,f);g++){;}for(g=0;50 > g && k(l,!1,f);g++){;}return l;};},99732:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.y5a=void 0;c=a(29204);l=a(33096);f=a(24066);r=a(36129);k=a(22365);d=a(32687);g=a(31276);a=a(11479);g.Ba.get(a.Oh).register(r.V.bGa,function(n){var p,q,u,t,w;function h(){return (0,k.ZI)((0,f.Nn)() / u);}function m(){var v;v=h();if(v != w){for(var y=(0,k.Tw)(v - w,30);y--;){t.push(0);}(y=(0,k.ks)(t.length - 31,0)) && t.splice(0,y);w=v;}t[t.length - 1]++;}p=c.config.QRb;q=-6 / (p - 2 - 2);u=l.js;t=[];w=h();(0,d.gqa)(p) && (setInterval(m,1E3 / p),b.y5a={N5:function(){var x;for(var v=[],y=t.length - 1;y--;){x=t[y];v.unshift(0 >= x?9:1 >= x?8:x >= p - 1?0:(0,k.xn)((x - 2) * q + 7));}return v;}});n(l.bg);});},24674:function(r,b,a){var d,g,n,h,m,p;function c(q){var u;q=new n.pP(q);if(1481462272 != q.aq())throw Error("Invalid header");u={XMR:{Version:q.aq(),RightsID:q.ew(16)}};l(q,u.XMR,q.buffer.length);return u;}function l(q,u,t){var w,v,y,x,z;for(;q.position < t;){w=q.Ug();v=q.aq();v-=8;switch(w){case 1:y="OuterContainer";break;case 2:y="GlobalPolicy";break;case 3:y="MinimumEnvironment";break;case 4:y="PlaybackPolicy";break;case 5:y="OutputProtection";break;case 6:y="UplinkKID";break;case 7:y="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:y="AnalogVideoOutputConfiguration";break;case 9:y="KeyMaterial";break;case 10:y="ContentKey";break;case 11:y="Signature";break;case 12:y="DeviceIdentification";break;case 13:y="Settings";break;case 18:y="ExpirationRestriction";break;case 42:y="ECCKey";break;case 48:y="ExpirationAfterFirstPlayRestriction";break;case 50:y="PlayReadyRevocationInformationVersion";break;case 51:y="EmbeddedLicenseSettings";break;case 52:y="SecurityLevel";break;case 54:y="PlayEnabler";break;case 57:y="PlayEnablerType";break;case 85:y="RealTimeExpirationRestriction";break;default:y="Other";}x={Type:f(w)};z=u[y];z?(0,p.isArray)(z)?z.push(x):(u[y]=[],u[y].push(z),u[y].push(x)):u[y]=x;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:l(q,x,q.position + v);break;case 5:x.Reserved1=q.Ug();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Ug();x.MinimumAnalogVideoOutputProtectionLevel=q.Ug();x.Reserved2=q.Ug();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Ug();break;case 10:x.Reserved=q.ew(16);x.SymmetricCipherType=q.Ug();x.AsymmetricCipherType=q.Ug();v=q.Ug();x.EncryptedKeyLength=v;w=q.ew(v);x.EncryptedKeyData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:x.SignatureType=q.ew(2);v=q.Ug();w=q.ew(v);x.SignatureData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:x.Reserved=q.Ug();break;case 18:x.BeginDate=q.aq();x.EndDate=q.aq();break;case 42:x.CurveType=q.ew(2);v=q.Ug();w=q.ew(v);x.Key=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:x.ExpireAfterFirstPlay=q.aq();break;case 50:x.Sequence=q.aq();break;case 51:x.LicenseProcessingIndicator=q.Ug();break;case 52:x.MinimumSecurityLevel=q.Ug();break;case 57:x.PlayEnablerType=k(q.ew(16));break;case 85:break;default:x.OtherData=q.ew(v);}}}function f(q){return "0x" + q.toString(16);}function k(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.yCb=b.zCb=b.xCb=b.wCb=b.vCb=void 0;d=a(33096);g=a(31276);n=a(62082);h=a(62604);m=a(84281);p=a(32687);b.vCb=function(q,u,t){switch(u){case d.QZ:q && (q=(0,g.FTa)(q),(0,m.Ogb)(q,function(w){w.ia && (w=w.object) && (w=(0,h.N_a)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,h.M8a)(w)) && (w=(0,g.Iq)(w)) && (w=c(w)) && t(w);}));}};b.wCb=c;b.xCb=l;b.zCb=f;b.yCb=k;},59032:function(r,b){var c;function a(l,f){var k;k=this;this.oga=[];c.forEach(function(d){(d=d(l,f)) && k.oga.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.WP=b.CIa=void 0;c=[];a.prototype.pz=function(l){var d;for(var f=[],k=this.oga.length;k--;){d=this.oga[k];d.pz(l) && f.push(d.a5);}if(f.length)return f;};b.CIa=a;b.WP=function(l){c.push(l);};},3390:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(31276);l=a(4203);f=a(95136);k=a(81918);(0,r.WP)(function(d,g){var n,h;n=c.Ba.get(l.Yb);if(n().kEb){h=c.Ba.get(k.Lc);return new f.HDa(d,g,c.zf,h,n);}});},95136:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q,u){var t;t=this;this.j=h;this.Da=m;this.la=p;this.Ea=q;this.S8={};this.QK={};this.cO=[];this.m3a=1E3;this.maa=l.LHa;this.ota=function(){var w;w=t.j.wb.value === d.hb.Oe && t.j.state.value === d.Wb.ce && t.j.P === t.Da.P;t.GU?w || (clearInterval(t.GU),t.GU=void 0,t.YU=void 0):w && (t.GU=ob.setInterval(t.n6b,t.m3a));};this.n6b=function(){var w,v,y,x;v=t.j.Yd.value;v=v && v.stream;v=null !== (w=v && v.height) && void 0 !== w?w:null;if(null !== v && 0 < v){w=t.Ea.Jb().da(n.pa);y=t.j.Ud.PF();if(y){if(t.YU && w - t.YU.time < 2 * t.m3a && v === t.YU.height){x=y - t.YU.jEb;t.Wha(v,x);t.atb(v,x);}t.YU={time:w,jEb:y,height:v};t.j.s9 && t.j.s9.C2b(t.S8);}}};this.pna=function(){var w;w={};t.QK && t.cO.forEach(function(v){var y,x,z;y=t.QK[v];if(y){x=0;z=0;(0,g.Tf)(y,function(A,B){z+=(0,g.Wi)(A);x+=B;});w[v]=z / x;}});return w;};this.$T=function(w){var v;v={};w.forEach(function(y){v[y]={};});t.QK && ((0,f.dZ)(w),t.cO.forEach(function(y){var x,z,A,B;x=t.QK[y];if(x){z=0;A=0;(0,g.Tf)(x,function(E,I){z+=I;});B=Object.keys(x).map(Number);(0,f.dZ)(B);for(var C=B.length - 1,D=B[C],F=w.length - 1;0 <= F;F--){for(var G=w[F];D >= G && 0 <= C;){(D=x[D]) && (A+=D);D=B[--C];}v[G][y]=(0,k.xn)(A / z * 100);}}}));return v;};this.log=this.la.$a("DFF",h);this.C9=u().nEb;this.ASb=u().lEb;this.N6a=u().mEb;this.Da.Bla={pna:this.pna,$T:this.$T};h.state.addListener(this.ota);h.wb.addListener(this.ota);h.addEventListener(d.ga.EG,this.ota);}Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;l=a(33096);f=a(52569);k=a(22365);d=a(85001);g=a(3887);n=a(5021);c.prototype.pz=function(h){return h.lower && h.height > this.N6a?h.height >= this.SLb():!1;};c.prototype.Wha=function(h,m){var p;p=this.S8[h];p || (this.S8[h]=p=[],h > this.N6a && (this.cO.push(h),(0,f.dZ)(this.cO)));0 < m && !(this.HV && this.HV < h) && (this.HV=h);p.push(m);p.length > this.ASb && p.shift();};c.prototype.atb=function(h,m){var p;p=this.QK[h];p || (this.QK[h]=p={});h=p[m];p[m]=h?h + 1:1;};c.prototype.SLb=function(){var p,q;if(this.HV){for(var h=this.cO.length,m=0;m < h;m++){p=this.cO[m];if(p >= this.HV && p < this.maa){q=this.S8[p];if(q && this.Gxb(this.C9,q) && this.maa != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Da.qp.set({reason:"droppedFrames",height:p}),this.maa=p);}}this.HV=void 0;}return this.maa;};c.prototype.Gxb=function(h,m){var t,w;for(var p=h.length,q=m.length,u=0;u < p;u++){t=h[u];w=t[0];t=t[1];for(var v=0;v < q;v++){if(m[v] >= t && 0 >= --w)return !0;}}return !1;};Xa.Object.defineProperties(c.prototype,{a5:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.HDa=c;},25357:function(r,b,a){var l,f,k;function c(d,g,n,h){var m;m=this;this.j=d;this.Da=g;this.la=n;this.sa=h;this.Mtb=function(p){!0 === p.oldValue && !1 === p.newValue && (m.log.error("RestartStreaming: UHD key is no longer usable"),m.j.Y0b());};this.m7b=function(p){var q,u,t;m.log.trace("UhdKeyStatus: " + p.oldValue + " -> " + p.newValue);u=null === p || void 0 === p?void 0:p.newValue;t=null === p || void 0 === p?void 0:p.oldValue;"usable" !== u && (m.u2b(u,(null === (q=null === p || void 0 === p?void 0:p.Dh) || void 0 === q?void 0:q.height) || 0),"usable" === t && (p=m.sa.fe.qa(m.iQb),m.log.error("UHD KeyStatus unexpectedly changed: " + p.da(k.pa))));};this.Z3a=!1;this.log=this.la.$a("KeyStatusStreamFilter",this.j);this.HSa=new f.Hb(!1,this.Mtb);this.l7b=new f.Hb(void 0,this.m7b);}Object.defineProperty(b,"__esModule",{value:!0});b.NGa=void 0;l=a(28048);f=a(81734);k=a(5021);c.prototype.pz=function(d){return d.ii && (this.k5b(),this.HSa.set(this.Z3a),d.lower && 1080 < d.height && !this.HSa.value)?!0:!1;};c.prototype.m7a=function(d){var g;g=this;Object.entries(d).forEach(function(n){var h,m,p;h=la(n);n=h.next().value;h=h.next().value;n=null !== (p=null === (m=g.hQb) || void 0 === m?void 0:m[n]) && void 0 !== p?p:0;1080 < n && (g.Z3a="usable" === h,g.l7b.set(h,{height:n}));});};c.prototype.k5b=function(){var d,g,n;d=this;n=this.Da.ee;!this.MPb && (0,l.Upa)(n) && (this.MPb=!0,this.hQb=null === (g=null === n || void 0 === n?void 0:n.context) || void 0 === g?void 0:g.n7,this.m7a(n.keyStatuses.value),n.keyStatuses.addListener(function(h){return d.m7a(h.newValue);}),this.iQb=this.sa.fe);};c.prototype.u2b=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.Da.qp.set({reason:"keyStatus",height:g});};Xa.Object.defineProperties(c.prototype,{a5:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.NGa=c;},2898:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);l=a(31276);f=a(25357);(0,r.WP)(function(k,d){if(c.config.gQb)return new f.NGa(k,d,l.zf,l.sa);});},45706:function(r,b,a){var l,f;function c(k,d){var g,n;g=(0,f.Eh)(k,"MSS");if(l.config.oTb)return {a5:"mss",pz:function(h){var m,p;if(h.lower && 2160 <= h.height)a:{for(m=h;m.lower;){if(2160 > m.height && 1080 < m.height){m=!0;break a;}if(1080 >= m.height)break;m=m.lower;}m=!1;}else m=void 0;if(m){if(void 0 === n){try{p=ob.MSMediaKeys;n=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){g.error("hasUltraHdDisplay exception");n=!0;}n || (g.warn("Restricting resolution due screen size",{MaxHeight:h.height}),d.qp.set({reason:"microsoftScreenSize",height:h.height}));}return !n;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Olb=void 0;r=a(59032);l=a(29204);f=a(31276);(0,r.WP)(c);b.Olb=c;},76563:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);l=a(31276);(0,r.WP)(function(f,k){var d,g,n,h;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.n7b);g=d[k.zd];if(c.config.o7b && g){n={};h=(0,l.Eh)(f,"MediaStreamFilter");return {a5:"uiLabel",pz:function(m){if(m.lower && m.height > g)return (n[m.height] || (n[m.height]=!0,h.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:m.height}),k.qp.set({reason:"uiLabel",height:m.height})),!0);}};}});},24427:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;c=a(85001);l=a(61726);b.MFa=function(f){function k(d){f.fireEvent(c.ga.uF,{response:d,P:f.ba.P});}return {download:function(d,g){d.j=f;d=l.Ge.download(d,g);d.q2(k);return d;}};};},61726:function(r,b,a){var g,n,h,m,p,q,u,t,w,v,y,x,z,A;function c(){this.Ii=(0,q.Ri)("Http");this.mj=new g.Uj();this.eE=0;this.Lf={ssl:0,"non-ssl":0,invalid:0};this.D0={Ga:1,Aob:2,iBa:3};this.addEventListener=this.mj.addListener;this.removeEventListener=this.mj.removeListener;}function l(B){var C,D,F,G;C=B.url.split("?");D="sc=" + B.I1b;F=B.pwb?"random=" + (1E17 * (0,w.b0)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=F?"&" + F:"";B.Dc && !(0,h.qqa)(G) && (B=n.config && n.config.wUa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function f(B,C){var D,F,G;D=B.url.split("?");F=k(B);G=D[0];F && (C.cw=F,(void 0 === B.Ur?n.config.Ur:B.Ur) || B.Kr !== x.dQ?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + F):(C.cw=F,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=F));F=B.pwb?"random=" + (1E17 * (0,w.b0)()).toFixed(0):"";n.config.ZK && B.NH && (F="sc=" + B.NH + (F?"&" + F:""));G=D[1]?G + ("?" + D[1] + (F?"&" + F:"")):G + (F?"?" + F:"");B.Dc && !(0,h.qqa)(G) && (B=n.config && n.config.wUa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));C.url=G;}function k(B){var C;C=B.offset;if(void 0 !== C)return ((0,u.NS)(C),void 0 !== B.length?(B=C + B.length - 1,(0,u.NS)(B),C + "-" + B):C + "-");}function d(B,C,D,F){var G,E;G=F.z9a;E=F.headers;B.open(G?"POST":"GET",C,D);switch(F.responseType){case b.tU:B.responseType="arraybuffer";break;case b.ipa:(0,t.nUa)(B,"overrideMimeType",void 0,"text/xml");}G && (C={"Content-Type":(0,y.rg)(G)?"text/plain":"application/x-octet-stream"},E=E?(0,t.Wd)(C,E):C);E && (0,t.Tf)(E,function(I,M){B.setRequestHeader(I,M);});F.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}Object.defineProperty(b,"__esModule",{value:!0});b.tU=b.ipa=b.hpa=b.yNb=b.jpa=b.xNb=b.o2a=b.y6=b.Ge=b.vNb=b.wNb=void 0;g=a(94886);n=a(29204);r=a(33096);h=a(52569);m=a(24066);p=a(36129);q=a(31276);u=a(45146);t=a(3887);w=a(22365);v=a(32219);y=a(32687);x=a(32934);z=a(57504);c.prototype.S3b=function(B){var C;C=new XMLHttpRequest();B=l(B);C.open("HEAD",B,!0);C.onreadystatechange=function(){2 === C.readyState && 200 <= C.status && 299 >= C.status && !1;};C.send();return function(){return C.abort();};};c.prototype.download=function(B,C){var O,H,J,N,R,T,ka,sa,ia,wa,Aa,La,Ya,ab;function D(){var aa;if(!ka){ka=!0;ab && (ob.clearTimeout(ab),ab=null);O.mj.removeListener(b.jpa,I);O.gha(Aa,La);La && (La.onloadstart=null,La.onreadystatechange=null,La.onprogress=null,La.onerror=null,La.onload=null,La=La.onabort=null);Aa.ia || (Aa.Aa != p.S.xD?J.warn("Download failed",T,(0,p.Ow)(Aa)):J.trace("Download aborted",T));aa=sa;sa=null;null === aa || void 0 === aa?void 0:aa.reduceRight(function(oa,Ga){(0,v.Ef)(function(){return Ga(Aa);});},null);O.mj.Ec(b.o2a,Aa,!0);}}function F(){ab && (ob.clearTimeout(ab),ab=null);ab=ob.setTimeout(M,Ya?R:N);}function G(aa,oa,Ga,Sa){var Q,da;Aa.ia=!1;Aa.Aa=aa;Q=(0,m.Nn)();da=Aa.Tl;da.Zi=da.Zi || Q;da.fq=da.fq || Q;oa && 0 < oa && (Aa.Hl=oa,Aa.Ee=oa.toString());Ga && (Aa.Nb=Ga);Sa && (Aa.JC=Sa);aa !== p.S.BP && aa !== p.S.yD && aa !== p.S.EP || !La || (La.onabort=null,L());D();}function E(aa){var oa,Ga;try{Ga=aa.getResponseHeader("X-Netflix.Retry.Server.Policy");Ga && (oa=JSON.parse(Ga));}catch(Sa){!1;}return oa;}function I(){A() || G(p.S.BP);}function M(){G(Ya?p.S.yD:p.S.EP);}function L(){try{null === La || void 0 === La?void 0:La.abort();}catch(aa){}}function K(){G(p.S.xD);}O=this;(0,u.oa)(C);J=(null === (H=null === B || void 0 === B?void 0:B.j) || void 0 === H?0:H.log)?(0,q.Eh)(B.j,"Http"):this.Ii;N=B.H3 || n.config.H3;R=B.Asa || n.config.Asa;T={Num:this.eE++};ka=!1;sa=[C];ia={};this.$rb(B);Aa=new z.PFa(B,L,M,ia,function(aa){ka || ((0,u.oa)(sa,"Callback should be added before download starts."),sa && sa.unshift(aa));});Ya=!1;(0,v.Ef)(function(){var aa;if((0,y.pqa)(B.url))try{if((f(B,Aa),wa=Aa.url,(0,u.OS)(wa),T.Url=wa,A())){!1;La=new XMLHttpRequest();La.onreadystatechange=function(){2 === (null === La || void 0 === La?void 0:La.readyState) && (Ya=!0,ia.Zi=(0,m.Nn)(),La.onreadystatechange=null,F(),!1,O.gha(Aa,La),Aa.TG({timestamp:ia.Zi,connect:!0,mediaRequest:B,start:ia.hz,rt:[ia.Zi - ia.hz],responseHeaders:Aa.headers,httpCode:Aa.Ym}));};La.onprogress=function(oa){Ya=!0;ia.J3=oa.loaded;F();O.gha(Aa,La);oa={mediaRequest:B,bytes:oa.loaded,timestamp:(0,m.Nn)(),bytesLoaded:oa.loaded,responseHeaders:Aa.headers,httpCode:Aa.Ym};Aa.TG(oa);};La.onload=function(oa){if(!ka && La){(0,u.oa)(void 0 === ia.fq);ia.fq=(0,m.Nn)();ia.Zi=ia.Zi || ia.fq;ia.J3=oa.loaded;if(200 <= La.status && 299 >= La.status){a:switch((oa=La,Aa.type)){case b.tU:oa=oa.response || new ArrayBuffer(0);break a;case b.ipa:oa=oa.responseXML;break a;default:oa=oa.responseText;}Aa.parsed=!1;Aa.content=oa;Aa.ia=!0;}else 420 === La.status?G(p.S.DP,La.status):G(p.S.CP,La.status,La.response,E(La));D();}};La.onabort=K;La.onerror=function(){var oa,Ga;if(La){oa=La.status;"undefined" !== typeof n.config.NZa && (oa=n.config.NZa);if(0 < oa){if(420 === oa)G(p.S.DP,oa);else {try{Ga=La.responseText;}catch(Sa){}G(p.S.CP,oa,Ga,E(La));}}else G(p.S.FP);}};aa=(0,m.Nn)();d(La,wa,!0,B);O.mj.Ec(b.y6,Aa,!0);ia.hz=aa;Aa.PM({mediaRequest:B,timestamp:aa});F();O.mj.addListener(b.jpa,I);}else (0,v.Ef)(G.bind(void 0,p.S.BP));}catch(oa){J.error("Exception starting download",oa,T);G(p.S.ada,void 0,(0,t.we)(oa));}else G(p.S.sFa);});return Aa;};c.prototype.$Yb=function(B){var C,D;C=new XMLHttpRequest();D=B.XYb;C.open("HEAD",B.url,!0);C.timeout=n.config.Hua;C.onreadystatechange=function(){2 === C.readyState && (!1,D && D.LM(C.status));};C.ontimeout=C.onerror=function(){!1;D && D.Jsa(C.status);};C.send();};c.prototype.$rb=function(B){var C;try{C=B.url;(0,y.pqa)(C)?0 === C.indexOf("https")?this.Lf.ssl++:0 === C.indexOf("http")?this.Lf["non-ssl"]++:this.Lf.invalid++:this.Lf.invalid++;}catch(D){}};c.prototype.gha=function(B,C){var D;if((void 0 === B.Ym || void 0 === B.headers) && C){B.Ym=C.status;D={};C.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(F){var G;G=la(F.split(": "));F=G.next().value;G=Z(G).join(": ");F && (D[F.toLowerCase()]=G);});B.headers=D;}};b.wNb=f;b.vNb=k;A=r.qMa;b.Ge=new c();b.y6=1;b.o2a=2;b.xNb=3;b.jpa=4;b.yNb=5;b.hpa=b.Ge.D0.Ga;b.ipa=b.Ge.D0.Aob;b.tU=b.Ge.D0.iBa;ob._cad_global.http=b.Ge;},57504:function(r,b,a){var l;function c(f,k,d,g,n){this.q2=this.TG=this.PM=l.Xw;this.request=f;this.type=f.responseType;this.Tl=g;this.abort=k;this.timeout=d;this.q2=n;}Object.defineProperty(b,"__esModule",{value:!0});b.PFa=void 0;l=a(33096);c.prototype.Q2b=function(f){this.PM=f;};c.prototype.W2b=function(f){this.TG=f;};b.PFa=c;},31276:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.Ba=b.wLa=b.GT=b.Eh=b.Ri=b.log=b.zf=b.zL=b.FTa=b.Iq=b.Ex=b.jc=b.wvb=b.Tia=b.uvb=b.vvb=b.Oi=b.JO=b.zY=b.Yg=b.yc=b.sa=void 0;c=a(83989);r=a(87386);l=a(56800);f=a(84408);k=a(6405);d=a(2248);g=a(32687);n=a(79274);h=a(30869);a=a(53085);b.sa=c.ac.get(h.ag);b.yc=c.ac.get(a.Th);b.Yg=c.ac.get(f.yq);b.zY=b.Yg.encode.bind(b.Yg);b.JO=b.Yg.decode.bind(b.Yg);b.Oi=c.ac.get(k.Fw);b.vvb=b.Oi.encode.bind(b.Oi);b.uvb=b.Oi.decode.bind(b.Oi);b.Tia=b.Oi.JF.bind(b.Oi);b.wvb=b.Oi.xeb.bind(b.Oi);b.jc=c.ac.get(d.Zg);b.Ex=function(m){m=(0,g.rg)(m)?(0,b.JO)(m):m;return b.jc.encode(m);};b.Iq=b.jc.decode.bind(b.jc);b.FTa=function(m){return (0,b.zY)((0,b.Iq)(m));};b.zL=function(){return c.ac.get(l.Jw);};b.zf=c.ac.get(r.ab);b.log=b.zf.$a("General");b.Ri=function(m,p){return b.zf.$a(m,void 0,p);};b.Eh=function(m,p,q){return b.zf.$a(p,m,q);};b.GT=function(m,p,q,u){return b.zf.$a(m,void 0,u,p,q);};b.wLa=function(m,p,q){return c.ac.get(n.kQ)(m,p,q).kY();};b.Ba=c.ac;},93114:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(82956);l=a(33096);f=a(29204);k=a(13044);d=a(24066);r=a(36129);g=a(31276);n=a(77134);h=a(22365);m=a(32219);p=a(32687);q=a(45118);u=a(31850);a=a(11479);v=g.Ba.get(a.Oh);v.register(r.V.aGa,function(y){var z;function x(){var A,B,C;A=v.startTime;B={browserua:h.MD,browserhref:h.h0.href,initstart:A,initdelay:v.endTime - A};(A=h.Hg.documentMode) && (B.browserdm="" + A);(0,p.fM)(f.config.fZa) && (B.fesn=f.config.fZa);Object.assign(B,(0,c.poa)());C=h.Eu && h.Eu.timing;C && f.config.CRb.map(function(D){var F;F=C[D];F && (B["pt_" + D]=F - (0,d.hVa)());});A=z.wKb();Object.entries(A).forEach(function(D){var F;F=la(D);D=F.next().value;F=F.next().value;return B["m_" + D]=F;});A=w.Xs("startup","info",B,k.aA.Rma);t.xc(A);}w=g.Ba.get(u.Rw);t=g.Ba.get(q.ll);z=g.Ba.get(n.pJ);v.fV(function(){t.Cb();(0,m.Ef)(x);});y(l.bg);});},86258:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t,w;function c(v,y){var z;function x(){function A(B,C){return C.je && 0 !== C.je.length && C.je[0].AG?(0,f.ez)(v,C).then(function(){z.trace("Successfully released license for session",JSON.stringify(C));return B?B.RW(C):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({mz:C,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.RW(C):Promise.resolve());}l(z).then(function(B){var C;C=B.A4.filter(function(D){return !1 === D.active;}).map(function(D){return A(B,D);});Promise.all(C).then(function(){z.info("release drm session completed for " + C.length + " entries");y(k.bg);}).catch(function(D){D=D || ({});D.DrmCacheSize=C.length;z.error("Unable to release one or more DRM session data",D);y(k.bg);});}).catch(function(B){z.error("Unable to load DRM session data",B);y(k.bg);});}z=(0,h.Ri)("PlayDataManager");y=y || k.Xw;d.config.Vr?y(k.bg):x();}function l(v){var y;if(!b.xla){y=h.Ba.get(m.eca);b.xla=new Promise(function(x,z){y.y$a().then(function(){x(y);}).catch(function(A){v.error("Unable to load DRM data for license release",A);z(A);});});}return b.xla;}Object.defineProperty(b,"__esModule",{value:!0});b.WKa=b.VKa=b.xla=void 0;f=a(43422);k=a(33096);d=a(29204);g=a(37509);n=a(91581);h=a(31276);r=a(36129);m=a(93673);p=a(96687);q=a(85001);u=a(45118);t=a(11479);w=a(21892);b.VKa=function(v){var z,A,B,C,D,F;function y(){A || (v.ke("pdsb"),A=h.Ba.get(p.jQ)().then(function(G){C=G;v.ke("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);v.ke("pdse");throw G;}));return A;}function x(){B=!0;C && C.close();g.ie.removeListener(g.Pk,x);}z=(0,h.Eh)(v,"PlayDataManager");B=!1;D=h.Ba.get(n.t0);if(!D.MI || !D.KI){F=h.Ba.get(w.vea)();D.MI=F.mz;D.KI=F.request;}v.ke("pdctor");v.addEventListener(q.ga.mg,function(){g.ie.removeListener(g.Pk,x);});v.addEventListener(q.ga.cV,function(){var G;if(!d.config.Vr && v.ee){G=v.L3.dWa();l(z).then(function(E){return E.eSa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});v.addEventListener(q.ga.mg,function(){var G;if(!B){v.s9b();G=[(function(){return d.config.Vr || !v.ee?Promise.resolve():new Promise(function(E){var I;z.info("Sending the expedited playdata");I=v.L3.dWa();v.ee.RYa(I).then(function(){z.info("Sent the expedited playdata");return l(z);}).then(function(M){return M?M.RW(I):Promise.resolve();}).then(function(){E(void 0);}).catch(function(M){z.error("Unable to send the expedited playdata",M);E();});});})(),(function(){return y().then(function(E){return E.LX(v.ba);}).then(function(){z.info("Sent the playdata");}).catch(function(E){z.error("Unable to send the playdata",E);});})(),(function(){return new Promise(function(E){h.Ba.get(u.ll).flush(!1).catch(function(){z.error("Unable to send logblob");E(void 0);}).then(function(){E(void 0);});});})()];Promise.all(G).then(function(){v.J8();}).catch(function(){v.J8();});}});g.ie.addListener(g.Pk,x);return {};};b.WKa=function(){return new Promise(function(v){c({},function(y){v(y);});});};h.Ba.get(t.Oh).register(r.V.Uz,function(v){v(k.bg);});},46493:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);l=a(50040);f=a(1481);k=a(29204);d=a(33096);g=a(36129);n=a(45146);h=a(31276);m=a(77134);p=a(63156);q=a(17892);u=a(3887);t=a(22365);w=a(32687);v=a(52569);y=a(45842);x=a(5021);r=a(11479);z=a(50681);A=a(59219);B=a(32934);C=a(71501);D={};F=h.Ba.get(r.Oh);F.register(g.V.cGa,function(G){var L,K,O,H,J,N,R,T,ka,sa,ia,wa,Aa,La;function E(Ya){Ya && Ya.userList && k.config.D3b && (Ya.userList=[]);H({esn:f.Mk.ck,esnPrefix:f.Mk.Sn,authenticationKeyNames:k.config.ivb,systemKeyWrapFormat:k.config.M5b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:Aa,storeState:Ya,notifyMilestone:F.ke.bind(F),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:g.S.Jlb,MSL_READ_TIMEOUT:g.S.Ilb}},{result:function(ab){I(ab);},timeout:function(){G({Aa:g.S.RHa});},error:function(ab){G(M(g.S.RHa,void 0,ab));}});}function I(Ya){var aa,oa,Ga,Sa;function ab(){wa && h.Ba.get(q.Dw).create().then(function(Q){return Q.save(sa,Ga,!1);}).catch(function(Q){R.error("Error persisting msl store",(0,g.Ow)(Q));});}aa=this;oa=h.Ba.get(y.VD)((0,x.Ob)(100));Sa=J.extend({init:function(Q){this.FQa=Q;},getResponse:function(Q,da,P){var Y,ta;da=this.FQa;Y=da.nsa.Ge || Y;Q=(0,w.oqa)(Q.body)?(0,h.zY)(Q.body):Q.body;(0,n.OS)(Q,"Msl should not be sending empty request");Q={url:da.url,z9a:Q,withCredentials:!0,gB:"nq-" + da.method,headers:da.headers};da=this.FQa.timeout;Q.H3=da;Q.Asa=da;ta=Y.download(Q,function(Ha){try{if(Ha.ia)P.result({body:Ha.content});else if(400 === Ha.Hl && Ha.Nb)P.result({body:Ha.Nb});else throw (0,u.Wd)(new N("HTTP error, SubCode: " + Ha.Aa + (Ha.Hl?", HttpCode: " + Ha.Hl:"")),{cadmiumResponse:Ha});}catch(Wa){P.error(Wa);}});return {abort:function(){ta.abort();}};}});ka && Ya.addEventHandler("shouldpersist",function(Q){Ga=Q.storeState;oa.Mj(ab);});(0,u.Wd)(D,{Vgc:function(){ia=!0;},send:function(Q){function da(){var P,Y;P=Q.nsa;Y={method:Q.method,nonReplayable:Q.w7a,encrypted:Q.zF,userId:Q.Xfb,body:Q.body,timeout:2 * Q.timeout,url:new Sa(Q),allowTokenRefresh:wa,sendUserAuthIfRequired:La,shouldSendUserAuthData:k.config.K3b};P.email?(Y.email=P.email,Y.password=P.password || ""):ia && (Y.useNetflixUserAuthData=!0);return Y;}return new Promise(function(P,Y){var ta;ta=da();Ya.send(ta).then(function(Ha){ia && (ia=!1);P({ia:!0,body:Ha.body});}).catch(function(Ha){var Wa,$a;if(Ha.error){Wa=Ha.error.cadmiumResponse && Ha.error.cadmiumResponse.Aa?Ha.error.cadmiumResponse.Aa:Ya.isErrorReauth(Ha.error)?g.S.QHa:Ya.isErrorHeader(Ha.error)?g.S.Clb:g.S.Blb;$a=Ya.getErrorCode(Ha.error);Y(M(Wa,$a,Ha.error));}else (R.error("Unknown MSL error",Ha),Ha.ec=Ha.subCode,Y({Aa:Ha.ec?Ha.ec:g.S.Klb}));});});},KV:Ya});A.ZD.gK.mslFetch=function(Q,da){return c.__awaiter(aa,void 0,void 0,function Y(){var ta,Ha,Wa;return Ja(Y,function($a){if(1 == $a.Nv)return (ta=h.Ba.get(C.lJ),Ma($a,D.send({nsa:{Ge:h.Ba.get(B.zu),profile:ta},timeout:8E3,url:Q.toString(),body:null === da || void 0 === da?void 0:da.body,headers:{"Content-Encoding":"msl_v1","Content-Type":"application/json"},Xfb:ta,m0b:!1,w7a:!0,zF:!0}),2));Ha=$a.UY;Wa={get body() {this.bodyUsed=!0;return Ha.body;}};return $a.return((Wa.bodyUsed=!1,Wa.ok=Ha.ia,Wa.status=Ha.ia?200:400,Wa.statusText=Ha.ia?"OK":"Bad Request",Wa.type="basic",Wa.url=Q.toString(),Wa.headers=new Headers({"Content-Type":"application/json"}),Wa.text=function(){return Promise.resolve(this.body);},Wa.json=function(){return Promise.resolve(JSON.parse(this.body));},Wa.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},Wa.clone=function(){return Object.assign({},this);},Wa.blob=function(){return this.arrayBuffer().then(function(fb){return new Blob([fb]);});},Wa.formData=function(){throw Error("Not implemented");},Wa.redirected=!1,Wa));});});};G(d.bg);h.Ba.get(z.Tda).ZTb(D);}function M(Ya,ab,aa){var oa,Ga,Sa,Q;Sa={Aa:Ya,M4:ab};if(aa){Q=function(da){var P;da=da || "" + aa;if(aa.stack){P="" + aa.stack;da=0 <= P.indexOf(da)?P:da + P;}return da;};if(Ga=aa.cadmiumResponse){if(oa=Ga.Ee && Ga.Ee.toString())Ga.Ee=oa;Ga.Aa=Ya;Ga.M4=ab;Ga.Nb=Q(aa.message);Ga.error={ec:Ya,Vc:oa,Ry:ab,data:aa.cause,message:aa.message};return Ga;}Q=Q(aa.errorMessage);oa=(0,u.Wi)(aa.internalCode) || (0,u.Wi)(aa.error && aa.error.internalCode);Ga=void 0 !== aa.WFb?(0,v.Psa)(aa.WFb):void 0;}Q && (Sa.Nb=Q);oa && (Sa.Ee=oa);Sa.error={ec:Ya,Vc:oa.toString(),Ry:ab,data:Ga,message:Q};return Sa;}(0,n.oa)(k.config);L=h.Ba.get(m.pJ);K=p.Tj.ij;if(t.Zz && t.xp && t.xp.unwrapKey){try{O=ob.netflix.msl;H=O.createMslClient;J=O.IHttpLocation;N=O.MslIoException;}catch(Ya){G({Aa:g.S.Dlb});return;}R=(0,h.Ri)("Msl");T=k.config.VTb;ka=k.config.XTb;sa=k.config.dy?"mslstoretest":"mslstore";O=l.WH.Hbb;ia=!0;wa=!O || O.ia;Aa=(0,h.Iq)(k.config.dy?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");La=!!k.config.Jwa;h.Ba.get(q.Dw).create().then(function(Ya){T?Ya.remove(sa).then(function(){E();}).catch(function(ab){R.error("Unable to delete MSL store",(0,g.Ow)(ab));E();}):ka?Ya.load(sa).then(function(ab){L.mark(K.Flb);E(ab.value);}).catch(function(ab){ab.Aa == g.S.ex?(L.mark(K.Hlb),E()):(R.error("Error loading msl store",(0,g.Ow)(ab)),L.mark(K.Glb),Ya.remove(sa).then(function(){E();}).catch(function(aa){G(aa);}));}):E();}).catch(function(Ya){R.error("Error creating app storage while loading msl store",(0,g.Ow)(Ya));G(Ya);});}else G({Aa:g.S.Elb});});},78719:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.vEa=void 0;c=a(29204);l=a(37509);f=a(3887);k=a(36129);d=a(85001);b.vEa=function(g,n,h){function m(q){var u,t;u=q.error || q;t=(0,f.we)(u);h.error("uncaught exception",u,t);(u=(u=u && u.stack) && c.config.afb && c.config.s7b?0 <= u.indexOf(c.config.afb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),g.pd(k.V.EOa));}function p(){l.ie.removeListener(l.k6,m);g.removeEventListener(d.ga.mg,p);g.removeEventListener(d.ga.Nt,p);}try{l.ie.addListener(l.k6,m);g.addEventListener(d.ga.mg,p);c.config.RNb && g.addEventListener(d.ga.Nt,p);}catch(q){h.error("exception in exception handler ",q);}};},42654:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.tGa=void 0;c=a(29204);l=a(24066);f=a(36129);k=a(981);d=a(22365);g=a(32687);n=a(85001);h=a(31276);m=a(4246);b.tGa=function(p){var u,t,w,v;function q(){p.state.value !== n.Wb.ce || p.wb.value !== n.hb.Rh && p.wb.value !== n.hb.oq?t.Ao():t.pB();}u=c.config.bXb;if(!p.cM() && u){t=h.Ba.get(m.vQ)(u,function(){p.fireEvent(n.ga.SL,f.V.o0);});p.wb.addListener(q);p.state.addListener(q);if(c.config.rpa){w=(0,l.Nn)();v=new k.vMa(c.config.rpa,function(){var y,x;y=(0,l.Nn)();x=y - w;x > u && (p.fireEvent(n.ga.SL,f.V.T_),v.dVa());x > 2 * c.config.rpa && (p.spa=(0,d.ks)(x,p.spa || 0));w=y;});v.i3b();}p.addEventListener(n.ga.mg,function(){t.Ao();(0,g.Wc)(v) && v.dVa();});}};},33059:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v;function c(y,x){this.j=y;this.aj=x;this.I5b=!1;this.log=(0,k.Eh)(this.j,"MediaAppendManager");this.Fb=this.j.Fb;this.$=this.Fb.$;this.JY=this.hS=!1;this.audio={type:f.Vj.audio,rv:[],Vk:[],bN:!1};this.video={type:f.Vj.video,rv:[],Vk:[],bN:!1};y={};this.oI=(y[v.u.Y]=this.video,y[v.u.fa]=this.audio,y);this.closed=!1;this.Ly=l.config.Ly;this.m8=l.config.m8;this.rC=this.j.bb.qg?l.config.yta:l.config.rC;this.ATa=!0;this.jc=k.Ba.get("Base64EncoderSymbol");this.Pma=!1;this.Wta=[];(0,g.oa)(this.Ly > this.m8,"bad config");(0,g.oa)(this.Ly > this.rC,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.fIa=void 0;l=a(29204);f=a(51344);k=a(31276);d=a(36129);g=a(45146);n=a(3887);h=a(33096);m=a(85001);p=a(93294);q=a(5021);u=a(63156);t=a(75568);w=a(69931);v=a(60328);c.prototype.v5=function(){var z,A;function y(B,C){return x(B,C.d8);}function x(B,C){var D,F,G,E;G=!!C.response;E=C.response;if(C.He)return B + (E.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.m3) && void 0 !== D?D:0) - (null !== (F=null === C || void 0 === C?void 0:C.n3) && void 0 !== F?F:0);return (G?E.byteLength:C) + B;}z=this.oI[v.u.Y];A=this.oI[v.u.fa];return {videoToAppend:z.Vk.reduce(x,0),videoInBuffer:z.rv.reduce(y,0),audioToAppend:A.Vk.reduce(x,0),audioInBuffer:A.rv.reduce(y,0)};};c.prototype.NUb=function(){this.audio.Ci && !this.audio.Ci.mh() && (!1,this.audio.Ci.RSa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.Y2b=function(){this.audio.jxa=!0;this.video.jxa=!0;};c.prototype.e3b=function(y){y === v.u.fa?this.hS=!0:y === v.u.Y && (this.JY=!0);};c.prototype.mh=function(){var y,x;return !(null === (y=this.audio.Ci) || void 0 === y || !y.mh()) || !(null === (x=this.video.Ci) || void 0 === x || !x.mh());};c.prototype.O$=function(y){var x,z;null === (x=this.audio.Ci) || void 0 === x?void 0:x.O$(y);null === (z=this.video.Ci) || void 0 === z?void 0:z.O$(y);};c.prototype.Ztb=function(y){var x;y.mediaType === v.u.fa?this.hS=!1:y.mediaType === v.u.Y && (this.JY=!1);x=this.oI[y.mediaType];x?x.Vk.push(y):(0,g.oa)(!1);};c.prototype.Ytb=function(y,x,z){var A;A=this;x=this.ZTa(y.mediaType,x,z);if(!this.Pma)if(y.mediaType === v.u.Y)(this.GYb(y),this.Pma=!0,this.Wta.forEach(function(B){return A.oia(B);}),this.Wta=[]);else {this.Wta.push(x);return;}this.oia(x);};c.prototype.oia=function(y){var x;x=this.oI[y.mediaType];x?x.Vk.push(y):(0,g.oa)(!1);};c.prototype.ZTa=function(y,x,z){return {mediaType:y,zt:!1,response:x,Ti:function(){return "header";},get He() {return !this.zt;},profile:z.profile};};c.prototype.GYb=function(y){(0,g.oa)(!!y.Xcb,"startOfSegment properties need to be set before first header is appended");this.Pma || !l.config.CHb || !this.j.p6() && !this.j.PL() || y.Xcb.z3a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.jc.decode(h.hBa),this.oia(this.ZTa(v.u.Y,y,{profile:t.H.tD})));};c.prototype.b3b=function(y){var x;x=this.oI[y.type];if(x)try{x.Ci=y;}catch(z){this.pd(d.V.iea,{Aa:(0,p.K5)(y.type),Nb:(0,n.we)(z)});}};c.prototype.close=function(){this.$=this.Fb=void 0;this.closed=!0;};c.prototype.pd=function(y,x,z){this.closed || this.j.pd(y,x,z);};c.prototype.Zka=function(y){return this.GXa(this.audio,y,this.a4()) && this.GXa(this.video,y,this.a4());};c.prototype.a4=function(){return this.j.wb.value === m.hb.Af?this.rC:this.m8;};c.prototype.w6b=function(){var y,x;y=this.video.Vk.filter(function(z){return !z.He;}).reduce(function(z,A){return z + A.dt;},0);x=this.audio.Vk.filter(function(z){return !z.He;}).reduce(function(z,A){return z + A.dt;},0);return Math.min(y,x);};c.prototype.GXa=function(y,x,z){var A;A=y.$ka;A=A && A.d8;return !y.Ci || 0 === y.Vk.length && (y.type === f.Vj.audio && this.hS || y.type === f.Vj.video && this.JY)?!0:A && A.DC - x >= z || !1;};c.prototype.Qeb=function(y){this.I5b || (this.Peb(this.audio,y),this.Peb(this.video,y));this.closed || this.HUa();};c.prototype.HUa=function(){var y,x,z,A,B,C;A=!this.audio.Ci || 0 !== this.audio.rv.length;B=0 === this.video.Vk.length && this.JY;C=!this.video.Ci || 0 !== this.video.rv.length;!(0 === this.audio.Vk.length && this.hS && C || B && A) || (null === (y=this.audio.Ci) || void 0 === y?0:y.mh()) || (null === (x=this.video.Ci) || void 0 === x?0:x.mh()) || this.Rla || !(this.$.readyState > u.Tj.Tz.HAVE_NOTHING) || this.aj.d7 || (this.Rla=!0,null === (z=this.Fb) || void 0 === z?void 0:z.endOfStream());};c.prototype.Peb=function(y,x){var z,A,B,C;if(!this.closed && y.Ci){A=y.Ci;B=y.rv;!A.mh() && 0 < B.length && (y.$ka=B[B.length - 1]);if(y.jxa){if(A.mh())return;y.jxa=!1;C=null === (z=this.Fb) || void 0 === z?void 0:z.B0a().C9a(q.pm);C && 0 < C && A.remove(0,C);}for(z=y.Vk[0];z && z.response && (z.He || z.rN - x <= this.Ly);){if((this.Rla=!1,this.j7b(z)))(y.Vk.shift(),z=y.Vk[0]);else break;}!A.mh() && 0 < B.length && (y.$ka=B[B.length - 1]);}};c.prototype.j7b=function(y){var x,z,A;!1;(0,g.oa)(y && !!y.response);x=y.response;z=y.mediaType;A=this.oI[z];if(!this.closed && A.Ci && !A.Ci.mh()){try{y.He && y.profile && A.Ci.qxb(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:x.byteLength});A.Ci.RSa(x,y);y.He || A.rv.push(this.$Ab(y));}catch(B){"QuotaExceededError" === B.name?(this.j.c4=this.j.c4?this.j.c4 + 1:1,this.ATa=!1,A.bN=!0):(this.log.error("Exception while appending media",y,B),this.pd("CodecSwitchingError" === B.name?d.V.PJa:d.V.bnb,(0,p.K5)(z)));return;}return !0;}};c.prototype.SAb=function(y){var x;if(w.mfa[y.Gb])return w.mfa[y.Gb];x=this.j.O1a(y.Qc);x || (this.log.warn("Could not find CDN",{cdnId:y.Qc}),x={id:y.Qc,i5a:y.location});return x;};c.prototype.xWa=function(y){var x,z;x=y.Gb;if(w.nfa[x])return w.nfa[x];y.mediaType === v.u.fa?z=this.j.K1a(x):y.mediaType === v.u.Y && (z=this.j.Z1a(x));z || this.log.error("Could not find stream",{stream:x});return z;};c.prototype.$Ab=function(y){var x;x=this.xWa(y);return {d8:y,stream:x,tK:{startTime:Math.floor(y.rN),endTime:Math.floor(y.DC)},Dc:this.SAb(y)};};c.prototype.Hja=function(y){this.NUa(y,v.u.fa);this.NUa(y,v.u.Y);};c.prototype.NUa=function(y,x){var z,A,B,C,D,F,G,E,I;z=this;A=y;this.ATa && (A-=l.config.uM);B=this.oI[x];C=B.rv;G=!1;C.some(function(M,L){var K;K=M.d8;if(y < K.rN)return ((0,g.oa)(!1,"decoder content does not contain media time"),!0);A >= K.DC && (D=L);if(y < K.DC)return (F=L,L=x === v.u.fa?z.j.jf:z.j.Yd,M !== L.value && (L.set(M),G=!0),!0);});if((B.bN || G) && void 0 !== D && !this.Rla){if(D + 1 === F){if(0 === D)return;D--;}E=C[D].d8.DC - 1;if(0 < E){I=B.Ci;I && !I.mh()?(I.remove(0,E / h.js),B.bN=!1,C.splice(0,D + 1)):(B.bN=!0,!1);}}};c.prototype.Gab=function(){!1;[this.audio,this.video].forEach(function(y){y.rv=[];y.$ka=void 0;y.Vk=[];});this.JY=this.hS=!1;this.j.fireEvent(m.ga.AV);};c.prototype.Ioa=function(){return [this.audio,this.video].filter(function(y){return y.Ci;});};c.prototype.VIb=function(){var y,x;if(this.mh())(0,g.oa)(!1,"should not be busy while checking buffer ranges");else {y=this.Ioa().map(function(z){var A,B,C,D,F;D=z.Vk.filter(function(G){return G.zt;});F=z.Ci.buffered();z=F.length?Math.ceil(1E3 * F.start(0)):void 0;F=F.length?Math.floor(1E3 * F.end(F.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=D[0]) || void 0 === A?void 0:A.rN;A=null !== (C=null === (B=D[D.length - 1]) || void 0 === B?void 0:B.DC) && void 0 !== C?C:F;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(y.every(function(z){return z;})){x=Math.max.apply(Math,ca(y.map(function(z){return z.start;})));y=Math.min.apply(Math,ca(y.map(function(z){return z.end;})));if(y > x)return {start:(0,q.Ob)(x),end:(0,q.Ob)(y)};}}};c.prototype.skip=function(y){(0,g.oa)(!this.mh(),"should not be busy while skipping");this.Ioa().forEach(function(x){x.bN=!0;});this.Hja(y);this.Ioa().forEach(function(x){0 < x.rv.length || (x.Vk=x.Vk.filter(function(z){return z.He || z.DC > y?!0:!1;}));});};b.fIa=c;},36582:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mda="MediaElementHelpersSymbol";},50093:function(r,b,a){var l,f,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.mIa=void 0;r=a(5163);l=a(4203);f=a(33096);a=a(22674);c.prototype.nt=function(){return this.ZOb()?f.GDa:(/widevine/i).test(this.config().Rl)?f.Bca:(/fps/i).test(this.config().Rl)?"fairplay":f.QZ;};c.prototype.ZOb=function(){return (/clearkey/i).test(this.config().Rl);};k=c;k=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(l.Yb))],k);b.mIa=k;},90762:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t,w;function c(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function l(v,y,x,z){var A,B;A=this;this.j=v;this.type=y;this.log=z;this.D1=new d.Hb(!1);this.fE={data:[],state:"",operation:""};this.error=void 0;this.mimeType=this.XYa((this.type === w.u.Y?this.j.Fg.value:this.j.uc.value).streams);this.mj=new g.Uj();this.Rga={Type:this.type};if(k.config.ZB){B=!0;this.Oma=new d.Hb(!1);}this.log.trace("Adding source buffer",this.Rga,{TypeId:this.mimeType});this.Sc=x.addSourceBuffer(this.mimeType);this.Sc.addEventListener("updatestart",function(){!1;A.fE.state="updatestart";});this.Sc.addEventListener("update",function(){!1;A.fE.state="update";});this.Sc.addEventListener("updateend",function(){var C;!1;A.D1.set(!1);A.BPa && A.BPa();A.fE.state="updateend";C=0;try{C=A.Sc.buffered.length;}catch(D){}B && C && (B=!1,A.Oma.set(!0),!1);});this.Sc.addEventListener("error",function(C){var D;!1;try{D=C.target.error && C.target.error.message;(C.message || D) && z.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(F){}v.pd(h.V.cnb,(0,f.K5)(A.type));});this.Sc.addEventListener("abort",function(){!1;});v.addEventListener(q.ga.closed,function(){A.Sc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Hib=b.Nda=void 0;f=a(93294);k=a(29204);d=a(81734);g=a(94886);n=a(31276);a(24550);h=a(36129);a(5021);m=a(45146);p=a(32687);q=a(85001);u=a(95162);t=a(48220);w=a(60328);l.prototype.mh=function(){return this.D1.value;};l.prototype.updating=function(){return this.Sc?this.Sc.updating:!1;};l.prototype.O$=function(v){this.BPa=v;};l.prototype.yna=function(){return this.fE;};l.prototype.buffered=function(){return this.Sc.buffered;};l.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};l.prototype.toJSON=function(){return {type:this.type};};l.prototype.tna=function(){var v,z,A;try{v=this.Sc.buffered;if(v){for(var y=[],x=0;x < v.length;x++){z=1E3 * v.start(x);A=1E3 * v.end(x);(0,m.oa)(A > z);y.push({start:z,end:A});}return y;}}catch(B){}};l.prototype.w5=function(){var v,y;v=this.tna();if(v){v=v.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});y=v.reduce(function(x,z){return x + z.end - z.start;},0);v=v.map(function(x){return x.start + "-" + x.end;});return {Buffered:y.toFixed(3),Ranges:v.join("|")};}};l.prototype.RSa=function(v,y){!1;try{(0,m.oa)(this.Sc.buffered && 1 >= this.Sc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.w5()));}catch(x){}(0,m.oa)(!this.mh());this.qcb("append",v);y=y && y.O9 / 1E3;(0,p.Rb)(y) && this.Sc.timestampOffset !== y && (!1,this.Sc.timestampOffset=y);this.Sc.appendBuffer(v);!1;this.D1.set(!0);};l.prototype.remove=function(v,y){(0,m.oa)(!this.mh());try{this.qcb("remove");!1;this.Sc.remove(v,y);this.D1.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.Rga);}};l.prototype.qcb=function(v,y){this.fE.data=y || [];this.fE.state="init";this.fE.operation=v;};l.prototype.jcb=function(v,y){this.wQb=v / y * 1E3;};l.prototype.qxb=function(v){var y;if(this.Sc){if((v=this.XYa([{type:this.Yyb,Cd:v}]),v !== this.mimeType)){y=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.Sc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Sc.changeType(v);this.mimeType=v;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.Rga,{From:y,To:v}),new c(x.message));}}}else this.log.info("No SourceBuffer");};l.prototype.appendBuffer=function(v,y){!y || y.He?this.nia(v,y):this.pia(v,y);return !0;};l.prototype.nia=function(v,y){this.j.Ud.nia(this,v,y || ({}));};l.prototype.pia=function(v,y){v=this.Syb(v,y);!1;this.j.Ud.pia(v);};l.prototype.Syb=function(v,y){var x;x=this.wQb || 0;return {Ti:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.Yc.Nc.DONE,rN:y.gb,DC:y.gb + y.duration,dt:y.duration,O9:x,Vs:y.Vs,I:y.I,Gb:y.Gb,Qc:+y.Qc,location:y.location,n3:y.offset,m3:y.offset + y.wa - 1,bitrate:y.bitrate,response:v,bNb:v && 0 < v.byteLength,zt:!0,get He() {return !this.zt;},qbb:this.lj - Math.floor(x) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.I,isHeader:this.He,ptsStart:this.rN,ptsOffset:this.O9,responseType:this.jec,duration:this.dt,readystate:this.Te};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};l.prototype.endOfStream=function(){var v;this.j.ME("EndOfStream");null === (v=this.j.Ud) || void 0 === v?void 0:v.K8(this.mediaType);return !0;};l.prototype.Wcb=function(v){this.Mrb=v;};l.prototype.addEventListener=function(v,y,x){this.mj.addListener(v,y,x);};l.prototype.removeEventListener=function(v,y){this.mj.removeListener(v,y);};l.prototype.XYa=function(v){var y;y=n.Ba.get(u.rQ);return this.type === w.u.Y?y.U3(v):y.O3(v);};Xa.Object.defineProperties(l.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},Xcb:{configurable:!0,enumerable:!0,get:function(){return this.Mrb;}},Yyb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.Nda=l;fa(c,Error);b.Hib=c;},73056:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O;function c(H){var J;J=this;this.j=H;this.Fb=this.j.Fb;this.log=(0,h.Eh)(this.j,"MediaPresenterASE");this.A8=this.b4=0;this.$=this.Fb.$;this.Vy=new K.ROa(this.$,this.j);this.g9a=this.V8a=this.e7=this.hua=!1;this.C7=new Set();this.L5b=h.Ba.get(B.VD)((0,A.Ob)(x.I0));this.eK=void 0;this.aj=h.Ba.get(D.bNa)(this.j);this.ww={};this.q6a={};this.kU={};this.tg=new G.fIa(this.j,this.aj);this.J5b=function(){var N,R,T;J.j.XX=(0,n.Nn)();if(!J.Ql() && J.NB){N=J.Fb.i1a();N || (J.jXb(),J.tg.Qeb(J.mediaTime));J.j.paused.value || !J.tg.Zka(J.mediaTime) || !J.fja() || N || J.aj.d7?J.bwa():J.hua || J.cwa();J.iXb();if(!J.Fb.i1a() && !J.e7){N=J.Fb.yL(!0);R=J.j.wb.value;T=J.Iyb();R !== T && !1;T === v.hb.oq?(J.mediaTime=J.j.Xp.da(A.pa),J.bwa()):T !== v.hb.Af && J.Z7b(N);J.wfb();J.tg.Hja(J.mediaTime);J.j.wb.set(T);T !== v.hb.Af || R !== v.hb.Oe && R !== v.hb.Rh || J.kta();}}};this.el=(0,F.e$a)(this.J5b);this.mediaTime=H.gb;this.j.Ch=!1;this.Fb.addEventListener(z.Qh.Ocb,function(){if(J.Pcb){J.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{J.Cb();}catch(N){J.log.error("Exception while initializing",N);J.pd(m.V.Qmb);}}});this.Fb.addEventListener(z.Qh.S4a,function(N){N=N.J;J.Pcb?J.W7a(N):J.C7.add(N);});}Object.defineProperty(b,"__esModule",{value:!0});b.vIa=void 0;l=a(33096);f=a(29204);k=a(13044);d=a(37509);g=a(52569);n=a(24066);h=a(31276);a(24550);m=a(36129);p=a(91591);q=a(45146);u=a(8825);t=a(3887);w=a(32219);v=a(85001);y=a(32687);x=a(93294);z=a(16520);A=a(5021);B=a(45842);C=a(4246);D=a(65106);F=a(97368);G=a(33059);E=a(36418);I=a(28048);M=a(22365);L=a(60328);K=a(49587);O=a(63156);c.prototype.FZb=function(H){var J,N,R;J=this;if(this.Vy.paused){N=Math.ceil(H.tOb);R=function(T){J.aj.Wy?J.aj.Wy.time=T:J.t6a=T;};N > (this.aj.Wy?this.aj.Wy.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",N),R(N));H.bna && (this.log.trace("ptsChanged forcedTimestamp",H.bna),R(H.bna));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.U_a=function(){return this.Fb.yL(!1);};c.prototype.F5=function(){return this.Fb.F5();};c.prototype.zv=function(){return this.Fb.zv();};c.prototype.PF=function(){return this.Fb.PF();};c.prototype.NT=function(){return this.Fb.NT();};c.prototype.Cb=function(){var H,J;H=this;this.log.trace("Video element initializing");this.Fb.sourceBuffers.forEach(function(N){return H.tg.b3b(N);});this.j.rG?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.P}),null === (J=this.j.cb) || void 0 === J?void 0:J.B4(this.j.P));0 < this.C7.size && setTimeout(function(){H.log.trace("Notifying about licenses that were added before source buffers created");Array.from(H.C7).forEach(function(N){H.C7.delete(N);H.W7a(N);});},0);this.log.trace("Waiting for loadedmetadata");(0,g.tSa)(this.$,"loadedmetadata",function(){H.log.trace("Video element event: loadedmetadata");H.j.ke("md");});d.ie.addListener(d.Pk,this.kU[d.Pk]=function(){return H.close();},l.dJ);this.j.addEventListener(v.ga.mg,function(){return H.close();},l.dJ);this.j.addEventListener(v.ga.bbb,function(){return H.cwa();});this.j.addEventListener(v.ga.EG,function(){return H.FVb();});this.j.paused.addListener(function(){return H.el();});this.j.muted.addListener(function(){return H.dza();});this.j.volume.addListener(function(){return H.dza();});this.j.playbackRate.addListener(function(){return H.EO();});this.j.Hq.addListener(function(){return H.el();});this.j.dm.addListener(function(){return H.el();});this.dza();this.EO();this.tg.O$(function(){return H.Z7();});this.Z7();this.c7b();};c.prototype.W7a=function(H){var J;this.j.ke("ld",H);null === (J=this.j.cb) || void 0 === J?void 0:J.B4(H);this.j.fireEvent(v.ga.P4a);};c.prototype.pia=function(H){var J;J=this;!1;this.tg.Ztb(H);this.pxb(H).then(function(){J.Z7();J.j.fireEvent(v.ga.AV);}).catch(function(N){J.pd(m.V.Umb,{Nb:(0,t.we)(N)});});};c.prototype.nia=function(H,J,N){N=void 0 === N?{}:N;J=this.sEb(H,J);this.tg.Ytb(H,J,N);this.Z7();this.V8a || H.type !== L.u.Y || (this.aj.d7 || this.seek(this.j.gb,v.mc.gs),this.V8a=!0);};c.prototype.c7b=function(){var H;H=this;this.Fb.addEventListener(z.Qh.mX,this.ww[z.Qh.mX]=function(){return H.WVb();});this.Fb.addEventListener(z.Qh.Qn,this.ww[z.Qh.Qn]=function(){return H.W8();});this.$.addEventListener("ended",this.ww.ended=function(){return H.yVb();});this.$.addEventListener("play",this.ww.play=function(){return H.gta();});this.$.addEventListener("pause",this.ww.pause=function(){return H.fta();});this.$.addEventListener("playing",this.ww.playing=function(){return H.ita();});this.NB=!0;this.tg.Qeb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.ke("vi");f.config.mXa?setTimeout(function(){H.Qsa=!0;H.el();},f.config.mXa):this.Qsa=!0;this.z4b();this.j.gd.aa && this.A4b();(0,w.Ef)(function(){return H.el();});};c.prototype.z4b=function(){var N;function H(){var R;N.j.wb.value !== v.hb.Oe || 0 !== (null === (R=N.j.Ud) || void 0 === R?void 0:R.F5()) || M.Hg.hidden?(N.u7a.Ao(),R="stopTimer"):(N.u7a.pB(),R="ensureTimer");N.log.trace("No render timer update: " + R,{presentingState:v.hb[N.j.wb.value],hidden:M.Hg.hidden});}function J(R){var T,ka;R=void 0 === R?!0:R;T=N.j.cb;ka=(null === T || void 0 === T?void 0:T.Ah) && T.R1a();N.j.wb.value == v.hb.Af && N.j.state.value == v.Wb.ce && N.j.Hq.value == v.pf.ce && N.j.dm.value == v.pf.ce && !N.j.Ch && ka?(R && N.d4.Ao(),N.d4.pB(),T="ensureTimer"):(N.d4.Ao(),T="stopTimer");N.log.trace("Timer update: " + T,{presentingState:v.hb[N.j.wb.value],playbackState:v.Wb[N.j.state.value],avBufferingState:v.pf[N.j.Hq.value],textBufferingState:v.pf[N.j.dm.value],autoplayWasBlocked:N.j.Ch,hasLicense:ka,restartTimer:R});}N=this;f.config.$Wa && ((0,q.oa)(!this.d4),this.d4=h.Ba.get(C.vQ)(f.config.$Wa,function(){var R;R=h.Ba.get(p.wca).xXa(N.j);N.pd(R.code,R);}),this.j.wb.addListener(function(){return J();}),this.j.Hq.addListener(function(){return J();}),this.j.dm.addListener(function(){return J();}),this.j.state.addListener(function(){return J();}),this.j.addEventListener(v.ga.P4a,function(){return J();}),this.j.addEventListener(v.ga.Ch,function(){return J();}),this.j.addEventListener(v.ga.Kia,function(){return J();}),this.j.addEventListener(v.ga.IC,function(){return J(!0);}),J());f.config.t7a && (this.u7a=h.Ba.get(C.vQ)(f.config.t7a,function(){var R;0 === (null === (R=N.j.Ud) || void 0 === R?void 0:R.zv()) && (R=h.Ba.get(p.wca).xXa(N.j),N.pd(R.code,R));N.j.wb.removeListener(H);d.ie.removeListener(d.ar,N.kU[d.ar]);}),this.j.wb.addListener(H),d.ie.addListener(d.ar,this.kU[d.ar]=H),H());};c.prototype.A4b=function(){var N;function H(){var R,T,ka,sa;sa=N.Fb.sourceBuffers.find(function(ia){return ia.mediaType === L.u.Y;});sa=null !== (R=null === sa || void 0 === sa?void 0:sa.tna()) && void 0 !== R?R:[];1 < sa.length?(R=null !== (ka=null === (T=N.$) || void 0 === T?void 0:T.readyState) && void 0 !== ka?ka:O.Tj.Tz.HAVE_NOTHING,ka=R < O.Tj.Tz.HAVE_FUTURE_DATA,T=J(sa,N.mediaTime),ka && T?(N.cba.pB(),ka="ensureTimer"):(N.cba.Ao(),ka="stopTimer"),N.log.trace("Video Gaps Monitor Timer update: " + ka,{mediaTime:N.mediaTime,bufferedRanges:JSON.stringify(sa),nextRange:JSON.stringify(T),readyState:R})):N.cba.Ao();}function J(R,T){return R.find(function(ka,sa){if(Math.abs(T - ka.end) < Math.abs(T - ka.start))return !1;ka=ka.end - ka.start;return sa !== R.length - 1 && ka < f.config.BG?!1:!0;});}N=this;f.config.ggb && ((0,q.oa)(!this.cba),this.cba=h.Ba.get(C.vQ)(f.config.ggb,function(){var R,T;T=N.Fb.sourceBuffers.find(function(ka){return ka.mediaType === L.u.Y;});T=null !== (R=null === T || void 0 === T?void 0:T.tna()) && void 0 !== R?R:[];if(R=J(T,N.mediaTime))(N.log.error("Detected media gaps: seeking over gap",{seekPoint:R.start,ranges:JSON.stringify(T)}),N.Fb.N0b(),N.seek(R.start,v.mc.Fda));}),this.j.mediaTime.addListener(H),this.j.Fb.addEventListener(z.Qh.F$a,H),this.j.addEventListener(v.ga.AV,H),H());};c.prototype.sEb=function(H,J){var N;N=this.j.ee;(N=(0,I.Upa)(N)?N.AL():void 0) && H.type === L.u.Y && ((H=new E.IP(this.log,{mediaType:L.u.Y,url:"http://some-url"},J).Ia(N))?J=H:!1);return J;};c.prototype.Z7=function(){this.NB && this.el();this.tg.HUa();};c.prototype.K4b=function(){!1;this.j.wb.set(v.hb.Af);this.e7=!0;this.el();};c.prototype.Fyb=function(){var H;H=this;this.e7 && (!1,this.e7=!1,(0,w.Ef)(function(){return H.seek(H.j.BB() || 0,v.mc.tQ);}));};c.prototype.v5=function(){return this.tg.v5();};c.prototype.K8=function(H){var J;J=this;this.tg.e3b(H);(0,w.Ef)(function(){return J.el();});};c.prototype.cKb=function(){return {b4:this.b4,A8:this.A8};};c.prototype.pxb=function(H){var J;J=this.Fb && this.Fb.B0a();(0,q.oa)(this.j.Xp,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Xp && J && (H=Infinity !== H.qbb?H.qbb + H.O9:H.DC,H > this.j.Xp.C9a(A.pa) && (this.j.Xp=(0,A.Ob)(H)));return Promise.resolve();};c.prototype.iXb=function(){var H,J;H=this;this.aj.p9 && (!1,this.fja() && this.tg.Zka(this.mediaTime) && (this.Fb.seek(null !== (J=this.t6a) && void 0 !== J?J:this.mediaTime),this.t6a=void 0,this.aj.p9=!1,(0,w.Ef)(function(){return H.el();})));};c.prototype.Z7b=function(H){var J;if(H < this.mediaTime){J=this.mediaTime - H;f.config.kXb && H && J > x.I0 && (H={ElementTime:(0,u.ah)(H),MediaTime:(0,u.ah)(this.mediaTime)},J > x.rMa?this.pd(m.V.dnb,{Nb:Object.assign({Trace:this.Fb.DB()},H)}):this.log.warn("VIDEO.currentTime became smaller",H));}else this.mediaTime=(0,u.Zw)(H,0,this.j.Xp.da(A.pa));};c.prototype.fja=function(){return this.j.Hq.value === v.pf.ce && this.j.dm.value === v.pf.ce;};c.prototype.Iyb=function(){var H,J,N;H=this;J=this.j.wb.value;N=J;this.aj.d7?N=v.hb.Af:this.$ && this.$.ended?J === v.hb.Oe && (N=v.hb.oq):this.fja() && this.tg.Zka(this.mediaTime)?this.Fb.BDb()?N=this.Vy.paused?v.hb.Rh:v.hb.Oe:this.L5b.Mj(function(){return H.K5b();}):N=this.j.Xp?this.j.P1a(this.mediaTime,this.tg.a4())?v.hb.Af:v.hb.oq:v.hb.Af;return N;};c.prototype.kta=function(){var H;if(this.j.wb.value === v.hb.Af){H=this.tg.w6b() > this.tg.a4();this.j.dm.value !== v.pf.ce?this.j.Yh.value?(this.j.fireEvent(v.ga.Gx,{Xb:k.cLa}),this.log.warn("rebuffer due to timed text",this.j.Yh.value.sg)):this.j.fireEvent(v.ga.tO):H?(this.b4++,this.j.fireEvent(v.ga.Gx,{Xb:k.xea})):(this.A8++,this.j.fireEvent(v.ga.Gx,{Xb:k.yea}));}};c.prototype.K5b=function(){this.Ql() || (f.config.OUb && this.tg.NUb(),this.el());};c.prototype.WVb=function(){this.el();};c.prototype.W8=function(){this.el();this.j.fireEvent(v.ga.Qn);};c.prototype.yVb=function(){this.log.trace("Video element event: ended");this.el();};c.prototype.gta=function(){this.log.trace("Video element event: play");this.el();};c.prototype.fta=function(){this.log.trace("Video element event: pause");this.Vy.fta();this.el();};c.prototype.ita=function(){this.log.trace("Video element event: playing");this.Vy.gta();this.el();};c.prototype.dza=function(){this.Ql() || (this.$ && this.$.volume !== this.j.volume.value && (this.$.volume=this.j.volume.value),this.$ && this.$.muted !== this.j.muted.value && (this.$.muted=this.j.muted.value));};c.prototype.EO=function(){!this.Ql() && this.$ && (this.$.playbackRate=this.j.playbackRate.value);};c.prototype.cwa=function(){var H;H=this;!this.Ql() && (0,y.Wc)(this.$) && !this.$.ended && this.Qsa && this.Vy.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.Vy.play()).then(function(){H.closed || (H.hua=!1,H.$.style.display=null,H.j.Ch=!1,H.j.fireEvent(v.ga.Kia));}).catch(function(J){"NotAllowedError" === J.name?(H.log.warn("Playback is blocked by the browser settings",J),H.j.Ch=!0,H.closed || (H.hua=!0,H.$.style.display="none",H.j.fireEvent(v.ga.Ch,{player:{play:function(){return H.cwa();}}}))):H.closed || H.g9a || (H.g9a=!0,H.log.error("Play promise rejected",J));}));};c.prototype.FVb=function(){this.aj.E4a=this.j.BB() || 0;};c.prototype.bwa=function(){this.Ql() || !(0,y.Wc)(this.$) || this.$.ended || !this.Qsa || this.Vy.paused || (this.log.trace("Calling pause on element"),this.Vy.pause());};c.prototype.wfb=function(H){this.j.mediaTime.set(this.mediaTime);H && this.j.yHb();};c.prototype.seek=function(H,J,N,R){var T,ka;N=void 0 === N?this.j.I:N;R=void 0 === R?!1:R;ka=null === (T=this.j.cb) || void 0 === T?void 0:T.Ah;!this.Ql() && ka && (this.j.fireEvent(v.ga.IC,{Xb:J}),this.aj.Wy={time:H,Xb:J,I:N,IHb:R},this.j.wb.set(v.hb.Af),this.el());};c.prototype.jXb=function(){var H,J,N,R,T,ka,sa,ia;if(this.aj.Wy){H=this.aj.Wy;J=H.time;N=H.Xb;R=H.I;T=H.IHb;if(!this.tg.mh() || N === v.mc.gs){H=this.j.Si(R).P;ka=this.tg.mh()?void 0:this.tg.VIb();ka=this.aj.IKb(J,N,R,T,ka);R=ka.C8;T=ka.Vs;sa=ka.MXb;ka=ka.bi;this.tg.Hja(this.mediaTime);ia=this.mediaTime;J=(0,u.ah)(J);this.j.ME("SEEKING: Requested: (" + H + ":" + N + ":" + J + ") - Actual: (contentPts: " + T + ",playerPts: " + (sa + ", newMediaTime: " + R + ")"));this.log.info("Seeking",{Requested:J,Actual:(0,u.ah)(R),Cause:N,Skip:ka});N === v.mc.gs || ka || (this.tg.Gab(),this.tg.Y2b());this.mediaTime=R;this.aj.E4a=T;J=this.j.jf.value;sa=this.j.Yd.value;this.j.jf.set(null);this.j.Yd.set(null);this.wfb(!0);this.aj.Wy=void 0;this.aj.p9=!0;this.j.fireEvent(v.ga.Fj,{Rsa:ia,C8:R,Vs:T,Xb:N,skip:ka,jf:J,Yd:sa,P:H});ka && this.tg.skip(R);}}};c.prototype.pd=function(H,J,N){this.closed || this.j.pd(H,J,N);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.tg.close();this.Fb.removeEventListener(z.Qh.mX,this.q6a[z.Qh.mX]);this.Fb.removeEventListener(z.Qh.Qn,this.q6a[z.Qh.Qn]);this.$.removeEventListener("ended",this.ww.ended);this.$.removeEventListener("play",this.ww.play);this.$.removeEventListener("pause",this.ww.pause);this.$.removeEventListener("playing",this.ww.playing);this.Vy.close();d.ie.removeListener(d.Pk,this.kU[d.Pk]);d.ie.removeListener(d.ar,this.kU[d.ar]);this.closed=!0;try{this.$.volume=0;this.$.muted=!0;this.bwa();this.Fb.close();}catch(H){}this.$=void 0;this.tg.Gab();}};c.prototype.Ql=function(){return this.closed?!0:(0,y.Wc)(this.$)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};Xa.Object.defineProperties(c.prototype,{Pcb:{configurable:!0,enumerable:!0,get:function(){var H,J;H=this;return !(null === (J=this.j.cb) || void 0 === J || !J.Bg) && [].concat(ca(this.j.cb.Bg)).every(function(N){return H.Fb.sourceBuffers.find(function(R){return R.mediaType === N;});});}}});b.vIa=c;},93294:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.rMa=b.I0=b.K5=void 0;c=a(60328);l=a(36129);b.K5=function(f){return f === c.u.fa?l.S.Ida:l.S.Jda;};b.I0=50;b.rMa=1E3;},53754:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p){var u,t;function q(){u.CR=new h.mOa();return u.CR;}(0,l.Ri)("MediaSourceASE").trace("Inside MediaSourceASE");u=this;t=p.BKb();u.BQa=t;u.readyState=m.Nc.CLOSED;u.addSourceBuffer=function(w){return w === n.u.Ga?q():t.addSourceBuffer(w);};u.VR=function(w){w.includes(n.u.Ga) && q();return t.VR(w);};u.removeSourceBuffer=function(w){if(w.mediaType === n.u.Ga)u.CR=void 0;else return ((0,g.oa)(w.mediaType === n.u.Ga,"Unexpected removeSourceBuffer. Only TEXT is expected to ever be removed."),t.removeSourceBuffer(w));};u.$s=function(w){u.CR=void 0;t.$s(w);};u.duration=void 0;this.readyState=m.Nc.OPEN;this.uf=f.Ba.get(k.bh).kC(m.uf,{});p=new d.EventEmitter();p.on("subtitleData",function(w){(0,g.oa)(t.j.Mb.value,"Unexpected AseSubtitleEvent. No current timedTextTrack.");t.j.Mb.value.Wua(w);});this.events=p;}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;l=a(31276);f=a(31276);k=a(74870);d=a(57055);g=a(45146);n=a(93161);h=a(91515);Object.defineProperty(c.prototype,"sourceBuffers",{get:function(){return this.CR?this.BQa.sourceBuffers.concat(this.CR):this.BQa.sourceBuffers;}});Object.defineProperty(c.prototype,"duration",{get:function(){return this.lj;},set:function(p){var q;this.lj=p || Infinity;q=Math.floor(1E3 * p) || Infinity;this.sourceBuffers.forEach(function(u){u.lj=q;});}});m={Nc:{CLOSED:0,OPEN:1,oq:2,name:["CLOSED","OPEN","ENDED"]},uf:{oyb:!0,$Tb:!0}};b.AIa=Object.assign(c,m);},69931:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.nfa=b.mfa=void 0;r=a(50954);a={};b.mfa=(a[r.sq]={id:-1,name:"hardcoded",bc:1,type:"hardcoded",i5a:"-1",sPb:!1,location:{id:"-1",bc:1,level:100,weight:1}},a);a={};b.nfa=(a[r.sq]={track:{type:"padding",trackId:"padding",vh:"padding",xf:"padding",wC:"other",te:"padding",GC:"padding",lG:"padding",sg:{}},type:"padding",Vb:"-1",bitrate:1,xb:100,Cd:"unknown",size:1,vla:{},sg:{},Nk:"",framerate:0,ii:!1,Di:[],height:1,width:1},a);},6305:function(r,b,a){var l,f,k;function c(d,g,n,h,m,p,q,u,t,w,v){this.track=d;this.type=g;this.Vb=n;this.bitrate=h;this.xb=m;this.size=p;this.vla=q;this.Cd=u;this.framerate=t;this.ii=w;this.Di=v;this.sg={Type:g,Bitrate:h,DownloadableId:n};}Object.defineProperty(b,"__esModule",{value:!0});b.Gib=b.MediaStream=void 0;l=a(33096);f=a(32687);k=a(51344);c.prototype.toJSON=function(){return this.sg;};c.prototype.m3b=function(d,g,n,h){(0,f.Wc)(d) && (0,f.Wc)(g) && (this.width=d,this.height=g,(0,f.Rb)(n) && (0,f.Rb)(h) && (this.width=Math.round(n / h * d)),this.sg.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.A2b=function(d,g,n,h,m,p){(0,f.Wc)(d) && (0,f.Wc)(g) && (0,f.Wc)(n) && (0,f.Wc)(h) && (this.Ika=d,this.GWa=g,this.FWa=n,this.EWa=h);(0,f.Wc)(m) && (0,f.Wc)(p) && (this.b9a=m,this.c9a=p);};b.MediaStream=c;b.Gib=function(d,g,n,h,m){if(d == l.$_ || d === k.Vj.audio)return g;if(d == l.TP || d === k.Vj.video)return n;if(d == k.Vj.oya)return h;if(d == k.Vj.Gya)return m;};},51344:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vj={audio:"audio",video:"video",oya:"timedtext",Gya:"trickplay"};},62439:function(r,b,a){var l,f,k,d,g,n,h;function c(m){var p,q,u,t;p=this;this.j=m;this.IS=void 0;this.iga=(0,f.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Zfa=(0,f.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Sfa=(0,f.createElement)("DIV","width:100%;text-align:center");this.Lob=this.bga("Audio Bitrate");this.xha=this.bga("Video Bitrate / VMAF");this.Wfa=this.bga("CDN");this.iR={};this.jU=k.Ba.get(d.vn);this.iga.appendChild(this.Zfa);this.Zfa.appendChild(this.Sfa);q=(0,f.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.Kob.bind(this),!1);this.Sfa.appendChild(q);q=(0,f.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.kha.bind(this),!1);this.Sfa.appendChild(q);u=this.$qb.bind(this);l.ie.addListener(l.FB,u);m.addEventListener(n.ga.EG,function(){p.iR={};});m.addEventListener(n.ga.mg,function(){l.ie.removeListener(l.FB,u);});t=this.vrb.bind(this);m.Dc.forEach(function(w){w.addListener(t);});m.uc.addListener(t);m.Fg.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.qLa=void 0;l=a(37509);f=a(52569);k=a(31276);d=a(34231);g=a(43193);n=a(85001);h=a(60328);c.prototype.show=function(){this.GR || (this.iRa(),document.body.appendChild(this.iga),this.GR=!0);};c.prototype.Cv=function(){this.GR && (document.body.removeChild(this.iga),this.GR=!1);};c.prototype.toggle=function(){this.GR?this.Cv():this.show();};c.prototype.ifb=function(){var q,u,t,w;function m(v,y,x){var z,A,B;A=[];y.filter(function(C){return C.Cd === v;}).forEach(function(C){0 <= x.indexOf(C)?(void 0 === B?B=C.bitrate:z=C.bitrate,void 0 === z && (z=C.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(v,y,x){var z;z=[];y.filter(function(A){return A.Cd === v;}).forEach(function(A){-1 === x.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}u=this.j.Ws();t=this.j.EB().sort(function(v,y){return v.bitrate - y.bitrate;});w=t.reduce(function(v,y){0 > v.indexOf(y.Cd) && v.push(y.Cd);return v;},[]).map(function(v){return {profile:v,ranges:m(v,t,u),disallowed:p(v,t,u)};});!1;null === (q=this.j.cb) || void 0 === q?void 0:q.T$(w,this.j.P);};c.prototype.Kob=function(){var q,u;this.iR={};for(var m=this.xha.options,p=m.length;p--;){q=m[p];q.selected && (this.iR[q.value]=1);}this.IS=this.apb.bind(this);this.ifb();if(m=this.j.kg){u=this.Wfa.value;m=m.filter(function(t){return t.id == u;})[0];p=this.j.Dc[h.u.Y].value;m && m != p && (m.xUa={testreason:"streammanager",selreason:"userselection"},this.j.Dc[h.u.Y].set(m));}this.Cv();};c.prototype.kha=function(){this.IS=void 0;this.j.kcb(this.j.P);this.Cv();};c.prototype.apb=function(){var m;m=this;return this.j.EB().filter(function(p){return m.iR[p.bitrate];});};c.prototype.iRa=function(){var m,p,q,u;m=this;p=this.j.uc.value;q=this.j.Fg.value;u=this.j.kg;p && (u=u.slice(),u.sort(function(t,w){return t.bc - w.bc;}),this.oha(this.Lob,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == m.j.Kg.value};})));q && (this.oha(this.xha,q.streams.map(function(t){var w,v,y;w=m.j.AM.pz(t);v=t.bitrate;t=t.xb;y="" + v;t && (y+=" / " + t);w && (y+=" (" + w.join("|") + ")");return {value:v,caption:y,selected:m.IS?m.iR[v]:!w};})),this.xha.removeAttribute("disabled"));u && (this.oha(this.Wfa,u.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == m.j.Dc[h.u.Y].value};})),this.Wfa.removeAttribute("disabled"));};c.prototype.vrb=function(){this.GR && this.iRa();};c.prototype.bga=function(m){var p,q;p=(0,f.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");m=(0,f.createElement)("DIV",void 0,m);q=(0,f.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(m);p.appendChild(q);this.Zfa.appendChild(p);return q;};c.prototype.oha=function(m,p){m.innerHTML="";p.forEach(function(q){var u;u={title:q.caption};q.selected && (u.selected="selected");u=(0,f.createElement)("option",void 0,q.caption,u);u.value=q.value;m.appendChild(u);});};c.prototype.$qb=function(m){m.ctrlKey && m.altKey && m.shiftKey && m.keyCode == g.Vz.gZ && this.jU.nqa && this.toggle();};b.qLa=c;},79173:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.jMa=void 0;c=a(31276);l=a(61726);b.jMa=(function(){(0,c.Ri)("ProbeDownloader");return {ET:function(f){f={url:f.url,XYb:f};!1;l.Ge.$Yb(f);}};})();},27758:function(r,b,a){var l,f,k,d,g,n,h;function c(){var m;m=new f.Uj();this.addEventListener=m.addListener.bind(this);this.removeEventListener=m.removeListener.bind(this);this.emit=m.Ec.bind(this);this.T1=n++;this.Ii=(0,k.Ri)("ProbeRequest");this.VQa=l.jMa;(0,d.oa)(void 0 !== this.VQa);this.Te=b.hj.Nc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.hj=void 0;l=a(79173);f=a(94886);k=a(31276);d=a(45146);g=a(3887);n=0;(function(){function m(){return JSON.stringify({url:this.Rf,id:this.T1,affected:this.g1,readystate:this.Te});}(0,g.Wd)(c.prototype,{LM:function(p){this.Te !== b.hj.Nc.UZ && this.Te !== b.hj.Nc.DONE && (this.Z1=p,p={url:this.Rf,affected:this.g1,probed:{requestId:this.T1,url:this.Rf,Qc:this.zR,groupId:this.B1}},200 <= this.Z1 && 299 >= this.Z1?(this.Te=b.hj.Nc.DONE,this.emit(b.hj.Bk.eQ,p)):(this.Te=b.hj.Nc.UZ,this.emit(b.hj.Bk.$z,p)));},Jsa:function(p){this.Te !== b.hj.Nc.UZ && this.Te !== b.hj.Nc.DONE && (this.Z1=p,p={url:this.Rf,affected:this.g1,probed:{requestId:this.T1,url:this.Rf,Qc:this.zR,groupId:this.B1}},this.Te=b.hj.Nc.UZ,this.emit(b.hj.Bk.$z,p));},open:function(p,q,u){if(!p)return (!1,!1);this.Rf=p;this.g1=q;this.zR=u;this.Te=b.hj.Nc.OPENED;this.VQa.ET(this);this.Te=b.hj.Nc.dx;return !0;},Ze:function(){!1;return !0;},Ti:function(){return this.T1;},toString:m,toJSON:m});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Te;}},status:{get:function(){return this.Z1;}},url:{get:function(){return this.Rf;}},sec:{get:function(){return this.g1;}}});})();(function(m){m.Bk={eQ:"pr0",$z:"pr1"};m.Nc={UNSENT:0,OPENED:1,dx:2,DONE:3,UZ:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(h || (h={}));b.hj=Object.assign(c,h);},59405:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);l=a(33096);r=a(36129);f=a(31276);k=a(69484);a=a(11479);f.Ba.get(a.Oh).register(r.V.ZFa,function(d){c.config.iIb && f.Ba.get(k.KEa).start();d(l.bg);});},91515:function(r,b,a){var l;function c(){this.mediaType=l.u.Ga;}Object.defineProperty(b,"__esModule",{value:!0});b.mOa=void 0;l=a(93161);c.prototype.appendBuffer=function(){return !0;};c.prototype.jcb=function(){};b.mOa=c;},49587:function(r,b){function a(c,l){this.j=l;this.ZG=!0;this.Kaa=!1;this.$=c;}Object.defineProperty(b,"__esModule",{value:!0});b.ROa=void 0;a.prototype.gta=function(){this.ZG && (this.ZG=!1,this.j.paused.set(!1));};a.prototype.fta=function(){this.ZG || (this.ZG=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.ZG=!0,null === (c=this.$) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,l;c=this;return this.paused && !this.Kaa?(this.Kaa=!0,Promise.resolve(null === (l=this.$) || void 0 === l?void 0:l.play()).then(function(){c.Kaa=!1;}).catch(function(f){var k;c.Kaa=!1;c.ZG=!(null === (k=c.$) || void 0 === k || !k.paused);throw f;})):Promise.resolve();};a.prototype.close=function(){this.$=void 0;};Xa.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.ZG;}}});b.ROa=a;},20318:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.lp=b.Ahb=void 0;b.Ahb=a;b.lp=new a();},70632:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);l=a(93161);f=a(51790);k=a(27758);d=a(90762);g=a(29204);n=a(33096);h=a(67263);m=a(53754);p=a(24066);r=a(36129);q=a(31276);u=a(21941);t=a(22365);w=a(59416);b=a(11479);v=a(13044);y=a(20318);x=a(2248);z=a(84408);q.Ba.get(b.Oh).register(r.V.XFa,function(A){var B,C,D,F,G,E,I,M,L;B=q.Ba.get(u.cJa).zBb();C=q.Ba.get(h.zca).rP;D=q.Ba.get(f.xIa).No;F=q.Ba.get(x.Zg);G=q.Ba.get(z.yq);E={t9:(0,q.GT)("ASE"),lub:(0,q.GT)("JS-ASE",void 0,"Platform"),Ri:q.GT,storage:w.storage,PKb:t.ZCa,getTime:p.Nn,Z3:function(K){return F.decode(K).buffer;},Yka:function(K){return G.encode(K);},lM:{},No:D,hj:k.hj,rP:C,MediaSource:m.AIa,SourceBuffer:d.Nda,UT:function(){return [g.config.I2,g.config.L2,g.config.K2];},Ws:function(K){v.An.forEach(function(O){O.kcb(K);});}};C=new Promise(function(K){w.storage.load("nh",function(O){E.lM.nh=O.ia?O.data:void 0;K();});});D=new Promise(function(K){w.storage.load("lh",function(O){E.lM.lh=O.ia?O.data:void 0;K();});});I=new Promise(function(K){w.storage.load("gh",function(O){E.lM.gh=O.ia?O.data:void 0;K();});});M=new Promise(function(K){w.storage.load("sth",function(O){E.lM.sth=O.ia?O.data:void 0;K();});});L=new Promise(function(K){w.storage.load("vb",function(O){E.lM.vb=O.ia?O.data:void 0;K();});});Promise.all([C,D,L,M,I]).then(function(){return c.__awaiter(this,void 0,void 0,function O(){var H,J;return Ja(O,function(N){if(1 == N.Nv)return (H=a(92623)(E),y.lp.$h=a(21457),y.lp.$h.declare(l.og),y.lp.$h.set(a(87141)(g.config),!0,(0,q.GT)("ASE")),Ma(N,l.FL(H),2));J=N.UY;J.open(y.lp.$h,B);J.v2b({audio:g.config.I2,video:g.config.L2,text:g.config.K2},{G:g.config.uM,wa:void 0});y.lp.Mh=J;A(n.bg);N.Nv=0;});});}).catch(function(K){E.t9.error("Exception loading location history from local storage",K);});});},39480:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.fLa=void 0;c=a(33096);l=a(29204);f=a(24066);k=a(8825);d=a(22365);g=a(32219);n=a(32687);h=a(85001);b.fLa=function(m){var t,w,v,y,x,z;function p(){return m.state.value === h.Wb.LOADING || m.state.value === h.Wb.ce && m.wb.value === h.hb.Af;}function q(){p()?z || (z=setInterval(u,100)):z && (clearInterval(z),z=void 0,(0,g.Ef)(u));}function u(){var A,B,C,D,F,G,E,I;A=(0,f.Nn)();B=t.value;C=B?B.progress:0;D=m.state.value == h.Wb.LOADING || p() && A - w > l.config.kwb;if(D && m.state.value == h.Wb.ce){if(m.Pd.value === h.pf.RMa)(F=C,G=!0);else {E=A;v=v || A;y=y || v + l.config.vTb + 1;(0,n.Rb)(E) && (E=(0,d.ks)(E,y),F=(0,d.xn)(1E3 * (0,k.Zw)((A - v) / (E - v),0,.99)) / 1E3);}if(F < C)if(C - F < l.config.vZb / 100)(F=C,x=void 0);else if(x){if(A - x > l.config.uZb){I=!0;x=void 0;}else F=C;}else (x=A,F=C);}else x=y=v=void 0;A=D?{Nr:G,progress:F,wZb:I}:null;(!A || !t || !B || (0,n.Rb)(A.progress) && !(0,n.Rb)(B.progress) || (0,n.Rb)(A.progress) && (0,n.Rb)(B.progress) && .01 < (0,d.a0)(A.progress - B.progress) || A.Nr !== B.Nr) && t.set(A);}t=m.ija;w=0;m.state.addListener(function(){q();u();},c.$da);m.wb.addListener(function(A){if(A.oldValue !== h.hb.Af || A.newValue !== h.hb.Af)w=(0,f.Nn)();q();});m.Pd.addListener(function(){q();});m.Hq.addListener(function(){q();});m.dm.addListener(function(){q();});z || (z=setInterval(u,100));};},13044:function(r,b,a){var l,f;function c(k,d){var g;g=b.An[0];g == d && (g=b.An[1]);g?g.close(function(){c(k,d);}):k && k(l.bg);}Object.defineProperty(b,"__esModule",{value:!0});b.eLa=b.cLa=b.xea=b.yea=b.aA=b.zea=b.dLa=b.Cea=b.Bea=b.An=b.gLa=b.Aea=void 0;l=a(33096);f=a(45146);b.Aea=c;b.gLa=function(k,d){switch(k){case b.dLa:b.Bea.push(d);return;case b.zea:b.Cea.push(d);return;}(0,f.oa)(!1);};b.An=[];b.Bea=[];b.Cea=[];b.dLa=1;b.zea=3;b.aA={index:0,Y6a:void 0,Rma:void 0};b.yea="network";b.xea="media";b.cLa="timedtext";b.eLa="playback";},30689:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);l=a(33096);r=a(36129);f=a(31276);b=a(11479);k=a(66476);f.Ba.get(b.Oh).register(r.V.dGa,function(g){var n,h,m;if(c.config.Er){n=(0,f.Ri)("PlayerPredictionModel");h=f.Ba.get(k.YD);m=a(99886);n.log=n.trace.bind(n);d=new m({},n,{VW:function(){},n0b:function(){}},h,{gH:function(){}});ob._cad_global.playerPredictionModel=d;n.info("ppm v2 initialized");}g(l.bg);});},22365:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uqa=b.localStorage=b.fOb=b.indexedDB=b.UIa=b.xp=b.Zz=b.Yz=b.URL=b.i0=b.Wlb=b.eIa=b.dIa=b.a0=b.b0=b.Tw=b.ks=b.xn=b.Mlb=b.ZI=b.PNa=b.ZCa=b.jmb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.Cx=b.Vlb=b.Hg=b.Eu=b.VIa=b.Fu=b.h0=b.MD=void 0;r=ob;b.Ae=r.navigator;b.MD=null === b.Ae || void 0 === b.Ae?void 0:b.Ae.userAgent;b.h0=r.location;b.Fu=r.screen;b.VIa=r.devicePixelRatio;b.Eu=r.performance;b.Hg=r.document;b.Vlb=b.Hg.documentElement;b.Cx=Array.prototype;b.sort=b.Cx.sort;b.map=b.Cx.map;b.slice=b.Cx.slice;b.every=b.Cx.every;b.reduce=b.Cx.reduce;b.filter=b.Cx.filter;b.forEach=b.Cx.forEach;b.pop=b.Cx.pop;b.jmb=Object.create;b.ZCa=Date.now;b.PNa=String.fromCharCode;b.ZI=Math.floor;b.Mlb=Math.ceil;b.xn=Math.round;b.ks=Math.max;b.Tw=Math.min;b.b0=Math.random;b.a0=Math.abs;b.dIa=Math.pow;b.eIa=Math.sqrt;b.Wlb=r.escape;b.i0=r.unescape;b.URL=r.URL || r.webkitURL;b.Yz=r.MediaSource || r.WebKitMediaSource;b.Zz=r.webkitCrypto || r.msCrypto || r.crypto;b.xp=b.Zz && (b.Zz.webkitSubtle || b.Zz.subtle);b.UIa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.fOb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.Uqa=a || "noex";}},59416:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(29204);l=a(33096);f=a(50350);r=a(36129);k=a(75876);d=a(19630);g=a(31276);a=a(11479);b.storage=b.storage || void 0;g.Ba.get(a.Oh).register(r.V.eGa,function(n){var h;switch(c.config.R4b){case "idb":h=k.gdb;break;case "none":h=f.jdb;break;case "ls":h=d.hdb;}h(function(m){m.ia?(b.storage=m.storage,n(l.bg)):n(m);});});},75876:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.gdb=void 0;c=a(31276);l=a(17892);f=a(74870);k=a(6675);b.gdb=function(d){c.Ba.get(l.Dw).create().then(function(g){d({ia:!0,storage:new k.rda(g,c.Ba.get(f.bh))});}).catch(function(g){d(g);});};},19630:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.hdb=void 0;c=a(6675);l=a(31276);f=a(56278);k=a(74870);b.hdb=function(d){d({ia:!0,storage:new c.rda(l.Ba.get(f.nHa),l.Ba.get(k.bh))});};},50350:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.jdb=void 0;c=a(33096);l=a(31276);f=a(36129);a(3887);b.jdb=function(k){var d;(0,l.Ri)("Storage");d={};k({ia:!0,storage:{load:function(g,n){var h;if(d.hasOwnProperty(g)){h=d[g];!1;n({ia:!0,data:h,kaa:g});}else (!1,n({Aa:f.S.ex}));},save:function(g,n,h,m){h && d.hasOwnProperty(g)?m({ia:!1}):(d[g]=n,!1,m && m({ia:!0,kaa:g}));},remove:function(g,n){delete d[g];!1;n && n(c.bg);}}});};},50040:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.WH=void 0;c=a(33096);l=a(29204);f=a(37509);k=a(24066);d=a(36129);g=a(45146);n=a(31276);h=a(3887);m=a(22365);p=a(59416);q=a(32687);r=a(11479);n.Ba.get(r.Oh).register(d.V.fGa,function(u){var v,y,x;function t(){var z;t=c.Xw;z=setInterval(w,l.config.yRb);f.ie.addListener(f.Pk,function(A){A && A.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):((0,h.Tf)(y,function(B,C){localStorage.removeItem(C.qr);}),clearInterval(z));},c.dJ);}function w(){var z;z=(0,k.Xja)();(0,h.Tf)(y,function(A,B){!1;A=localStorage.getItem(B.qr);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:x,count:1};localStorage.setItem(B.qr,JSON.stringify(A));});}(0,g.oa)(p.storage);v=(0,n.Ri)("StorageLock");y={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.WH={Ms:function(z,A,B){var D,F,G,E,I,M,L,K,O,H;function C(J){localStorage.setItem(G,JSON.stringify(J));J={qr:G};y[G]=J;v.trace("Lock acquired",{Name:J.qr});t();A({ia:!0,K7:J});}D=this;B=void 0 === B?!1:B;if(localStorage){F=(0,k.Xja)();G="lock-" + z;E={updated:F,sessionId:x,count:1};try{if((G in localStorage)){I=localStorage.getItem(G);M=0;L=JSON.parse(I);(0,q.VB)(L.updated) && (M=L.updated);K=(0,m.a0)(F - M) * c.js;O=x === L.sessionId;if(K < l.config.l5a){if(O)(L.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:x,count:L.count}),L.updated=F,C(L));else if(B){H=l.config.l5a - K + c.js;v.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:L.count,Epoch:F,LockEpoch:M,waitTimeoutMs:H});ob.setTimeout(function(){return D.Ms(z,A,!1);},H);}else A({ia:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:M}),C(E));}else C(E);}catch(J){v.error("Error acquiring Lock",{errorSubCode:d.S.kl,errorDetails:(0,h.we)(J)});A({ia:!0});}}else (m.Uqa?v.error("Local storage access exception",{errorSubCode:d.S.$nb,errorDetails:(0,h.we)(m.Uqa)}):v.error("No localstorage",{errorSubCode:d.S.aob}),A({ia:!0}));},release:function(z,A){var B,C;(0,g.oa)(y[z.qr] == z);if(localStorage){try{B=localStorage.getItem(z.qr);C=JSON.parse(B);C && 1 < C.count?(--C.count,localStorage.setItem(z.qr,JSON.stringify(C)),v.trace("Lock count decremented",{Name:z.qr,count:C.count})):(localStorage.removeItem(z.qr),delete y[z.qr],v.trace("Lock released",{Name:z.qr}));}catch(D){v.error("Unable to release Lock",{Name:z.qr},D);}A && A(c.bg);}}};l.config.K4?b.WH.Ms("session",function(z){b.WH.Hbb=z;u(c.bg);}):u(c.bg);});},991:function(r,b,a){var k,d,g,n;function c(h,m,p,q){var u,t,w;(0,k.oa)((0,n.Bt)(h) && !(0,n.isArray)(h));q=q || "";u="";t=h.hasOwnProperty(g.SY) && h[g.SY];t && (0,d.Tf)(t,function(v,y){u && (u+=" ");u+=v + '="' + f(y) + '"';});p=(m?m + ":":"") + p;t=q + "<" + p + (u?" " + u:"");w=h.hasOwnProperty(g.Bw) && h[g.Bw].trim && "" !== h[g.Bw].trim() && h[g.Bw];if(w)return t + ">" + f(w) + "</" + p + ">";h=l(h,m,q + "  ");return t + (h?">\n" + h + "\n" + q + "</" + p + ">":"/>");}function l(h,m,p){var q;(0,k.oa)((0,n.Bt)(h) && !(0,n.isArray)(h));p=p || "";q="";(0,d.Tf)(h,function(u,t){var y;if("$" != u[0])for(var w=(0,d.Jv)(t),v=0;v < w.length;v++){if((t=w[v],q && (q+="\n"),(0,n.Bt)(t)))q+=c(t,m,u,p);else {y=(m?m + ":":"") + u;q+=p + "<" + y + ">" + f(t) + "</" + y + ">";}}});return q;}function f(h){if((0,n.rg)(h))return (0,d.gpa)(h);if((0,n.Rb)(h))return ((0,k.NS)(h,"Convert non-integer numbers to string for xml serialization."),"" + h);if(null === h || void 0 === h)return "";(0,k.oa)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.F6b=b.dQb=b.cQb=void 0;k=a(45146);d=a(3887);g=a(62604);n=a(32687);b.cQb=c;b.dQb=l;b.F6b=f;},62604:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.YRb=b.M8a=b.QWb=b.N_a=b.$Wb=b.Ngb=b.Mgb=b.Bw=b.Gza=b.Lgb=b.SY=void 0;c=a(3887);l=a(45146);b.SY="$attributes";b.Lgb="$children";b.Gza="$name";b.Bw="$text";b.Mgb="$parent";b.Ngb="$sibling";b.$Wb=/^\s*<\?xml.*\?>/i;b.N_a=function(f,k,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(k=arguments[g++]) && (f=f[k]);){;}return f;};b.QWb=function(f,k){var d;f?d=(0,c.Wi)(f[b.Bw]):void 0 !== k && (d=k);(0,l.NS)(d);return d;};b.M8a=function(f,k){var d;f?d=f[b.Bw]:void 0 !== k && (d=k);(0,l.UWa)(d);return d;};b.YRb=function(f,k){var d;d={};d[b.SY]=f;d[b.Bw]=k;return d;};},84281:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.Ogb=void 0;c=a(31276);l=a(36129);f=a(78857);k=a(74413);d=a(32219);b.Ogb=function(g,n){var h,m;try{m=(0,f.Pgb)(g);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Ef)(function(){if(m && m.documentElement)try{h=(0,k.Qgb)(m);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Ef)(function(){h?n({ia:!0,object:h}):n({ia:!1,Aa:l.S.ekb});});});};},78857:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Pgb=void 0;c=a(31276);l=a(32687);b.Pgb=function(f){var k,d;if((0,l.fM)(f)){k=new DOMParser().parseFromString(f,"text/xml");d=k.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:f.slice(0,300),fileSize:f.length});}catch(g){}throw Error("xml parser error");}return k;}throw Error("bad xml text");};},74413:function(r,b,a){var l;function c(f){var k,d,g,n,h,m,p;d={};d[l.Gza]=f.localName;g={};d[l.SY]=g;n=[];d[l.Lgb]=n;h=f.attributes;m=h.length;for(k=0;k < m;k++){p=h[k];g[p.localName]=p.value;}f=f.childNodes;m=f.length;g={};for(k=0;k < m;k++){switch((h=f[k],h.nodeType)){case b.Tgb:h=c(h);p=h[l.Gza];h[l.Mgb]=d;n.push(h);d[p]?g[p][l.Ngb]=h:d[p]=h;g[p]=h;break;case b.Ugb:case b.Rgb:(h=h.text || h.nodeValue,n.push(h),d[l.Bw] || (d[l.Bw]=h));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Sgb=b.Rgb=b.Ugb=b.P9b=b.Tgb=b.Q9b=b.Qgb=void 0;l=a(62604);b.Qgb=function(f){return c(f.nodeType == b.Sgb?f.documentElement:f);};b.Q9b=c;b.Tgb=1;b.P9b=2;b.Ugb=3;b.Rgb=4;b.Sgb=9;},87886:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.Cg=void 0;r=a(22674);c=a(58252);l=a(60443);f=a(32050);k=a(62468);d=a(75864);g=a(45716);n=a(99282);h=a(52531);m=a(88063);p=a(79054);q=a(56190);u=a(69751);t=a(62665);w=a(7342);v=a(82585);b.Cg=new r.dd(function(y){y(c.Lea).to(l.JLa).ha();y(f.Nea).to(k.WLa).ha();y(d.jJ).to(g.HLa).ha();y(h.PD).to(n.FLa).ha();y(m.PLa).to(p.OLa).ha();y(q.TLa).Zd(function(x){var z;z=x.lb;return function(A){return new u.ULa(A,z.get(t.Qw),z.get(h.PD));};});y(w.VGa).Zd(function(x){var z;z=x.lb;return function(A,B,C){return new v.WGa(A,B,C,z.get(h.PD),z.get(d.jJ));};});});},7342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VGa="LegacyPostPlayShimFactorySymbol";},52531:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PD="PlaygraphConfigSymbol";},75864:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jJ=b.RD=void 0;r=b.RD || (b.RD={});r.tbc="ident";r.Cda="main";r.eCa="credits";b.jJ="PlaygraphHelperSymbol";},58252:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lea="PlaygraphManagerFactorySymbol";},88063:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PLa="PlaygraphPlaybackStrategyFactorySymbol";},56190:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TLa="PlaygraphStateFactorySymbol";},32050:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nea="PlaygraphVideoPlayerFactorySymbol";},56819:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hx=void 0;r=b.hx || (b.hx={});r[r.iJa=0]="None";r[r.DEa=1]="Fetching";r[r.Ejb=2]="Done";r[r.Error=3]="Error";},82585:function(r,b,a){var l,f;function c(k,d,g,n,h){this.Lh=k;this.Cg=d;this.log=g;this.zi=n;this.Wl=h;this.u9=new l.Fea();}Object.defineProperty(b,"__esModule",{value:!0});b.WGa=void 0;l=a(81889);f=a(75864);c.prototype.Qsb=function(k){var d,g,n,h,m,p,q;this.log.info("Next episode added",k);p=this.u9.yra(k.playbackParams);q=Math.max(0,null !== (n=null !== (g=null !== (d=k.startPts) && void 0 !== d?d:k.nextStartPts) && void 0 !== g?g:p.gb) && void 0 !== n?n:0);d=null !== (m=null !== (h=k.endPts) && void 0 !== h?h:k.currentEndPts) && void 0 !== m?m:p.Ui;return this.Cg.qtb({P:k.movieId,gb:q,Ui:d,tb:p,X:k.manifest,Lh:this.Lh});};c.prototype.AXb=function(k){var d,g,n,h,m,p;k=this.u9.yra(k);this.log.info("Playing the next episode",k);n=this.Cg.J_a();h=this.Cg.YF();m=h.O[n];p=Object.keys(null !== (d=m.next) && void 0 !== d?d:{}).find(function(q){return m.J !== h.O[q].J;});d=!this.zi.D9 || !(null === (g=k.$l) || void 0 === g?0:g.isUIAutoPlay);return p?this.Cg.Loa(n,p,k,d):Promise.reject(Error("Next episode not found"));};c.prototype.y9b=function(k){var d,g;d=this.Wl.Xq(k,f.RD.Cda);k=this.Wl.Xq(k,f.RD.eCa);g=this.Cg.rb;this.zi.D9 && g.hh !== k && g.MC(k) && g.VT(d) !== k && this.Cg.Oj({I:d,IM:k});};b.WGa=c;},65473:function(r,b,a){var l;function c(f,k,d,g,n){var h;h=this;this.rb=f;this.Sj=k;this.Zt=d;this.Ib=g;this.Wl=n;this.F9=new Map();this.r3b();this.Ib.addListener(l.La.loaded,function(){return h.J9a();});}Object.defineProperty(b,"__esModule",{value:!0});b.LD=void 0;l=a(85001);c.prototype.wSa=function(f){var k,d;k=this;d=Object.keys(this.rb.kk.O).find(function(g){return k.rb.kk.O[g].J === f.P;});f.id || (f.id=null !== d && void 0 !== d?d:this.Wl.Xq(f.P));d || (this.rb.kk=this.Wl.aub(this.rb.kk,f));d=this.hH(f.id);f.Ui && this.rb.f8b(f.id,f.Ui);return d;};c.prototype.Teb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.Moa=function(f,k){var d;d=this;k=void 0 === k?{}:k;return this.Zt.transition(f,k).then(function(){d.rb.hh=f;});};c.prototype.close=function(f){return this.Zt.close(f);};c.prototype.Ev=function(){return this.Zt.rLb();};c.prototype.Sm=function(){return this.Zt.Sm();};c.prototype.WF=function(){return this.Zt.WF();};c.prototype.hH=function(f){this.F9.has(f) || this.F9.set(f,this.Zt.De(this.jwb(f)));return this.F9.get(f);};c.prototype.r3b=function(){var f;f=this;this.Zt.addListener(l.QD.qX,function(){return f.Ib.Ec(l.QD.qX);});Object.values(l.La).forEach(function(k){f.Zt.addListener(k,function(d){return f.Ib.Ec(k,d);});});};c.prototype.Rv=function(){this.J9a();};c.prototype.nta=function(f){this.Zt.e8b({id:f,P:this.rb.he(f).J,Ui:this.rb.JLb(f)});};c.prototype.SG=function(){};c.prototype.J9a=function(){var f,k;if(this.Ev()){f=this.rb.hh;k=this.rb.VT(f);k && !this.F9.has(k) && (this.nta(f),this.hH(k));}};c.prototype.jwb=function(f){var k,d,g,n;d=this.rb.he(f);g=this.Sj.NL(d.J);n=null === g || void 0 === g?void 0:g.tb;g=null === g || void 0 === g?void 0:g.X;return {id:f,P:d.J,gb:d.ta,Ui:null !== (k=null === n || void 0 === n?void 0:n.Ui) && void 0 !== k?k:d.va,tb:n,X:g};};b.LD=c;},99282:function(r,b,a){var l,f,k,d,g;function c(n){return f.Pe.call(this,n,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(5021);fa(c,f.Pe);Xa.Object.defineProperties(c.prototype,{FYb:{configurable:!0,enumerable:!0,get:function(){return 2;}},EYb:{configurable:!0,enumerable:!0,get:function(){return (0,g.t8)(3);}},lza:{configurable:!0,enumerable:!0,get:function(){return !1;}},Taa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ufb:{configurable:!0,enumerable:!0,get:function(){return !1;}},MZa:{configurable:!0,enumerable:!0,get:function(){return !1;}},D9:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.zz,"prepareSegmentsUpfront")],a.prototype,"FYb",null);r.__decorate([d.config(d.ik,"prepareSegmentsDuration")],a.prototype,"EYb",null);r.__decorate([d.config(d.ed,"usePlaygraphForPostPlay")],a.prototype,"lza",null);r.__decorate([d.config(d.ed,"usePlaygraphForSkipSegment")],a.prototype,"Taa",null);r.__decorate([d.config(d.ed,"useSinglePlayerPlayback")],a.prototype,"Ufb",null);r.__decorate([d.config(d.ed,"forcePlaygraphTrace")],a.prototype,"MZa",null);r.__decorate([d.config(d.ed,"postPlayDefaultNextEpisode")],a.prototype,"D9",null);a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.sl))],a);b.FLa=a;},45716:function(r,b,a){var l,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.HLa=void 0;r=a(5163);l=a(75864);f=a(22674);k=a(50954);c.prototype.DBb=function(d){var h,m,p;for(var g=[],n=0;n < arguments.length;++n){g[n - 0]=arguments[n];}h=this;if(0 === g.length)throw Error("Empty playgraph");m=new k.vq().nz(this.Xq(g[0]));g.reverse().forEach(function(q){var u;u=h.Xq(q);m.De(u,Object.assign({J:q,ta:0,va:Infinity},p?{Eb:p}:{}));p=u;});return m.Lg();};c.prototype.Xq=function(d,g){g=void 0 === g?l.RD.Cda:g;return d + ":" + g;};c.prototype.aub=function(d,g){var n,h,m,p;if(void 0 === m)m=null !== (n=g.id) && void 0 !== n?n:this.Xq(g.P);n=this.o0a(d);p=new k.vq(d);p.De(m,{J:g.P,ta:null !== (h=g.gb) && void 0 !== h?h:0,va:Infinity});d=d.O[n];g={};p.De(n,Object.assign({},d,{Eb:m,next:Object.assign({},d.next || ({}),(g[m]={},g))}));return p.Lg();};c.prototype.o0a=function(d){for(var g=d.xe,n=g;n=d.O[n].Eb;){g=n;}return g;};a=c;a=r.__decorate([(0,f.U)()],a);b.HLa=a;},60443:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t,w,v,y,x){this.zf=q;this.ima=u;this.zi=t;this.Cya=w;this.UXb=v;this.WXb=y;this.VXb=x;}Object.defineProperty(b,"__esModule",{value:!0});b.JLa=void 0;r=a(5163);l=a(22674);f=a(9862);k=a(87386);d=a(52531);g=a(44720);n=a(88063);h=a(25830);m=a(56190);a=a(32050);c.prototype.create=function(q){return new f.KLa(q,this.zf,this.ima,this.zi,this.Cya,this.UXb,this.WXb,this.VXb);};p=c;p=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(g.uP)),r.__param(2,(0,l.l)(d.PD)),r.__param(3,(0,l.l)(h.sOa)),r.__param(4,(0,l.l)(n.PLa)),r.__param(5,(0,l.l)(m.TLa)),r.__param(6,(0,l.l)(a.Nea))],p);b.JLa=p;},9862:function(r,b,a){var l,f,k;function c(d,g,n,h,m,p,q,u){this.Cya=m;this.rza=u;this.xT=!1;h.Taa && (d=new k.LLa().P6b(d));this.rb=q(d);this.Sj=new f.XLa(this.rb);this.Sj.Pbb(this.rb.ba.J);this.log=g.$a("PlaygraphManager");this.Ib=n.create();this.Ot=p.create(this.rb,this.Sj,this.log,this.Ib);this.s3b();}Object.defineProperty(b,"__esModule",{value:!0});b.KLa=void 0;l=a(85001);f=a(98899);k=a(15645);c.prototype.fLb=function(){return this.rb.z9;};c.prototype.yna=function(){return this.rb.ba;};c.prototype.J_a=function(){return this.rb.hh;};c.prototype.YF=function(){return this.rb.kk;};c.prototype.Oj=function(d){for(var g=[],n=0;n < arguments.length;++n){g[n - 0]=arguments[n];}this.rb.Oj.apply(this.rb,ca(g));};c.prototype.ayb=function(d){for(var g=[],n=0;n < arguments.length;++n){g[n - 0]=arguments[n];}this.rb.jTa(g);};c.prototype.ku=function(d){this.rb.kk=d;};c.prototype.dj=function(d,g){this.rb.dj(d,g);};c.prototype.Loa=function(d,g,n,h){var m,p;n=void 0 === n?{}:n;h=void 0 === h?!0:h;if(d !== this.rb.hh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (m=this.YF().O[d].next) && void 0 !== m?m:{}).indexOf(g))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);this.rcb();null === (p=n.$l) || void 0 === p?void 0:p.isUIAutoPlay;return this.Ot.Moa(g,n,h);};c.prototype.Ev=function(){return this.Ot.Ev();};c.prototype.addListener=function(d,g,n){this.Ib.addListener(d,g,n);};c.prototype.removeListener=function(d,g){this.Ib.removeListener(d,g);};c.prototype.Sm=function(){return this.Ot.Sm();};c.prototype.yb=function(){return this.Ot.WF();};c.prototype.GBb=function(d,g,n){var h;d=void 0 === d?this.YF().xe:d;g=void 0 === g?{}:g;h=this.rza.vWa(this);this.zYb(null !== d && void 0 !== d?d:this.YF().xe,g,n);return h;};c.prototype.qtb=function(d){var g;this.log.info("Adding segment - movieId: " + d.P + ", startPts: " + d.gb + ", logicalEnd: " + d.Ui);g=Object.assign({},d.tb,d.gb?{gb:d.gb}:{},d.Ui?{Ui:d.Ui}:{});this.mdb(d.P,g,d.X);d=this.Ot.wSa(d);this.rcb();return d;};c.prototype.transition=function(d){var g;g=this.rb.VT(this.rb.hh);return g?this.Loa(this.rb.hh,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Ot.close(d);};c.prototype.zYb=function(d,g,n){var h;void 0 === d && (d=null === (h=this.YF()) || void 0 === h?void 0:h.xe);(g || n) && this.mdb(this.YF().O[d].J,null !== g && void 0 !== g?g:{},n);this.Ot.hH(d);};c.prototype.mdb=function(d,g,n){n && this.Sj.r2(d,n);this.Sj.etb(d,g);};c.prototype.s3b=function(){var d;d=this;this.rb.n5b(function(){d.Sj.Rv();d.Ot.Rv();});this.rb.o5b(function(g){d.Ot.nta(g);});this.rb.m5b(function(g){d.Ot.SG(g);});this.addListener(l.QD.qX,function(){return d.XVb();});this.addListener(l.La.j3a,function(g){return d.MVb(g);});};c.prototype.rcb=function(){var d;d=this;this.xT || (this.yb().Xha(l.ga.DH,function(g){return d.Sv(g);}),this.xT=!0);};c.prototype.MVb=function(d){var g;g=this;this.Ot.Teb(d).catch(function(){return g.Ib.Ec(l.La.error,d.kY());});};c.prototype.XVb=function(){var d;d=this.yb().getError();d?this.Ib.Ec(l.La.lK,d):(this.Ib.Ec(l.La.W2),this.Ib.Ec(l.La.yl),this.Ib.Ec(l.La.gu),this.Ib.Ec(l.La.fl),this.Ib.Ec(l.La.oY),this.Ib.Ec(l.La.lK));};c.prototype.Sv=function(d){var g,n,h;!1;g=d.metrics;if(g){n=this.yb();h=n.Si(d.position.segmentId);g=n.Si(g.srcsegment);this.Cya.qZb(d,h,g,!!n.R0a().qg);}};b.KLa=c;},15645:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LLa=void 0;l=a(50954);c.prototype.P6b=function(f){var k;if(!this.IPb(f.O))return f;k=new l.vq().nz(f.xe);Object.entries(f.O).forEach(function(d){var g;g=la(d);d=g.next().value;g=g.next().value;d === f.xe?k.De(d,Object.assign(Object.assign({},g),{next:void 0,va:void 0,Eb:void 0})):k.De(d,g);});return k.Lg();};c.prototype.IPb=function(f){f=Object.values(f).map(function(k){return k.J;});return 1 === new Set(f).size;};b.LLa=c;},79054:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u,t,w,v,y,x,z){this.Ea=u;this.Q1b=w;this.zi=y;this.Wl=z;this.N1b=t.NF(!1,"6.0043.278.911",u.id,x,v);}Object.defineProperty(b,"__esModule",{value:!0});b.OLa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(52531);d=a(88574);g=a(93488);n=a(2911);h=a(4203);m=a(65473);p=a(63368);a=a(75864);c.prototype.create=function(u,t,w,v){var y,x;y=this.Q1b.sBb(u,this.N1b,t);x=u.mza;w.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new d.uNa(this.zi,u,t,w,y,v,this.Wl):new m.LD(u,t,y,v,this.Wl);};q=c;q=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(g.eNa)),r.__param(2,(0,l.l)(n.ifa)),r.__param(3,(0,l.l)(h.Yb)),r.__param(4,(0,l.l)(k.PD)),r.__param(5,(0,l.l)(p.s0)),r.__param(6,(0,l.l)(a.jJ))],q);b.OLa=q;},69751:function(r,b,a){var l,f;function c(k,d,g){this.qy=d;this.zi=g;this.N1={};this.ofb=[];this.Kcb=[];this.o7a=[];this.zia=new WeakMap();this.reset(k);}Object.defineProperty(b,"__esModule",{value:!0});b.ULa=void 0;l=a(50954);f=a(50954);c.prototype.reset=function(k){var d;d=1 < Object.keys(k.O).length && 1 === new Set(Object.values(k.O).map(function(g){return g.J;})).size;this.csb=this.zi.Ufb || d;this.bcb(k);this.hh=k.xe;this.grb=this.qy.$A();this.vxa=new Map();};c.prototype.V5=function(k){if(this.mza)return this.kk;this.zia.has(k) || this.zia.set(k,(0,l.aaa)(k.P,k.I));return this.zia.get(k);};c.prototype.bcb=function(k){this.hrb=k;this.N1={};k=Object.keys(k.O);this.jTa(k);this.MUb();};c.prototype.Oj=function(k){var n;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}n=this;d.filter(function(h){return n.MC(h.I);}).filter(function(h){h=h.IM;return !h || n.MC(h);}).forEach(function(h){var m;m=h.I;n.N1[m]=n.H7a(h.IM);n.GUb(m);});};c.prototype.jTa=function(k){var d;d=this;k.filter(function(g){return d.MC(g);}).forEach(function(g){d.N1[g]=d.H7a(d.he(g).Eb);});};c.prototype.dj=function(k,d){var g,n,h;g=this.he(k);if(g && g.next){n=new f.vq(this.kk);h=Object.keys(g.next).reduce(function(m,p){m[p]=void 0 === d[p]?g.next[p]:Object.assign({},g.next[p],{weight:d[p]});return m;},{});h=Object.assign({},g,{next:h});n.De(k,h);this.kk=n.Lg();}};c.prototype.MC=function(k,d){d=void 0 === d?this.kk.O:d;return (k in d);};c.prototype.VT=function(k){return this.N1[k];};c.prototype.he=function(k){return this.kk.O[k];};c.prototype.JLb=function(k){if(this.vxa.has(k))return this.vxa.get(k);k=this.he(k);return isFinite(k.va)?k.va:void 0;};c.prototype.f8b=function(k,d){this.vxa.set(k,d);this.JUb(k);};c.prototype.n5b=function(k){this.ofb.push(k);};c.prototype.o5b=function(k){this.Kcb.push(k);};c.prototype.m5b=function(k){this.o7a.push(k);};c.prototype.MUb=function(){var k;k=this;this.ofb.forEach(function(d){return d(k.kk);});};c.prototype.GUb=function(k){this.o7a.forEach(function(d){return d(k);});};c.prototype.JUb=function(k){this.Kcb.forEach(function(d){return d(k);});};c.prototype.H7a=function(k){return null === k?void 0:k;};Xa.Object.defineProperties(c.prototype,{z9:{configurable:!0,enumerable:!0,get:function(){return this.grb;}},mza:{configurable:!0,enumerable:!0,get:function(){return this.csb;}},kk:{configurable:!0,enumerable:!0,get:function(){return this.hrb;},set:function(k){if(this.hh && !this.MC(this.hh,k.O))throw Error("Provided playgraphMap does not contain the current segmentId " + this.hh);this.bcb(k);}},hh:{configurable:!0,enumerable:!0,get:function(){return this.jpb;},set:function(k){if(!this.MC(k))throw Error("Provided currentSegmentId " + k + " does not exist in the current playgraph");this.jpb=k;}},ba:{configurable:!0,enumerable:!0,get:function(){return this.he(this.hh);}}});b.ULa=c;},62468:function(r,b,a){var l,f,k,d;function c(g,n){this.Ea=g;this.zQb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.WLa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(7342);c.prototype.create=function(g){return new (a(58343).d1)(this.Ea.Jb(),g);};c.prototype.vWa=function(g){return new (a(64059).gZ)(this.Ea.Jb(),g,this.zQb);};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(k.VGa))],d);b.WLa=d;},98899:function(r,b,a){var l;function c(f){this.ca=f;this.NO={};this.Rv();}Object.defineProperty(b,"__esModule",{value:!0});b.XLa=void 0;l=a(56819);c.prototype.Rv=function(){var f;f=this;Object.values(this.ca.kk.O).forEach(function(k){k=k.J;f.NO[k] || f.b3a(k);});this.Paa();};c.prototype.NL=function(f){return this.NO[f];};c.prototype.I2b=function(f){this.YT(f).state=l.hx.DEa;this.Paa();};c.prototype.H2b=function(f,k){f=this.YT(f);f.state=l.hx.Error;f.error=k;f.Mab(!1);this.Paa();};c.prototype.Pbb=function(f){f=this.YT(f);f.state=l.hx.Ejb;f.Mab(!0);this.Paa();};c.prototype.etb=function(f,k){this.YT(f).tb=k;};c.prototype.r2=function(f,k){this.YT(f).X=k;};c.prototype.YT=function(f){var k;return null !== (k=this.NL(f)) && void 0 !== k?k:this.b3a(f);};c.prototype.b3a=function(f){var k,d;k=void 0;d=new Promise(function(g,n){k=function(h){(h?g:n)();};});return this.NO[f]={state:l.hx.iJa,ZZb:d,Mab:k};};c.prototype.Paa=function(){var k;for(var f=this.ca.hh;f=this.ca.VT(f);){k=this.Wm(f);if(this.NO[k].state === l.hx.Error)break;if(this.NO[k].state === l.hx.DEa)break;if(this.NO[k].state === l.hx.iJa)break;}};c.prototype.Wm=function(f){return this.ca.kk.O[f].J;};b.XLa=c;},88574:function(r,b,a){var l,f,k,d,g;function c(n,h,m,p,q,u,t){var w;w=d.LD.call(this,h,m,q,u,t) || this;w.zi=n;w.la=p;w.xT=!1;w.ama=new Map();w.QVb=function(){w.WF().Xha(f.ga.DH,function(v){w.Ib.Ec(f.QD.qX);w.rb.hh=v.position.segmentId;});};w.iOb();u.addListener(f.La.loaded,w.QVb);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.uNa=void 0;l=a(50954);f=a(85001);k=a(36129);d=a(65473);g=a(75864);fa(c,d.LD);c.prototype.wSa=function(n){var h,m,p,q,u,t,w,v,y,x,z;h=this;p=this.rb.kk;q=this.Wl.Xq(n.P,"ident");u=this.Wl.Xq(n.P,"main");t=this.Wl.Xq(n.P,"credits");w=isFinite(n.Ui);v=isFinite(n.gb) && n.P !== p.O[p.xe].J;y={};x=new l.vq(p).De(u,Object.assign({J:n.P,ta:v && n.gb || 0,va:null !== (m=n.Ui) && void 0 !== m?m:Infinity},w?{next:(y[t]={},y),Eb:t}:{}));v && (m={},x.De(q,{J:n.P,ta:0,va:n.gb,next:(m[u]={},m),Eb:u}));w && x.De(t,{J:n.P,ta:n.Ui,va:Infinity});if(!this.rb.MC(u)){n=p.O[this.Wl.o0a(p)].J;z=this.Wl.Xq(n,g.RD.eCa);[this.Wl.Xq(n,g.RD.Cda),z].filter(function(A){return h.rb.MC(A);}).forEach(function(A){var B,C,D;B=h.rb.he(A);C=A === z || h.zi.D9;D={};x.De(A,Object.assign({},B,{next:Object.assign({},B.next,(D[u]={},D))},C?{Eb:u}:{}));});}this.rb.kk=x.Lg();return this.hH(u);};c.prototype.Rv=function(){this.Ev() && this.WF().Rv();};c.prototype.nta=function(){};c.prototype.SG=function(n){this.WF().SG(n);};c.prototype.Moa=function(n,h,m){h=void 0 === h?{}:h;this.la.debug("goToSegment " + n);return this.WF().lU(n,h,m);};c.prototype.hH=function(n){if(n === this.M1b)return null;this.M1b=n;return this.xT?this.Sj.NL(this.rb.he(n).J).ZZb:(this.xT=!0,d.LD.prototype.hH.call(this,n));};c.prototype.Teb=function(n){return n.errorCode && this.ama.has(n.errorCode)?this.ama.get(n.errorCode)(n):Promise.reject(Error("Error " + n.errorCode + " isn't recoverable"));};c.prototype.iOb=function(){var n;n=this;this.ama.set(k.V.PJa,function(){var h,m;return null !== (m=null === (h=d.LD.prototype.hH.call(n,n.rb.hh)) || void 0 === h?void 0:h.then(function(){var p,q;d.LD.prototype.Moa.call(n,n.rb.hh,null !== (q=null === (p=n.Sj.NL(n.rb.ba.J)) || void 0 === p?void 0:p.tb) && void 0 !== q?q:{});})) && void 0 !== m?m:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.uNa=c;},32754:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.i$a=void 0;r=a(22674);c=a(69493);l=a(28978);f=a(98166);k=a(660);b.i$a=new r.dd(function(d){d(c.CDa).to(l.BDa).ha();d(f.LP).to(k.aHa).ha();});},82100:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.EVa=b.Spa=b.doa=b.Q5=b.RFa=b.Hnb=b.fs=b.zFa=b.M0=b.L0=b.ePa=b.fPa=b.HJa=b.VZ=b.TEMPORARY=b.vu=void 0;c=a(32687);l=a(22210);b.vu="cenc";b.TEMPORARY="temporary";b.VZ="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.HJa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.fPa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.ePa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.L0="SW_SECURE_CRYPTO";b.M0="SW_SECURE_DECODE";b.zFa="HW_SECURE_DECODE";b.fs="HW_SECURE_ALL";b.Hnb={L0:"SW_SECURE_CRYPTO",M0:"SW_SECURE_DECODE",zFa:"HW_SECURE_DECODE",fs:"HW_SECURE_ALL"};b.RFa=[b.fs];b.Q5=function(f){var k;k=f.getConfiguration();return [b.fs,b.M0,b.L0].find(function(d){var g;return null === (g=k.videoCapabilities) || void 0 === g?void 0:g.some(function(n){return n.robustness === d;});});};b.doa=function(f){var k,n;try{for(var d=/\((\d[^)]+)\)/g,g;g=d.exec(f);){n=Number(g[1]);(0,c.Rb)(n) && (k=n);}}catch(h){}return k;};b.Spa=function(f){return l.ud.Ei.test(f);};b.EVa=function(f){return f.robustness?f.keySystem + "." + f.robustness:f.keySystem;};},56039:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Rna=void 0;c=a(31276);b.Rna=function(l){var f;f={};try{l.forEach(function(k){var d,g;if(k.xF){for(var n=(0,c.Ex),h=k.xF,m=0,p=new Uint8Array(16),q=0;q < h.length;q+=2){p[m++]=parseInt(h.slice(q,q + 2),16);}n=n(p);k=null !== (d=k.height) && void 0 !== d?d:k.Qva;f[n]=Math.max(k,null !== (g=f[n]) && void 0 !== g?g:0);}});}catch(k){}return f;};},69493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CDa="DrmProviderSymbol";},98166:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LP="LicenseProviderSymbol";},24735:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lqa=b.xh=void 0;(function(a){a[a.om=0]="STANDARD";a[a.wn=1]="LIMITED";})(b.xh || (b.xh={}));b.Lqa=function(a){return ["STANDARD","LIMITED"][a];};},28978:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t){this.wh=p;this.PA=q;this.K8b=u;this.mM=t;}Object.defineProperty(b,"__esModule",{value:!0});b.BDa=void 0;r=a(5163);l=a(22674);f=a(74870);k=a(2248);d=a(84408);g=a(53921);n=a(24735);h=a(82100);a=a(98166);c.prototype.Qg=function(p){var q;q=this;return this.wh.XA(p.uj[0].data[0],[8,4])?Promise.resolve({je:[{id:"ddd",AG:"cert",bV:void 0}],Sk:[{sessionId:"ddd",data:new Uint8Array(this.PA.decode(h.ePa))}]}):this.wh.XA(p.uj[0].data[0],this.K8b.decode("certificate"))?Promise.resolve({je:[{id:"ddd",AG:"cert",bV:void 0}],Sk:[{sessionId:"ddd",data:new Uint8Array(this.PA.decode(h.VZ))}]}):this.mM.Ms(this.$Hb(p)).then(function(u){return q.aIb(u);});};c.prototype.release=function(p){return this.mM.release(this.eIb(p)).then(function(){});};c.prototype.$Hb=function(p){var q,u;q=this;u=p.uj.map(function(t){return t.data.map(function(w){return {sessionId:t.sessionId,dataBase64:q.PA.encode(w)};});});return {na:p.na,Ed:p.Ed,z4:p.z4,gf:(0,n.Lqa)(p.gf),Mm:g.zk[p.Mm],uj:u.reduce(function(t,w){return t.concat(w);},[]),oi:p.oi,Zf:p.Zf};};c.prototype.eIb=function(p){return {na:p.na,je:p.je};};c.prototype.aIb=function(p){return {je:p.je,Sk:p.Sk};};m=c;m=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bh)),r.__param(1,(0,l.l)(k.Zg)),r.__param(2,(0,l.l)(d.yq)),r.__param(3,(0,l.l)(a.LP))],m);b.BDa=m;},660:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q,u){this.tsb=h;this.T_b=m;this.Aab=q;this.W0b=u;this.la=p.$a("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.aHa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(81378);a(24674);d=a(75014);g=a(16257);a=a(829);c.prototype.Ms=function(h){var m,p;m=this;!1;p=this.Aab.N6b(h);return this.tsb.Un(this.la,h.oi,p).then(function(q){q.map(function(u){return u.AQb;});return m.W0b.Heb(q);}).catch(function(q){m.la.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(h){var m;m=this;!1;h=this.Aab.Q6b(h);return this.T_b.yf(this.la,h).then(function(){return {ia:!0};}).catch(function(p){m.la.error("PBO release license failed",p);return Promise.reject(p);});};n=c;n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.YJa)),r.__param(1,(0,l.l)(d.LKa)),r.__param(2,(0,l.l)(f.ab)),r.__param(3,(0,l.l)(g.nKa)),r.__param(4,(0,l.l)(a.oea))],n);b.aHa=n;},45266:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.AXa=b.H1a=b.bfb=b.sC=b.h8=b.u6a=void 0;r=a(29664);c=a(31435);l=a(60024);f=a(56663);a=a(5154);b.u6a=r;b.h8=function(k,d){return (0,b.u6a)(function(g,n){return void 0 !== n?n:g;},k,d);};b.sC=c;b.bfb=l;b.H1a=f;b.AXa=a;},17892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hob="StorageValidatorSymbol";b.Dw="AppStorageFactorySymbol";},44272:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KNa="Storage";},62945:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(22674);c=a(91133);l=a(48159);f=a(56278);k=a(42304);d=a(42236);g=a(84970);n=a(57925);h=a(67894);m=a(17892);p=a(86607);q=a(26305);b.storage=new r.dd(function(u){u(l.XIa).Zd(function(){return function(){return ob.localStorage;};});u(l.UFa).Zd(function(){return function(){return ob.indexedDB;};});u(p.GIa).to(q.FIa).ha();u(m.Dw).to(h.AAa).ha();u(f.nHa).to(k.mHa).ha();u(c.V_).to(n.vGa).ha();u(d.xGa).to(g.wGa).ha();u(d.TFa).to(g.SFa).ha();u(d.zGa).to(g.yGa).ha();});},56278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nHa="LocalStorageSymbol";},86607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GIa="MemoryStorageSymbol";},48159:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$lb="NativeLocalStorageSymbol";b.XIa="NativeLocalStorageFactorySymbol";b.UFa="IDBFactorySymbol";},31679:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rib="__default_rule_key__";},67894:function(r,b,a){var f,k,d,g,n,h,m;function c(p,q,u,t){this.la=p;this.config=q;this.KNb=u;this.Ura=t;this.iF={mem:{storage:this.Ura,key:"mem"}};this.RC=this.config.RC;}function l(p,q,u,t){this.zf=p;this.cl=q;this.Ura=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.Fba=b.AAa=void 0;r=a(5163);f=a(22674);k=a(36129);d=a(42236);g=a(87386);n=a(86607);h=a(31679);a=a(34231);l.prototype.create=function(){this.JS || (this.JS=this.BK());return this.JS;};l.prototype.BK=function(){this.Ttb=new c(this.zf.$a("AppStorage"),this.config,this.cl,this.Ura);return this.Ttb.create();};m=l;m=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.ab)),r.__param(1,(0,f.l)(d.zGa)),r.__param(2,(0,f.l)(n.GIa)),r.__param(3,(0,f.l)(a.vn))],m);b.AAa=m;c.prototype.create=function(){var p;p=this;return this.lBb().then(function(q){if(!p.bxb(q,p.config.vU))throw p.uUb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(u,t){q.LT(p).storage.load(p).then(function(w){u(w);}).catch(function(w){t(w);});});};c.prototype.save=function(p,q,u){var t;t=this;return new Promise(function(w,v){t.LT(p).storage.save(p,q,u).then(function(y){w(y);}).catch(function(y){v(y);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(u,t){q.LT(p).storage.remove(p).then(function(){u();}).catch(function(w){t(w);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,u){p.Y$a("mem").then(function(){return p.Y$a("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.la.error("remove all failed");u(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.b5a("mem").then(function(u){q=q.concat(u);return p.b5a("idb");}).catch(function(u){p.JPb(u) || p.la.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return q=q.concat(u);}).catch(function(u){p.la.error("load all failed",u);throw u;});};c.prototype.lBb=function(){var p;p=this;return this.KNb.create().then(function(q){p.iF.idb={storage:q,key:"idb"};}).catch(function(q){p.la.error("idb failed to load",q);return q || ({Aa:k.S.Ro});});};c.prototype.bxb=function(p,q){return !p || p && q?!0:!1;};c.prototype.uUb=function(p){var q;q="";p && (q+=p.Aa);return {Aa:q};};c.prototype.Y$a=function(p){return (p=this.iF[p])?p.storage.removeAll():Promise.resolve();};c.prototype.b5a=function(p){return (p=this.iF[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.aHb=function(p){for(var q in this.RC){if(p.startsWith(q))return this.RC[q];}return this.RC[h.Rib];};c.prototype.LT=function(p){var q,u;q=this;this.aHb(p).every(function(t){return q.iF[t]?(u=q.iF[t],!1):!0;});if(!u){this.la.error("component not found for storageKey",{Q4b:p,Eec:Object.keys(this.iF),rules:this.RC});u=this.iF.mem;}this.la.trace("component found for key",{storageKey:p,componentKey:u.key});return u;};c.prototype.JPb=function(p){return (p && (p.Aa || p.errorSubCode)) === k.S.ex;};b.Fba=c;},6675:function(r,b){function a(c,l){this.Bx=c;this.ae=l;}Object.defineProperty(b,"__esModule",{value:!0});b.rda=void 0;a.prototype.load=function(c,l){var f;f=this;this.Bx.load(c).then(function(k){l && l(a.Edb(k));}).catch(function(k){l && l(f.bma(c,k));});};a.prototype.save=function(c,l,f,k){var d;d=this;this.Bx.save(c,l,f).then(function(){k && k(a.Edb({key:c,value:l}));}).catch(function(g){k && k(d.bma(c,g));});};a.prototype.remove=function(c,l){var f;f=this;this.Bx.remove(c).then(function(){l && l({ia:!0,kaa:c});}).catch(function(k){l && l(f.bma(c,k));});};a.Edb=function(c){return {ia:!0,data:c.value,kaa:c.key};};a.prototype.bma=function(c,l){return {ia:!1,kaa:c,Aa:l.Aa,Nb:l.Xb?this.ae.we(l.Xb):void 0};};b.rda=a;},42304:function(r,b,a){var l,f,k;function c(d){this.vC=d;}Object.defineProperty(b,"__esModule",{value:!0});b.mHa=void 0;r=a(5163);l=a(22674);f=a(36129);a=a(48159);c.prototype.load=function(d){var g;g=this;return new Promise(function(n,h){var m,p;try{m=g.vC.getItem(d);if(m){p=m;if("{" === m[0])try{p=JSON.parse(m) || m;}catch(q){}n({key:d,value:p});}else h({Aa:f.S.ex});}catch(q){h({Aa:f.S.TMa,Xb:q});}});};c.prototype.save=function(d,g,n){var h;h=this;return new Promise(function(m,p){if(n && h.vC.getItem(d))m(!1);else try{"string" === typeof g?h.vC.setItem(d,g):h.vC.setItem(d,JSON.stringify(g));m(!0);}catch(q){p({Aa:f.S.UMa,Xb:q});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(n,h){try{g.vC.removeItem(d);n();}catch(m){h({Aa:f.S.efa,Xb:m});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.$lb))],k);b.mHa=k;},26305:function(r,b,a){var l,f,k;function c(d){this.zf=d;this.PG={};this.la=this.zf.$a("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.FIa=void 0;r=a(5163);l=a(22674);f=a(36129);a=a(87386);c.prototype.load=function(d){var g;if(this.PG.hasOwnProperty(d)){g=this.PG[d];this.la.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.la.debug("Storage entry not found",{key:d});return Promise.reject({Aa:f.S.ex});};c.prototype.save=function(d,g,n){if(n && this.PG.hasOwnProperty(d))return Promise.resolve(!1);this.PG[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.PG[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.PG).map(function(g){var n;n=la(g);g=n.next().value;n=n.next().value;return {key:g,value:n};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.PG={};return Promise.resolve();};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ab))],k);b.FIa=k;},92093:function(r,b,a){var f,k,d;function c(g,n,h){this.config=g;this.vo=n;this.vC=h;}function l(g,n){this.reason=g;this.Xb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.uGa=b.uMa=void 0;f=a(36129);k=a(59818);(function(g){g[g.Xda=0]="NoData";g[g.Error=1]="Error";g[g.oJ=2]="Timeout";})(d=b.uMa || (b.uMa={}));c.prototype.load=function(g){var n;n=this;return new Promise(function(h,m){n.T4("get",!1,g).then(function(p){h({key:g,value:p});}).catch(function(p){var q;q=f.S.TMa;switch(p.reason){case d.Xda:q=f.S.ex;break;case d.oJ:q=f.S.Znb;}m({Aa:q,Xb:p.Xb});});});};c.prototype.save=function(g,n,h){var m;m=this;return new Promise(function(p,q){m.T4(h?"add":"put",!0,{name:g,data:n}).then(function(){p(!h);}).catch(function(u){var t;t=f.S.UMa;switch(u.reason){case d.oJ:t=f.S.bob;}q({Aa:t,Xb:u.Xb});});});};c.prototype.remove=function(g){var n;n=this;return new Promise(function(h,m){n.T4("delete",!0,g).then(function(){h();}).catch(function(p){var q;q=f.S.efa;switch(p.reason){case d.oJ:q=f.S.SMa;}m({Aa:q,Xb:p.Xb});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(n,h){g.T4("clear",!0,"").then(function(){n();}).catch(function(m){var p;p=f.S.efa;switch(m.reason){case d.oJ:p=f.S.SMa;}h({Aa:p,Xb:m.Xb});});});};c.prototype.loadAll=function(){var g;g=this;return this.vo.cq(this.config.timeout,new Promise(function(n,h){var m,p,q;if(g.config.qxa)h(new l(g.config.qxa));else {m=[];p=g.vC.transaction(g.config.VV,"readonly");q=p.objectStore(g.config.VV).openCursor();p.onerror=function(){h(new l(d.Error,q.error));};q.onsuccess=function(u){if(u=u.target.result)try{m.push({key:u.value.name,value:u.value.data});u.continue();}catch(t){h(new l(d.Error,t));}else n(m);};q.onerror=function(){h(new l(d.Error,q.error));};}})).catch(function(n){return n instanceof k.wq?Promise.reject(new l(d.oJ,n)):n instanceof l?Promise.reject(n):Promise.reject(new l(d.Error,n));});};c.prototype.T4=function(g,n,h){var m;m=this;return this.vo.cq(this.config.timeout,new Promise(function(p,q){var u,t;u=m.vC.transaction(m.config.VV,n?"readwrite":"readonly");t=u.objectStore(m.config.VV)[g](h);u.onerror=function(){q(new l(d.Error,t.error));};t.onsuccess=function(w){var v;if("get" == g)try{v=w.target.result;v?p(v.data):q(new l(d.Xda));}catch(y){q(new l(d.Xda,y));}else p(void 0);};t.onerror=function(){q(new l(d.Error,t.error));};})).catch(function(p){return p instanceof k.wq?Promise.reject(new l(d.oJ,p)):p instanceof l?Promise.reject(p):Promise.reject(new l(d.Error,p));});};b.uGa=c;},91133:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.V_="IndexedDBConfigSymbol";},42236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TFa="IDBDatabaseFactorySymbol";b.xGa="IndexedDBFactorySymbol";b.zGa="IndexedDBStorageFactorySymbol";},57925:function(r,b,a){var l,f,k,d,g;function c(n,h){n=k.Pe.call(this,n,"IndexedDBConfigImpl") || this;n.config=h;n.version=1;n.VV="namedatapairs";return n;}Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;r=a(5163);l=a(22674);f=a(12501);k=a(64174);d=a(34231);a=a(83767);fa(c,k.Pe);Xa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.dy?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.kdb;}},G2:{configurable:!0,enumerable:!0,get:function(){return this.config.G2;}},rxa:{configurable:!0,enumerable:!0,get:function(){return 0;}},qxa:{configurable:!0,enumerable:!0,get:function(){return 0;}},HZa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;r.__decorate([f.config(f.zz,"simulateIdbOpenError")],g.prototype,"rxa",null);r.__decorate([f.config(f.zz,"simulateIdbLoadAllError")],g.prototype,"qxa",null);r.__decorate([f.config(f.ed,"fixInvalidDatabase")],g.prototype,"HZa",null);g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.sl)),r.__param(1,(0,l.l)(d.vn))],g);b.vGa=g;},84970:function(r,b,a){var k,d,g,n,h,m,p,q,u,t,w,v;function c(y,x,z,A,B,C){this.config=x;this.MS=z;this.cl=A;this.V8b=B;this.vk=C;this.la=y.$a(m.KNa);}function l(y,x){this.config=y;this.wO=x;}function f(y,x,z,A,B){this.config=x;this.wO=z;this.vk=B;this.la=y.$a(m.KNa);this.MS=new Promise(function(C,D){var F;try{F=A();F?C(F):D({Aa:h.S.VFa});}catch(G){D({Aa:h.S.U_,Xb:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=b.wGa=b.SFa=void 0;r=a(5163);k=a(22674);d=a(87386);g=a(92093);n=a(48159);h=a(36129);m=a(44272);p=a(91133);q=a(59818);u=a(17892);t=a(77134);w=a(42236);v=a(63156);f.prototype.create=function(){this.Rka || (this.Rka=this.BK());return this.Rka;};f.prototype.$s=function(y){var x;x=this;this.Rka=null;return this.wO.cq(this.config.timeout,new Promise(function(z,A){y.close();x.delete(y.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.wq?Promise.reject({Aa:h.S.U_}):z.Aa?Promise.reject(z):Promise.reject({Aa:h.S.U_,Xb:z});});};f.prototype.delete=function(y){var x;x=this;return this.wO.cq(this.config.timeout,new Promise(function(z,A){x.MS.then(function(B){var C;C=B.deleteDatabase(y);C.onsuccess=function(){z();};C.onerror=function(){A({Aa:h.S.U_,Xb:C.error});};}).catch(function(B){A(B);});}));};f.prototype.BK=function(){var y,x;y=this;return this.wO.cq(this.config.timeout,new Promise(function(z,A){if(y.config.rxa)return A({Aa:y.config.rxa});y.MS.then(function(B){y.vk.mark(v.ij.Bkb);x=B.open(y.config.name,y.config.version);if(!x)return A({Aa:h.S.WFa});x.onblocked=function(){y.vk.mark(v.ij.ykb);A({Aa:h.S.ukb});};x.onupgradeneeded=function(){var C;y.vk.mark(v.ij.Ikb);C=x.result;try{C.createObjectStore(y.config.VV,{keyPath:"name"});}catch(D){y.la.error("Exception while creating object store",D);}};x.onsuccess=function(C){var D,F;y.vk.mark(v.ij.Hkb);try{D=C.target.result;F=D.objectStoreNames.length;y.la.trace("objectstorenames length ",F);if(0 === F){y.la.error("invalid indexedDb state, deleting");y.vk.mark(v.ij.Akb);try{D.close();}catch(G){}B.deleteDatabase(y.config.name);setTimeout(function(){A({Aa:h.S.tkb});},1);return;}}catch(G){y.la.error("Exception while inspecting indexedDb objectstorenames",G);}z(x.result);};x.onerror=function(){y.vk.mark(v.ij.zkb);y.la.error("IndexedDB open error",x.error);A({Aa:h.S.vkb,Xb:x.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.wq){try{x && x.readyState && y.vk.mark("readyState-" + x.readyState);}catch(A){}if(y.config.G2 && x && "done" === x.readyState){if(y.P8b(x))return (y.vk.mark(v.ij.Fkb),Promise.resolve(x.result));y.vk.mark(v.ij.Ekb);}y.vk.mark(v.ij.Dkb);return Promise.reject({Aa:h.S.xkb});}if(z.Aa)return Promise.reject(z);y.vk.mark(v.ij.Ckb);y.la.error("IndexedDB open exception occurred",z);return Promise.reject({Aa:h.S.wkb,Xb:z});});};f.prototype.P8b=function(y){try{return 0 < y.result.objectStoreNames.length;}catch(x){this.vk.mark(v.ij.Gkb);this.la.error("failed to check open request state",x);}return !1;};a=f;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.ab)),r.__param(1,(0,k.l)(p.V_)),r.__param(2,(0,k.l)(q.bA)),r.__param(3,(0,k.l)(n.UFa)),r.__param(4,(0,k.l)(t.pJ))],a);b.SFa=a;l.prototype.create=function(y){return Promise.resolve(new g.uGa(this.config,this.wO,y));};a=l;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(p.V_)),r.__param(1,(0,k.l)(q.bA))],a);b.wGa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.JS || (this.JS=this.BK(this.V8b));return this.JS;};c.prototype.BK=function(y){var x;x=this;y=void 0 === y?[]:y;return new Promise(function(z,A){x.vk.mark(v.ij.Ynb);x.MS.create().then(function(B){x.cl.create(B).then(function(C){Promise.all(y.map(function(D){return D.validate(C);})).then(function(){x.storage=C;z(x.storage);}).catch(function(D){x.la.debug("DB validation failed, cause: " + D);x.config.HZa?(x.la.debug("Fixing corrupt DB"),x.MS.$s(B).then(function(){x.la.error("Invalid database deleted, creating new database.");x.BK().then(function(F){x.la.error("Invalid database successfully recreated.");x.storage=F;z(x.storage);});}).catch(function(F){x.la.error("Couldn't delete invalid database.");A(F);})):(x.la.debug("Ignoring invalid DB due to config"),x.storage=C,z(x.storage));});}).catch(function(C){A(C);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.ab)),r.__param(1,(0,k.l)(p.V_)),r.__param(2,(0,k.l)(w.TFa)),r.__param(3,(0,k.l)(w.xGa)),r.__param(4,(0,k.optional)()),r.__param(4,(0,k.OG)(u.hob)),r.__param(5,(0,k.l)(t.pJ))],a);b.yGa=a;},69899:function(r,b,a){var f;function c(k,d,g){this.start=k;this.track=d;this.UC=Array.isArray(g)?g:[];}function l(k,d){this.log=k;this.Ez=d;this.ava=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.SNa=void 0;f=a(45146);l.prototype.xsb=function(k,d){this.k7a(k,d,"activating");};l.prototype.jCb=function(k){this.Tla(k,"de-activating");};l.prototype.k7a=function(k,d,g){var n;this.ak && this.Tla(k,"close current for new");n=[];this.orphans.length && (n.push.apply(n,ca(this.orphans)),this.orphans=[]);this.ak=new c(k,d,n);this.Ez && this.log.trace("new range: " + g,this.ak);};l.prototype.Tla=function(k,d){this.ak && (this.ak.end=k,this.ava.push(this.ak),this.Ez && this.log.trace("end range: " + d,this.ak || ({})),this.ak=void 0);};l.prototype.Ffb=function(k){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.ak?this.ak.UC.push.apply(this.ak.UC,ca(d)):this.orphans.push.apply(this.orphans,ca(d));};l.prototype.Aoa=function(k){var d,g;d=this.ava.slice(0);if(this.ak && "undefined" !== typeof k){g=new c(this.ak.start,this.ak.track,this.ak.UC);g.end=k;d.push(g);}k=d.reduce(function(n,h){var m,p,q,u;if(!h.track)return n;p=h.track.Vb;q=h.track.Nl(h.start,h.end);if(void 0 === q || null === q)return n;u=new Set(h.UC);n[p]?(h=n[p],h.expected+=q,h.missed+=q - u.size):n[p]={dlid:p,bcp47:h.track.te,profile:h.track.profile,expected:q,missed:q - u.size,startPts:null !== (m=h.track.NLb()) && void 0 !== m?m:0};return n;},{});k=Object.values(k);this.Ez && this.log.trace("subtitleqoe:",JSON.stringify(k,null,"\t"));return k;};l.prototype.ELb=function(k){var d,g,n,h;d=this.ava.slice(0);g=0;n=0;if(this.ak && "undefined" != typeof k){h=new c(this.ak.start,this.ak.track,this.ak.UC);h.end=k;d.push(h);}d.forEach(function(m){var p,q;if(m.track){if(m.end < m.start){(0,f.oa)(!1,"negative range");m.KC=0;return;}p=new Set(m.UC);q=m.track.Nl(m.start,m.end);m.V4=q;m.KC=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else m.KC=100;p=m.end - m.start;g+=p;n+=m.KC * p;});h=g?Math.round(n / g):100;this.log.trace("qoe score " + h + ", at pts: " + k);this.Ez && (k=d.map(function(m){return {start:m.start,"end  ":m.end,duration:m.end - m.start,score:Math.round(m.KC),lang:m.track?m.track.te:"none","actual  ":m.UC.join(" "),expected:m.V4};}),this.log.trace("score for each range: ",JSON.stringify(k,function(m,p){return p;}," ")));return h;};b.SNa=l;},40076:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.eI=void 0;r=a(22674);c=a(53205);l=a(29773);f=a(22692);k=a(87549);b.eI=new r.dd(function(d){d(k.hOa).to(c.gOa);d(f.eOa).gl(new l.dOa());d(k.fOa).Zd(function(g){return function(){return g.lb.get(k.hOa);};});});},87549:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hOa="ThroughputTrackerSymbol";b.fOa="ThroughputTrackerFactorySymbol";},22692:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eOa="ThroughputTrackerConfigSymbol";},70826:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.uDa=void 0;c=a(72574);b.uDa=function(l,f){this.cEb=l;this.size=f.cqa()?c.Ha:f;};},29773:function(r,b,a){function c(l){this.dEb=void 0 === l?10:l;}Object.defineProperty(b,"__esModule",{value:!0});b.dOa=void 0;r=a(5163);a=a(22674);c=r.__decorate([(0,a.U)()],c);b.dOa=c;},53205:function(r,b,a){var l,f,k,d;function c(g){this.config=g;this.txa=f.Ha;this.bO=[];}Object.defineProperty(b,"__esModule",{value:!0});b.gOa=void 0;r=a(5163);l=a(22674);f=a(72574);k=a(5021);a=a(22692);c.prototype.Vm=function(){var n;for(var g;0 < this.bO.length;){g=this.bO.shift();this.dSa(g);}g=void 0 === this.YS || void 0 === this.vF?k.Ha:this.vF.qa(this.YS);n=g.b4a()?0:this.txa.da(f.lD) / g.da(k.pa);return {hya:Math.floor(n),Hfc:g.da(k.pa)};};c.prototype.Psb=function(g){this.txa=this.txa.add(g.size);this.bO.push(g.cEb);for(this.bO.sort(function(n,h){return n.start.Jk(h.start);});this.bO.length > this.config.dEb;){g=this.bO.shift();this.dSa(g);}};c.prototype.dSa=function(g){void 0 === this.YS && (this.YS=g.start);void 0 !== this.vF && 0 > this.vF.Jk(g.start) && (this.YS=this.YS.add(g.start.qa(this.vF)));if(void 0 === this.vF || 0 > this.vF.Jk(g.end))this.vF=g.end;};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.eOa))],d);b.gOa=d;},35781:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t,w,v,y){var x,z;q=g.WD.call(this,u,q,q,v,!0,{xf:"",wC:"content"},"1",[{xg:0,url:t,type:"unknown"}],"xx",w || q,n.Po.gJ,void 0,void 0,"primary",null !== (x=null === y || void 0 === y?void 0:y.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (z=null === y || void 0 === y?void 0:y.midx) && void 0 !== z?z:{},!1,!1,null === y || void 0 === y?void 0:y.isLanguageLeftToRight) || this;q.j=u;q.url=t;q.options=y;q.Ur=null === y || void 0 === y?void 0:y.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.iOa=void 0;r=a(13044);l=a(29204);f=a(37509);k=a(31276);d=a(52569);g=a(26159);n=a(35128);h=a(61726);m=a(43193);p=a(85001);(0,r.gLa)(r.zea,function(q){var t;function u(w){var v;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == m.Vz.pob){v=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var y,x,z;y=v.files[0];if(y){x=y.name;t.info("Loading file",{FileName:x});z=new FileReader();z.readAsText(y);z.addEventListener("load",function(){return q.sn.Mha("nourl",x,{content:z.result});});}});v.click();}}t=(0,k.Eh)(q,"TimedTextCustomTrack");l.config.Qka && (t.info("Loading url",{Url:l.config.Qka}),q.sn.Mha(l.config.Qka,"custom"));f.ie.addListener(f.FB,u);q.addEventListener(p.ga.mg,function(){f.ie.removeListener(f.FB,u);});});fa(c,g.WD);c.ZAb=function(q,u,t,w){var v;v="custom" + c.FOb++;return new c(v,q,u,t,-1,w);};c.prototype.OXa=function(){var q;q=this;return new Promise(function(u,t){var w,v;if(null === (w=q.options) || void 0 === w?0:w.content)u(q.options.content);else if(q.url){v={responseType:h.hpa,url:q.url,track:q,Dc:void 0,gB:"tt-" + q.te,Kr:"unknown"};q.j.z6.download(v,function(y){y.ia?u(y.content):(y.reason="downloadfailed",y.url=v.url,y.track=q,t(y));});}});};b.iOa=c;c.FOb=0;},97154:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){this.k5=h;this.ay={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,l.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.Sbb(m);this.Tma=this.b0a(this.k5);this.lang=p;}Object.defineProperty(b,"__esModule",{value:!0});b.jOa=void 0;l=a(52569);f=a(33579);k=a(15531);d=a(29204);g=a(22365);n=a(3887);c.prototype.Sm=function(){return this.element;};c.prototype.t2b=function(h){this.gv=h;};c.prototype.F2b=function(h){this.entry=h;this.rH();};c.prototype.M2b=function(h){this.Sbb(h);this.rH();};c.prototype.N2b=function(h){this.lang=h;this.rH();};c.prototype.rH=function(){var h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F;h=this;p=this.Sm();q=p.parentElement;u=q && q.clientWidth || 0;t=q && q.clientHeight || 0;w=0;v=0;y=0;q={width:u,height:t};z=null !== (m=d.config.Eaa.characterSize) && void 0 !== m?m:d.config.nya.characterSize;this.lang && d.config.F6 && d.config.F6.includes(this.lang) && "MEDIUM" === z && (y=1.4);this.lang && d.config.G6 && d.config.G6.includes(this.lang) && "SMALL" === z && (y=1.6);if(0 < u && 0 < t && this.entry){this.gv && (q=(0,l.j5)(u,t,this.gv),w=Math.round((u - q.width) / 2),v=Math.round((t - q.height) / 2));A=this.Swb(q);B=(0,l.j5)(A.width,A.height,this.gv);(x=this.m4b(this.entry.blocks)) && (x=this.g1b(x));A=x && x.map(function(G){var E;E=null === G || void 0 === G?void 0:G.region;switch(E.horizontalAlignment){case "start":E.horizontalAlignment="rtl" === h.ay.direction?"right":"left";break;case "end":E.horizontalAlignment="rtl" === h.ay.direction?"left":"right";}E=(0,k.Xla)(G,B,h.k5,h.Tma,y);G=(0,k.GYa)(G) + ";position:absolute";return (0,l.createElement)("div",G,E,c.jca);});}Object.assign(this.ay,{left:w + "px",right:w + "px",top:v + "px",bottom:v + "px"});p.style.display="none";p.style.direction=this.ay.direction;p.innerHTML="";if(A && A.length){m=q.width;u=q.height;w=q;this.nS && (w=this.rsb(q,this.nS,t,v));this.ay.margin=this.ur?this.p3(q,"top") + "px " + this.p3(q,"right") + "px " + this.p3(q,"bottom") + "px " + this.p3(q,"left") + "px ":void 0;A.forEach(function(G){return p.appendChild(G);});t=(0,l.HS)(this.ay);p.style.cssText=t + ";visibility:hidden;z-index:-1";v=[];for(z=A.length - 1;0 <= z;z--){C=A[z];D=x[z];F=this.v7a(C,D,m,u);y=0 < y?m / F.width * y:m / F.width;F.width > m && (C.innerHTML=(0,k.Xla)(D,q,this.k5,this.Tma,y),F=this.v7a(C,D,m,u));v[z]=F;}v=(0,f.Zeb)(v,w);if(z=x && x[0] && x[0].textNodes && x[0].textNodes[0] && x[0].textNodes[0].style)(w=z.windowColor,z=z.windowOpacity,w && 0 < z && (C=Math.round(u / 50),q=(0,k.IYa)(x,v,C,w,q),q=(0,l.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,q,c.jca),p.insertBefore(q,p.firstChild)));p.style.display="none";for(q=v.length - 1;0 <= q;q--){z=v[q];w=A[q].style;C=x[q].region;z=(0,k.HYa)(C,z,m,u,0);Object.assign(w,z);}p.style.cssText=t;}};c.prototype.cxa=function(h){this.nS=h;this.rH();};c.prototype.Eoa=function(){return this.nS;};c.prototype.dxa=function(h){this.ur=h;this.rH();};c.prototype.Foa=function(){return this.ur;};c.prototype.Goa=function(){return "block" === this.ay.display;};c.prototype.exa=function(h){var m;m=h?"block":"none";this.element.style.display=m;this.ay.display=m;h && this.rH();};c.prototype.P7b=function(h){this.k5=h;this.Tma=this.b0a(h);};c.prototype.b0a=function(h){var m,p;m=this;p={};(0,n.Tf)(h,function(q,u){p[q]=m.YSb(u);});return p;};c.prototype.Sbb=function(h){this.ay.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.p3=function(h,m){if(this.ur){if("left" === m || "right" === m)return h.width * (this.ur[m] || 0);if("top" === m || "bottom" === m)return h.height * (this.ur[m] || 0);}return 0;};c.prototype.Swb=function(h){return this.ur?{height:h.height * (1 - (this.ur.top || 0) - (this.ur.bottom || 0)),width:h.width * (1 - (this.ur.left || 0) - (this.ur.right || 0))}:h;};c.prototype.YSb=function(h){var m;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,l.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.jca);g.Hg.body.appendChild(h);m={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};g.Hg.body.removeChild(h);return m;};c.prototype.v7a=function(h,m,p,q){var u,t,w,v,y;u=m.region;t=(u.marginTop || 0) * q;w=(u.marginBottom || 0) * q;v=(u.marginLeft || 0) * p;y=(u.marginRight || 0) * p;m=h.clientWidth || 1;h=h.clientHeight || 1;switch(u.verticalAlignment){case "top":q=t;break;case "center":q=(t + q - w - h) / 2;break;default:q=q - w - h;}switch(u.horizontalAlignment){case "left":p=v;break;case "right":p=p - y - m;break;default:p=(v + p - y - m) / 2;}return {top:q,left:p,width:m,height:h};};c.prototype.rsb=function(h,m,p,q){return {height:p - Math.max(q,m.bottom || 0) - Math.max(q,m.top || 0),width:h.width};};c.prototype.g1b=function(h){var m,u,t,w;m=h && h.map(function(v,y){var x;return "vertical-rl" === (null === (x=null === v || void 0 === v?void 0:v.region) || void 0 === x?void 0:x.writingMode)?y:-1;}).filter(function(v){return -1 !== v;});if(m && 0 !== m.length)for(var p=0,q=m.length - 1;p < q;(p++,q--)){u=m[p];t=m[q];w=la([h[t],h[u]]);h[u]=w.next().value;h[t]=w.next().value;}return h;};c.prototype.m4b=function(h){var m,p;if(!h || 0 === h.length)return h;p=h.filter(function(t){var w;return "horizontal-tb" === (null === (w=t.region) || void 0 === w?void 0:w.writingMode);}).sort(function(t,w){return t.region.marginTop - w.region.marginTop;});if(!p || 0 === p.length)return h;for(var q=0,u=0;q < p.length && u < h.length;u++){"horizontal-tb" === (null === (m=h[u].region) || void 0 === m?void 0:m.writingMode) && (h[u]=p[q++]);}return h;};b.jOa=c;c.jca={"class":"player-timedtext-text-container"};},7953:function(r,b){function a(c,l){var f;f=this;this.C0a=c;this.S7a=l;this.rya=!1;this.TM=function(){f.em=void 0;f.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.nOa=void 0;a.prototype.update=function(c){var l,f,k,d,g;k=this.C0a();if(this.Gfb !== k){d=null === (f=null === (l=this.pV) || void 0 === l?void 0:l.xB(k)) || void 0 === f?void 0:f[0];if(d && ("startTime" in d))if(d.startTime <= k && k <= d.endTime){g=d;this.rfb(d.endTime - k);}else this.rfb(d.startTime - k);this.Gfb=k;this.Hha !== g && (this.Hha=g,!c && this.S7a && this.S7a());}};a.prototype.start=function(){this.rya=!0;this.update();};a.prototype.Ybb=function(c){this.pV=c;this.Hha=this.Gfb=void 0;c || this.stop();};a.prototype.stop=function(){this.rya=!1;this.Ao();};a.prototype.vIb=function(){this.update(!0);return this.Hha;};a.prototype.rfb=function(c){this.Ao();this.rya && 0 < c && (this.em=ob.setTimeout(this.TM,c + a.Ulb));};a.prototype.Ao=function(){this.em && (ob.clearTimeout(this.em),this.em=void 0);};b.nOa=a;a.Ulb=10;},26159:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,F,G,E,I,M,L,K,O,H,J,N,R,T,ka){this.j=x;this.trackId=z;this.lG=A;this.bc=B;this.Wf=C;this.Beb=D;this.Vb=F;this.urls=G;this.te=E;this.displayName=I;this.vh=M;this.YH=L;this.variant=K;this.GC=O;this.profile=H;this.Ft=J;this.H8=N;this.LHb=R;this.a7=T;this.ut=ka;this.type=d.Vj.oya;this.Ur=void 0;this.gk=!(!H || H != n.qm.aJ);this.sg={bcp47:E,trackId:z,downloadableId:F,isImageBased:this.gk};this.log=(0,g.Eh)(x,"TimedTextTrack");this.state=y.j0;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.WD=void 0;l=a(5163);f=a(61726);k=a(29204);d=a(51344);g=a(31276);n=a(75568);h=a(45146);m=a(32687);p=a(58174);q=a(85001);u=a(36129);t=a(56485);w=a(32934);v=a(93161);(function(x){x[x.j0=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.CD=2]="LOADED";x[x.KP=3]="LOAD_FAILED";})(y || (y={}));c.prototype.I6=function(){var x;x=this;if(this.j.state.value === q.Wb.CLOSED || this.j.state.value === q.Wb.CLOSING)return Promise.reject({ia:!1});if(this.gk)return this.wOb();if(this.j.gd.aa)return (this.state=y.LOADING,this.$2a());this.MXa || (this.MXa=this.OXa());return this.MXa.then(function(z){return x.$2a(z);});};c.prototype.getState=function(){return this.state;};c.prototype.bo=function(){return this.H8;};c.prototype.bn=function(){return this.LHb;};c.prototype.zoa=function(){var x;return (null === (x=this.NX) || void 0 === x?0:x.ready)?this.NX.pV:void 0;};c.prototype.Nl=function(x,z){var A;try{return null === (A=this.zoa()) || void 0 === A?void 0:A.Nl(x,z);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:z,isImageBased:this.gk});}};c.prototype.NLb=function(){var x,z,A;if(!(0,m.Wc)(this.gb))try{A=null === (z=null === (x=this.zoa()) || void 0 === x?void 0:x.xB(0)) || void 0 === z?void 0:z[0];this.gb=null === A || void 0 === A?void 0:A.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.gb;};c.prototype.Wua=function(x){var z,A;(0,h.oa)((0,v.o3a)(x));(0,h.oa)(null === (z=this.j.X) || void 0 === z?void 0:z.Fa.Ih,"Live manifest is unavailable.");(0,h.oa)(null === (A=this.NX) || void 0 === A?void 0:A.pV,"Subtitle manager is unavailable");z=x.Ueb;this.NX.pV.Wua({I:x.I,xml:z,gb:x.gb,df:x.df,size:z.length,Fr:x.Fr,endOfStream:x.endOfStream});};c.prototype.V$=function(x){return this.j.state.value === q.Wb.CLOSING || this.j.state.value === q.Wb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Mb.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.zWa=function(x){var z,A;z=this;A=(0,g.Eh)(this.j,"TimedTextTrack");A.warn=A.trace.bind(A);A.info=A.debug.bind(A);A=(0,p.AWa)(this.j,A,this.request,this);x=new t.default(A,x);this.NX={pV:x,ready:!1};x.on("ready",function(){z.NX.ready=!0;});return x;};c.prototype.wOb=function(){var x,z,A,B,C,D,F;x=this;if(!this.X2a){this.state=y.LOADING;z={profile:"nflx-cmisc",url:"",wTa:!1,$ra:this.Ft.offset,C6a:this.Ft.length,ye:this.j.mediaTime.value || 0,bufferSize:k.config.SNb,G$:{O:this.j.JT()}};A=(this.urls || []).map(function(G){return G.xg;});B=0;C={};D=!0;F=function(G,E){var I;(0,m.Wc)(G)?D || x.V$(x.ot(x.Ys,"","image"))?(D=!1,x.Ft.url=null === (I=x.y5(x.Ys)) || void 0 === I?void 0:I.url,z.url=x.Ft.url,C[G]=(C[G] || 0) + 1,I=x.zWa(z),I.on("ready",function(){E({ia:!0,track:x});}),I.on("error",function(M){var L;M=Object.assign({ia:!1},M);L=x.ot(x.Ys,x.Ft.url,"image");L.details={midxoffset:x.Ft.offset,midxsize:x.Ft.length};L.errorstring=M.errorString;C[G] <= k.config.oeb?(x.d5(L,!0,"retry with current cdn"),x.Pia(C[G]).then(function(K){x.log.trace("retry timed text download after " + K,x.ot(x.Ys,"","image"));F(x.Ys,E);})):(x.Ys=A[B++],x.Ys?(x.d5(L,!0,"retry with next cdn"),x.Pia(C[G]).then(function(K){x.log.trace("retry timed text download after " + K,x.ot(x.Ys,"","image"));F(x.Ys,E);})):(x.d5(L,!1,"all cdns tried"),E({ia:!1,UTb:"all cdns failed for image subs",track:x})));}),I.start()):E({ia:!1,aborted:!0}):(E({ia:!1,UTb:"cdnId is not defined for image subs downloadUrl"}),x.d5(x.ot(0,"","image"),!1,"cdnId is undefined"));};this.Ys=A[B++];this.X2a=new Promise(function(G,E){F(x.Ys,function(I){I.ia?(x.log.info("Loaded image subtitle manager"),x.state=y.CD,G(I)):(x.log.error("Unable to load image subtitles manager",I),x.state=y.KP,E(I));});});}return this.X2a;};c.prototype.$2a=function(x){var z,A;z=this;A=this.j.eD.value;(0,h.oa)(A);(0,h.oa)(void 0 !== x || this.j.gd.aa);return new Promise(function(B,C){var D;D=z.zWa({profile:z.profile,xml:x,og:k.config.nya,preferences:k.config.Eaa,ye:z.j.mediaTime.value || 0,wTa:!1,videoSize:A,aa:z.j.gd.aa});D.on("ready",function(){B(D);}).on("error",function(F){C({ia:!1,error:F});}).start();}).then(function(){z.state=y.CD;return {ia:!0,track:z};}).catch(function(B){z.log.error("Unable to parse timed text track",(0,u.Ow)(B),z.sg,{url:B.url});z.state=y.KP;B.reason="parseerror";B.track=z;throw B;});};c.prototype.d5=function(x,z,A){x=Object.assign({},x,{mkc:z,status:A});this.j.fireEvent(q.ga.nO,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,z){var A,B,C;A=this;this.log.trace("Downloading",x);C=this.y5(this.Ys);x={url:x.url,offset:x.offset,length:x.size,Ur:this.Ur,responseType:f.tU,headers:{},Dc:C?{id:C.xg}:void 0,gB:"tt-" + this.te,Kr:null !== (B=null === C || void 0 === C?void 0:C.type) && void 0 !== B?B:w.dQ};this.j.z6.download(x,function(D){A.log.trace("imgsub: request status " + D.ia);D.ia?z(null,new Uint8Array(D.content)):z({Aa:D.Aa,Ee:D.Ee});});};c.prototype.ot=function(x,z,A){return {currentCdnId:x,url:z,profile:this.profile,dlid:this.Vb,subtitletype:A,bcp47:this.te,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.gk};};c.prototype.y5=function(x){return (this.urls || []).find(function(z){return z.xg === x;});};c.prototype.OXa=function(){var B,C;function x(D){return l.__awaiter(B,void 0,void 0,function G(){var E,I,M;I=this;return Ja(G,function(L){E=A();M=I.ot(D.Dc.xg,D.url,"text");M.errorstring=D.reason;return E && I.V$(M)?L.return(I.Pia(C[E.xg]).then(z)):L.return(Promise.reject({ia:!1,aborted:!0}));});});}function z(){return l.__awaiter(B,void 0,void 0,function F(){var G,E,I;I=this;return Ja(F,function(M){G=A();E=null === G || void 0 === G?void 0:G.url;return G && E?(C[G.xg]=(C[G.xg] || 0) + 1,M.return(I.ZDb(E,G).catch(x))):M.return(Promise.reject({}));});});}function A(){return (B.urls || []).find(function(D){return !!((C[D.xg] || 0) < k.config.oeb);});}B=this;this.state=y.LOADING;C={};return z();};c.prototype.Pia=function(x){return new Promise(function(z){var A;A=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return z(A);},A);});};c.prototype.ZDb=function(x,z){var A;A=this;this.log.trace("Downloading",z && ({Dc:z.xg}),this.ot(z.xg,x,"text"));return new Promise(function(B,C){var D,F;F={responseType:f.hpa,url:x,track:A,Dc:{id:z.xg},gB:"tt-" + A.te,Kr:null !== (D=z.type) && void 0 !== D?D:w.dQ};A.j.z6.download(F,function(G){G.ia?B(G.content):(G=Object.assign(Object.assign({},G),{reason:"downloadfailed",url:F.url,track:A,Dc:z}),C(G));});});};Xa.Object.defineProperties(c.prototype,{xf:{configurable:!0,enumerable:!0,get:function(){return this.Beb.xf;}},wC:{configurable:!0,enumerable:!0,get:function(){return this.Beb.wC;}}});b.WD=c;c.dA=y;},58174:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AWa=void 0;b.AWa=function(a,c,l,f){return {nLb:function(){var k;k=a.goa();f.ut && (k+=f.ut);return k;},la:c,request:l,ef:!1};};},73585:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t){var w;w=this;this.j=t;this.Uxa=this.d7a=0;this.mg=this.Yk=!1;this.kw=0;this.C6=new Set();this.xX=!0;this.fl=function(){var v,y;w.j$();w.mF && (w.log.info("Deactivating",w.mF),w.uz.jCb(w.mt()));w.j.Yh.set(null);w.hI.Ybb(void 0);w.bVa();v=w.j.Mb.value;v && v.bo() && !v.bn() && (v=null);if(v && w.j.wb.value !== q.hb.Af){y=w.mt();w.uz.xsb(y,v);}v?(w.log.info("Activating",v),w.j.dm.set(v.getState() === l.WD.dA.CD?q.pf.ce:q.pf.Ne),w.Yk || w.j.ke("tt_start"),v.I6().then(w.VJ).catch(w.VJ)):w.j.dm.set(q.pf.ce);w.mF=v;w.Cz();};this.sync=function(){w.Yk && (w.hI.start(),w.j.wb.value !== q.hb.Oe && w.hI.stop());};this.Cz=function(){var v;w.xX && w.j.state.value === q.Wb.ce && w.j.wb.value !== q.hb.Af && (w.Vg?v=w.hI.vIb():w.j.Mb.value && (v=c.L4b[w.j.Mb.value.getState()]));v && (0,p.Wc)(v.startTime) && w.j.eu.value !== v && (w.d7a++,w.Uxa+=w.hI.C0a() - v.startTime,w.zTa=Math.ceil(w.Uxa / (w.d7a + 0)));w.j.eu.set(v);};this.mt=function(){var v;v=w.j.goa();w.mF && w.mF.ut && (v+=w.mF.ut);return v;};this.mta=function(v){w.C6.add(v);w.xX && (w.fireEvent(c.Bcb,v),v && v.id && (w.uz.Ffb(v.id),!1));w.log.trace("showsubtitle",w.a6(v));};this.$V=function(v){w.C6.delete(v) && w.xX && (w.fireEvent(c.lab,v),w.log.trace("removesubtitle",w.a6(v)));};this.nNb=function(){w.C6.forEach(function(v){w.fireEvent(c.lab,v);w.log.trace("hide subtitle",w.a6(v));});};this.a1b=function(){w.C6.forEach(function(v){w.fireEvent(c.Bcb,v);w.log.trace("resume subtitle",w.a6(v));});};this.oh=function(){w.log.warn("imagesubs buffer underflow",w.j.Mb.value.sg);w.j.dm.set(q.pf.Ne);};this.Vsa=function(){w.log.info("imagesubs buffering complete",w.j.Mb.value.sg);w.j.dm.set(q.pf.ce);};this.W8=function(){w.Yk && w.Vg && w.Vg.Dz(w.mt());};this.a8a=function(v){w.Yk && w.Vg && (w.Vg.pause(),w.Vg.NC(v.Vs));};this.Sv=function(){w.Yk && w.Vg && w.Vg.k$a();};this.Y7a=function(v){w.Vg && w.Vg.Oj(v.hh,v.IM);};this.f8a=function(v){w.Vg && w.Vg.dj(v.I,v.p8b);};this.OVb=function(){w.Yk=!0;(0,m.Ef)(function(){var v,y;(null === (v=w.mF) || void 0 === v?0:v.gk)?null === (y=w.Vg) || void 0 === y?void 0:y.Dz(w.mt()):w.sync();w.Cz();});};this.LVb=function(){w.bVa();w.hI.stop();w.Cz();w.mg=!0;w.j$();};this.qta=function(v){(v=v.newValue) && (0,p.isArray)(v.blocks) && (w.uz.Ffb.apply(w.uz,ca(v.blocks.map(function(y){return y.id;}))),!1);};this.SVb=function(v){w.i8b(v.newValue,v.oldValue);w.sync();w.Cz();};this.VJ=function(v){var y;if(!w.mg){y=v.track;if(y === w.j.Mb.value)try{w.Vg=y.zoa();y.gk?w.usb(v):w.wsb(v);}catch(x){w.log.error("Error activating track:",x,y);return;}w.Yk || w.j.ke(v.ia?"tt_comp":"tt_err");v.ia?(d.config.abb?setTimeout(function(){w.j.dm.set(q.pf.ce);},d.config.abb):w.j.dm.set(q.pf.ce),y.gk || w.Cz()):v.aborted?w.log.warn("aborted timed text track loading"):d.config.zGb?w.j.pd(h.V.Rkb,{Nb:v.track?v.track.sg:{}}):(w.log.error("ignore subtitle initialization error",v),w.j.dm.set(q.pf.ce));}};this.Ib=new k.Uj();this.uz=new n.SNa((0,g.Eh)(t,"SubtitleTracker"),d.config.lFb);this.log=(0,g.Eh)(t,"TimedTextManager");this.hI=new f.nOa(this.mt,this.Cz);this.j.Mb.addListener(this.fl);d.config.iYb?(this.j.addEventListener(q.ga.Yk,this.OVb),this.fl()):(this.j.dm.set(q.pf.ce),this.j.addEventListener(q.ga.Yk,function(){w.Yk=!0;w.fl();}));this.j.wb.addListener(this.SVb);this.j.addEventListener(q.ga.fya,this.sync);this.j.eu.addListener(this.qta);this.j.addEventListener(q.ga.mg,this.LVb);}Object.defineProperty(b,"__esModule",{value:!0});b.kOa=void 0;l=a(26159);f=a(7953);k=a(94886);d=a(29204);g=a(31276);n=a(69899);h=a(36129);m=a(32219);p=a(32687);q=a(85001);u=a(35781);c.prototype.R3b=function(){this.xX=!0;this.a1b();this.Cz();};c.prototype.oNb=function(){this.xX=!1;this.nNb();this.Cz();};c.prototype.addEventListener=function(t,w,v){this.Ib.addListener(t,w,v);};c.prototype.removeEventListener=function(t,w){this.Ib.removeListener(t,w);};c.prototype.fireEvent=function(t,w,v){this.Ib.Ec(t,w,v);};c.prototype.Mha=function(t,w,v){var y,x;y=this;x=u.iOa.ZAb(this.j,t,w,v);this.h3a(this.j.Wg,x);this.j.ai.forEach(function(z){y.h3a(z.Wg,x);});this.j.Mb.set(x);this.j.fireEvent(q.ga.gu);};c.prototype.oYb=function(t){this.Pva(t)?t.I6().then(function(){}):Promise.resolve();};c.prototype.XLb=function(t){return this.uz.ELb(t);};c.prototype.Aoa=function(t){return this.uz.Aoa(t);};c.prototype.gU=function(){var t,w;t=this.j.fY;w=d.config.nya.characterSize;w={size:d.config.Eaa.characterSize || w};t && (w.visibility=t.Goa(),w.nS=t.Eoa(),w.ur=t.Foa());return w;};c.prototype.h3b=function(t){d.config.Eaa.characterSize=t;t=this.j.Mb.value;this.Pva(t) && !t.gk && t.I6().then(this.VJ).catch(this.VJ);};c.prototype.i8b=function(t,w){var v;t === q.hb.Oe || t == q.hb.Rh?w !== q.hb.Oe && w !== q.hb.Rh && ((w=this.j.Mb.value) && !this.Pva(w) || this.uz.k7a(this.mt(),w || void 0,"presentingstate:" + t)):t !== q.hb.Af && t !== q.hb.oq || this.uz.Tla(null !== (v=this.mt()) && void 0 !== v?v:void 0,"presentingstate:" + t);};c.prototype.j$=function(){this.kw=0;ob.clearTimeout(this.LN);};c.prototype.bVa=function(){var t;this.Vg && this.Vg.stop();(null === (t=this.mF) || void 0 === t?0:t.gk) && this.A5a("removeListener");this.Vg=void 0;};c.prototype.A5a=function(t){this.Vg && (this.Vg[t]("showsubtitle",this.mta),this.Vg[t]("removesubtitle",this.$V),this.Vg[t]("underflow",this.oh),this.Vg[t]("bufferingComplete",this.Vsa),"addListener" === t?(this.j.addEventListener(q.ga.Qn,this.W8),this.j.addEventListener(q.ga.Fj,this.a8a),this.j.addEventListener(q.ga.DH,this.Sv),this.j.addEventListener(q.ga.D8,this.Y7a),this.j.addEventListener(q.ga.Yya,this.f8a)):(this.j.removeEventListener(q.ga.Qn,this.W8),this.j.removeEventListener(q.ga.Fj,this.a8a),this.j.removeEventListener(q.ga.DH,this.Sv),this.j.removeEventListener(q.ga.D8,this.Y7a),this.j.removeEventListener(q.ga.Yya,this.f8a)));};c.prototype.a6=function(t){return {currentPts:this.mt(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.usb=function(t){var w,v;w=this;v=t.track;if(!v || !v.gk)throw Error("Not an image base subtitle");t.ia?(this.j$(),this.A5a("addListener"),this.log.info("Activated",v),this.j.Yh.set(v),this.Yk?(0,m.Ef)(function(){w.Vg.Dz(w.mt());}):this.Vg.pause()):this.Rab(v,t);};c.prototype.wsb=function(t){var w,v;w=t.track;v=t.ia;if(!w || w.gk)throw Error("Not a valid text track");v?(this.j$(),this.hI.Ybb(this.Vg),this.log.info("Activated",w),this.j.Yh.set(w)):this.Rab(w,(0,h.Ow)(t));this.Cz();};c.prototype.Rab=function(t,w){var v,y;v=this;y=this.kw < d.config.ESb;y && (this.LN=ob.setTimeout(function(){v.kw++;t.I6().then(v.VJ).catch(v.VJ);},d.config.r6b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.gk)?" img subtitle":""),{retry:y},w,t);};c.prototype.Pva=function(t){return !(!t || t.bo() && !t.bn());};c.prototype.h3a=function(t,w){var v;v=t.findIndex(function(y){return y.bc >= w.bc;});-1 === v && (v=0);t.splice(v,0,w);};b.kOa=c;r={};c.L4b=(r[l.WD.dA.LOADING]={gV:!0},r[l.WD.dA.KP]={Vq:!0},r);c.Bcb="showsubtitle";c.lab="removesubtitle";},79014:function(r,b,a){var l,f,k,d,g,n;function c(h){var m,p,q,u;m=this;this.j=h;this.wVb=function(){var t;k.ie.removeListener(k.l6,m.c8a);t=m.$n.Sm();t && t.parentNode && t.parentNode.removeChild(t);};this.qta=function(t){m.$n.F2b(t.newValue);};this.bWb=function(t){var w;m.$n.M2b(t.newValue?t.newValue.a7:void 0);m.$n.N2b(null === (w=t.newValue) || void 0 === w?void 0:w.te);m.$n.P7b(m.a0a(t.newValue));};this.c8a=function(){m.$n.rH();};q=h.Mb.value?h.Mb.value.a7:void 0;u=null === (p=h.Mb.value) || void 0 === p?void 0:p.te;p=this.a0a(h.Mb.value);this.$n=new g.jOa(p,q,u);q=h.eD.value;(0,f.oa)(.1 < q.width / q.height);this.$n.t2b(q.width / q.height);h.mk.appendChild(this.$n.Sm());h.eu.addListener(this.qta);h.Mb.addListener(this.bWb);h.addEventListener(n.ga.mg,this.wVb,l.dJ);k.ie.addListener(k.l6,this.c8a);}Object.defineProperty(b,"__esModule",{value:!0});b.lOa=void 0;l=a(33096);f=a(45146);k=a(37509);d=a(29204);g=a(97154);n=a(85001);c.prototype.exa=function(h){this.$n.exa(h);};c.prototype.Goa=function(){return this.$n.Goa();};c.prototype.cxa=function(h){this.$n.cxa(h);};c.prototype.Eoa=function(){return this.$n.Eoa();};c.prototype.dxa=function(h){this.$n.dxa(h);};c.prototype.Foa=function(){return this.$n.Foa();};c.prototype.a0a=function(h){var m;if(h && d.config.B7 && 0 <= d.config.B7.indexOf(h.te)){m=Object.assign({},d.config.Daa);Object.entries(m).forEach(function(p){var q;q=la(p);p=q.next().value;q=q.next().value;m[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return m;}return d.config.Daa;};b.lOa=c;},79342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Era=void 0;b.Era=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var l=a[0],f=c(l),k=1;k < a.length;k++){d=a[k];g=c(d);g > f && (l=d,f=g);}return l;}};},28838:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.ae=void 0;r=a(22674);c=a(58421);l=a(6856);f=a(48864);k=a(37187);d=a(17842);g=a(96723);n=a(67371);h=a(47511);m=a(45613);p=a(51361);b.ae=new r.dd(function(q){q(k.T0).to(c.QNa).ha();q(d.Sea).to(f.nMa).ha();q(g.NOa).to(l.MOa).ha();q(n.kmb).to(h.uJa).ha();q(m.kPa).to(p.jPa).ha();});},97368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.e$a=void 0;b.e$a=function(a){var c,l;c=!1;l=!1;return function(){if(c)l=!0;else for(l=!0;l;){l=!1;c=!0;a();c=!1;}};};},99037:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.A7=void 0;b.A7=function(a,c,l){var f;if(l.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");f=l.get;l.get=function(){var k,d;k=f.apply(this,arguments);d={enumerable:l.enumerable,value:k};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return k;};};},67371:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kmb="ObjectComparerSymbol";},88195:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.NM=b.Dg=void 0;c=a(45266);b.Dg=function(l,f){return [].concat.apply([],ca(l)).map(function(k){return Object.assign({name:k},null !== f && void 0 !== f?f:{});});};b.NM=function(l,f){for(var k=[],d=1;d < arguments.length;++d){k[d - 1]=arguments[d];}return (0,c.AXa)(function(g,n){return g.name === n;},l,k);};},17842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sea="QueryStringDataProviderSymbol";},37187:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.T0=b.Oo=void 0;b.Oo=function(){};b.T0="StringObjectReaderSymbol";},79542:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iL=b.hqa=void 0;b.hqa=function(a){return void 0 !== a && null !== a;};b.iL=function(){return null;};},96723:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NOa="UuidProviderSymbol";},45613:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kPa="WindowUtilsSymbol";},47511:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uJa=void 0;r=a(5163);l=a(22674);f=a(76564);c.prototype.compare=function(k,d){var g;g=[];this.dka(k,d,"",g);return g;};c.prototype.dka=function(k,d,g,n){var h;h=this;if(f.AD.LA(k))f.AD.LA(d) && k.length === d.length?k.forEach(function(q,u){h.dka(k[u],d[u],g + "[" + u + "]",n);}):n.push({a:k,b:d,path:g});else if(f.AD.YR(k) && null != k){if(f.AD.YR(d) && null != d){for(var m in k){this.dka(k[m],d[m],g + "." + m,n);}for(var p in d){(p in k) || void 0 === d[p] || n.push({a:void 0,b:d[p],path:g + "." + p});}}else n.push({a:k,b:d,path:g});}else k !== d && n.push({a:k,b:d,path:g});};a=c;a=r.__decorate([(0,l.U)()],a);b.uJa=a;},48864:function(r,b,a){var l,f,k,d;function c(g){this.location=g;(0,f.io)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.nMa=void 0;r=a(5163);f=a(66523);k=a(63368);a=a(22674);c.nW=function(g){var n,m,p;n={};if(0 < g.length){g=g.split("&");for(var h=0;h < g.length;h++){m=g[h].trim();p=m.indexOf("=");0 <= p?n[decodeURIComponent(m.substr(0,p).replace(l.QJa,"%20"))]=decodeURIComponent(m.substr(p + 1).replace(l.QJa,"%20")):n[m.toLowerCase()]="";}}return n;};Xa.Object.defineProperties(c.prototype,{MZb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=l.nW(this.m$a);}},m$a:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.KW)return this.KW;this.KW=this.location.search.substr(1);g=this.KW.indexOf("#");0 <= g && (this.KW=this.m$a.substr(0,g));return this.KW;}}});d=l=c;d.QJa=/[+]/g;d=l=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(k.pHa))],d);b.nMa=d;},58421:function(r,b,a){var l,f,k,d,g,n;function c(h,m){this.is=h;this.json=m;(0,f.io)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.QNa=void 0;r=a(5163);f=a(66523);k=a(63368);d=a(22674);g=a(42207);n=a(37187);c.prototype.A$a=function(h){var m;m=this;return l.read(h,function(p){return parseInt(p);},function(p){return m.is.iia(p);});};c.prototype.cva=function(h){var m;m=this;return l.read(h,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return m.is.h2(p);});};c.prototype.aq=function(h){var m;m=this;return l.read(h,function(p){return parseInt(p);},function(p){return m.is.ZR(p);});};c.prototype.VZb=function(h){var m;m=this;return l.read(h,function(p){return parseFloat(p);},function(p){return m.is.Zj(p);});};c.prototype.z$a=function(h,m){return l.read(h,function(p){return l.VGb(p,m);},function(p){return void 0 !== p;});};c.prototype.fva=function(h,m){return l.read(h,function(p){return p;},function(p){return m?m.test(p):!0;});};c.prototype.B$a=function(h){var m,p;m=this;p=void 0 === p?function(){return !0;}:p;try{return l.read(h,function(q){return m.json.parse(decodeURIComponent(q));},function(q){return m.is.YR(q) && p(q);});}catch(q){return new n.Oo();}};c.prototype.Ej=function(h,m,p){var q,u;q=this;p=void 0 === p?1:p;h=h.trim();u=m instanceof Function?m:this.yBb(m,p);m=h.indexOf("[");p=h.lastIndexOf("]");if(0 != m || p != h.length - 1)return new n.Oo();h=h.substring(m + 1,p);try{return l.TWb(h).map(function(t){t=u(q,l.T8b(t));if(t instanceof n.Oo)throw t;return t;});}catch(t){return t instanceof n.Oo?t:new n.Oo();}};c.prototype.yBb=function(h,m){var p;p=this;m=void 0 === m?1:m;return function(q,u){q=l.UKb(h);return 1 < m?p.Ej(u,h,m - 1):q(p,u);};};c.VGb=function(h,m){var q;for(var p in m){q=parseInt(p);if(m[q] == h)return q;}};c.read=function(h,m,p){h=m(h);return void 0 !== h && p(h)?h:new n.Oo();};c.UKb=function(h){switch(h){case "int":return function(m,p){return m.A$a(p);};case "bool":return function(m,p){return m.cva(p);};case "uint":return function(m,p){return m.aq(p);};case "float":return function(m,p){return m.VZb(p);};case "string":return function(m,p){return m.fva(p);};case "object":return function(m,p){return m.B$a(p);};}};c.TWb=function(h){var y;for(var m=[["[","]"]],p=[],q=0,u=0,t=0,w=[],v={};u < h.length;(v={SO:v.SO},++u)){v.SO=h.charAt(u);y=void 0;"," == v.SO && 0 == t?(p.push(h.substr(q,u - q)),q=u + 1):(y=m.find((function(x){return function(z){return z[0] == x.SO;};})(v)))?(++t,w.push(y)):0 < w.length && w[w.length - 1][1] == v.SO && (--t,w.pop());}if(q != u)p.push(h.substr(q,u - q));else if(q == u && 0 < q)throw new n.Oo();return p;};c.T8b=function(h){var m;m=h.charAt(0);if('"' == m || "'" == m){if(h.charAt(h.length - 1) != m)throw new n.Oo();return h.substring(1,h.length - 1);}return h;};a=l=c;a=l=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.Qf)),r.__param(1,(0,d.l)(k.BD))],a);b.QNa=a;},6856:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.MOa=void 0;r=a(5163);a=a(22674);c.prototype.d_a=function(f){var k;k=this;return f?(f ^ 16 * Math.random() >> f / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return k.d_a(d);});};l=c;l=r.__decorate([(0,a.U)()],l);b.MOa=l;},51361:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jPa=void 0;r=a(5163);l=a(22674);f=a(22365);c.prototype.uLb=function(){var k;k=ob.devicePixelRatio || 1;return {width:f.Fu.width * k,height:f.Fu.height * k};};a=c;a=r.__decorate([(0,l.U)()],a);b.jPa=a;},67590:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oba="AsePrefetcherAdapterSymbol";b.PAa="AsePrefetcherProviderSymbol";},18148:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dca="CacheManagerFactorySymbol";},99584:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;Object.defineProperty(b,"__esModule",{value:!0});b.bd=void 0;r=a(22674);c=a(68976);l=a(37780);f=a(66476);k=a(87657);d=a(12849);g=a(85671);n=a(27162);h=a(19484);m=a(71576);p=a(32737);q=a(59315);u=a(20318);t=a(67590);w=a(61170);v=a(18148);y=a(94028);b.bd=new r.dd(function(x){x(c.YKa).to(l.XKa).ha();x(k.Oea).to(d.fMa).ha();x(f.YD).to(g.WOa).ha();x(p.eMa).to(m.aIa).ha();x(p.dMa).to(h.$Ga).ha();x(p.cMa).to(n.UGa).ha();x(t.PAa).B6b(function(){var z;return null === (z=u.lp.Mh) || void 0 === z?void 0:z.Zv;});x(t.Oba).to(w.OAa).ha();x(q.Mea).to(q.RLa);x(v.dca).to(y.hCa).ha();});},68976:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YKa="PlayPredictionDeserializerSymbol";},32737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eMa="PreparerManifestFetcherSymbol";b.dMa="PreparerLicenseFetcherSymbol";b.cMa="PreparerLegacyLicenseFetcherSymbol";},32573:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gj=void 0;r=b.gj || (b.gj={});r.Pn="created";r.ow="started";r.oO="succeeded";r.Vq="failed";r.Qd="cancelled";r.tUa="cancelled_on_start";r.xja="cancelled_not_encrypted";},87657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oea=b.kJ=void 0;r=b.kJ || (b.kJ={});r.V5b="taskstart";r.T5b="taskabort";r.U5b="taskfail";r.W5b="tasksuccess";b.Oea="PreparerTaskSchedulerSymbol";},66476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YD="VideoPreparerSymbol";},61170:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A;function c(){var B;B=this;this.promise=new Promise(function(C,D){B.resolve=C;B.reject=D;});}function l(B,C,D,F,G){var E;E=this;this.sua=D;this.xYb=F;this.Kh=G;this.OY=[];this.yC=new Map();this.lpa=new Map();this.RVb=function(I){var M,L;I=I.wishListItem.key.J;if(E.yC.has(I)){L=E.yC.get(I);I=L.kN;L=L.hka;null === (M=L.resolve) || void 0 === M?void 0:M.call(L,I);}};this.a9=function(I){var M,L;M=I.J;L=I.X;I.target.tza(I.J) || (E.Me.has({J:M}) && (E.Me.Rm(M).Uq=!0),null === L || void 0 === L?void 0:L.then(function(K){var O;O=K.Fa;O && O.$b && O.op && O.op.forEach(function(H){var J;J={Bf:{$b:O.$b,xd:M}};E.Me.has({J:H.P,xd:O.P,$b:O.$b}) && (E.Me.Rm(H.P,J).Uq=!0);});}).catch(function(){}),E.aab(M),E.ncb(E.OY));};this.SYa=function(I,M){var L,K;L=I.J;K=I.X;I.target.tza(L) || (null === K || void 0 === K?void 0:K.then(function(O){(O=O.Fa) && O.$b && O.$b === M.$b && L === M.xd && (O={Bf:{$b:O.$b,xd:L}},E.Me.has(M) && (E.Me.Rm(M.J,O).Uq=!0),E.lpa.delete(E.Me.generateKey(M)));}).catch(function(){}));};this.la=B.$a("VideoPreparer");this.config=C();}Object.defineProperty(b,"__esModule",{value:!0});b.OAa=void 0;r=a(5163);f=a(87386);a(50323);k=a(20318);d=a(93161);g=a(4203);n=a(29204);h=a(72639);m=a(67590);p=a(22674);q=a(59315);u=a(57055);t=a(49745);w=a(24735);v=a(64213);y=a(25505);x=a(32573);z=a(45146);A=a(37991);l.prototype.Cb=function(B){var C;C=this;this.Me=new v.Efa(function(D,F){return C.pv(D,B,k.lp.$h,F);},function(D,F){return C.iw(D,B,F);});};l.prototype.fetch=function(B,C){var D;D=this;if(-1 === C.events.listeners("manifestRemovedFromCache").indexOf(this.a9))C.events.on("manifestRemovedFromCache",this.a9);if(-1 === C.events.listeners("playbackClosing").indexOf(this.a9))C.events.on("playbackClosing",this.a9);!1;return this.jy(B.P,C,B.tb).then(function(F){if("LIVE" === F.Fa.Zf)throw {status:x.gj.tUa};D.ncb(D.yyb(D.WBb(B,C)));return D.yC.get(B.P).hka.promise;});};l.prototype.getStats=function(){return this.Zv.getStats();};l.prototype.S4b=function(B,C,D){C={eh:C,X:D};this.lpa.set(this.Me.generateKey(B),C);};l.prototype.hLb=function(B){return this.lpa.get(this.Me.generateKey(B));};l.prototype.yyb=function(B){return [B].concat(ca(this.OY.filter(function(C){return C.key.J !== B.key.J;}))).slice(0,this.config.vYb).map(this.config.wYb?function(C,D){return Object.assign({},C,{priority:D});}:function(C){return C;});};l.prototype.v0a=function(B,C,D){var F;F=this;D=void 0 === D?{}:D;return this.jy(B,C,D).then(function(G){F.aWa(G,C);return G.Fa;});};l.prototype.jy=function(B,C,D){var F;D=void 0 === D?{}:D;return this.Kh.jy({na:null !== (F=C.qt(B)) && void 0 !== F?F:C.V3(B),J:B,Wq:h.ml.fJ,gf:w.xh.wn,bb:D});};l.prototype.iw=function(B,C,D){var F,G,E,I,M,L;F=this;(0,z.oa)(D.Bf,"auxiliaryOptions must exist if an adBreak hydration was requested");E=D.Bf;I=E.$b;M=E.xd;(0,z.oa)(!!I,"auxiliaryManifestToken must exist if an adBreak hydration was requested");L=this.Me.Rm(null === (G=null === D || void 0 === D?void 0:D.Bf) || void 0 === G?void 0:G.xd);return L.jq.then(function(K){var O,H,J;K=K.X.Ed;O=L.na;(0,z.oa)(void 0 !== O,"parent xid must exist if an adBreak hydration was requested");H=h.ml.om;J={aM:!0,qg:!1,aD:Date.now()};return F.Kh.jy({na:Number(O),bb:J,J:M,Wq:H,gf:void 0,AO:void 0,Cf:{eh:B,$b:I,xd:M,hW:K}},!1).then(function(N){var R,T;F.aWa(N,C);N.op.forEach(function(ka){var wa;function sa(Aa){F.SYa(Aa,wa);C.events.zr("playbackClosing",sa);}function ia(Aa){F.SYa(Aa,wa);C.events.zr("manifestRemovedFromCache",ia);}wa={J:ka.Fa.P,xd:M,$b:I};F.S4b(wa,B,ka);C.events.on("manifestRemovedFromCache",ia);C.events.on("playbackClosing",sa);});if(null === (R=N.Fa.zm) || void 0 === R || !R.de.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (M + ", adBreakToken: " + B));return null === (T=N.Fa.zm) || void 0 === T?void 0:T.de[0];});});};l.prototype.aWa=function(B,C){var D,F,G;D=this;F=B.Fa;null === (G=F.op) || void 0 === G?void 0:G.forEach(function(E){D.pv(E.P,C,k.lp.$h,{Bf:{$b:E.$b,xd:F.P}},E);});};l.prototype.WBb=function(B,C){var D,F,G,E,I,M;G=new c();if(this.yC.has(B.P)){E=this.yC.get(B.P);I=E.kN;if(I.P === B.P && I.zd === B.zd)M=E.G9b.key;this.Zv.getStats().contents.some(function(L){return L.id === B.P;}) && (G=E.hka);}E=k.lp.$h.On((0,n.G3)(B.zd));M || (M={J:B.P,config:E});I={J:B.P};this.Me.has(I) || this.Me.store(I,this.UBb(B,C,E));C={key:M,$gc:!1,priority:B.priority,d3:d.L.Na(null !== (F=null === (D=B.tb) || void 0 === D?void 0:D.gb) && void 0 !== F?F:0),Me:this.Me};this.yC.set(B.P,{G9b:C,kN:B,hka:G});return C;};l.prototype.UBb=function(B,C,D){var F,G,E;F=this;G=B.P;return {get na() {return C.qt(G);},Uq:!1,events:new u.EventEmitter(),sUa:function(){},get jq() {E || (E=F.v0a(B.P,C,B.tb).then(function(I){return {X:I,nv:I.o6 && !I.IB,config:D,nxa:{}};}));return E;},J:G,Wxa:!1,equals:function(I){var M;M=C.qt(G);return I && I.J === G && (!I.na || !M || M === I.na);}};};l.prototype.pv=function(B,C,D,F,G){var E,I,M,L,K,O,H,J;E=this;K=C.qt(B);if(K || F){O={J:B,xd:null === (I=null === F || void 0 === F?void 0:F.Bf) || void 0 === I?void 0:I.xd,$b:null === (M=null === F || void 0 === F?void 0:F.Bf) || void 0 === M?void 0:M.$b};if(!this.Me.has(O)){H=null !== K && void 0 !== K?K:this.Me.Rm(null === (L=null === F || void 0 === F?void 0:F.Bf) || void 0 === L?void 0:L.xd).na;this.Me.store(O,{sUa:function(){},equals:function(N){return N && N.J === O.J && (H === N.na || !N.na || !H);},get jq() {J || (J=(G?Promise.resolve(G):E.v0a(B,C)).then(function(N){return {X:N,nv:N.o6 && !N.IB,config:D,nxa:{}};}));return J;},set jq(N) {J=N;},events:new u.EventEmitter(),na:H,J:O.J,Uq:!1,Wxa:!1});}}};l.prototype.Xbb=function(B){this.OY=B;};l.prototype.ncb=function(B){this.Xbb(B);this.Zv.mcb(this.OY);};l.prototype.aab=function(B){this.yC.has(B) && (this.Xbb(this.OY.filter(function(C){return C.key.J !== B;})),this.yC.delete(B));};Xa.Object.defineProperties(l.prototype,{Zv:{configurable:!0,enumerable:!0,get:function(){this.vx || (this.vx=this.xYb(),this.vx.Zha(new A.LMa()).Uwa(this.sua).ecb(new y.BGa()).Kbb({KB:this.config.uYb}),this.vx.events.on("prefetchComplete",this.RVb));return this.vx;}}});a=l;a=r.__decorate([(0,p.U)(),r.__param(0,(0,p.l)(f.ab)),r.__param(1,(0,p.l)(g.Yb)),r.__param(2,(0,p.l)(q.Mea)),r.__param(3,(0,p.l)(m.PAa)),r.__param(4,(0,p.l)(t.JD))],a);b.OAa=a;},94028:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){var q;q=this;this.Sf=m;m=p();this.jg=new n({log:h.$a("CacheManager"),sa:{getTime:function(){return q.Sf.Jb().da(d.pa);}},Promise:Promise,ef:!1,twb:m.DYb,swb:m.BYb,hGb:m.I9a,gGb:m.CYb});}Object.defineProperty(b,"__esModule",{value:!0});b.hCa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(87386);d=a(5021);g=a(4203);n=a(41385);c=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(f.Lc)),r.__param(2,(0,l.l)(g.Yb))],c);b.hCa=c;},25505:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.BGa=void 0;a.prototype.tZa=function(c,l){var f;return null !== (f=this.WGb(c,l)) && void 0 !== f?f:this.$Gb(c,l);};a.prototype.WGb=function(c,l){var f,k;f=this;k=l.ca;return c.find(function(d){var g;return f.e4(k,null === (g=d.ca) || void 0 === g?void 0:g.ca);});};a.prototype.$Gb=function(c,l){var f,k;f=l.ca.xe;k=l.ca.O[f];return c.find(function(d){var g;d=null === (g=d.ca) || void 0 === g?void 0:g.ca;d=(g=null === d || void 0 === d?void 0:d.xe) && (null === d || void 0 === d?void 0:d.O[g]) || void 0;return f === g && k.J === (null === d || void 0 === d?void 0:d.J) && k.ta === (null === d || void 0 === d?void 0:d.ta);});};a.prototype.e4=function(c,l){var f;f=this;return c === l?!0:"object" !== typeof c || "object" !== typeof l?c === l:Object.keys(c).length === Object.keys(l).length && Object.keys(c).every(function(k){return f.e4(c[k],l[k]);});};b.BGa=a;},27162:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z;function c(A,B,C,D,F,G,E,I,M,L,K){this.Cr=C;this.CX=D;this.jc=F;this.sa=G;this.Ea=E;this.mM=I;this.wXb=M;this.Kh=L;this.di=K;this.log=A.$a("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.UGa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(4203);d=a(32573);g=a(63156);n=a(24735);h=a(91581);m=a(95162);p=a(98166);q=a(2248);u=a(5021);t=a(30869);w=a(81918);v=a(50323);y=a(21892);x=a(49745);a=a(23563);c.prototype.fetch=function(A,B){var C;C=this;this.log.trace("Fetching LDL",(0,v.NI)(A));this.P=A.P;this.bd=B;return B.uL(A.P,"ldl").catch(function(){C.log.trace("Requesting a new license",(0,v.NI)(A));return C.Kh.x5(A.P).then(function(D){var F,G;C.X=D;C.Fa=D.Fa;if(D=C.bd.wcb(A.P,C.Fa))throw {status:D};D=C.Fa.lu[0].BW;F=C.Fa.lu[0].yla;G=(D?D:[F]).map(function(E){return C.jc.decode(E.bytes);});C.ee=C.ZA({dYa:C.log,Zla:function(E){return C.handleError(E);},ke:void 0,Hsa:function(){},sa:{getTime:function(){return C.Ea.Jb().da(u.pa);},pgc:function(){return C.sa.fe.da(u.pm);}}});B.Lbb(A.P,C.ee);return C.ee.create(C.config.Rl).then(function(){return C.ee.Qg(n.xh.wn,G,!0);}).then(function(){return C.ee;}).catch(function(E){C.handleError(E);throw E;});}).catch(function(D){C.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.gj.Qd};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.ee.close();this.bd.XUa(this.P);this.bd.Wja(this.P);};c.prototype.ZA=function(A){var B,C;B=this;if(!this.Cr.MI || !this.Cr.KI){C=this.wXb();this.Cr.MI=C.mz;this.Cr.KI=C.request;}C=new this.Cr.KI(A.dYa,function(D){var F;F=[];D.uj.forEach(function(G){F.push({sessionId:G.sessionId,dataBase64:B.jc.encode(G.data)});});D={uj:F,z4:[B.Fa.Nk],gf:g.Tj.WVa(D.gf),Ed:B.Fa.Ed,na:B.bd.V3(B.P),oi:B.X.oi,Zf:B.X.Fa.Zf};B.log.trace("xid created ",{MovieId:B.P,xid:D.na});return B.mM.Ms(D);},void 0,{ef:!1,fk:!1});return this.Cr.MI(A.dYa,A.ke,{ef:!1,fk:!1,rd:C,FW:this.config.c$a,$:void 0,Ez:this.config.mYa,onerror:A.Zla,Hsa:A.Hsa,sa:A.sa,aH:!1,Qub:this.CX.O3([]),d9b:this.CX.U3([]),Kqa:this.di.D2.da(u.pa)});};z=c;z=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.Yb)),r.__param(2,(0,l.l)(h.t0)),r.__param(3,(0,l.l)(m.rQ)),r.__param(4,(0,l.l)(q.Zg)),r.__param(5,(0,l.l)(t.ag)),r.__param(6,(0,l.l)(w.Lc)),r.__param(7,(0,l.l)(p.LP)),r.__param(8,(0,l.l)(y.vea)),r.__param(9,(0,l.l)(x.JD)),r.__param(10,(0,l.l)(a.pq))],z);b.UGa=z;},19484:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t;function c(w,v,y,x,z,A){this.jc=y;this.hEb=x;this.yM=z;this.Kh=A;this.log=w.$a("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ga=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(4203);d=a(24735);g=a(2248);n=a(47737);h=a(92395);m=a(32573);p=a(50323);q=a(49745);u=a(82100);t=a(56039);c.prototype.fetch=function(w,v){var y;y=this;this.log.trace("Fetching LDL",(0,p.NI)(w));this.P=w.P;this.bd=v;return v.uL(w.P,"ldl").then(function(x){return x.M$;}).catch(function(){y.log.trace("Requesting a new license",(0,p.NI)(w));return y.Kh.x5(w.P).then(function(x){var z,A,B,C,D,F;y.Fa=x.Fa;if(v.N1a(w.P))return v.uL(w.P,"ldl").then(function(G){return G.M$;});z=y.bd.wcb(w.P,y.Fa);if(z)throw {status:z};A=y.Fa.lu[0];z=A.BW;B=A.yla;A=A.streams[0].YA;C=(0,u.Spa)(A);D=(z?z:[B]).map(function(G){return y.jc.decode(G.bytes);});F=y.hEb().then(function(G){var E;E={type:d.xh.wn,initData:D,T6:C,context:{n7:(0,t.Rna)(x.Fa.lu[0].streams)},yi:{P:w.P,na:v.V3(w.P),Ed:y.Fa.Ed,Nk:y.Fa.Nk,oi:x.oi,Zf:x.Fa.Zf}};return G.Qg(E,y.yM());}).catch(function(G){y.handleError("Unable to prepare an EME session.",G);throw G;});y.bd.Lbb(w.P,{M$:F,source:"videopreparer"},function(){if(!y.bd.tza(w.P))try{F.then(function(G){return G.close();}).catch(function(G){y.handleError("Unable to cleanup LDL session, Unable to get the session.",G);});}catch(G){y.handleError("Unable to cleanup LDL session, unexpected exception.",G);}});return F;}).catch(function(x){y.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:m.gj.Qd};});});};c.prototype.handleError=function(w,v){this.log.warn(w + " LDL is now invalid.",v);this.bd.XUa(this.P);this.bd.Wja(this.P);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.Yb)),r.__param(2,(0,l.l)(g.Zg)),r.__param(3,(0,l.l)(n.PZ)),r.__param(4,(0,l.l)(h.VP)),r.__param(5,(0,l.l)(q.JD))],a);b.$Ga=a;},71576:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u,t,w,v,y){this.qV=w;this.Sf=v;this.Kh=y;this.log=u.$a("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.aIa=void 0;r=a(5163);l=a(4203);f=a(22674);k=a(87386);d=a(81918);g=a(5021);n=a(17398);h=a(72639);m=a(50323);p=a(49745);q=a(24735);c.prototype.fetch=function(u,t){var w,v;this.log.trace("Fetching manifest",(0,m.NI)(u));v=u.tb;this.config.qsb && v && v.X && !this.Kh.n6(u.P) && (!(("clientGenesis" in v.X) && v.X.clientGenesis) || "number" === typeof v.X.clientGenesis && Date.now() - v.X.clientGenesis < this.config.I9a) && (v=this.qV.create(v.X)) && (v.vH=this.Sf.Jb().da(g.pa),v.EN=this.Sf.Jb().da(g.pa),this.Kh.MX(u.P,v));return this.Kh.jy({na:t.V3(u.P),J:u.P,bb:null !== (w=u.tb) && void 0 !== w?w:{},Wq:h.ml.fJ,gf:q.xh.wn},!0,function(y){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",J:u.P,X:y});});};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.ab)),r.__param(1,(0,f.l)(l.Yb)),r.__param(2,(0,f.l)(n.YI)),r.__param(3,(0,f.l)(d.Lc)),r.__param(4,(0,f.l)(p.JD))],a);b.aIa=a;},37780:function(r,b,a){var l,f,k;function c(d,g){this.zb=g;this.la=d.$a("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.XKa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(42207);c.prototype.vDb=function(d){var g;g=this;try{return {direction:d.direction,khc:d.layoutHasChanged,Mic:d.rowInteractionIndex,Kb:d.lolomos.map(function(n){return g.qDb(n);})};}catch(n){this.la.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.qDb=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(n){return g.pDb(n);}),requestId:d.requestId,rowIndex:d.rowIndex,Nic:d.rowSegment};};c.prototype.pDb=function(d){var g,n;g={ye:d.pts,property:d.property,J:d.viewableId,index:d.index};n=d.preplay;this.zb.pg(n) && (g.H9=this.uDb(n));d=d.params;this.zb.pg(d) && (g.tb=this.qXa(d));return g;};c.prototype.uDb=function(d){var g;g={ye:d.pts,J:d.viewableId,eN:d.pipelineNum,index:d.index};d=d.params;this.zb.pg(d) && (g.tb=this.qXa(d));return g;};c.prototype.qXa=function(d){return {zd:d.uiLabel,Qj:d.trackingId,$l:d.sessionParams};};c.prototype.tDb=function(d){var g;g=this;try{return d.map(function(n){return g.rDb(n);});}catch(n){this.la.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.rDb=function(d){var g,n;n=d.params;this.zb.pg(n) && (g=this.sDb(n));return {P:d.movieId,priority:d.priority,force:d.force,tb:g,zd:d.uiLabel,Ujc:d.uiExpectedStartTime,Tjc:d.uiExpectedEndTime,Ok:d.firstTimeAdded};};c.prototype.sDb=function(d){var g,n;g=void 0;n=d.sessionParams;this.zb.pg(n) && (g=n);return {Y2:this.oDb(d.authParams),$l:g,Qj:d.trackingId,gb:d.startPts,X:d.manifest,qg:d.isBranching};};c.prototype.oDb=function(d){return {pXb:null === d || void 0 === d?void 0:d.pinCapableClient};};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(a.Qf))],k);b.XKa=k;},59315:function(r,b,a){var l,f,k,d;function c(g,n){this.Wl=g;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Mea=b.RLa=void 0;r=a(5163);l=a(22674);f=a(75864);k=a(50954);a=a(4203);c.prototype.I5a=function(g){var n,h;n=this;if(g.Ad.key.ca)return Promise.resolve(g.Ad.key.ca);h=g.Ad.key.J;return g.Ad.Me.Rm(h).jq.then(function(m){m=m.X;return m.up?(0,k.t3)(m.up,{config:n.config()}):(0,k.aaa)(h,n.Wl.Xq(h));});};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.jJ)),r.__param(1,(0,l.l)(a.Yb))],d);b.RLa=d;b.Mea="PlaygraphResolverSymbol";},50323:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NI=void 0;b.NI=function(){return "";};},79538:function(r,b,a){var l,f;function c(k,d,g,n,h,m,p,q){this.type=k;this.Pn=d;this.lXb=void 0 === g?!1:g;this.notify=h;this.FGb=m;this.kN=p;this.bd=q;this.id=++f;this.status=l.gj.Pn;}Object.defineProperty(b,"__esModule",{value:!0});b.mQ=void 0;l=a(32573);f=0;c.prototype.ot=function(){var k;k={id:this.id,type:this.type,created:this.Pn,status:this.status,movieId:this.P};this.startTime && (k.startTime=this.startTime);this.endTime && this.startTime && (k.duration=this.endTime - this.startTime,k.endTime=this.endTime);return k;};c.prototype.LM=function(k){this.notify && this.notify(k);};c.prototype.n1b=function(){return this.FGb.fetch(this.kN,this.bd);};Xa.Object.defineProperties(c.prototype,{P:{configurable:!0,enumerable:!0,get:function(){return this.kN.P;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.kN.priority;}}});b.mQ=c;},12849:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u,t,w,v){this.is=w;this.Sf=v;this.log=u.$a("TaskScheduler");this.Ib=new p.Uj();this.config=t();this.currentIteration=this.LS=0;this.cI=[];this.paused=!1;this.iaa=[];this.BVa=[];this.DOb=this.config.AYb || q.append;this.addEventListener=this.Ib.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.fMa=void 0;r=a(5163);l=a(22674);f=a(87657);k=a(87386);d=a(4203);g=a(32573);n=a(42207);h=a(81918);m=a(5021);p=a(94886);(function(u){u.prepend="prepend";u.append="append";u.LNb="ignore";})(q || (q={}));c.prototype.ltb=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.cI=this.EOb(u);this.LS=0;this.currentIteration+=1;this.Ef();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Ef=function(){var u,t,w,v;u=this;if(this.LS === this.cI.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.LS,numberOfTasks:this.cI.length});else {t=this.OKb();w=this.currentIteration;t.startTime=this.Sf.Jb().da(m.pa);t.status=g.gj.ow;this.Ib.Ec(f.kJ.V5b,{P:t.P,type:t.type});this.iaa.push(t);v=function(y){t.endTime=u.Sf.Jb().da(m.pa);y();u.BVa.push(t);u.iaa.splice(u.iaa.indexOf(t),1);u.currentIteration === w && (u.LS++,u.Ef());};t.n1b().then(function(){v(function(){t.status=g.gj.oO;u.Lua(t,f.kJ.W5b,"task succeeded");});}).catch(function(y){v(function(){0 <= [g.gj.Qd,g.gj.tUa,g.gj.xja].indexOf(y.status)?(t.status=y.status,u.Lua(t,f.kJ.T5b,"cancelled task")):(t.status=g.gj.Vq,u.Lua(t,f.kJ.U5b,"task failed",y));});});}};c.prototype.OKb=function(){return this.cI[this.LS];};c.prototype.getStats=function(u,t,w){var v,y,x,z;v=this.BVa.map(function(A){return A.ot();});y=this.iaa.map(function(A){return A.ot();});x=this.is.pg(u) && this.is.pg(t);z={};if(this.is.pg(w))return (z.Gyb=v.filter(function(A){return A.movieId === w;}),z);v.concat(y).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == g.gj.ow?A.startTime:A.endTime;x && B && B >= u && B < t && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.Lua=function(u,t,w,v){var y;y=u.ot();v?this.log.warn(w,y,v):this.log.trace(w,y);this.Ib.Ec(t,{P:u.P,type:u.type,reason:u.status});u.LM(y);};c.prototype.EOb=function(u){var t,w;t=this.cI.filter(function(v){return v.lXb && v.status === g.gj.Pn;});w=this.DOb;return w === q.LNb?[].concat(u):w === q.prepend?t.concat(u):u.concat(t);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(d.Yb)),r.__param(2,(0,l.l)(n.Qf)),r.__param(3,(0,l.l)(h.Lc))],a);b.fMa=a;},37991:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.LMa=void 0;a.prototype.sja=function(c,l){var f;c=l(c);null === (f=c.al) || void 0 === f?void 0:f.forEach(function(k){k.odb.video.push({oUa:!1,zj:function(d){return d.filter(function(g){return !g.ii || 1080 >= g.dX;});}});});return c;};b.LMa=a;},85671:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,F,G,E,I,M){this.O9b=A;this.zb=B;this.Sf=C;this.qc=D;this.hZa=F;this.DGb=G;this.EGb=E;this.Z4=I;this.events=new y.EventEmitter();this.log=x.$a("VideoPreparer");this.config=z();this.Fza={};this.v8={};this.Lf={num_of_calls:0,num_of_movies:0};this.Z4.Cb(this);this.jg=M.jg;}function l(x){return void 0 !== x;}Object.defineProperty(b,"__esModule",{value:!0});b.WOa=void 0;r=a(5163);f=a(79538);k=a(4203);d=a(22674);g=a(87386);n=a(62665);h=a(42207);m=a(87657);p=a(81918);q=a(5021);u=a(32573);t=a(18148);w=a(32737);v=a(67590);y=a(57055);c.prototype.Lbb=function(x,z,A){this.jg.setData(x,"ldl",z,A);};c.prototype.N1a=function(x){return this.jg.nU(x,"ldl");};c.prototype.XUa=function(x){this.jg.clearData(x,"ldl",void 0,!0);};c.prototype.uL=function(x,z){return this.jg.getData(x,z);};c.prototype.w_a=function(x){var z;z=this.jg.getData(x,"ldl");this.jg.clearData(x,"ldl",void 0,!0);return z;};c.prototype.tza=function(x){return this.bdb === x || this.DWa === x;};c.prototype.gH=function(x,z){var A,B,C;A=this;x=x.map(function(D){D.tb=D.tb || ({Y2:{pXb:!1},Qj:0});A.zb.pF(D.tb.Qj) || (D.tb.Qj=0);A.zb.pF(D.ye) && (D.tb.gb=D.ye);return D;});B=x.map(function(D){return A.MBb(D,z);}).reduce(function(D,F){return D.concat(F);},[]);C=B.map(function(D){return D.P + "-" + D.type;});this.log.trace("prepare tasks",C);this.qc.ltb(B);this.Lf.num_of_calls++;this.Lf.num_of_movies+=x.length;};c.prototype.getStats=function(x,z,A){return Object.assign(Object.assign({},A && this.v8[A] || ({})),{cI:this.qc.getStats(x,z,A),cache:this.jg.getStats(x,z),kIb:Object.assign(Object.assign({},this.Lf),this.Z4.getStats())});};c.prototype.OMb=function(x){this.bdb=x;};c.prototype.MMb=function(x){this.log.trace("task scheduler paused on playback created");this.qc.pause();this.config.jDb && this.jg.Sja(x,["manifest"]);this.config.iDb && this.jg.Sja(x,["ldl"]);this.config.gDb && this.jg.clearData(x,"manifest");this.Z4.aab(x);this.DWa=x;};c.prototype.I1a=function(){this.log.info("ad played, clearing all manifests from cache");this.IZa();};c.prototype.J1a=function(){this.log.info("track changed, clearing all manifests from cache");this.IZa();};c.prototype.LMb=function(x){var z;z=this;this.config.hDb?this.jg.clearData(x,"manifest"):this.jg.nU(x,"manifest") && this.jg.getData(x,"manifest").then(function(A){A.Fa.isSupplemental || z.jg.clearData(x,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + x + "] from cacheManager.",A);});this.Wja(x);this.bdb=this.DWa=void 0;this.events.emit("playbackClosing",{J:x,type:"playbackClosing",target:this});};c.prototype.IZa=function(){this.jg.Sja("none",["manifest","ldl"]);};c.prototype.Wja=function(x){delete this.Fza[x];};c.prototype.qt=function(x){return this.Fza[x];};c.prototype.V3=function(x){return this.Fza[x]=this.O9b.$A();};c.prototype.wcb=function(x,z){if(this.N1a(x))return u.gj.Qd;if(!z.IB)return u.gj.xja;};c.prototype.MBb=function(x,z){var A,B;x.zd && x.tb && (x.tb.zd=x.zd);this.g8b(x.P,x.Ok);A=this.tBb(x,z);B=this.pBb(x,null === A || void 0 === A?void 0:A.id,z);x=this.wBb(x,null === A || void 0 === A?void 0:A.id,z);return [A,B,x].filter(l);};c.prototype.tBb=function(x,z){if(this.jg.nU(x.P,"manifest"))this.log.trace("manifest exists in cache for " + x.P);else return new f.mQ("manifest",this.Sf.Jb().da(q.pa),!!x.tb.lwa,void 0,z,this.hZa,x,this);};c.prototype.pBb=function(x,z,A){if(this.config.gT)if(this.jg.nU(x.P,"ldl"))!1;else return this.config.Vr?new f.mQ("ldl",this.Sf.Jb().da(q.pa),!!x.tb.lwa,z,A,this.DGb,x,this):new f.mQ("ldl",this.Sf.Jb().da(q.pa),!!x.tb.lwa,z,A,this.EGb,x,this);};c.prototype.wBb=function(x,z,A){if(this.config.uYa)return new f.mQ("getMedia",this.Sf.Jb().da(q.pa),!!x.tb.lwa,z,A,this.Z4,x,this);};c.prototype.g8b=function(x,z){this.v8[x] || (this.v8[x]={E9:0,Ok:0});x=this.v8[x];x.E9=(void 0 !== x?void 0 !== x.E9?x.E9:0:0) + 1;x.Ok=z;};a=c;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.ab)),r.__param(1,(0,d.l)(k.Yb)),r.__param(2,(0,d.l)(n.Qw)),r.__param(3,(0,d.l)(h.Qf)),r.__param(4,(0,d.l)(p.Lc)),r.__param(5,(0,d.l)(m.Oea)),r.__param(6,(0,d.l)(w.eMa)),r.__param(7,(0,d.l)(w.dMa)),r.__param(8,(0,d.l)(w.cMa)),r.__param(9,(0,d.l)(v.Oba)),r.__param(10,(0,d.l)(t.dca))],a);b.WOa=a;},36149:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.kgb=void 0;r=a(22674);c=a(58872);l=a(52357);b.kgb=new r.dd(function(f){f(c.UOa).to(l.TOa).ha();});},58872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UOa="VideoPlayerFactorySymbol";},85001:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.mc=b.hb=b.pf=b.Wb=b.bZ=b.ga=b.hda=b.QD=b.La=void 0;(function(c){c.h5a="loadedtracks";c.g5a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Qn="currenttimechanged";c.gfb="unthrottledcurrenttimechanged";c.i3="bufferedtimechanged";c.Cla="durationchanged";c.sza="videosizechanged";c.Q8a="pausedchanged";c.tua="playingchanged";c.DYa="endedchanged";c.lK="busychanged";c.W2="audiotracklistchanged";c.yl="audiotrackchanged";c.gu="timedtexttracklistchanged";c.fl="timedtexttrackchanged";c.oY="trickplayframeschanged";c.c7a="mutedchanged";c.sgb="volumechanged";c.mxa="showsubtitle";c.uva="removesubtitle";c.A9b="watermark";c.kqa="isReadyToTransition";c.SL="inactivated";c.j3a="internalPlaybackError";c.T1b="segmentmaploaded";c.U1b="segmentpresenting";c.vTa="autoplaywasallowed";c.Z2="autoplaywasblocked";c.Ctb="adsstatechanged";c.bC="livestatechanged";})(b.La || (b.La={}));(b.QD || (b.QD={})).qX="playgraphsegmenttransition";b.hda=a;a.Ebb="serverTimeChanged";(function(c){c.QE="aseReport";c.I7="liveReport";c.H7="livePipelineFailover";c.Kia="autoplayWasAllowed";c.Ch="autoplayWasBlocked";c.Gx="bufferUnderrun";c.closed="closed";c.mg="closing";c.Qn="currentTimeChanged";c.uF="downloadComplete";c.SL="inactivated";c.P4a="licenseAdded";c.cV="licensed";c.hV="locationSelected";c.wra="manifestClosing";c.EG="manifestPresenting";c.AV="mediaBufferChanged";c.D8="nextBranchingSegmentChosen";c.Nt="playbackStart";c.Yk="playbackReady";c.Fj="repositioned";c.IC="repositioning";c.bbb="safePlayRequested";c.DH="segmentPresenting";c.tX="serverSwitch";c.zcb="shouldUpdateVideoDiagInfo";c.nO="subtitleError";c.fya="throttledMediaTimeChanged";c.hfb="unthrottledMediaTimeChanged";c.tO="timedTextRebuffer";c.gu="timedTextTrackListChanged";c.oY="trickPlayFramesChanged";c.Yya="updateNextBranchingSegmentWeights";c.Yfb="userInitiatedPause";c.Zfb="userInitiatedResume";c.Geb="tracksHydrated";c.bC="livestatechanged";})(b.ga || (b.ga={}));(b.bZ || (b.bZ={})).GA="adBreakComplete";(function(c){c[c.bJ=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.ce=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Wb || (b.Wb={}));(function(c){c[c.ce=1]="NORMAL";c[c.Ne=2]="BUFFERING";c[c.RMa=3]="STALLED";})(b.pf || (b.pf={}));(function(c){c[c.Af=1]="WAITING";c[c.Oe=2]="PLAYING";c[c.Rh=3]="PAUSED";c[c.oq=4]="ENDED";})(b.hb || (b.hb={}));(function(c){c[c.gs=0]="INITIAL";c[c.cx=1]="SEEK";c[c.VI=2]="LIVE_EDGE";c[c.tQ=3]="TRACK_CHANGED";c[c.SD=4]="SEGMENT_CHANGED";c[c.WZ=5]="FORCE_REBUFFER";c[c.vP=6]="FRAGMENTS_MISSING";c[c.Fda=7]="MEDIA_DISCONTINUITY";})(b.mc || (b.mc={}));},91122:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rCa="CdnPartitionerSymbol";},75950:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.m2a=void 0;r=a(22674);c=a(70673);l=a(78033);f=a(23002);k=a(487);d=a(77764);g=a(23179);n=a(52794);h=a(52961);m=a(44376);p=a(15850);q=a(47500);u=a(68272);t=a(10242);w=a(78029);v=a(62553);y=a(91122);x=a(12394);z=a(20034);A=a(91825);B=a(27134);b.m2a=new r.dd(function(C){C(c.BFa).to(l.AFa).ha();C(f.FFa).to(k.EFa).ha();C(d.nFa).to(g.mFa).ha();C(n.pFa).to(h.oFa).ha();C(y.rCa).to(x.qCa).ha();C(m.ALa).to(p.zLa).ha();C(q.pfa).to(u.LNa);C(t.NP).to(z.MP);C(A.QP).to(B.PP);C(w.Wca).to(v.IFa);});},78029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wca="HLSConfigSymbol";},77764:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nFa="HLSPlaylistBuilderSymbol";},52794:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pFa="HLSPlaylistTransformerSymbol";},70673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BFa="HeaderFetcherSymbol";},23002:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FFa="HLSHeaderParserFactorySymbol";},10242:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Abc="LogblobBuilderSymbol";b.NP="HLSLogblobBuilderFactorySymbol";},91825:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QP="HLSLogblobMonitorFactorySymbol";},44376:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ALa="PlayerPlaydataMonitorSymbol";},47500:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pfa="StreamChangeDetectorSymbol";},12394:function(r,b,a){var l,f;function c(k){this.la=k.$a("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.qCa=void 0;r=a(5163);l=a(22674);a=a(87386);c.prototype.$Ib=function(k){var g,n,h,m,p,q,u;function d(t,w,v){var y,x,z;y=t.map(function(A){return A.xg;});y.sort(function(A,B){return w[A] - w[B];});if(1 === y.length)(!1,h.set(v,{nN:t[0],B$:t[0]}));else {x=y.find(function(A){return g.has(A);});x || ((x=y.find(function(A){return !n.has(A);}))?g.add(x):(x=y[0],!1));z=y.find(function(A){return n.has(A) && A !== x;});z || ((z=y.find(function(A){return !g.has(A) && A !== x;}))?n.add(z):(z=y.find(function(A){return A !== x;}),!1));h.set(v,{nN:t.find(function(A){return A.xg === x;}),B$:t.find(function(A){return A.xg === z;})});}}g=new Set();n=new Set();h=new Map();m=k.video;p=k.audio;q=k.text;u=k.qk.reduce(function(t,w){t[w.id]=w.bc;return t;},{});m.forEach(function(t){t=t.stream;d(t.urls,u,t.Lm);});p.forEach(function(t){t=t.stream;d(t.urls,u,t.Lm);});q.forEach(function(t){var w,v;if(!t.track.At || t.track.Y6){w=t.stream;t=t.id;v=w.urls.reduce(function(y,x,z){y[x.xg]=z + 1;return y;},{});d(w.urls,v,t);}});return h;};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ab))],f);b.qCa=f;},62553:function(r,b,a){var l,f,k,d;function c(g){return f.Pe.call(this,g,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.IFa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);a=a(12501);fa(c,f.Pe);Xa.Object.defineProperties(c.prototype,{x9a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Mv:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},Py:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},n2a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Ht:{configurable:!0,enumerable:!0,get:function(){return 80;}}});d=c;r.__decorate([a.config(a.ed,"playsInline")],d.prototype,"x9a",null);r.__decorate([a.config(a.PB,"minAudioMediaRequestDuration")],d.prototype,"Mv",null);r.__decorate([a.config(a.PB,"minVideoMediaRequestDuration")],d.prototype,"Py",null);r.__decorate([a.config(a.PB,"hlsVideoMediaRequestTargetDuration")],d.prototype,"n2a",null);r.__decorate([a.config(a.PB,"minStartingVideoVMAF")],d.prototype,"Ht",null);d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.sl))],d);b.IFa=d;},23179:function(r,b,a){var d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z){this.RS=z;this.Vd=x.filter(function(A){return A.Kya[p.qm.e1];}).map(function(A){return {track:A,stream:A.Kya[p.qm.e1],id:A.PXa[p.qm.e1]};});}function l(x,z,A){var B;this.aI=z;this.Ht=A;B=x[0];this.mY=B.streams.map(function(C){return {track:B,pU:C.Tcb,stream:C};});}function f(x,z,A,B){function C(D,F){return D.bitrate > F.bitrate?D:F;}this.log=x;this.aI=A;this.RS=B;this.mY=z.map(function(D){var F;F=D.streams.reduce(C);return {track:D,pU:F.sk?F.sk.offset + F.sk.size:void 0,stream:F};});}function k(x,z,A,B,C,D){this.lNb=x;this.mNb=z;this.YXb=A;this.ixb=B;this.rU=C;this.zf=D;this.la=D.$a("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.qob=b.xob=b.Chb=b.mFa=void 0;r=a(5163);d=a(22674);g=a(70673);n=a(23002);h=a(36129);m=a(31149);p=a(75568);q=a(52794);u=a(91122);t=a(78029);w=a(87386);v=a(79542);y=a(60328);k.prototype.Lg=function(x,z){var A,B,C,D,F,G;A=this;D=x.Fa;x=this.IIb(D,z);F=this.sMb(D,z);G=null !== (C=null === (B=D.NW) || void 0 === B?void 0:B.vO) && void 0 !== C?C:D.iI.find(function(E){var I;return E.id === (null === (I=D.g4) || void 0 === I?void 0:I[0].Ddb);}).Xf;B=new c(D.iI,G);return Promise.all([x,F,B]).then(function(E){var I,M;I=la(E);E=I.next().value;M=I.next().value;I=I.next().value;E={audio:E.getMetadata(),video:M.getMetadata(),text:I.getMetadata(),cXa:E.zna(),OCb:I.zna(),duration:D.duration,qk:D.qk};M=A.ixb.$Ib(E);z("h_s");return {bSb:A.YXb.transform(E,M),lxb:M,V4b:E};});};k.prototype.sMb=function(x,z){var A;A=new l(x.lu,this.rU.n2a,this.rU.Ht);return this.JXa(A.mY,y.u.Y,z).then(function(B){A.Pwa(B);return A;});};k.prototype.IIb=function(x,z){var A,B,C,D;C=null !== (B=null === (A=x.NW) || void 0 === A?void 0:A.np) && void 0 !== B?B:x.Qs.find(function(F){var G;return F.id === (null === (G=x.g4) || void 0 === G?void 0:G[0].np);}).Xf;D=new f(this.la,x.Qs,this.rU.Mv,C);return this.JXa(D.mY,y.u.fa,z).then(function(F){D.Pwa(F);return D;});};k.prototype.Mta=function(x,z,A,B){if(x=this.mNb.parse(z,x,A))return x;this.la.error("Failed to parse headers",{type:z === y.u.fa?"audio":"video",downloadableId:B.stream.Lm});};k.prototype.JXa=function(x,z,A){var B;B=this;return Promise.all(x.map(function(C,D){if(C.pU)return B.lNb.download({urls:C.stream.urls,offset:0,length:C.pU}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + D + "_s");return B.Mta(F,z,z == y.u.fa?B.rU.Mv:B.rU.Py,C);}).catch(function(){A("h_" + C.track.vh[0] + "_" + D + "_f");B.la.warn("Failed to download and parse headers for " + C.stream.Lm);});B.la.warn("Stream data offset is missing",{downloadableId:C.stream.Lm});}));};a=k;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.BFa)),r.__param(1,(0,d.l)(n.FFa)),r.__param(2,(0,d.l)(q.pFa)),r.__param(3,(0,d.l)(u.rCa)),r.__param(4,(0,d.l)(t.Wca)),r.__param(5,(0,d.l)(w.ab))],a);b.mFa=a;f.prototype.Pwa=function(x){var z;z=this;if(!x.find(function(A){return void 0 !== A;}))throw m.Mc.Egb(h.V.kGa,h.S.Ida);this.Vd=this.mY.map(function(A,B){if(B=x[B])return {track:A.track,stream:A.stream,Ja:B,aI:z.aI};}).filter(v.hqa);};f.prototype.getMetadata=function(){return this.Vd;};f.prototype.zna=function(){var x,z;x=this;if(!this.Vd.find(function(A){return A.track.Xf === x.RS;}) && 0 < this.Vd.length){z=this.Vd[0].track.Xf;this.log.warn("Did not find metadata for audio track " + this.RS + ", falling back to " + z);return z;}return this.RS;};b.Chb=f;l.prototype.Pwa=function(x){var z,A;z=this;if(!x.find(function(B){return void 0 !== B;}))throw m.Mc.Egb(h.V.kGa,h.S.Jda);A=this.mY.map(function(B,C){if(C=x[C])return {track:B.track,stream:B.stream,Ja:C,aI:z.aI};}).filter(v.hqa);this.Vd=this.WKb(A);};l.prototype.getMetadata=function(){return this.Vd;};l.prototype.WKb=function(x){var z,A,B;z=this;x.sort(function(C){return C.stream.bitrate;});A=x.findIndex(function(C){var D;return (null !== (D=C.stream.xb) && void 0 !== D?D:0) >= z.Ht;});if(-1 !== A && A !== x.length - 1){B=x[A];x.splice(A,1);x.push(B);}x.reverse();return x;};b.xob=l;c.prototype.zna=function(){return this.RS;};c.prototype.getMetadata=function(){return this.Vd;};b.qob=c;},52961:function(r,b,a){var l,f,k,d,g,n;function c(h){this.la=h.$a("HLSPlaylistTransformerImpl");this.j9b=d.MZ.Pq();this.Zub=g.xca.Pq();}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(35128);d=a(48617);g=a(12187);n=[0,1];c.prototype.transform=function(h,m){var p,q,u,t,w,v,y,x,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];u=h.text;t=h.audio;w=h.video;v=h.duration;y=h.cXa;x=h.OCb;u.forEach(function(A){n.forEach(function(B){var C,D,F,G;C=0 === B;D=A.stream;F=A.track;G=m.get(A.id);C=C?G.nN:G.B$;D=p.bMb({url:C.url,duration:v / 1E3,size:D.size,El:"Manifest for subtitles " + F.language + ' stream "' + F.YB + '", ' + F.Xf + ", cdn " + C.xg});p.la.trace("Text variant manifest",D.join("\n"));B=p.cMb({groupId:B,name:F.YB,Tpa:F.Xf === x,bn:F.Y6,TOb:F.vh === k.Po.uba,language:F.language,uri:p.N7(D)});q.push(B);});});t.forEach(function(A){n.forEach(function(B){var C,D,F,G,E,I;C=0 === B;D=A.stream;F=A.track;G=A.Ja;E=A.aI;I=m.get(D.Lm);C=C?I.nN:I.B$;D=p.D0a({url:C.url,pU:D.sk.offset + D.sk.size,Ja:G,Udb:Math.floor(E / 1E3),El:"Manifest for audio " + F.language + ' stream "' + F.YB + '", ' + F.Xf + ", cdn " + C.xg});p.la.trace("Audio variant manifest",D.join("\n"));B=p.JIb({groupId:B,language:F.language,name:F.YB,Tpa:F.Xf === y,uri:p.N7(D)});q.push(B);});});z=this.Zub[t[0].track.profile];w.forEach(function(A){n.forEach(function(B){var C,D,F,G,E,I;C=0 === B;D=A.stream;F=A.track;G=A.Ja;E=A.aI;I=m.get(D.Lm);I=C?I.nN:I.B$;C=0 < u.length;F=p.D0a({url:I.url,pU:D.sk?D.sk.offset + D.sk.size:D.Tcb,Ja:G,Udb:Math.floor(E / 1E3),El:"Manifest for video bitrate " + D.bitrate + ", stream " + F.Xf + ", cdn " + I.xg});p.la.trace("Video variant manifest",F.join("\n"));B=p.tMb({groupId:B,lS:1E3 * D.bitrate,mvb:1E3 * D.bitrate,yPb:0 <= D.YA.indexOf("-hdr-") || 0 <= D.YA.indexOf("-dv5-"),framerate:(D.VZa / D.UZa).toFixed(3),lk:D.Qva + "x" + D.Dab,c9b:p.j9b[D.YA],Pub:z,b6b:C});q.push(B);B=p.N7(F);q.push("" + B);});});this.la.trace("Primary manifest",q.join("\n"));return this.N7(q);};c.prototype.JIb=function(h){var m;m=h.Tpa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + h.groupId + '"','CHANNELS="2"','LANGUAGE="' + h.language + '"','NAME="' + h.name + '"',"DEFAULT=" + (m?"YES":"NO"),"AUTOSELECT=" + (m?"YES":"NO"),'URI="' + h.uri + '"'].join(", ");};c.prototype.D0a=function(h){var m,p;m=h.Ja;p=["#EXTM3U","# " + h.El,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + h.Udb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + m[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];m.forEach(function(q,u){p.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.gb.toFixed(3));p.push("#EXT-X-BYTERANGE:" + q.mwb + "@" + q.byteOffset);p.push("{$U}&fi=" + u);});p.push("#EXT-X-ENDLIST");return p;};c.prototype.tMb=function(h){var m,p;m=h.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + h.lS,"AVERAGE-BANDWIDTH=" + h.mvb,"VIDEO-RANGE=" + (h.yPb?"PQ":"SDR"),"FRAME-RATE=" + h.framerate,'AUDIO="group_' + m + '"',"RESOLUTION=" + h.lk,'CODECS="' + h.c9b + "," + h.Pub + '"'];h.b6b && p.push('SUBTITLES="subs_' + m + '"');return p.join(", ");};c.prototype.bMb=function(h){var m;m=h.duration;return ["#EXTM3U","# " + h.El,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(m),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + m.toFixed(3),"#EXT-X-BYTERANGE:" + h.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.cMb=function(h){var m,p,q;m=h.Tpa;p=h.language;q=h.uri;m=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + h.groupId + '"','NAME="' + h.name + '"',"DEFAULT=" + (m?"YES":"NO"),"AUTOSELECT=" + (m?"YES":"NO"),"FORCED=" + (h.bn?"YES":"NO")];h.TOb && m.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');m.push('LANGUAGE="' + p + '"');m.push('URI="' + q + '"');return m.join(", ");};c.prototype.N7=function(h){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(h.join("\n"));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab))],a);b.oFa=a;},78033:function(r,b,a){var l,f,k,d;function c(g,n){this.zNb=g;this.log=n.$a("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(2571);d=a(32934);c.prototype.download=function(g){var h,m,p,q,u;function n(t){if(u < m.length - 1)return (!1,u++,h.LXa(m[u].url,p,q).catch(n));throw t;}h=this;m=g.urls;p=g.offset;q=g.length;u=0;return this.LXa(m[u].url,p,q).catch(n);};c.prototype.LXa=function(g,n,h){return this.zNb.download({url:g,withCredentials:!1,responseType:d.ResponseType.Vhb,gB:"hls_headers",Ur:!0,offset:n,length:h,Kr:d.dQ},{j6a:1});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.LFa)),r.__param(1,(0,l.l)(f.ab))],a);b.AFa=a;},487:function(r,b,a){var l,f,k;function c(d){this.la=d.$a("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.EFa=void 0;r=a(5163);l=a(22674);f=a(36418);a=a(87386);c.prototype.parse=function(d,g,n){d=new f.qq(this.la,{mediaType:d},g,["sidx"]).parse();if(d.Tv && d.Ja)return this.dia(d.Ja,n);};c.prototype.dia=function(d,g){var n,h,m,p,q;n=0;h=0;m=0;p=d.offset;q=[];d.cf.forEach(function(u,t){h+=u;m+=d.sizes[t];if(1E3 * h / d.N >= g || t === d.cf.length - 1)(q.push({duration:h / d.N,gb:n / d.N,byteOffset:p,mwb:m}),n+=h,h=0,p+=m,m=0);});return q;};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ab))],k);b.EFa=k;},20034:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u,t){this.zf=m;this.Gy=p;this.Gf=q;this.wc=u;this.Ea=t;}Object.defineProperty(b,"__esModule",{value:!0});b.MP=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(87386);d=a(45118);g=a(98326);n=a(31850);h=a(97444);c.prototype.create=function(m){return new h.OP(this.zf,this.Gy,this.Gf,this.Ea,this.wc,m);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.ab)),r.__param(1,(0,l.l)(n.Rw)),r.__param(2,(0,l.l)(d.ll)),r.__param(3,(0,l.l)(g.wda)),r.__param(4,(0,l.l)(f.Lc))],a);b.MP=a;},97444:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u,t,w){var v;v=this;this.Gy=p;this.Gf=q;this.Ea=u;this.wc=t;this.Zra=this.QB=this.WW=0;this.wG=!1;this.Oy=function(){var y;y=v.sW();y.prstate=v.ky();y.paustate=v.j.Ct();y.midplayseq=v.Zra++;v.wc.UL(y);v.xc(l.Gc.Oy,void 0,h.Od | h.ps,y);};this.Ch=function(){v.xc(l.Gc.MTa,void 0,h.Od | h.Ko,{});};this.fl=function(y){v.Eqa=v.getTime();v.Fqa=y.oldValue;};this.gS=function(y){v.xqa=y.oldValue;};this.o9=function(y){y != v.wG && (v.Fxa(v.wG,y),v.wG=y);};this.Fxa=function(y,x){var z;z=v.j.Da;y={newstate:x?"Paused":"Playing",oldstate:y?"Paused":"Playing"};v.wc.Ip(y,z.Yd.value && z.Yd.value.stream,z.jf.value && z.jf.value.stream);v.xc(l.Gc.JX,void 0,h.Od,y);};this.EX=function(y){v.xc(l.Gc.Rcb,void 0,h.Od,{speedold:Math.floor(1E3 * y.oldValue),speed:Math.floor(1E3 * y.newValue)});};this.wz=function(y){var x,z,A;x=v.j.Da;z=x.Mb.value;if(y.newValue || z && z.bo() && !z.bn()){A=(y=null !== (A=y.newValue) && void 0 !== A?A:z)?{trackId:y.trackId,bcp47:y.te,downloadableId:y.Vb,rank:y.bc,isImageBased:y.gk}:{};y=(y=v.Fqa)?{trackId:y.trackId,bcp47:y.te,downloadableId:y.Vb,rank:y.bc,isImageBased:y.gk}:{};A={switchdelay:(0,f.Vf)(v.getTime() - v.Eqa),track:A,oldtrack:y};v.wc.Ip(A,x.Yd.value && x.Yd.value.stream,x.jf.value && x.jf.value.stream);v.xc(l.Gc.peb,void 0,h.Od,A);}};this.dua=function(y,x){var z;z=v.j.Da;y={waittime:(0,f.Vf)(y),abortedevent:"resumeplay",resumeplayreason:x};v.wc.Ip(y,z.Le.value,z.Kg.value);v.xc(l.Gc.gN,void 0,h.Od | h.Ko,y);};this.Yt=function(y,x,z){var A;A=z.Yva;z=z.sab;y={playdelay:(0,f.Vf)(y),reason:A,intrplayseq:v.QB - 1,skipped:x};"repos" === A && (y.prstate=!0 === v.j.Ai.value?"playing":"paused",z === g.mc.vP && (y.repos_reason="missing_segments"));v.xc(l.Gc.Yt,void 0,h.Od | h.uq,y);};this.Iia=function(){var y,x,z,A;x=v.j.Da.uc.value;z=v.j.Da.Kg.value.Vb;x=x?{trackId:x.trackId,bcp47:x.te,downloadableId:z,rank:x.bc,chan:x.channels}:{};z=v.By;A=null === (y=v.xqa) || void 0 === y?void 0:y.Vb;y=z?{trackId:z.trackId,bcp47:z.te,downloadableId:A,rank:z.bc,chan:z.channels}:{};v.xc(l.Gc.rTa,void 0,h.Od,{switchdelay:(0,f.Vf)(v.getTime() - v.yqa),track:x,oldtrack:y});};this.yl=function(y){v.yqa=v.getTime();v.By=y.oldValue;};this.eua=function(){var y,x,z;y=v.j.Da;x={abortedevent:"startplay",trackid:y.Qj,prstate:v.ky(),paustate:v.j.Ct()};try{z=(0,k.XF)();z && (x.pdltime=z);(0,f.Wd)(x,y.Xc,{prefix:"sm_"});}catch(A){}v.wc.E6(x,y);v.wc.VL(x,!1,y.Fg.value,y);v.wc.Ip(x,y.Le.value,y.Kg.value);v.hG(x);v.xc(l.Gc.gN,void 0,h.Od | h.ps | h.Ko,x);};this.Lx=function(y,x,z,A){y={moff:(0,f.Jl)(z),moffms:(0,f.Vf)(z),vbitrate:x.bitrate,vbitrateold:y.bitrate,vdlid:x.Vb,vdlidold:y.Vb,vheight:x.height,vheightold:y.height,vwidth:x.width,vwidthold:y.width,bw:A};v.xc(l.Gc.Lx,void 0,0,y);};this.HC=function(y,x,z){y={moffold:(0,f.Jl)(y),reposseq:v.WW++,prstate:v.ky(),paustate:v.j.Ct()};v.wc.Ip(y,z && z.stream,x && x.stream);v.xc(l.Gc.HC,void 0,h.Od,y);};this.Pr=function(y){var x,z,A,B,C;B=y.Da;C={playdelaysdk:(0,f.Vf)(v.j.sS()),applicationPlaydelay:(0,f.Vf)(v.j.qja()),playdelay:(0,f.Vf)(v.j.rja()),trackid:B.Qj,bookmark:(0,f.Vf)(B.zl || 0),pbnum:B.index};v.j.Ch && (C.blocked=v.j.Ch);C.initvbitrate=v.j.BU;v.wc.vpa(C);v.wc.E2a(C);C.esnSource=null === (x=ob._cad_global.device) || void 0 === x?void 0:x.N4;v.L2a(C,B);C.pdltime=(0,k.XF)();(0,f.Wd)(C,B.Xc,{prefix:"sm_"});C.ttTrackFields=null === (z=B.Mb.value) || void 0 === z?void 0:z.sg;v.wc.A2a(C,B.uc.value,B);v.wc.VL(C,!0,B.Fg.value,B);C.packageId=null === (A=B.X) || void 0 === A?void 0:A.Fa.kn;v.wc.UL(C);v.wc.E6(C,B);v.hG(C);v.xc(l.Gc.Pr,y.kh,h.Od | h.uq | h.ps | h.sD | h.Ko,C);};this.by=function(){var y,x,z;y=v.j;x=y.Da;y=y.kh;z=v.sW();z.paustate=!v.j.UB();z.muted=v.j.aqa();z.endreason=y?"error":v.j.Vpa()?"ended":"stopped";v.wc.VL(z,!1,x.Fg.value,x);v.wc.UL(z);v.hG(z);v.xc(l.Gc.by,y,h.Od | h.uq | h.ps | h.sD | h.Ko,z);};this.xva=function(y,x,z){var A;A=v.j.Da.jf;y={moff:(0,f.Jl)(z),moffms:(0,f.Vf)(z),vdlidold:y.Vb,vbitrateold:y.bitrate};v.wc.Ip(y,x,A.value && A.value.stream);v.xc(l.Gc.TW,void 0,0,y);};this.ky=function(){var y;y=v.j.wb.value;return y === g.hb.Oe?"playing":y === g.hb.Rh?"paused":y === g.hb.oq?"ended":"waiting";};this.la=m.$a("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.OP=void 0;l=a(18169);f=a(3887);k=a(52569);d=a(36129);g=a(85001);n=a(5021);c.prototype.getTime=function(){return this.Ea.Jb().da(n.pa);};c.prototype.roa=function(){return this.getTime() - this.j.Da.Lh.da(n.pa);};c.prototype.L2a=function(m,p){var q;if(p=null === (q=p.Fg.value) || void 0 === q?void 0:q.streams)(m.maxbitrate=(0,k.YO)(p.map(function(u){return u.bitrate;})),m.maxresheight=(0,k.YO)(p.map(function(u){return u.height;})));};c.prototype.hG=function(m){m.cachedManifest="notcached";m.cachedLicense="notcached";m.usedldl="false";};c.prototype.sW=function(){var m,p,q,u;m=this.j.Da;p=m.Xk;q={totaltime:(0,f.Jl)(p.Fp()),totalcontenttime:(0,f.Jl)(p.hU()),reposcount:this.WW,intrplaycount:this.QB};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});u=m.Le.value;u && (q.videofr=u.framerate.toFixed(3));(u=p.ona()) && (q.abrdel=u);(u=p.w6() && p.o_a()) && (q.tw_vmaf=u);(p=p.m_a()) && (0,f.Wd)(q,p);q.rbfrs=this.QB;this.L2a(q,m);return q;};c.prototype.xc=function(m,p,q,u){var t,w,v;t=this;p && (0,d.TZ)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.Aa,this.roa(),void 0) && (w="info");v=this.j.Da;this.Lha(u,p,q);p=w || (p?"error":"info");u=this.Gy.Xs(m,p,u,v);this.Gf.xc(u);"error" !== p && m !== l.Gc.by || this.Gf.flush(!1).catch(function(){t.la.debug("Failed to flush the logblobs");});};c.prototype.Lha=function(m,p,q){var u;u=this.j.Da;this.wc.D2a(m,u);q & h.Od && this.wc.H2a(m,u,!1);q & h.uq && this.wc.J2a(m,u);q & h.ps && this.wc.K2a(m,this.j.Sm());p && q & h.sD && this.wc.F2a(m,u,p);q & h.Ko && this.wc.vpa(m);};b.OP=c;(function(m){m[m.Od=1]="MOFF";m[m.uq=2]="PRESENTEDSTREAMS";m[m.ps=4]="SCREEN";m[m.sD=8]="FATALERROR";m[m.Ko=16]="BROWSERINFO";})(h || (h={}));},27134:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u,t){this.Gf=m;this.config=p;this.sa=q;this.Ea=u;this.dra=t;}Object.defineProperty(b,"__esModule",{value:!0});b.PP=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(30869);d=a(4203);g=a(45118);n=a(10242);h=a(5522);c.prototype.create=function(m){return new h.RP(m,this.Gf,this.config,this.Ea,this.dra.create(m));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.ll)),r.__param(1,(0,l.l)(d.Yb)),r.__param(2,(0,l.l)(k.ag)),r.__param(3,(0,l.l)(f.Lc)),r.__param(4,(0,l.l)(n.NP))],a);b.PP=a;},5522:function(r,b,a){var l,f,k;function c(d,g,n,h,m){var p;p=this;this.j=d;this.Gf=g;this.config=n;this.Ea=h;this.fb=m;this.xS=function(){p.mg();p.j.Da.Yh.removeListener(p.wz);p.j.Da.Mb.removeListener(p.fb.fl);p.j.Da.uc.removeListener(p.yl);p.j.Da.Kg.removeListener(p.fb.gS);p.j.Ai.removeListener(p.w9a);p.j.DN.removeListener(p.Fj);p.j.Da.Yd.removeListener(p.AW);p.j.wb.removeListener(p.mv);p.j.wb.removeListener(p.sK);p.j.Da.Le.removeListener(p.IY);p.j.Da.playbackRate.removeListener(p.fb.EX);p.j.removeEventListener(k.La.closed,p.xS);p.j.removeEventListener(k.La.Z2,p.fb.Ch);};this.sK=function(){p.j.wb.value === k.hb.Oe && (p.j.wb.removeListener(p.sK),p.Nt());};this.wz=function(q){p.Vp && p.fb.wz(q);};this.Fj=function(q){p.Vp && void 0 !== q.newValue && (p.JN && p.Io && p.fb.dua(p.getTime() - p.Io,p.JN.Yva),p.JN={Yva:"repos",sab:q.newValue},p.fb.HC(q.newValue,p.j.Da.jf.value,p.j.Da.Yd.value),p.Io=p.getTime(),(0,f.Ef)(p.mv));};this.w9a=function(q){p.Vp && p.fb.o9(!q.newValue);};this.yl=function(q){q.oldValue && (p.By=q.oldValue,p.fb.yl(q),p.JN={Yva:"repos",sab:k.mc.tQ},p.Io=p.getTime(),(0,f.Ef)(p.mv));};this.mv=function(){var q;if(p.Io && p.JN && p.j.wb.value !== k.hb.Af){q=p.getTime() - p.Io;p.fb.Yt(q,!1,p.JN);p.By && p.By != p.j.Da.uc.value && p.fb.Iia();p.Io=void 0;p.JN=void 0;}};this.Nt=function(){p.Vp || (p.Vp=!0,p.fb.Pr(p.j),p.Epa(),p.config().L6 && (p.uy=ob.setTimeout(function(){p.Gf.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.uy=void 0;},p.config().L6)));};this.mg=function(){p.uy && (ob.clearTimeout(p.uy),p.uy=void 0);p.tY && p.tY();p.Vp?p.fb.by():p.j.kh?p.fb.Pr(p.j):p.fb.eua();};this.IY=function(q){q.oldValue && q.Dh && q.Dh.dF && p.fb.Lx(q.oldValue,q.newValue,q.Dh.dF,q.Dh.lS);};this.AW=function(q){var u;if(q.newValue){u=q.newValue.stream;p.xG != u && (p.xG && u && p.fb.xva(p.xG,u,q.newValue.tK.startTime),p.xG=u);}};this.eaa();}Object.defineProperty(b,"__esModule",{value:!0});b.RP=void 0;l=a(5021);f=a(32219);k=a(85001);c.prototype.eaa=function(){this.j.addEventListener(k.La.closed,this.xS);this.j.addEventListener(k.La.Z2,this.fb.Ch);this.j.Da.Yh.addListener(this.wz);this.j.Da.Mb.addListener(this.fb.fl);this.j.Da.uc.addListener(this.yl);this.j.Da.Kg.addListener(this.fb.gS);this.j.Ai.addListener(this.w9a);this.j.DN.addListener(this.Fj);this.j.Da.Yd.addListener(this.AW);this.j.wb.addListener(this.mv);this.j.wb.addListener(this.sK);this.j.Da.Le.addListener(this.IY);this.j.Da.playbackRate.addListener(this.fb.EX);};c.prototype.getTime=function(){return this.Ea.Jb().da(l.pa);};c.prototype.Epa=function(){var d,g,n;d=this;n=[];this.config().A6a && (this.config().B6a.forEach(function(h){n.push(ob.setTimeout(d.fb.Oy,h));}),this.config().i8 && (g=ob.setInterval(this.fb.Oy,this.config().i8)),this.tY=function(){n.forEach(function(h){ob.clearTimeout(h);});g && ob.clearInterval(g);});};b.RP=c;},15850:function(r,b,a){var l,f,k,d,g;function c(n,h){var p;function m(){p.Uta.then(function(q){p.la.trace("Unloading PBO Playdata Services");q.close();});d.ie.removeListener(d.Pk,m);}p=this;this.S8a=h;this.Uta=h();this.la=n.$a("PlayerPlaydataMonitorImpl");d.ie.addListener(d.Pk,m);}Object.defineProperty(b,"__esModule",{value:!0});b.zLa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(96687);d=a(37509);g=a(85001);c.prototype.Pj=function(n,h){this.Uta.then(function(m){m.Pj(h,!0,function(p){return n.close(p);});m.Dxa(h);n.addEventListener(g.La.tua,function(){n.UB() && m.xbb(h).catch(function(p){(p=p.hN) && n.close(p);});});n.addEventListener(g.La.fl,function(){m.K$(h).catch(function(p){(p=p.hN) && n.close(p);});});n.addEventListener(g.La.yl,function(){m.K$(h).catch(function(p){(p=p.hN) && n.close(p);});});});};c.prototype.LX=function(n){return this.Uta.then(function(h){h.fdb();return h.LX(n).catch();});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.ab)),r.__param(1,(0,l.l)(k.jQ))],a);b.zLa=a;},68272:function(r,b,a){var l,f,k,d;function c(g){this.Xra={};this.H6={};this.s7=-1;this.Qxa=new k.Hb(null);this.zua=new k.Hb(null);this.la=g.$a("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.LNa=void 0;r=a(5163);l=a(22674);f=a(93161);k=a(81734);a=a(87386);c.prototype.Cb=function(g,n,h){var m;m=this;g.forEach(function(p){p.stream.urls.forEach(function(q){m.Xra[q.url]=[p,q.xg];});});this.gla=n;this.LCb=h;new PerformanceObserver(function(p){m.R7b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.Nbb=function(g){var n,h,m;if(this.gla){h=this.L5(g);if(h !== this.s7){for(this.s7=h;0 <= h && !this.H6[h];){h--;}m=la(null !== (n=this.H6[h]) && void 0 !== n?n:[this.gla,this.LCb]);n=m.next().value;m=m.next().value;this.la.debug("Setting time to " + g + ", using metadata from fragment " + h + " for " + ((0,f.JG)(n.track.type) + " track with bitrate ") + (n.stream.bitrate + " from cdn " + m));g=n.Ja[this.s7];h=g.gb;this.zua.set({stream:n,tK:{startTime:Math.floor(1E3 * h),endTime:Math.floor(1E3 * (h + g.duration))},Fm:m});}}};c.prototype.L5=function(g){var n,h,m,p,q;n=this.gla.Ja;g/=1E3;h=0;m=n.length - 1;if(g >= n[m].gb)return m;for(;m >= h;){p=h + Math.floor((m - h) / 2);q=n[p];if(g < q.gb)m=p - 1;else if(g >= q.gb + q.duration)h=p + 1;else return p;}return n.length - 1;};c.prototype.R7b=function(g){var n;n=this;g.filter(function(h){return "video" === h.initiatorType;}).forEach(function(h){var m,p,q;m=h.name.indexOf("&fi=");if(0 < m){p=h.name.substring(0,m);m=Number(h.name.substring(m + 4));if(n.Xra[p]){q=la(n.Xra[p]);h=q.next().value;q=q.next().value;p && !Number.isNaN(m) && h && (n.H6[m] && (n.s7=-1),n.H6[m]=[h,q],p=h.Ja[m].gb,!1,n.Qxa.set(h,{dF:Math.floor(1E3 * p),Fm:q}));}}});};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ab))],d);b.LNa=d;},25050:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w;function c(v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O,H){var J,N,R;J=this;this.uW=y;this.qy=x;this.Ea=z;this.Kh=A;this.Ib=B;this.sV=C;this.XXb=D;this.k9a=F;this.eba=G;this.V2=E;this.sa=I;this.qM=M;this.config=L;this.MA=K;this.v=O;this.qh=H;this.gV=new m.Hb(!0);this.Ai=new m.Hb(!1);this.Nr=new m.Hb(!1);this.ended=new m.Hb(!1);this.l3=new m.Hb(0);this.wb=new m.Hb(l.hb.Af);this.DN=new m.Hb(void 0);this.loaded=this.HX=this.closed=!1;this.N9a=function(T,ka){return function(sa){var ia,wa,Aa,La,Ya;ia=sa.newValue;wa=ia.Fm;sa=ia.tK;Aa=ia.stream;ia=T.value;La=ia.streams.find(function(ab){return ab.bitrate === Aa.stream.bitrate;});Ya=J.Da.kg.find(function(ab){return ab.id === wa;});J.log.info("Presenting " + La.type + " request with bitrate " + La.bitrate + ", track " + (ia.trackId + " [" + sa.startTime + "..." + sa.endTime + "]"));ka.set({stream:La,tK:sa,Dc:Ya});};};this.tdb=function(T,ka,sa){return function(ia){var wa,Aa;wa=T.value;Aa=wa.streams.find(function(La){return La.bitrate === ia.newValue.stream.bitrate;});J.log.info("Streaming " + Aa.type + " stream with bitrate " + Aa.bitrate + ", track " + wa.trackId);ka.set(Aa,{dF:ia.Dh.dF,lS:void 0});wa=J.Da.kg.filter(function(La){return La.id === ia.Dh.Fm;})[0];sa.set(wa);};};this.AZa=new Set();this.log=v.$a("HLSVideoPlayer");this.$=(0,f.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.$.playsInline=this.config.x9a;this.Da=this.uW(k.aA.index++,O.P,O.id,null !== (N=O.tb) && void 0 !== N?N:{},this.qy.$A(),this.Ea.Jb(),!1,void 0,function(){return J.$q();});this.Da.mediaTime.set(null !== (R=this.Da.zl) && void 0 !== R?R:0);this.zI();this.jqb=this.qM.create(this);this.jqb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.VOa=void 0;l=a(85001);f=a(52569);k=a(13044);d=a(72639);g=a(24735);n=a(36129);h=a(63156);m=a(81734);p=a(5021);q=a(32687);u=a(45266);t=a(3887);w=a(60328);c.prototype.F5b=function(){return !!this.$.canPlayType && ("" !== this.$.canPlayType("application/vnd.apple.mpegURL") || "" !== this.$.canPlayType("audio/mpegurl"));};c.prototype.zI=function(){var v;v=this;this.$.addEventListener("loadedmetadata",function(){v.ob(l.La.h5a);v.ob(l.La.g5a);v.ob(l.La.yl);v.ob(l.La.W2);v.ob(l.La.fl);v.ob(l.La.gu);});this.$.addEventListener("error",function(y){y=v.qh(n.V.NJa,y);v.close(y);});this.$.addEventListener("timeupdate",function(){v.ended.set(!1);v.Da.mediaTime.set(v.$q());v.mla();v.ob(l.La.Qn);v.ob(l.La.gfb);});this.$.addEventListener("durationchange",function(){v.ob(l.La.Cla);});this.$.addEventListener("resize",function(){v.ob(l.La.sza);});this.$.addEventListener("playing",function(){v.mla();v.Nr.set(!1);v.Ai.set(!0);v.ended.set(!1);v.wb.set(l.hb.Oe);});this.$.addEventListener("pause",function(){v.Ai.set(!1);v.Nr.set(!1);v.wb.set(l.hb.Rh);});this.$.addEventListener("waiting",function(){v.wb.set(l.hb.Af);});this.$.addEventListener("stalled",function(){v.Nr.set(!0);});this.$.addEventListener("seeking",function(){v.Nr.set(!1);v.DN.set(v.Da.mediaTime.value);v.wb.set(l.hb.Af);});this.$.addEventListener("seeked",function(){void 0 !== v.DN.value && (v.Da.Xk.Ksa(v.DN.value,v.$q()),v.DN.set(void 0));v.wb.set(v.UB()?l.hb.Oe:l.hb.Rh);});this.$.addEventListener("progress",function(){v.ob(l.La.i3);v.H7b();});this.$.addEventListener("ended",function(){v.wb.set(l.hb.oq);v.Nr.set(!1);v.Ai.set(!1);v.ended.set(!0);});this.$.addEventListener("volumechange",function(){v.ob(l.La.sgb);v.ob(l.La.c7a);});this.Ai.addListener(function(){v.ob(l.La.tua);v.ob(l.La.Q8a);v.sK();});this.l3.addListener(function(){v.ob(l.La.lK);});this.Nr.addListener(function(){v.ob(l.La.lK);});this.gV.addListener(function(){v.sK();});this.ended.addListener(function(){v.ob(l.La.DYa);});this.Da.playbackRate.addListener(function(y){v.$.playbackRate=y.newValue;});};c.prototype.sK=function(){!this.UB() || this.gV.value || this.HX || this.uTa || (this.HX=!0,this.Da.vy=this.sa.IH,this.k9a.Pj(this,this.Da));};c.prototype.sS=function(){return this.tW - (this.Da.Lh.da(p.pa) + this.Ea.Dy.da(p.pa));};c.prototype.KF=function(){var v;v=this.Da.bb.aD;return (0,q.Rb)(v)?v:this.Da.Lh.da(p.pa) + this.Ea.Dy.da(p.pa);};c.prototype.qja=function(){return this.sa.fe.da(p.pa) - this.KF();};c.prototype.rja=function(){return this.tW - this.KF();};c.prototype.H7b=function(){var v;v=this.$.readyState <= h.Tj.Tz.HAVE_METADATA?0:this.$.readyState <= h.Tj.Tz.HAVE_CURRENT_DATA?.5:1;1 === v && (this.tW=this.sa.fe.da(p.pa),this.gV.set(!1),this.Kma(l.La.loaded));this.l3.set(v);};c.prototype.mla=function(){var v;v=this.$q();this.eba.Nbb(v);this.V2.Nbb(v);};c.prototype.sX=function(){var v;v=this;this.Da.ke("ats");return this.Kh.jy({na:this.Da.na,bb:this.Da.bb,J:this.Da.P,Wq:d.ml.K0,gf:g.xh.om}).then(function(y){var z;function x(A){var B;B=A;A && A.bo() && !A.bn() && (B=null);v.Da.Yh.set(B);}v.Da.ke("at");z=v.sV.create({}).K8a(y);v.Da.X=y;v.Da.Bc=z;v.$.audioTracks.addEventListener("addtrack",function(){v.Bfb(v.Da.uc.value);});v.$.audioTracks.addEventListener("change",function(){for(var A,B,C={},D=la(v.$.audioTracks),F=D.next();!F.done;(C={TO:C.TO},F=D.next())){C.TO=F.value;C.TO.enabled && C.TO.label !== (null === (A=v.Da.uc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=v.Da.ai.find((function(G){return function(E){return E.displayName === G.TO.label;};})(C))) && void 0 !== B?B:null,v.Da.uc.set(F));}});v.Da.uc.addListener(function(A){v.Bfb(A.newValue);v.ob(l.La.yl);v.ob(l.La.gu);});v.$.textTracks.addEventListener("addtrack",function(){v.Cfb(v.Da.Mb.value);});v.$.textTracks.addEventListener("change",function(){var G;for(var A,B,C=v.$.textTracks,D={},F=0;F < C.length;(D={UO:D.UO},F++)){if((D.UO=C[F],"showing" === D.UO.mode && D.UO.label !== (null === (A=v.Da.Mb.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=v.Da.Wg.find((function(E){return function(I){return I.displayName === E.UO.label;};})(D))) && void 0 !== B?B:null;v.Da.Mb.set(G);x(G);}}});v.Da.Mb.set(z.QS);x(z.QS);v.Da.Mb.addListener(function(A){v.Cfb(A.newValue);v.ob(l.La.fl);});return v.XXb.Lg(y,function(A){return v.Da.ke(A);});}).then(function(y){var x,z,A,B,C,D,F,G,E,I,M,L,K,O,H,J;x=y.bSb;z=y.lxb;y=y.V4b;A=y.audio;B=y.cXa;C=y.video;D=v.Da;F=D.Kg;G=D.uc;E=D.ai;I=D.Le;M=D.Fg;y=D.zl;L=D.Yd;K=D.jf;O=D.Xk;D=D.Bc;D.ai=E.filter(function(N){return A.find(function(R){return R.track.Xf === N.trackId;});});M.set(D.h4);G.set(E.find(function(N){return N.trackId === B;}));D=C[0];H=D.stream;E=A.find(function(N){return N.track.Xf === B;});J=E.stream;v.BU=H.bitrate;v.eba.zua.addListener(v.N9a(M,L));v.eba.Qxa.addListener(v.tdb(M,I,v.Da.Dc[w.u.Y]));I=z.get(H.Lm).nN.xg;v.eba.Cb(C,D,I);v.V2.zua.addListener(v.N9a(G,K));v.V2.Qxa.addListener(v.tdb(G,F,v.Da.Dc[w.u.fa]));z=z.get(J.Lm).nN.xg;v.V2.Cb(A,E,z);v.$.src=x;v.$.currentTime=(null !== y && void 0 !== y?y:0) / 1E3;v.$.load();O.Ksa(0,y && 0 < y?y:1);}).catch(function(y){var x,z;if(y instanceof Error){z=(0,t.we)(y);v.log.error("uncaught exception",y,z);}v.close(v.qh(null !== (x=y.code) && void 0 !== x?x:n.V.EOa,y));});};c.prototype.Cfb=function(v){var z;for(var y=this.$.textTracks,x=0;x < y.length;x++){z=y[x];z.label === v.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== v.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.Bfb=function(v){for(var y=la(this.$.audioTracks),x=y.next();!x.done;x=y.next()){x=x.value;x.label !== v.displayName || x.enabled || (!1,x.enabled=!0);x.label !== v.displayName && x.enabled && (!1,x.enabled=!1);}};c.prototype.Wn=function(){};c.prototype.Ml=function(){};c.prototype.$q=function(){return Math.floor(1E3 * this.$.currentTime);};c.prototype.B5=function(){return this.$q();};c.prototype.yL=function(){return this.$q();};c.prototype.xna=function(){return Math.floor(1E3 * this.$.duration);};c.prototype.G0a=function(){return this.v.P;};c.prototype.qt=function(){return this.Da.na;};c.prototype.Sm=function(){return this.$;};c.prototype.Ev=function(){return null === this.mh();};c.prototype.UB=function(){return this.Ai.value;};c.prototype.Ct=function(){return !this.Ai.value;};c.prototype.Vpa=function(){return this.$.ended;};c.prototype.mh=function(){return 1 !== this.l3.value?{stalled:this.Nr.value,progress:this.l3.value,progressRollback:!1}:null;};c.prototype.getError=function(){var v,y;return null !== (y=null === (v=this.kh) || void 0 === v?void 0:v.kY()) && void 0 !== y?y:null;};c.prototype.u_a=function(){return 1 === this.$.buffered.length?1E3 * this.$.buffered.end(0):null;};c.prototype.B1a=function(){return {width:this.$.videoWidth,height:this.$.videoHeight};};c.prototype.aqa=function(){return this.$.muted;};c.prototype.D1a=function(){return this.$.volume;};c.prototype.Zbb=function(v){this.$.muted=v;};c.prototype.lcb=function(v){this.$.volume=v;};c.prototype.addEventListener=function(v,y,x){this.Ib.addListener(v,y,x);};c.prototype.removeEventListener=function(v,y){this.Ib.removeListener(v,y);};c.prototype.load=function(){var v;v=this;this.loaded || (this.loaded=!0,this.MA.fV(function(y){v.F5b()?y.ia?v.sX():v.close(v.qh(y.errorCode || n.V.cda,y)):v.close(v.qh(n.V.mkb));}));};c.prototype.close=function(v){if(this.closed)return Promise.resolve();this.Da.mediaTime.set(this.$q());this.mla();this.Da.GS=this.B5();this.closed=!0;this.$.removeAttribute("src");this.$.load();null === v || void 0 === v?void 0:v.acb(!this.gV.value);(this.kh=v) && this.ob(l.La.error,v.kY());this.ob(l.La.closed);return this.k9a.LX(this.Da);};c.prototype.play=function(){var v,y;v=this;y=this.$.play();this.uTa=!1;y && y.then(function(){v.Kma(l.La.vTa);}).catch(function(x){v.ob(l.La.lK);"NotAllowedError" === x.name && (v.log.warn("Playback is blocked by the browser settings",x),v.uTa=!0,v.Ch=!0,v.Kma(l.La.Z2,{player:{play:function(){return v.play();}}}));});};c.prototype.ob=function(v,y,x){y=y || ({});y.target=this;this.Ib.Ec(v,y,!x);};c.prototype.Kma=function(v,y){this.AZa.has(v) || (this.AZa.add(v),this.ob(v,y,void 0));};c.prototype.pause=function(){this.$.pause();};c.prototype.P8a=function(){this.pause();};c.prototype.seek=function(v){this.$.currentTime=v / 1E3;};c.prototype.N2a=function(v){this.close(this.qh(n.V.bEa,n.S.Ro,v));};c.prototype.GL=function(){return this.Da.playbackRate.value;};c.prototype.Q$=function(v){this.Da.playbackRate.set(v);};c.prototype.l_a=function(){var v;v=this;return this.Da.ai.map(function(y){return v.Gp(y);});};c.prototype.Doa=function(v){var y;y=this;return this.bU(v).map(function(x){return y.Gp(x);});};c.prototype.k_a=function(){var v;v=this.Da.uc.value;return v && this.Gp(v);};c.prototype.Coa=function(){var v;v=this.Da.Mb.value;return v && this.Gp(v);};c.prototype.Jbb=function(v){if((v=this.tT(v)) && v.Wf)return (this.Da.uc.set(v),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.bxa=function(v){var y,x;y=this;x=this.Da.Wg.find(function(z){return y.Gp(z) === v;});if(x && x.Wf)return (this.Da.Mb.set(x),this.Da.Yh.set(x),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.A0a=function(){var v;return this.TT(this.Da.ai,null === (v=this.Da.X) || void 0 === v?void 0:v.Fa.g6a);};c.prototype.Una=function(v){var y;return this.TT(this.bU(v),null === (y=this.Da.X) || void 0 === y?void 0:y.Fa.h6a);};c.prototype.Gp=function(v){var y;y=v.Uua=v.Uua || ({trackId:v.trackId,bcp47:v.te,displayName:v.displayName,trackType:v.vh,rawTrackType:v.GC,channels:v.channels});this.eqa(v) && (y.isNative=v.isNative,y.surroundFormatLabel=v.TX);this.fqa(v) && (y.isNoneTrack=v.bo(),y.isForcedNarrative=v.bn(),y.isImageBased=v.gk);y.subType=v.YH;y.variant=v.variant;return y;};c.prototype.eqa=function(v){return "undefined" !== typeof v.isNative;};c.prototype.fqa=function(v){return "undefined" !== typeof v.bo && "undefined" !== typeof v.bn;};c.prototype.tT=function(v){var y;y=this;return v && this.Da.ai.find(function(x){return y.Gp(x) === v;});};c.prototype.bU=function(v){var y;v=this.tT(v) || this.Da.uc.value;return null !== (y=null === v || void 0 === v?void 0:v.Wg) && void 0 !== y?y:[];};c.prototype.TT=function(v,y){var x;x=v.length - 1;if("number" !== typeof y)return x;v=v.findIndex(function(z){return z.bc > y;});return -1 === v?x:v - 1;};c.prototype.Qaa=function(v){this.Da.bb=(0,u.h8)(this.Da.bb,v);};c.prototype.Si=function(v){if(v !== this.Da.I)throw (!1,Error("Unknown segmentId " + v));return this.Da;};c.prototype.R0a=function(){return this.Da.bb;};c.prototype.Xha=function(){!1;};c.prototype.Rv=function(){!1;};c.prototype.SG=function(){!1;};c.prototype.lU=function(){!1;return Promise.reject();};c.prototype.soa=function(){return {};};c.prototype.C5=function(){};c.prototype.i_a=function(){return {};};c.prototype.Owa=function(){};c.prototype.eO=function(){};c.prototype.s3a=function(){return !1;};c.prototype.O_a=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.bL=function(){!1;return Promise.resolve({success:!0});};c.prototype.y1a=function(){!1;};c.prototype.gU=function(){!1;};c.prototype.YN=function(){!1;};c.prototype.fxa=function(){!1;};c.prototype.d5a=function(){!1;};c.prototype.b_a=function(){!1;return Promise.reject();};c.prototype.h9a=function(){!1;return Promise.reject();};c.prototype.o$a=function(){!1;return Promise.reject();};c.prototype.dj=function(){!1;return Promise.reject();};c.prototype.gH=function(){!1;};b.VOa=c;},41893:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q,u,t,w,v,y,x,z,A,B,C,D){var F;F=this;this.ae=h;this.zb=m;this.Ib=q;this.Pt=t;this.CS=w;this.c_a=v;this.config=x;this.qh=A;this.v=B;this.j=z.create(B.P,B.Lh,y,C,D,B.tb,B.id,B.X);this.j.background.set(!0);this.log=p.$a("VideoPlayer",this.j);this.T8a=[];this.ended=!1;this.zI();this.j.state.addListener(function(G){G.newValue === f.Wb.ce && F.ob(f.La.kqa,{movieId:B.P});});this.j.bb.qg && (this.jK=u.PAb(this,this.j),this.j.addEventListener(f.ga.DH,function(G){G=G.position.segmentId;F.uQb !== G && (F.uQb=G,F.ob(f.La.U1b,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.FGa=void 0;l=a(36129);f=a(85001);k=a(5021);d=a(22365);g=a(87607);n=a(3887);c.prototype.Ev=function(){return this.j.state.value === f.Wb.ce;};c.prototype.G0a=function(){return this.j.P;};c.prototype.qt=function(){return this.j.na;};c.prototype.Sm=function(){return this.j.mk;};c.prototype.UB=function(){return this.j.Ai.value;};c.prototype.Ct=function(){return this.j.paused.value;};c.prototype.Vpa=function(){return this.ended;};c.prototype.mh=function(){var h;h=this.j.ija.value;return h?{networkStalled:!!h.Nr,stalled:!!h.Nr,progress:h.progress,progressRollback:!!h.wZb}:null;};c.prototype.getError=function(){var h;h=this.j.kh;return h?h.kY():null;};c.prototype.Wn=function(){var h;return null === (h=this.j.Wn()) || void 0 === h?void 0:h.wFb;};c.prototype.Ml=function(){return this.j.gd;};c.prototype.yL=function(){return this.Ml().aa?this.Ml().g6():this.$q();};c.prototype.$q=function(){return this.j.mediaTime.value;};c.prototype.u_a=function(){var h;h=(this.B5() || 0) + this.j.t_a();return Math.min(h,this.xna());};c.prototype.B5=function(){return this.Ml().aa?this.Ml().g6():this.j.BB();};c.prototype.xna=function(){return this.Ml().aa?this.Ml().t0a():this.j.Sx.da(k.pa);};c.prototype.B1a=function(){var h;h=this.j.eD.value;return h?{width:h.width,height:h.height}:null;};c.prototype.C5=function(){return this.j.C5();};c.prototype.b_a=function(h){var m,p;return (null === (m=this.j.X) || void 0 === m?0:m.oi.DL("generateScreenshots"))?this.c_a.Un(this.log,this.j.X.oi,h):(m=null === (p=this.j.bb) || void 0 === p?void 0:p.kn)?this.c_a.yf(this.log,Object.assign({packageId:m},h)):Promise.reject("Unknown packageId");};c.prototype.O_a=function(){return this.sJb(this.j.yXa);};c.prototype.l_a=function(){var h;h=this;return this.j.ai.map(function(m){return h.Gp(m);});};c.prototype.A0a=function(){var h;return this.TT(this.j.ai,null === (h=this.j.X) || void 0 === h?void 0:h.Fa.g6a);};c.prototype.Doa=function(h){var m;m=this;return this.bU(h).map(function(p){return m.Gp(p);});};c.prototype.Una=function(h){var m;return this.TT(this.bU(h),null === (m=this.j.X) || void 0 === m?void 0:m.Fa.h6a);};c.prototype.aqa=function(){return this.j.muted.value;};c.prototype.D1a=function(){return this.j.volume.value;};c.prototype.k_a=function(){var h,m;m=(null === (h=this.Uv) || void 0 === h?void 0:h.uc) || this.j.uc.value;return m && this.Gp(m);};c.prototype.Coa=function(){var h,m;m=(null === (h=this.Uv) || void 0 === h?void 0:h.bY) || this.j.Mb.value;return m && this.Gp(m);};c.prototype.s3a=function(){return this.j.background.value;};c.prototype.Zbb=function(h){this.j.muted.set(!!h);};c.prototype.lcb=function(h){this.j.volume.set(this.UUb(h));};c.prototype.Q$=function(h){this.j.playbackRate.set(h);};c.prototype.GL=function(){return this.j.playbackRate.value;};c.prototype.Jbb=function(h){var m,p,q,u,t;m=this;q=this.tT(h);if(q){if(q.Wf)return (this.j.uc.set(q),Promise.resolve());u=(h=(null === (p=this.Uv) || void 0 === p?void 0:p.bY) || this.j.Mb.value) && this.X3a(q,h)?h:q.Wg[0];p=q.trackId;t=u.trackId;this.Uv={uc:q,bY:u};this.ob(f.La.yl);this.ob(f.La.gu);u !== h && this.ob(f.La.fl);return this.j.q2a(p,t).then(function(w){w=w.uc;m.Uv=void 0;m.j.uc.set(w);}).catch(function(w){m.Uv=void 0;w=m.ae.we(w);m.log.error(w);m.close(m.qh(l.V.GD,{Aa:l.S.Dda,Nb:w,fG:{INb:q.trackId,t2a:q.te,JNb:u.trackId,u2a:u.te}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.bxa=function(h){var m,p,q,u;m=this;q=(null === (p=this.Uv) || void 0 === p?void 0:p.uc) || this.j.uc.value;if(null !== q){u=q.Wg;p={};for(var t=0;t < u.length;(p={Xr:p.Xr},t++)){p.Xr=u[t];if(!h && null === p.Xr)return (this.j.Mb.set(null),Promise.resolve());if(this.Gp(p.Xr) === h){if(p.Xr.Wf)return (this.log.info("Setting Timed Text, profile: " + p.Xr.profile),this.j.Mb.set(p.Xr),Promise.resolve());h=q.trackId;u=p.Xr.trackId;this.Uv={uc:q,bY:p.Xr};this.ob(f.La.fl);return this.j.q2a(h,u).then(function(w){w=w.bY;m.Uv=void 0;m.j.Mb.set(w);}).catch((function(w){return function(v){m.Uv=void 0;v=m.ae.we(v);m.log.error(v);m.close(m.qh(l.V.GD,{Aa:l.S.Dda,Nb:v,fG:{INb:q.trackId,t2a:q.te,JNb:w.Xr.trackId,u2a:w.Xr.te}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.Owa=function(h){this.j.background.set(h);};c.prototype.eO=function(){this.j.eO();};c.prototype.Qaa=function(h){this.j.Qaa(h);};c.prototype.Si=function(h){return this.j.Si(h);};c.prototype.R0a=function(){return this.j.bb;};c.prototype.Rv=function(){this.j.Rv();};c.prototype.SG=function(h){this.j.SG(h);};c.prototype.lU=function(h,m,p){return this.j.lU(h,m,p);};c.prototype.Xha=function(h,m){this.j.addEventListener(h,m,void 0);};c.prototype.addEventListener=function(h,m,p){this.Ib.addListener(h,m,p);};c.prototype.removeEventListener=function(h,m){this.Ib.removeListener(h,m);};c.prototype.gH=function(){};c.prototype.load=function(){var h;h=this;this.loaded || (this.loaded=!0,this.j.load(function(m,p){try{h.ob(f.La.h5a,void 0,!0);m.X && (m.X.Fa.Cgb && h.ob(f.La.A9b,m.X.Fa.Cgb,!0),m.X.Fa.up && h.ob(f.La.T1b,{segmentMap:m.X.Fa.up},!0));p({ia:!0});}catch(q){p({Aa:l.S.kl,Nb:h.ae.we(q)});}}));};c.prototype.close=function(h){var m;m=this;this.iVa || (this.iVa=new Promise(function(p){h?m.j.fF(h,p):m.j.close(p);}));return this.iVa;};c.prototype.play=function(){this.j.Ch?this.j.fireEvent(f.ga.bbb):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(f.ga.Zfb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(f.ga.Yfb));};c.prototype.P8a=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{KM:!0});};c.prototype.seek=function(h,m,p,q){m=void 0 === m?f.mc.cx:m;this.j.cxb() && (this.Ml().aa && this.Ml().a4a(this.Ml().Sab(h))?this.Ml().D$():this.j.Ud?(this.Ml().aa && (h=this.Ml().Sab(h)),this.j.Ud.seek(h,m,p,q)):(this.Ml().aa && (h=this.Ml().Sna(h).zl),this.j.zl=h));};c.prototype.h9a=function(h){return this.jK?(this.log.trace("Playing a segment",h),this.jK.play(h)):Promise.resolve();};c.prototype.o$a=function(h){return this.jK?(this.log.trace("Queueing a segment",h),this.jK.sN(h)):Promise.resolve();};c.prototype.dj=function(h,m){return this.jK?(this.log.trace("Updating next segment weights",h,m),this.jK.dj(h,m)):Promise.resolve();};c.prototype.gU=function(){var h;h=this.j.sn.gU();return {bounds:h.nS,margins:h.ur,size:h.size,visibility:h.visibility};};c.prototype.YN=function(h){var m,p,q;m=h.bounds;p=h.margins;q=h.size;h=h.visibility;this.j.fY && (m && this.j.fY.cxa(m),p && this.j.fY.dxa(p),"boolean" === typeof h && this.j.fY.exa(h));this.j.sn && q && this.j.sn.h3b(q);};c.prototype.fxa=function(h){this.j.fm=h;};c.prototype.y1a=function(h){return this.j.xz && this.j.xz.QJb(h) || null;};c.prototype.i_a=function(){return this.ae.kC({playerver:this.config.version,jssid:this.config.eQb,groupName:this.config.TJb(),xid:this.j.na,pbi:this.j.index},this.config.yXb,{prefix:"pi_"});};c.prototype.N2a=function(h){this.j.pd(l.V.bEa,l.S.Ro,h);};c.prototype.d5a=function(h,m,p,q){if(!this.zb.KSa(h))throw Error("invalid url");this.T8a.push({url:h,name:m,kvb:p,options:q});this.a$a();};c.prototype.soa=function(){var h,m,p,q,u,t,w,v;h={};m=this.j.HX;try{if((this.j.kh && (h.errorCode=this.j.kh.u4,h.errorType=m?"endplay":"startplay"),h.playdelay=(0,n.Vf)(this.j.sS()),h.xid=this.j.na,this.j.X && this.zb.ip(this.j.X.Fa.kn) && (h.packageId=Number(this.j.X.Fa.kn)),h.auth=this.j.LIb(),m)){h.totaltime=this.j.Xk?this.Jl(this.j.Xk.Fp("content")):0;h.abrdel=this.j.Xk?this.j.Xk.ona():0;p=this.j.Ud;q=p?p.PF():null;this.zb.Zj(q) && (h.totdfr=q);q=p?p.NT():null;this.zb.Zj(q) && (h.totcfr=q);u=p?p.cKb():null;u && (h.rbfrs_decoder=u.b4,h.rbfrs_network=u.A8);h.rbfrs_delay=this.j.Xk?this.j.Xk.Ppa:0;h.init_vbr=this.j.N6;t=this.XF();this.zb.pF(t) && (h.pdltime=t);w=this.j.Yd.value;v=w && w.stream;v && (h.vbr=v.bitrate,h.vdlid=v.Vb);h.bufferedTime=this.j.t_a();}}catch(y){this.log.error("error capturing session summary",y);}return h;};c.prototype.bL=function(h){this.j.bb.$l && (this.j.bb.$l.userEngageAction=1);return this.zb.Zj(this.j.mediaTime.value)?(h=Object.assign(Object.assign({},this.Pt.create(this.j)),{action:h}),this.CS(g.Lo.bL).Un(this.log,this.j.X.oi,h).then(function(){return {success:!0};}).catch(function(m){return {success:!1,errorCode:m.code,errorSubCode:m.ec,errorExternalCode:m.Vc,errorData:m.data,errorDetails:m.details};})):Promise.resolve({success:!1});};c.prototype.sJb=function(h){return {register:h.register.bind(h),notifyUpdated:h.G7a.bind(h),getModel:h.FKb.bind(h),getGroups:h.RT.bind(h),addEventListener:h.addEventListener.bind(h),removeEventListener:h.removeEventListener.bind(h),getTime:h.getTime.bind(h)};};c.prototype.Gp=function(h){var m;m=h.Uua=h.Uua || ({trackId:h.trackId,bcp47:h.te,displayName:h.displayName,trackType:h.vh,rawTrackType:h.GC,channels:h.channels});this.eqa(h) && (m.isNative=h.isNative,m.surroundFormatLabel=h.TX);this.fqa(h) && (m.isNoneTrack=h.bo(),m.isForcedNarrative=h.bn(),m.isImageBased=h.gk);m.subType=h.YH;m.variant=h.variant;return m;};c.prototype.eqa=function(h){return "undefined" !== typeof h.isNative;};c.prototype.fqa=function(h){return "undefined" !== typeof h.bo && "undefined" !== typeof h.bn;};c.prototype.tT=function(h){var m;m=this;return h && this.j.ai.find(function(p){return m.Gp(p) === h;});};c.prototype.bU=function(h){var m,p;h=this.tT(h) || (null === (m=this.Uv) || void 0 === m?void 0:m.uc) || this.j.uc.value;return null !== (p=null === h || void 0 === h?void 0:h.Wg) && void 0 !== p?p:[];};c.prototype.TT=function(h,m){var p;p=h.length - 1;if("number" !== typeof m)return p;h=h.findIndex(function(q){return q.bc > m;});return -1 === h?p:h - 1;};c.prototype.X3a=function(h,m){return 0 <= h.Wg.indexOf(m);};c.prototype.UUb=function(h){return 0 <= h?1 >= h?h:1:0;};c.prototype.Jl=function(h){return this.zb.Zj(h)?(h / 1E3).toFixed(0):"";};c.prototype.ob=function(h,m,p){m=m || ({});m.target=this;this.Ib.Ec(h,m,!p);};c.prototype.zI=function(){var h;h=this;this.j.addEventListener(f.ga.fya,function(){h.ob(f.La.Qn);});this.j.eD.addListener(function(){h.ob(f.La.sza);});this.j.addEventListener(f.ga.hfb,function(){h.ob(f.La.gfb);});this.j.addEventListener(f.ga.AV,function(){h.ob(f.La.i3);});this.j.addEventListener(f.ga.Fj,function(){h.ob(f.La.i3);});this.j.addEventListener(f.ga.SL,function(m){h.ob(f.La.SL,{errorCode:m});});this.j.addEventListener(f.ga.Kia,function(){h.ob(f.La.vTa);});this.j.addEventListener(f.ga.Ch,function(m){h.ob(f.La.Z2,m);});this.j.addEventListener(f.ga.Geb,function(){h.ob(f.La.W2);h.ob(f.La.gu);});this.j.Ai.addListener(function(){h.ob(f.La.tua);});this.j.paused.addListener(function(){h.ob(f.La.Q8a);});this.j.muted.addListener(function(){h.ob(f.La.c7a);});this.j.volume.addListener(function(){h.ob(f.La.sgb);});this.j.wb.addListener(function(){h.nfb();});this.j.state.addListener(function(){h.nfb();});this.j.ija.addListener(function(m){h.tRb || h.j.state.value != f.Wb.ce || m.newValue || (h.tRb=!0,h.ob(f.La.loaded),setTimeout(function(){h.log.debug.bind(h.log,"summary ",h.soa());}));h.ob(f.La.lK);});this.j.uc.addListener(function(){h.ob(f.La.yl);h.ob(f.La.gu);setTimeout(function(){var m,p;m=h.j.uc.value;p=h.j.Mb.value;null === m || null === p || h.X3a(m,p) || (h.log.info("Changing timed text track to match audio track"),h.j.Mb.set(m.Wg[0]));},0);});this.j.Mb.addListener(function(m){m.oldValue && m.newValue && m.oldValue.trackId == m.newValue.trackId || h.ob(f.La.fl);});this.j.addEventListener(f.ga.gu,function(){h.ob(f.La.gu);});this.j.addEventListener(f.ga.oY,function(){h.ob(f.La.oY);});this.j.state.addListener(function(m){switch(m.newValue){case f.Wb.ce:h.ob(f.La.Cla);h.ob(f.La.sza);h.ob(f.La.W2);h.ob(f.La.gu);h.ob(f.La.g5a);h.a$a();h.D9b();break;case f.Wb.CLOSING:h.j.kh && h.ob(f.La.j3a,h.j.kh);break;case f.Wb.CLOSED:(h.ob(f.La.closed),h.Ib.zg());}});this.j.addEventListener(f.ga.bC,function(){h.ob(f.La.bC);h.ob(f.La.Qn);h.ob(f.La.i3);h.ob(f.La.Cla);});};c.prototype.D9b=function(){var h;h=this;this.j.sn.addEventListener("showsubtitle",function(m){h.ob(f.La.mxa,m,!0);});this.j.sn.addEventListener("removesubtitle",function(m){h.ob(f.La.uva,m,!0);});this.j.Wn().xl.addListener(function(){h.ob(f.La.Ctb);});};c.prototype.a$a=function(){if(this.j.state.value == f.Wb.ce){for(var h,m,p;m=this.T8a.shift();){h=this.j.sn.Mha(m.url,m.name,m.options);m.kvb && (p=h);}p && this.j.Mb.set(p);}};c.prototype.nfb=function(){var h;h=this.j.state.value == f.Wb.ce && this.j.wb.value == f.hb.oq;this.ended !== h && (this.ended=h,this.j.ME("Ended changed: " + h),(h || this.j.state.value === f.Wb.CLOSING) && this.ob(f.La.DYa));};c.prototype.XF=function(){var h,m;try{h=/playercore.*js/;m=d.Eu.getEntriesByType("resource").filter(function(p){return null !== h.exec(p.name);});if(m && 0 < m.length)return JSON.stringify(Math.round(m[0].duration));}catch(p){}};b.FGa=c;},52357:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M;function c(L){this.ac=L;}Object.defineProperty(b,"__esModule",{value:!0});b.TOa=void 0;r=a(5163);l=a(22674);f=a(71501);k=a(74870);d=a(42207);g=a(87386);n=a(15160);h=a(2911);m=a(41106);p=a(41893);q=a(32979);u=a(87607);t=a(95738);w=a(25050);v=a(61861);y=a(62665);x=a(81918);z=a(49745);A=a(37104);B=a(77764);C=a(4203);D=a(44376);F=a(47500);G=a(30869);E=a(78029);I=a(91825);M=a(11479);c.prototype.CK=function(L,K,O,H,J,N){return this.ac.get(C.Yb)().Saa?new w.VOa(this.ac.get(g.ab),this.ac.get(v.Gea),this.ac.get(y.Qw),this.ac.get(x.Lc),this.ac.get(z.JD),this.ac.get(n.Lca),this.ac.get(A.Kda),this.ac.get(B.nFa),this.ac.get(D.ALa),this.ac.get(F.pfa),this.ac.get(F.pfa),this.ac.get(G.ag),this.ac.get(I.QP),this.ac.get(E.Wca),this.ac.get(M.Oh),H,O):new p.FGa(this.ac.get(k.bh),this.ac.get(d.Qf),this.ac.get(g.ab),this.ac.get(n.Lca),this.ac.get(h.ifa),this.ac.get(q.qea),this.ac.get(u.Kca),this.ac.get(t.lKa),this.ac.get(m.sDa),L,K,O,H,J,N);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.CGa))],a);b.TOa=a;},35558:function(r,b,a){r.exports={Bnb:a(81198),R$b:a(52915)};},52915:function(r,b,a){function c(f){this.data=f;this.right=this.left=null;}function l(f){this.Ue=null;this.zs=f;this.size=0;}b=a(61161);c.prototype.Ng=function(f){return f?this.right:this.left;};c.prototype.hq=function(f,k){f?this.right=k:this.left=k;};l.prototype=new b();l.prototype.xt=function(f){if(null === this.Ue)(this.Ue=new c(f),this.size++);else for(var k=0,d=null,g=this.Ue;;){if(null === g){g=new c(f);d.hq(k,g);ret=!0;this.size++;break;}if(0 === this.zs(g.data,f))break;k=0 > this.zs(g.data,f);d=g;g=g.Ng(k);}};l.prototype.remove=function(f){var k,d,m;if(null === this.Ue)return !1;k=new c(void 0);d=k;d.right=this.Ue;for(var g=null,n=null,h=1;null !== d.Ng(h);){g=d;d=d.Ng(h);m=this.zs(f,d.data);h=0 < m;0 === m && (n=d);}return null !== n?(n.data=d.data,g.hq(g.right === d,d.Ng(null === d.left)),this.Ue=k.right,this.size--,!0):!1;};r.exports=l;},81198:function(r,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function l(g){this.Ue=null;this.zs=g;this.size=0;}function f(g){return null !== g && g.red;}function k(g,n){var h;h=g.Ng(!n);g.hq(!n,h.Ng(n));h.hq(n,g);g.red=!0;h.red=!1;return h;}function d(g,n){g.hq(!n,k(g.Ng(!n),!n));return k(g,n);}b=a(61161);c.prototype.Ng=function(g){return g?this.right:this.left;};c.prototype.hq=function(g,n){g?this.right=n:this.left=n;};l.prototype=new b();l.prototype.xt=function(g){var n,h,m,p,q,u,t,w;if(null === this.Ue)(this.Ue=new c(g),this.size++);else {n=new c(void 0);h=0;m=0;p=null;q=n;u=null;t=this.Ue;for(q.right=this.Ue;;){null === t?(t=new c(g),u.hq(h,t),this.size++):f(t.left) && f(t.right) && (t.red=!0,t.left.red=!1,t.right.red=!1);if(f(t) && f(u)){w=q.right === p;t === u.Ng(m)?q.hq(w,k(p,!m)):q.hq(w,d(p,!m));}w=this.zs(t.data,g);if(0 === w)break;m=h;h=0 > w;null !== p && (q=p);p=u;u=t;t=t.Ng(h);}this.Ue=n.right;}this.Ue.red=!1;};l.prototype.remove=function(g){var n,h,t,w,v;if(null === this.Ue)return !1;n=new c(void 0);h=n;h.right=this.Ue;for(var m=null,p,q=null,u=1;null !== h.Ng(u);){t=u;p=m;m=h;h=h.Ng(u);w=this.zs(g,h.data);u=0 < w;0 === w && (q=h);if(!f(h) && !f(h.Ng(u)))if(f(h.Ng(!u)))(p=k(h,u),m.hq(t,p),m=p);else if(!f(h.Ng(!u)) && (w=m.Ng(!t),null !== w))if(f(w.Ng(!t)) || f(w.Ng(t))){v=p.right === m;f(w.Ng(t))?p.hq(v,d(m,t)):f(w.Ng(!t)) && p.hq(v,k(m,t));t=p.Ng(v);t.red=!0;h.red=!0;t.left.red=!1;t.right.red=!1;}else (m.red=!1,w.red=!0,h.red=!0);}null !== q && (q.data=h.data,m.hq(m.right === h,h.Ng(null === h.left)),this.size--);this.Ue=n.right;null !== this.Ue && (this.Ue.red=!1);return null !== q;};r.exports=l;},61161:function(r){function b(){}function a(c){this.GRa=c;this.Uo=[];this.eg=null;}b.prototype.clear=function(){this.Ue=null;this.size=0;};b.prototype.find=function(c){var f;for(var l=this.Ue;null !== l;){f=this.zs(c,l.data);if(0 === f)return l.data;l=l.Ng(0 < f);}return null;};b.prototype.lowerBound=function(c){var d;for(var l=this.Ue,f=this.iterator(),k=this.zs;null !== l;){d=k(c,l.data);if(0 === d)return (f.eg=l,f);f.Uo.push(l);l=l.Ng(0 < d);}for(d=f.Uo.length - 1;0 <= d;--d){if((l=f.Uo[d],0 > k(c,l.data)))return (f.eg=l,f.Uo.length=d,f);}f.Uo.length=0;return f;};b.prototype.upperBound=function(c){for(var l=this.lowerBound(c),f=this.zs;null !== l.data() && 0 === f(l.data(),c);){l.next();}return l;};b.prototype.min=function(){var c;c=this.Ue;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Ue;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.yp=function(c){for(var l=this.iterator(),f;null !== (f=l.next());){c(f);}};a.prototype.data=function(){return null !== this.eg?this.eg.data:null;};a.prototype.next=function(){var c;if(null === this.eg){c=this.GRa.Ue;null !== c && this.EQa(c);}else if(null === this.eg.right){do {if((c=this.eg,this.Uo.length))this.eg=this.Uo.pop();else {this.eg=null;break;}}while(this.eg.right === c);}else (this.Uo.push(this.eg),this.EQa(this.eg.right));return null !== this.eg?this.eg.data:null;};a.prototype.lH=function(){var c;if(null === this.eg){c=this.GRa.Ue;null !== c && this.zQa(c);}else if(null === this.eg.left){do {if((c=this.eg,this.Uo.length))this.eg=this.Uo.pop();else {this.eg=null;break;}}while(this.eg.left === c);}else (this.Uo.push(this.eg),this.zQa(this.eg.left));return null !== this.eg?this.eg.data:null;};a.prototype.EQa=function(c){for(;null !== c.left;){this.Uo.push(c);c=c.left;}this.eg=c;};a.prototype.zQa=function(c){for(;null !== c.right;){this.Uo.push(c);c=c.right;}this.eg=c;};r.exports=b;},62680:function(r,b,a){var c,l,f;c=a(67286);l=a(89429);f=l(c("String.prototype.indexOf"));r.exports=function(k,d){d=c(k,!!d);return "function" === typeof d && -1 < f(k,".prototype.")?l(d):d;};},89429:function(r,b,a){var l,f,k,d,g,n,h;function c(){return d(l,f,arguments);}l=a(4090);b=a(67286);f=b("%Function.prototype.apply%");k=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || l.call(k,f);g=b("%Object.getOwnPropertyDescriptor%",!0);n=b("%Object.defineProperty%",!0);h=b("%Math.max%");if(n)try{n({},"a",{value:1});}catch(m){n=null;}r.exports=function(m){var p;p=d(l,k,arguments);g && n && g(p,"length").configurable && n(p,"length",{value:1 + h(0,m.length - (arguments.length - 1))});return p;};n?n(r.exports,"apply",{value:c}):r.exports.apply=c;},14926:function(r,b,a){var c,l,f,k,d,g;c=a(33464);l="function" === typeof Symbol && "symbol" === typeof Symbol("foo");f=Object.prototype.toString;k=Array.prototype.concat;d=Object.defineProperty;b=a(81181)();g=d && b;r.exports=function(n,h){var m,p,u,t,w,v;m=2 < arguments.length?arguments[2]:{};p=c(h);l && (p=k.call(p,Object.getOwnPropertySymbols(h)));for(var q=0;q < p.length;q+=1){u=n;t=p[q];w=h[p[q]];v=m[p[q]];if(!((t in u)) || "function" === typeof v && "[object Function]" === f.call(v) && v())g?d(u,t,{configurable:!0,enumerable:!1,value:w,writable:!0}):u[t]=w;}};},5885:function(r,b,a){var c,l,f,k,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;l=a(53919);f=a(9680);k=a(54277);d=a(88705);r.exports=function(g){var n,h,m;if(l(g))return g;n="default";1 < arguments.length && (arguments[1] === String?n="string":arguments[1] === Number && (n="number"));if(c)if(Symbol.toPrimitive){h=Symbol.toPrimitive;m=g[h];if(null !== m && "undefined" !== typeof m){if(!f(m))throw new TypeError(m + " returned for property " + h + " of object " + g + " is not a function");h=m;}else h=void 0;}else d(g) && (h=Symbol.prototype.valueOf);if("undefined" !== typeof h){n=h.call(g,n);if(l(n))return n;throw new TypeError("unable to convert exotic object to primitive");}"default" === n && (k(g) || d(g)) && (n="string");a:{n="default" === n?"number":n;if("undefined" === typeof g || null === g)throw new TypeError("Cannot call method on " + g);if("string" !== typeof n || "number" !== n && "string" !== n)throw new TypeError('hint must be "string" or "number"');n="string" === n?["toString","valueOf"]:["valueOf","toString"];for(h=0;h < n.length;++h){if((m=g[n[h]],f(m) && (m=m.call(g),l(m))))break a;}throw new TypeError("No default value");}return m;};},53919:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},22699:function(r){function b(){this.ib=this.ib || ({});this.Gs=this.Gs || void 0;}function a(l){return "function" === typeof l;}function c(l){return "object" === typeof l && null !== l;}r.exports=b;b.EventEmitter=b;b.prototype.ib=void 0;b.prototype.Gs=void 0;b.fla=10;b.prototype.setMaxListeners=function(l){if("number" !== typeof l || 0 > l || isNaN(l))throw TypeError("n must be a positive number");this.Gs=l;return this;};b.prototype.emit=function(l){var f,k,d,g;this.ib || (this.ib={});if("error" === l && (!this.ib.error || c(this.ib.error) && !this.ib.error.length)){k=arguments[1];if(k instanceof Error)throw k;d=Error('Uncaught, unspecified "error" event. (' + k + ")");d.context=k;throw d;}d=this.ib[l];if(void 0 === d)return !1;if(a(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:(k=Array.prototype.slice.call(arguments,1),d.apply(this,k));}else if(c(d)){k=Array.prototype.slice.call(arguments,1);g=d.slice();d=g.length;for(f=0;f < d;f++){g[f].apply(this,k);}}return !0;};b.prototype.addListener=function(l,f){if(!a(f))throw TypeError("listener must be a function");this.ib || (this.ib={});this.ib.iUb && this.emit("newListener",l,a(f.listener)?f.listener:f);this.ib[l]?c(this.ib[l])?this.ib[l].push(f):this.ib[l]=[this.ib[l],f]:this.ib[l]=f;c(this.ib[l]) && !this.ib[l].yza && (f=void 0 === this.Gs?b.fla:this.Gs) && 0 < f && this.ib[l].length > f && (this.ib[l].yza=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.ib[l].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(l,f){var d;function k(){this.removeListener(l,k);d || (d=!0,f.apply(this,arguments));}if(!a(f))throw TypeError("listener must be a function");d=!1;k.listener=f;this.on(l,k);return this;};b.prototype.removeListener=function(l,f){var k,d,g;if(!a(f))throw TypeError("listener must be a function");if(!this.ib || !this.ib[l])return this;k=this.ib[l];d=k.length;g=-1;if(k === f || a(k.listener) && k.listener === f)(delete this.ib[l],this.ib.removeListener && this.emit("removeListener",l,f));else if(c(k)){for(;0 < d--;){if(k[d] === f || k[d].listener && k[d].listener === f){g=d;break;}}if(0 > g)return this;1 === k.length?(k.length=0,delete this.ib[l]):k.splice(g,1);this.ib.removeListener && this.emit("removeListener",l,f);}return this;};b.prototype.removeAllListeners=function(l){var f;if(!this.ib)return this;if(!this.ib.removeListener)return (0 === arguments.length?this.ib={}:this.ib[l] && delete this.ib[l],this);if(0 === arguments.length){for(f in this.ib){"removeListener" !== f && this.removeAllListeners(f);}this.removeAllListeners("removeListener");this.ib={};return this;}f=this.ib[l];if(a(f))this.removeListener(l,f);else if(f)for(;f.length;){this.removeListener(l,f[f.length - 1]);}delete this.ib[l];return this;};b.prototype.listeners=function(l){return this.ib && this.ib[l]?a(this.ib[l])?[this.ib[l]]:this.ib[l].slice():[];};b.prototype.listenerCount=function(l){if(this.ib){l=this.ib[l];if(a(l))return 1;if(l)return l.length;}return 0;};b.listenerCount=function(l,f){return l.listenerCount(f);};},37795:function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var l;l=this;if("function" !== typeof l || "[object Function]" !== a.call(l))throw new TypeError("Function.prototype.bind called on incompatible " + l);for(var f=b.call(arguments,1),k,d=Math.max(0,l.length - f.length),g=[],n=0;n < d;n++){g.push("$" + n);}k=Function("binder","return function (" + g.join(",") + "){ return binder.apply(this,arguments); }")(function(){var h;if(this instanceof k){h=l.apply(this,f.concat(b.call(arguments)));return Object(h) === h?h:this;}return l.apply(c,f.concat(b.call(arguments)));});l.prototype && (d=function(){},d.prototype=l.prototype,k.prototype=new d(),d.prototype=null);return k;};},4090:function(r,b,a){b=a(37795);r.exports=Function.prototype.bind || b;},67286:function(r,b,a){var k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D;function c(F){var G,E,I;G=A(F,0,1);E=A(F,-1);if("%" === G && "%" !== E)throw new k("invalid intrinsic syntax, expected closing `%`");if("%" === E && "%" !== G)throw new k("invalid intrinsic syntax, expected opening `%`");I=[];z(F,C,function(M,L,K,O){I[I.length]=K?z(O,D,"$1"):L || M;});return I;}function l(){throw new g();}function f(F){try{return d('"use strict"; return (' + F + ").constructor;")();}catch(G){}}k=SyntaxError;d=Function;g=TypeError;n=Object.getOwnPropertyDescriptor;if(n)try{n({},"");}catch(F){n=null;}b=n?(function(){try{return (arguments.callee,l);}catch(F){try{return n(arguments,"callee").get;}catch(G){return l;}}})():l;h=a(32636)();m=Object.getPrototypeOf || (function(F){return F.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:m(Uint8Array);u={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":h?m([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?m(m([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && h?m(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && h?m(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?m(("")[Symbol.iterator]()):void 0,"%Symbol%":h?Symbol:void 0,"%SyntaxError%":k,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":g,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};try{(null).error;}catch(F){b=m(m(F));u["%Error.prototype%"]=b;}t=function E(G){var I,M;if("%AsyncFunction%" === G)I=f("async function () {}");else if("%GeneratorFunction%" === G)I=f("function* () {}");else if("%AsyncGeneratorFunction%" === G)I=f("async function* () {}");else if("%AsyncGenerator%" === G){M=E("%AsyncGeneratorFunction%");M && (I=M.prototype);}else "%AsyncIteratorPrototype%" === G && (M=E("%AsyncGenerator%")) && (I=m(M.prototype));return u[G]=I;};w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(4090);v=a(23198);y=b.call(Function.call,Array.prototype.concat);x=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=b.call(Function.call,RegExp.prototype.exec);C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;D=/\\(\\)?/g;r.exports=function(G,E){var I,M,L,K,O,H,J,N,R;if("string" !== typeof G || 0 === G.length)throw new g("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof E)throw new g('"allowMissing" argument must be a boolean');if(null === B(/^%?[^%]*%?$/,G))throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");I=c(G);M=0 < I.length?I[0]:"";L="%" + M + "%";K=L;if(v(w,K)){O=w[K];K="%" + O[0] + "%";}if(v(u,K)){H=u[K];H === p && (H=t(K));if("undefined" === typeof H && !E)throw new g("intrinsic " + L + " exists, but is not available. Please file an issue!");}else throw new k("intrinsic " + L + " does not exist!");L=H;K=!1;O && (M=O[0],x(I,y([0,1],O)));O=1;for(H=!0;O < I.length;O+=1){J=I[O];N=A(J,0,1);R=A(J,-1);if(('"' === N || "'" === N || "`" === N || '"' === R || "'" === R || "`" === R) && N !== R)throw new k("property names with quotes must have matching quotes");"constructor" !== J && H || (K=!0);M+="." + J;N="%" + M + "%";if(v(u,N))L=u[N];else if(null != L){if(!((J in L))){if(!E)throw new g("base intrinsic for " + G + " exists, but the property is not available.");return;}n && O + 1 >= I.length?(R=n(L,J),L=(H=!!R) && ("get" in R) && !(("originalValue" in R.get))?R.get:L[J]):(H=v(L,J),L=L[J]);H && !K && (u[N]=L);}}return L;};},81181:function(r,b,a){var l;function c(){if(l)try{return (l({},"a",{value:1}),!0);}catch(f){}return !1;}l=a(67286)("%Object.defineProperty%",!0);c.VMb=function(){if(!c())return null;try{return 1 !== l([],"length",{value:1}).length;}catch(f){return !0;}};r.exports=c;},32636:function(r,b,a){var c,l;c="undefined" !== typeof Symbol && Symbol;l=a(66679);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:l();};},66679:function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},67226:function(r,b,a){var c;c=a(66679);r.exports=function(){return c() && !!Symbol.toStringTag;};},23198:function(r,b,a){b=a(4090);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},28041:function(r,b,a){var f,k;function c(d,g,n,h,m){var p,q,t;p={};q="number" === typeof m;m=void 0 !== m && q?m.toString():n;if(q && void 0 !== n)throw Error(f.Tkb);Reflect.Woa(d,g) && (p=Reflect.getMetadata(d,g));n=p[m];if(Array.isArray(n)){q=0;for(var u=n;q < u.length;q++){t=u[q];if(t.key === h.key)throw Error(f.vjb + " " + t.key.toString());}}else n=[];n.push(h);p[m]=n;Reflect.i4(d,p,g);}function l(d,g){return function(n,h){g(n,h,d);};}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);k=a(37425);b.$H=function(d,g,n,h){c(k.UNa,d,g,h,n);};b.ZX=function(d,g,n){c(k.VNa,d.constructor,g,n);};b.dB=function(d,g,n){"number" === typeof n?(d=[l(n,d)],Reflect.dB(d,g)):"string" === typeof n?Reflect.dB([d],g,n):Reflect.dB([d],g);};},29385:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);f=a(67258);k=a(28041);r=(function(){function d(g){this.Sob=g;}d.prototype.A7b=function(){return this.Sob();};return d;})();b.qda=r;b.l=function(d){return function(g,n,h){var m;if(void 0 === d)throw Error(c.sob(g.name));m=new f.Metadata(l.GP,d);"number" === typeof h?k.$H(g,n,h,m):k.ZX(g,n,m);};};},16504:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);b.U=function(){return function(f){var k;if(Reflect.Woa(l.cea,f))throw Error(c.ujb);k=Reflect.getMetadata(l.Sib,f) || [];Reflect.i4(l.cea,k,f);return f;};};},3342:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.OG=function(k){return function(d,g,n){var h;h=new l.Metadata(c.HD,k);"number" === typeof n?f.$H(d,g,n,h):f.ZX(d,g,h);};};},44466:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.e7a=function(k){return function(d,g,n){var h;h=new l.Metadata(c.Xz,k);"number" === typeof n?f.$H(d,g,n,h):f.ZX(d,g,h);};};},5923:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.optional=function(){return function(k,d,g){var n;n=new l.Metadata(c.rJa,!0);"number" === typeof g?f.$H(k,d,g,n):f.ZX(k,d,n);};};},76311:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);f=a(67258);b.A9a=function(){return function(k,d){d=new f.Metadata(l.hQ,d);if(Reflect.Woa(l.hQ,k.constructor))throw Error(c.Llb);Reflect.i4(l.hQ,d,k.constructor);};};},91823:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(67258);l=a(28041);b.Sdb=function(f,k){return function(d,g,n){var h;h=new c.Metadata(f,k);"number" === typeof n?l.$H(d,g,n,h):l.ZX(d,g,h);};};},67509:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.$X=function(k){return function(d,g,n){var h;h=new l.Metadata(c.e0,k);f.$H(d,g,n,h);};};},53022:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.tn=function(){return function(k,d,g){var n;n=new l.Metadata(c.xQ,!0);f.$H(k,d,g,n);};};},70078:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);l=a(72632);r=(function(){function f(k,d){this.id=l.id();this.Gha=!1;this.Yf=k;this.scope=d;this.type=c.ej.glb;this.kF=function(){return !0;};this.RK=this.Qv=this.az=this.kL=this.cache=this.Pl=null;}f.prototype.clone=function(){var k;k=new f(this.Yf,this.scope);k.Gha=!1;k.Pl=this.Pl;k.RK=this.RK;k.scope=this.scope;k.type=this.type;k.kL=this.kL;k.az=this.az;k.kF=this.kF;k.Qv=this.Qv;k.cache=this.cache;return k;};return f;})();b.Whb=r;},57197:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yba={Obc:2,hJa:0,lmb:1};},25640:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ujb="Cannot apply @injectable decorator multiple times.";b.vjb="Metadata key was used more than once in a parameter:";b.cQ="NULL argument";b.KGa="Key Not Found";b.Ygb="Ambiguous match found for serviceIdentifier:";b.nib="Could not unbind serviceIdentifier:";b.Xlb="No matching bindings found for serviceIdentifier:";b.ylb="Missing required @injectable annotation in:";b.zlb="Missing required @inject or @multiInject annotation in:";b.sob=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.qib="Circular dependency found:";b.fcc="Sorry, this feature is not fully implemented yet.";b.Skb="Invalid binding type:";b.Zlb="No snapshot available to restore.";b.Wkb="Invalid return type in middleware. Middleware must return!";b.Vkb="Value provided to function binding must be a function!";b.Xkb="The toSelf function can only be applied when a constructor is used as service identifier";b.Tkb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.$gb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Eib="Invalid Container constructor argument. Container options must be an object.";b.Cib="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Bib="Invalid Container option. Auto bind injectable must be a boolean";b.Dib="Invalid Container option. Skip base check must be a boolean";b.Llb="Cannot apply @postConstruct decorator multiple times in the same class";b.gnb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.rib=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Vnb="Maximum call stack size exceeded";},5493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zr={Request:"Request",kfa:"Singleton",Y0:"Transient"};b.ej={ECa:"ConstantValue",FCa:"Constructor",MDa:"DynamicValue",Nca:"Factory",Function:"Function",Instance:"Instance",glb:"Invalid",mMa:"Provider"};b.fx={uCa:"ClassProperty",GCa:"ConstructorArgument",Cfa:"Variable"};},37425:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xz="named";b.e0="name";b.xQ="unmanaged";b.rJa="optional";b.GP="inject";b.HD="multi_inject";b.UNa="inversify:tagged";b.VNa="inversify:tagged_props";b.cea="inversify:paramtypes";b.Sib="design:paramtypes";b.hQ="post_construct";},99700:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u;c=this && this.__awaiter || (function(t,w,v,y){return new (v || (v=Promise))(function(x,z){function A(D){try{C(y.next(D));}catch(F){z(F);}}function B(D){try{C(y["throw"](D));}catch(F){z(F);}}function C(D){D.done?x(D.value):new v(function(F){F(D.value);}).then(A,B);}C((y=y.apply(t,w || [])).next());});});l=this && this.__generator || (function(t,w){var x,z,A,B,C;function v(D){return function(F){return y([D,F]);};}function y(D){if(z)throw new TypeError("Generator is already executing.");for(;x;){try{if((z=1,A && (B=A[D[0] & 2?"return":D[0]?"throw":"next"]) && !(B=B.call(A,D[1])).done))return B;if((A=0,B))D=[0,B.value];switch(D[0]){case 0:case 1:B=D;break;case 4:return (x.label++,{value:D[1],done:!1});case 5:x.label++;A=D[1];D=[0];continue;case 7:D=x.VG.pop();x.Rj.pop();continue;default:if(!(B=x.Rj,B=0 < B.length && B[B.length - 1]) && (6 === D[0] || 2 === D[0])){x=0;continue;}if(3 === D[0] && (!B || D[1] > B[0] && D[1] < B[3]))x.label=D[1];else if(6 === D[0] && x.label < B[1])(x.label=B[1],B=D);else if(B && x.label < B[2])(x.label=B[2],x.VG.push(D));else {B[2] && x.VG.pop();x.Rj.pop();continue;}}D=w.call(t,x);}catch(F){D=[6,F];A=0;}finally{z=B=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}x={label:0,Ua:function(){if(B[0] & 1)throw B[1];return B[1];},Rj:[],VG:[]};return (C={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (C[Symbol.iterator]=function(){return this;}),C);});Object.defineProperty(b,"__esModule",{value:!0});f=a(70078);k=a(25640);d=a(5493);a(37425);g=a(11499);n=a(75262);h=a(85933);m=a(49825);p=a(72632);q=a(48530);a(95817);u=a(62240);r=(function(){function t(w){w=w || ({});if("object" !== typeof w)throw Error("" + k.Eib);if(void 0 === w.oF)w.oF=d.Zr.Y0;else if(w.oF !== d.Zr.kfa && w.oF !== d.Zr.Y0 && w.oF !== d.Zr.Request)throw Error("" + k.Cib);if(void 0 === w.jS)w.jS=!1;else if("boolean" !== typeof w.jS)throw Error("" + k.Bib);if(void 0 === w.PH)w.PH=!1;else if("boolean" !== typeof w.PH)throw Error("" + k.Dib);this.options={jS:w.jS,oF:w.oF,PH:w.PH};this.id=p.id();this.cE=new u.plb();this.Krb=[];this.parent=this.Wga=null;this.sqb=new g.Pda();}t.Np=function(w,v){var x,z;function y(A,B){A.T6b(function(C,D){D.forEach(function(F){B.add(F.Yf,F.clone());});});}x=new t();z=n.qna(x);w=n.qna(w);v=n.qna(v);y(w,z);y(v,z);return x;};t.prototype.load=function(){var x,z;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}v=this.VPa();for(var y=0;y < w.length;y++){x=w[y];z=v(x.id);x.qva(z.ITa,z.Yeb,z.c4a,z.I$a);}};t.prototype.fV=function(){for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}c(this,void 0,void 0,function(){var y,x,z,A,B;return l(this,function(C){switch(C.label){case 0:(y=this.VPa(),x=0,z=w,C.label=1);case 1:if(!(x < z.length))return [3,4];A=z[x];B=y(A.id);return [4,A.qva(B.ITa,B.Yeb,B.c4a,B.I$a)];case 2:(C.Ua(),C.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};t.prototype.cfb=function(){function w(z){return function(A){return A.S6a === z;};}for(var v=this,y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}y.forEach(function(z){z=w(z.id);v.cE.$_b(z);});};t.prototype.bind=function(w){var v;v=new f.Whb(w,this.options.oF || d.Zr.Y0);this.cE.add(w,v);return new m.Yhb(v);};t.prototype.d_b=function(w){this.Xeb(w);return this.bind(w);};t.prototype.Xeb=function(w){try{this.cE.remove(w);}catch(v){throw Error(k.nib + " " + q.IL(w));}};t.prototype.u3a=function(w){var v;v=this.cE.Q1a(w);!v && this.parent && (v=this.parent.u3a(w));return v;};t.prototype.restore=function(){var w;w=this.Krb.pop();if(void 0 === w)throw Error(k.Zlb);this.cE=w.mS;this.Wga=w.pTb;};t.prototype.TAb=function(){var w;w=new t(this.options);w.parent=this;return w;};t.prototype.get=function(w){return this.UPa(!1,!1,d.fx.Cfa,w);};t.prototype.getAll=function(w){return this.UPa(!0,!0,d.fx.Cfa,w);};t.prototype.resolve=function(w){var v;v=this.TAb();v.bind(w).veb();return v.get(w);};t.prototype.VPa=function(){var z;function w(A){return function(B){B=z.d_b.bind(z)(B);B.zc.S6a=A;return B;};}function v(){return function(A){return z.u3a.bind(z)(A);};}function y(){return function(A){z.Xeb.bind(z)(A);};}function x(A){return function(B){B=z.bind.bind(z)(B);B.zc.S6a=A;return B;};}z=this;return function(A){return {ITa:x(A),c4a:v(A),I$a:w(A),Yeb:y(A)};};};t.prototype.UPa=function(w,v,y,x){var z;z=null;w={nvb:w,$yb:function(A){return A;},uPb:v,key:void 0,Yf:x,S5b:y,value:void 0};if(this.Wga){if((z=this.Wga(w),void 0 === z || null === z))throw Error(k.Wkb);}else z=this.frb()(w);return z;};t.prototype.frb=function(){var w;w=this;return function(v){var y;y=n.fN(w.sqb,w,v.uPb,v.S5b,v.Yf,v.key,v.value,v.nvb);y=v.$yb(y);return h.resolve(y);};};return t;})();b.vZ=r;},51164:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);b.dd=(function(){return function(l){this.id=c.id();this.qva=l;};})();b.aBa=(function(){return function(l){this.id=c.id();this.qva=l;};})();},95817:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eac=(function(){function a(){}a.of=function(c,l){var f;f=new a();f.mS=c;f.pTb=l;return f;};return a;})();},62240:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);r=(function(){function l(){this.rf=new Map();}l.prototype.add=function(f,k){var d;if(null === f || void 0 === f)throw Error(c.cQ);if(null === k || void 0 === k)throw Error(c.cQ);d=this.rf.get(f);void 0 !== d?(d.push(k),this.rf.set(f,d)):this.rf.set(f,[k]);};l.prototype.get=function(f){if(null === f || void 0 === f)throw Error(c.cQ);f=this.rf.get(f);if(void 0 !== f)return f;throw Error(c.KGa);};l.prototype.remove=function(f){if(null === f || void 0 === f)throw Error(c.cQ);if(!this.rf.delete(f))throw Error(c.KGa);};l.prototype.$_b=function(f){var k;k=this;this.rf.forEach(function(d,g){d=d.filter(function(n){return !f(n);});0 < d.length?k.rf.set(g,d):k.rf.delete(g);});};l.prototype.Q1a=function(f){if(null === f || void 0 === f)throw Error(c.cQ);return this.rf.has(f);};l.prototype.clone=function(){var f;f=new l();this.rf.forEach(function(k,d){k.forEach(function(g){return f.add(d,g.clone());});});return f;};l.prototype.T6b=function(f){this.rf.forEach(function(k,d){f(d,k);});};return l;})();b.plb=r;},22674:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);b.Dbc=r;r=a(99700);b.vZ=r.vZ;r=a(5493);b.Zr=r.Zr;b.ej=r.ej;b.fx=r.fx;r=a(51164);b.aBa=r.aBa;b.dd=r.dd;r=a(16504);b.U=r.U;r=a(91823);b.Sdb=r.Sdb;r=a(44466);b.e7a=r.e7a;r=a(29385);b.l=r.l;b.qda=r.qda;r=a(5923);b.optional=r.optional;r=a(53022);b.tn=r.tn;r=a(3342);b.OG=r.OG;r=a(67509);b.$X=r.$X;r=a(76311);b.A9a=r.A9a;r=a(11499);b.Pda=r.Pda;r=a(72632);b.id=r.id;r=a(28041);b.dB=r.dB;r=a(41146);b.Oeb=r.Oeb;b.Tdb=r.Tdb;b.f7a=r.f7a;b.Web=r.Web;r=a(48530);b.IL=r.IL;a=a(14577);b.b7a=a.b7a;},91734:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function l(f){this.id=c.id();this.lb=f;}l.prototype.ctb=function(f){this.fN=f;};return l;})();b.JCa=r;},67258:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function l(f,k){this.key=f;this.value=k;}l.prototype.toString=function(){return this.key === c.Xz?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return l;})();b.Metadata=r;},11499:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function l(){}l.prototype.G_a=function(f){var k;k=Reflect.getMetadata(c.cea,f);f=Reflect.getMetadata(c.UNa,f);return {xVa:k,I8b:f || ({})};};l.prototype.mLb=function(f){return Reflect.getMetadata(c.VNa,f) || [];};return l;})();b.Pda=r;},4595:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.onb=(function(){return function(a,c){this.YM=a;this.$va=c;};})();},75262:function(r,b,a){var d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C){var D,F;D=k(A.lb,C.Yf);F=[];D.length === d.Yba.hJa && A.lb.options.jS && "function" === typeof C.Yf && x.G_a(C.Yf).xVa && (A.lb.bind(C.Yf).veb(),D=k(A.lb,C.Yf));F=z?D:D.filter(function(G){var E;E=new v.Request(G.Yf,A,B,G,C);return G.kF(E);});l(C.Yf,F,C,A.lb);return F;}function l(x,z,A,B){switch(z.length){case d.Yba.hJa:if(A.K3a())return z;x=p.IL(x);z=g.Xlb;z+=p.EQb(x,A);z+=p.X4a(B,x,k);throw Error(z);case d.Yba.lmb:if(!A.isArray())return z;default:if(A.isArray())return z;x=p.IL(x);z=g.Ygb + " " + x;z+=p.X4a(B,x,k);throw Error(z);}}function f(x,z,A,B,C,D){var F;if(null === C){z=c(x,z,B,null,D);F=new v.Request(A,B,null,z,D);A=new t.onb(B,F);B.ctb(A);}else (z=c(x,z,B,C,D),F=C.bSa(D.Yf,z,D));z.forEach(function(G){var E,I,M;E=null;if(D.isArray())E=F.bSa(G.Yf,G,D);else {if(G.cache)return;E=F;}if(G.type === n.ej.Instance && null !== G.Pl){I=w.pJb(x,G.Pl);if(!B.lb.options.PH){M=w.OIb(x,G.Pl);if(I.length < M)throw (G=g.$gb(w.getFunctionName(G.Pl)),Error(G));}I.forEach(function(L){f(x,!1,L.Yf,B,E,L);});}});}function k(x,z){var A,B;A=[];B=x.cE;B.Q1a(z)?A=B.get(z):null !== x.parent && (A=k(x.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(57197);g=a(25640);n=a(5493);h=a(37425);m=a(69523);p=a(48530);q=a(91734);u=a(67258);t=a(4595);w=a(34912);v=a(22929);y=a(23927);b.qna=function(x){return x.cE;};b.fN=function(x,z,A,B,C,D,F,G){void 0 === G && (G=!1);z=new q.JCa(z);A=new u.Metadata(A?h.HD:h.GP,C);B=new y.V0(B,"",C,A);void 0 !== D && (D=new u.Metadata(D,F),B.Vd.push(D));try{return (f(x,G,C,z,null,B),z);}catch(E){throw (m.V3a(E) && z.fN && p.Txb(z.fN.$va),E);}};b.jfc=function(x,z,A,B){A=new y.V0(n.fx.Cfa,"",z,new u.Metadata(A,B));x=new q.JCa(x);return new v.Request(z,x,null,[],A);};},11625:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.iO=c;}a.prototype.startsWith=function(c){return 0 === this.iO.indexOf(c);};a.prototype.endsWith=function(c){var l;l=c.split("").reverse().join("");c=this.iO.split("").reverse().join("");return this.startsWith.call({iO:c},l);};a.prototype.contains=function(c){return -1 !== this.iO.indexOf(c);};a.prototype.equals=function(c){return this.iO === c;};a.prototype.value=function(){return this.iO;};return a;})();b.znb=r;},34912:function(r,b,a){var d,g,n,h,m,p;function c(q,u,t,w){var v,y,x,z,B,C,D,F,G,E,I,M;v=q.G_a(t);y=v.xVa;if(void 0 === y)throw Error(g.ylb + " " + u + ".");v=v.I8b;x=Object.keys(v);z=0 === t.length && 0 < x.length?x.length:t.length;x=[];for(var A=0;A < z;A++){B=A;C=w;D=u;F=y;G=v[B.toString()] || [];E=k(G);I=!0 !== E.tn;F=F[B];M=E.l || E.OG;F=M?M:F;F instanceof d.qda && (F=F.A7b());if(I){I=F === Function;I=F === Object || I || void 0 === F;if(!C && I)throw Error(g.zlb + " argument " + B + " in class " + D + ".");B=new p.V0(n.fx.GCa,E.$X,F);B.Vd=G;G=B;}else G=null;null !== G && x.push(G);}q=l(q,t);return x.concat(q);}function l(q,u){var x,z,A;for(var t=q.mLb(u),w=[],v=0,y=Object.keys(t);v < y.length;v++){x=y[v];z=t[x];A=k(t[x]);x=new p.V0(n.fx.uCa,A.$X || x,A.l || A.OG);x.Vd=z;w.push(x);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (q=l(q,u),w=w.concat(q));return w;}function f(q,u){var t,w;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){t=m.getFunctionName(u);t=c(q,t,u,!0);w=t.map(function(v){return v.Vd.filter(function(y){return y.key === h.xQ;});});w=[].concat.apply([],w).length;t=t.length - w;return 0 < t?t:f(q,u);}return 0;}function k(q){var u;u={};q.forEach(function(t){u[t.key.toString()]=t.value;});return {l:u[h.GP],OG:u[h.HD],$X:u[h.e0],tn:u[h.xQ]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(29385);g=a(25640);n=a(5493);h=a(37425);m=a(48530);b.getFunctionName=m.getFunctionName;p=a(23927);b.pJb=function(q,u){var t;t=m.getFunctionName(u);return c(q,t,u,!1);};b.OIb=f;},22929:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function l(f,k,d,g,n){this.id=c.id();this.Yf=f;this.YM=k;this.Uy=d;this.target=n;this.Mja=[];this.mS=Array.isArray(g)?g:[g];this.C0b=null === d?new Map():null;}l.prototype.bSa=function(f,k,d){f=new l(f,this.YM,this,k,d);this.Mja.push(f);return f;};return l;})();b.Request=r;},23927:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(72632);f=a(67258);k=a(11625);r=(function(){function d(g,n,h,m){this.id=l.id();this.type=g;this.Yf=h;this.name=new k.znb(n || "");this.Vd=[];g=null;"string" === typeof m?g=new f.Metadata(c.Xz,m):m instanceof f.Metadata && (g=m);null !== g && this.Vd.push(g);}d.prototype.Y1a=function(g){for(var n=0,h=this.Vd;n < h.length;n++){if(h[n].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.Y1a(c.HD);};d.prototype.nSb=function(g){return this.Cra(c.HD)(g);};d.prototype.bqa=function(){return this.Y1a(c.Xz);};d.prototype.mqa=function(){return this.Vd.some(function(g){return g.key !== c.GP && g.key !== c.HD && g.key !== c.e0 && g.key !== c.xQ && g.key !== c.Xz;});};d.prototype.K3a=function(){return this.Cra(c.rJa)(!0);};d.prototype.HKb=function(){return this.bqa()?this.Vd.filter(function(g){return g.key === c.Xz;})[0]:null;};d.prototype.mJb=function(){return this.mqa()?this.Vd.filter(function(g){return g.key !== c.GP && g.key !== c.HD && g.key !== c.e0 && g.key !== c.xQ && g.key !== c.Xz;}):null;};d.prototype.Cra=function(g){var n;n=this;return function(h){var q;for(var m=0,p=n.Vd;m < p.length;m++){q=p[m];if(q.key === g && q.value === h)return !0;}return !1;};};return d;})();b.V0=r;},40198:function(r,b,a){var f,k,d;function c(g,n,h){var m;n=n.filter(function(p){return null !== p.target && p.target.type === k.fx.uCa;});m=n.map(h);n.forEach(function(p,q){p=p.target.name.value();g[p]=m[q];});return g;}function l(g,n){var h;if(Reflect.cNb(d.hQ,g)){h=Reflect.getMetadata(d.hQ,g);try{n[h.value]();}catch(m){throw Error(f.gnb(g.name,m.message));}}}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);k=a(5493);d=a(37425);b.Q0b=function(g,n,h){var m;m=null;0 < n.length?(m=n.filter(function(p){return null !== p.target && p.target.type === k.fx.GCa;}).map(h),m=new (g.bind.apply(g,[void 0].concat(m)))(),m=c(m,n,h)):m=new g();l(g,m);return m;};},85933:function(r,b,a){var f,k,d,g,n;function c(h){return function(m){var p,q,u,t,w;p=m.mS;q=m.Mja;u=m.target && m.target.isArray();t=!m.Uy || !m.Uy.target || !m.target || !m.Uy.target.nSb(m.target.Yf);if(u && t)return q.map(function(v){return c(h)(v);});u=null;if(!m.target.K3a() || 0 !== p.length){w=p[0];p=w.scope === k.Zr.kfa;t=w.scope === k.Zr.Request;if(p && w.Gha)return w.cache;if(t && null !== h && h.has(w.id))return h.get(w.id);if(w.type === k.ej.ECa)u=w.cache;else if(w.type === k.ej.Function)u=w.cache;else if(w.type === k.ej.FCa)u=w.Pl;else if(w.type === k.ej.MDa && null !== w.RK)u=l("toDynamicValue",w.Yf,function(){return w.RK(m.YM);});else if(w.type === k.ej.Nca && null !== w.kL)u=l("toFactory",w.Yf,function(){return w.kL(m.YM);});else if(w.type === k.ej.mMa && null !== w.az)u=l("toProvider",w.Yf,function(){return w.az(m.YM);});else if(w.type === k.ej.Instance && null !== w.Pl)u=n.Q0b(w.Pl,q,c(h));else throw (q=g.IL(m.Yf),Error(f.Skb + " " + q));"function" === typeof w.Qv && (u=w.Qv(m.YM,u));p && (w.cache=u,w.Gha=!0);t && null !== h && !h.has(w.id) && h.set(w.id,u);return u;}};}function l(h,m,p){try{return p();}catch(q){if(d.V3a(q))throw Error(f.rib(h,m.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);k=a(5493);d=a(69523);g=a(48530);n=a(40198);b.resolve=function(h){return c(h.fN.$va.C0b)(h.fN.$va);};},51580:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);l=a(75714);r=(function(){function f(k){this.zc=k;}f.prototype.ha=function(){this.zc.scope=c.Zr.kfa;return new l.kD(this.zc);};f.prototype.qpa=function(){this.zc.scope=c.Zr.Y0;return new l.kD(this.zc);};return f;})();b.Xhb=r;},61142:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(51580);l=a(1003);f=a(7190);r=(function(){function k(d){this.zc=d;this.IQ=new f.Zba(this.zc);this.Pfa=new l.hZ(this.zc);this.xPa=new c.Xhb(d);}k.prototype.ha=function(){return this.xPa.ha();};k.prototype.qpa=function(){return this.xPa.qpa();};k.prototype.when=function(d){return this.IQ.when(d);};k.prototype.MY=function(){return this.IQ.MY();};k.prototype.Qv=function(d){return this.Pfa.Qv(d);};return k;})();b.qBa=r;},1003:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(7190);r=(function(){function l(f){this.zc=f;}l.prototype.Qv=function(f){this.zc.Qv=f;return new c.Zba(this.zc);};return l;})();b.hZ=r;},49825:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(5493);f=a(61142);k=a(75714);r=(function(){function d(g){this.zc=g;}d.prototype.to=function(g){this.zc.type=l.ej.Instance;this.zc.Pl=g;return new f.qBa(this.zc);};d.prototype.veb=function(){if("function" !== typeof this.zc.Yf)throw Error("" + c.Xkb);this.to(this.zc.Yf);};d.prototype.gl=function(g){this.zc.type=l.ej.ECa;this.zc.cache=g;this.zc.RK=null;this.zc.Pl=null;new k.kD(this.zc);};d.prototype.XC=function(g){this.zc.type=l.ej.MDa;this.zc.cache=null;this.zc.RK=g;this.zc.Pl=null;return new f.qBa(this.zc);};d.prototype.A6b=function(g){this.zc.type=l.ej.FCa;this.zc.Pl=g;new k.kD(this.zc);};d.prototype.Zd=function(g){this.zc.type=l.ej.Nca;this.zc.kL=g;new k.kD(this.zc);};d.prototype.B6b=function(g){if("function" !== typeof g)throw Error(c.Vkb);this.gl(g);this.zc.type=l.ej.Function;};d.prototype.teb=function(g){this.zc.type=l.ej.Nca;this.zc.kL=function(n){return function(){return n.lb.get(g);};};new k.kD(this.zc);};d.prototype.jY=function(g){this.zc.type=l.ej.mMa;this.zc.az=g;new k.kD(this.zc);};d.prototype.E6b=function(g){this.XC(function(n){return n.lb.get(g);});};return d;})();b.Yhb=r;},75714:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);l=a(7190);r=(function(){function f(k){this.zc=k;this.IQ=new l.Zba(this.zc);this.Pfa=new c.hZ(this.zc);}f.prototype.when=function(k){return this.IQ.when(k);};f.prototype.MY=function(){return this.IQ.MY();};f.prototype.Qv=function(k){return this.Pfa.Qv(k);};return f;})();b.kD=r;},7190:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);a(41146);r=(function(){function l(f){this.zc=f;}l.prototype.when=function(f){this.zc.kF=f;return new c.hZ(this.zc);};l.prototype.MY=function(){this.zc.kF=function(f){return null !== f.target && !f.target.bqa() && !f.target.mqa();};return new c.hZ(this.zc);};return l;})();b.Zba=r;},41146:function(r,b,a){var f;function c(k){return function(d){function g(n){return null !== n && null !== n.target && n.target.Cra(k)(d);}g.w6a=new f.Metadata(k,d);return g;};}function l(k,d){k=k.Uy;return null !== k?d(k)?!0:l(k,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);f=a(67258);b.Oeb=l;b.Tdb=c;a=c(r.Xz);b.f7a=a;b.Web=function(k){return function(d){var g;if(null !== d){g=d.mS[0];return "string" === typeof k?g.Yf === k:k === d.mS[0].Pl;}return !1;};};},14577:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.b7a=function(a){return function(c){return function(){for(var l=[],f=0;f < arguments.length;f++){l[f]=arguments[f];}return l.forEach(function(k){return a.bind(k).E6b(c);});};};};},69523:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);b.V3a=function(l){return l instanceof RangeError || l.message === c.Vnb;};},72632:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},48530:function(r,b,a){var g;function c(n){return "function" === typeof n?n.name:"symbol" === typeof n?n.toString():n;}function l(n,h){return null === n.Uy?!1:n.Uy.Yf === h?!0:l(n.Uy,h);}function f(n){function h(m,p){var q;void 0 === p && (p=[]);q=c(m.Yf);p.push(q);return null !== m.Uy?h(m.Uy,p):p;}return h(n).reverse().join(" --\x3e ");}function k(n){n.Mja.forEach(function(h){if(l(h,h.Yf))throw (h=f(h),Error(g.qib + " " + h));k(h);});}function d(n){var h;if(n.name)return n.name;n=n.toString();h=n.match(/^function\s*([^\s(]+)/);return h?h[1]:"Anonymous function: " + n;}Object.defineProperty(b,"__esModule",{value:!0});g=a(25640);b.IL=c;b.X4a=function(n,h,m){var p;p="";n=m(n,h);0 !== n.length && (p="\nRegistered bindings:",n.forEach(function(q){var u;u="Object";null !== q.Pl && (u=d(q.Pl));p=p + "\n " + u;q.kF.w6a && (p=p + " - " + q.kF.w6a);}));return p;};b.Txb=k;b.EQb=function(n,h){var m,p;if(h.mqa() || h.bqa()){m="";p=h.HKb();h=h.mJb();null !== p && (m+=p.toString() + "\n");null !== h && h.forEach(function(q){m+=q.toString() + "\n";});return " " + n + "\n " + n + " - " + m;}return " " + n;};b.getFunctionName=d;},9680:function(r){var l,f,k,d,g,n,h,m;function b(){return !1;}function a(p){try{if(c(p))return !1;l.call(p);return !0;}catch(q){return !1;}}function c(p){var q;try{q=l.call(p);return g.test(q);}catch(u){return !1;}}l=Function.prototype.toString;f="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof f && "function" === typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw d;}});d={};f(function(){throw 42;},null,k);}catch(p){p !== d && (f=null);}else f=null;g=/^\s*class\b/;n=Object.prototype.toString;h="function" === typeof Symbol && !!Symbol.toStringTag;m=!((0 in [,]));"object" === typeof document && n.call(document.all) === n.call(document.all) && (b=function(p){var q;if(!(!m && p || "undefined" !== typeof p && "object" !== typeof p))try{q=n.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(u){}return !1;});r.exports=f?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{f(p,null,k);}catch(q){if(q !== d)return !1;}return !c(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(h)return a(p);if(c(p))return !1;q=n.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},54277:function(r,b,a){var c,l,f;c=Date.prototype.getDay;l=Object.prototype.toString;f=a(67226)();r.exports=function(k){if("object" !== typeof k || null === k)k=!1;else if(f)try{c.call(k);k=!0;}catch(d){k=!1;}else k="[object Date]" === l.call(k);return k;};},58786:function(r,b,a){var c,l,f,k,d,g,n;b=a(62680);if(a=a(67226)()){c=b("Object.prototype.hasOwnProperty");l=b("RegExp.prototype.exec");f={};k=function(){throw f;};d={toString:k,valueOf:k};"symbol" === typeof Symbol.toPrimitive && (d[Symbol.toPrimitive]=k);}g=b("Object.prototype.toString");n=Object.getOwnPropertyDescriptor;r.exports=a?function(h){var m;if(!h || "object" !== typeof h)return !1;m=n(h,"lastIndex");if(!m || !c(m,"value"))return !1;try{l(h,d);}catch(p){return p === f;}}:function(h){return !h || "object" !== typeof h && "function" !== typeof h?!1:"[object RegExp]" === g(h);};},26302:function(r,b,a){var c,l,f;c=String.prototype.valueOf;l=Object.prototype.toString;f=a(67226)();r.exports=function(k){if("string" === typeof k)k=!0;else if("object" !== typeof k)k=!1;else if(f)try{c.call(k);k=!0;}catch(d){k=!1;}else k="[object String]" === l.call(k);return k;};},88705:function(r,b,a){var c,l,f;c=Object.prototype.toString;if(a(32636)()){l=Symbol.prototype.toString;f=/^Symbol\(.*\)$/;r.exports=function(k){if("symbol" === typeof k)return !0;if("[object Symbol]" !== c.call(k))return !1;try{return "symbol" !== typeof k.valueOf()?!1:f.test(l.call(k));}catch(d){return !1;}};}else r.exports=function(){return !1;};},72145:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O,H,J,N,R,T,ka,sa;Object.defineProperties(b,{__esModule:{value:!0}});b.vAa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(12043);g=a(16537);n=a(78764);h=a(73057);m=a(14386);p=a(30923);q=a(27364);a(72072);u=a(36021);t=a(62558);w=a(83386);v=a(83275);y=a(41471);x=a(35556);z=a(33285);A=a(48641);B=a(46059);C=a(7881);D=a(95971);F=a(97810);G=a(64048);E=a(59012);I=a(16567);M=a(42842);L=a(13043);K=a(86315);O=a(10711);H=a(72396);J=a(49550);N=a(58793);R=a(37953);T=a(51157);ka=a(1323);sa=a(16402);r=(function(){function ia(wa){this.T=wa;this.Xa=g.tu.CLOSED;this.bv=[];this.zX=[];this.lR=[];this.Fn=[];this.zPa={};this.W1={};this.Pxa=g.$O.default;this.Zob={SC:!1};this.Srb=new z.Ju({hn:this,source:"engine",ko:10,console:wa});}Object.defineProperties(ia.prototype,{Zv:{get:function(){(0,t.assert)(this.vx);return this.vx;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{RXb:{get:function(){return this.lR;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{fH:{get:function(){return this.Fn.map(function(wa){return wa.ca;});},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{TXb:{get:function(){return this.Fn;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{Jc:{get:function(){this.fI();return this.Px.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{NV:{get:function(){this.fI();return this.Px.NV;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{Bj:{get:function(){this.fI();return this.Px.Bj;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{l9b:{get:function(){return this.bv.length;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{kK:{get:function(){return this.zPa;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{UTa:{get:function(){return this.Ek;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{QH:{get:function(){return this.W1;},enumerable:!1,configurable:!0}});Object.defineProperties(ia.prototype,{dTb:{get:function(){return this.CQa || (this.CQa=this.Kwb());},enumerable:!1,configurable:!0}});ia.prototype.open=function(wa,Aa,La,Ya){var ab;ab=this;if(this.Xa === g.tu.OPEN)return !1;this.W=wa;H.$ea.y2b(wa);this.kq=new C.uQ(new D.Q0({ji:!0,currentTime:function(){return f.L.Na(d.platform.time.xa());},speed:1}),this.T,"Engine Scheduler");this.aQa=new m.REa(this.T,wa);this.xA=new u.HMa(this.h7.bind(this),wa);if(wa.xY || d.platform.No.uf.ehc)this.Ek=new n.MBa(this.T,function(){return ab.kK;});this.Px=p.qD.boa(wa,this.T,Aa);this.Xa=g.tu.OPEN;this.vx=(0,J.XT)(wa);La && this.vx.ecb(La);Ya && this.vx.Uwa(Ya);this.t9a=new N.QLa({vj:function(){ab.Xa !== g.tu.CLOSED && ab.xA.vj("playgraphOpportunity");}});this.DQa=new I.EIa(function(){return ab.S5();},function(){return ab.T5().global;},this.T);this.IBb();return !0;};ia.prototype.UR=function(wa,Aa,La,Ya,ab){var aa,oa,Ga;aa=this;void 0 === ab && (ab=!0);this.fI();La=Object.create(La,{ZN:{value:this.QH},xY:{value:!!this.Ek}});if(ab){oa=this.Zv.Vxb(wa,La);if(oa)return (oa.Efb(Aa),wa=this.wo.bind(this,Ya,oa),oa.Z2b(wa),oa);}oa=new K.JMa(function(Sa){return aa.wo(Ya,Ga,Sa);},function(Sa){return aa.iw(Ya,Sa);});Ga=(0,T.S3)(this.W,[wa,Aa,La,ia.nUb++,this.Jc,oa,function(Sa){return aa.xA.vj(Sa);},ab?this.Zv.Uxb.bind(this.Zv):function(){},this.S5.bind(this),this.Ek],this.T);Ga.Ce(new y.ENa(Ga));Ga.Ce(new x.YNa(Ga.yd));Ga.L7.Ce(new M.RAa(Ga));Ga.L7.Ce(new O.fHa(Ga));this.wA.uH.forEach(function(Sa){return Ga.Ce(Sa);});this.t9a.UR(Ga);wa=new l.ze();wa.on(Ga.events,"requestsPruned",this.G0b.bind(this));wa.on(Ga.events,"weightUpdated",this.tta.bind(this));wa.on(Ga.events,"underflow",this.oh.bind(this,Ga));this.Fn.push({ca:Ga,Tk:wa,OW:0});this.tta();return Ga;};ia.prototype.oh=function(wa){wa=this.DQa.WHb(wa);(null === wa || void 0 === wa?0:wa.r4) || this.Zv.reset();};ia.prototype.fz=function(wa){this.t9a.fz(wa);this.Fn=this.Fn.filter(function(Aa){return Aa.ca === wa?(Aa.Tk.clear(),!1):!0;});wa.Oa();this.tta();};ia.prototype.gtb=function(wa,Aa){var La;this.fI();La=Aa.Bg;La=void 0 === La?[q.u.fa,q.u.Y]:La;wa=(0,ka.CK)(this.W,[wa,La,c.__assign({ZN:Aa.ZN || this.W1 || ({})},Aa)]);this.lR.push(wa);return wa;};ia.prototype.gab=function(wa){this.fI();this.lR=this.lR.filter(function(Aa){return Aa !== wa;});wa.Oa();};ia.prototype.v2b=function(wa,Aa){this.zPa=wa;this.W1=Aa;this.CQa=void 0;};ia.prototype.WN=function(wa,Aa){var La,Ya;Ya=null === (La=(0,k.tc)(this.bv,function(ab){return ab.jF.equals(wa);})) || void 0 === La?void 0:La.ma;Ya?Ya.WN(c.__assign(c.__assign({},Aa),{TV:this.Fsa.bind(this)})):this.zX.push({ngb:wa,nxa:Aa});};ia.prototype.iab=function(wa){this.zX=this.zX.filter(function(Aa){return !Aa.ngb.equals(wa);});};ia.prototype.close=function(){this.Xa !== g.tu.CLOSED && (this.W_b(),(0,t.assert)(0 === this.bv.length,"Unexpected viewable lease after Playgraph destruction."),this.V_b(),this.zX=[],delete this.Px,this.Xa=g.tu.CLOSED,this.kq.Oa());};ia.prototype.g3b=function(wa){this.Pxa=wa;this.xA.vj("streamingModeChanged");};ia.prototype.x2b=function(wa){var Aa,La,Ya;this.Zob.SC=wa.SC;if(this.W.Kla){Ya=!0 === wa.SC;this.W.set?this.W.set((Aa={},Aa.enableCprVideo=Ya,Aa)):this.W.enableCprVideo=!0 === wa.SC;try{for(var ab=c.__values(this.Fn),aa=ab.next();!aa.done;aa=ab.next()){aa.value.ca.S2b(Ya);}}catch(Ga){var oa;oa={error:Ga};}finally{try{aa && !aa.done && (La=ab.return) && La.call(ab);}finally{if(oa)throw oa.error;}}}};ia.prototype.IBb=function(){this.wA=new L.Yea(this.W);this.wA.Ce(new G.lEa(this));this.wA.Ce(new B.KMa(this.Jc,this.xA));this.wA.Ce(new v.iEa(this.Jc));this.wA.Ce(new A.gx(this.Srb));this.wA.Ce(new A.gx(this.xA.Mp));this.wA.Ce(new A.gx(this.aQa.Xg));this.wA.Ce(new A.gx(this.DQa.Xg));};ia.prototype.Fsa=function(){};ia.prototype.FO=function(wa){return c.__awaiter(this,void 0,void 0,function(){var Aa,La,Ya,ab;return c.__generator(this,function(aa){switch(aa.label){case 0:return ((0,t.assert)(wa,"ase.updateViewable(): Viewable config not found."),Aa=(0,k.tc)(this.bv,function(oa){return !0 !== oa.jF.Uq && oa.jF.equals(wa);}),(0,t.assert)(Aa,"ase.updateViewable(): Viewable entry not found."),[4,Aa.Gz]);case 1:return (La=aa.Ua(),ab=(Ya=La).FO,[4,wa.jq]);case 2:return (ab.apply(Ya,[aa.Ua()]),[2]);}});});};ia.prototype.wo=function(wa,Aa,La){var Ya,ab,aa,oa;Ya=this;ab=La.J;aa=wa.Rm(ab,La.XW);(0,t.assert)(aa,"ase.requestViewable(): Viewable config not found.");oa=(0,k.tc)(this.bv,function(Ga){return !0 !== Ga.jF.Uq && Ga.jF.equals(aa);});oa || (oa={jF:aa,Gz:(function(){return c.__awaiter(Ya,void 0,void 0,function(){var Ga,Sa;return c.__generator(this,function(Q){switch(Q.label){case 0:return [4,aa.jq];case 1:return (Ga=Q.Ua(),Sa=this.pv(ab,aa,Ga),oa.ma=Sa,[2,Sa]);}});});})(),ma:void 0,Iqa:new w.X_(function(Ga){Ga() && Ya.wva(oa);},(0,F.Jh)(d.platform,this.T,("").concat(ab)))},this.bv.push(oa));wa=new sa.cPa(oa,this.T,Aa,La);wa.events.once("error",this.wva.bind(this,oa,!1));return wa;};ia.prototype.wva=function(wa,Aa){var La,Ya;void 0 === Aa && (Aa=!0);(0,t.assert)(wa,"expected viewableEntry to exist");La=wa.ma;Ya=wa.Gz;Aa && (La?La.Oa():Ya.then(function(ab){ab.Oa();}));this.bv=this.bv.filter(function(ab){return ab !== wa;});};ia.prototype.pv=function(wa,Aa,La){var Ya,ab;Ya=this;this.fI();ab=La.config;La={X:La.X,config:ab,nv:La.nv,Cp:La.Cp,Jc:this.Px.Jc,Bj:this.Px.Bj,VFb:{HB:function(){return Ya.xA.vj("networkFailureReset");},lf:this.lf.bind(this,wa),jr:this.jr.bind(this,wa)},ZW:{fv:this.fv.bind(this),Hr:this.Hr.bind(this)},QH:this.W1};wa=new h.YAa(wa,La);ab.ZK && (ab=(0,k.tc)(this.zX,function(aa){return aa.ngb.equals(Aa);})) && (ab=ab.nxa,this.iab(Aa),wa.WN(c.__assign(c.__assign({},ab),{TV:this.Fsa.bind(this)})));return wa;};ia.prototype.iw=function(wa,Aa){return c.__awaiter(this,void 0,void 0,function(){var La,Ya,ab,aa,oa,Ga,Sa,Q,da;return c.__generator(this,function(P){switch(P.label){case 0:(La=Aa.eh,Ya=Aa.J,ab=wa.Rm(Ya),(0,t.assert)(ab,"ase.requestAdBreakHydration(): Parent viewable config not found."),aa=(0,k.tc)(this.bv,function(Y){return !0 !== Y.jF.Uq && Y.jF.equals(ab);}),(0,t.assert)(aa,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(Ya)),oa=aa.ma,(0,t.assert)(oa,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(Ya)),Ga=oa.X.$b,Sa={Bf:{$b:Ga,xd:Ya}},P.label=1);case 1:return (P.Rj.push([1,3,,4]),[4,wa.iw(La,Sa)]);case 2:return (Q=P.Ua(),[2,{m2:Q,Bia:oa}]);case 3:return (da=P.Ua(),[2,Promise.reject(da)]);case 4:return [2];}});});};ia.prototype.h7=function(){var wa,Aa;(0,t.assert)(this.state === g.tu.OPEN);wa=this.T5();Aa=this.LL();return this.aQa.b8a(wa,Aa);};ia.prototype.LL=function(){var wa,Aa,La;wa=this;La=null !== (Aa=this.W.tYb) && void 0 !== Aa?Aa:this.Fn.every(function(Ya){return !Ya.ca.er;});Aa=(0,k.flatten)(this.Fn.map(function(Ya){return Ya.ca.LL().map(function(ab){Ya.ca.er || 1 === Ya.OW || (ab.st=Ya.OW);return ab;});}));this.Pxa === g.$O.disabled?Aa=[]:this.Pxa === g.$O.JRb && (Aa=Aa.filter(function(Ya){return wa.W.T5a >= Ya.uk - Ya.Lk;}));La || (La=Aa.filter(function(Ya){var ab;return 1 === (null !== (ab=Ya.st) && void 0 !== ab?ab:1);}),La.length && (Aa=La));La=this.bv.reduce(function(Ya,ab){return ab.ma?c.__spreadArray(c.__spreadArray([],c.__read(Ya),!1),c.__read(ab.ma.LL()),!1):Ya;},[]);return (0,k.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(Aa),!1),c.__read(La),!1));};ia.prototype.fI=function(){if(this.Xa === g.tu.CLOSED)throw Error("Engine CLOSED");};ia.prototype.W_b=function(){var wa,Ya;try{for(var Aa=c.__values(this.Fn),La=Aa.next();!La.done;La=Aa.next()){Ya=La.value;Ya.Tk.clear();this.fz(Ya.ca);}}catch(aa){var ab;ab={error:aa};}finally{try{La && !La.done && (wa=Aa.return) && wa.call(Aa);}finally{if(ab)throw ab.error;}}};ia.prototype.V_b=function(){var wa;try{for(var Aa=c.__values(this.lR),La=Aa.next();!La.done;La=Aa.next()){this.gab(La.value);}}catch(ab){var Ya;Ya={error:ab};}finally{try{La && !La.done && (wa=Aa.return) && wa.call(Aa);}finally{if(Ya)throw Ya.error;}}};ia.prototype.lf=function(wa,Aa,La,Ya,ab,aa,oa){var Ga;void 0 === oa && (oa=!1);Ga=!1;this.T0a(wa).forEach(function(Sa){if(!oa || (0,q.ao)(Sa.Pd.value))Ga=Sa.lf(Aa,wa,La,Ya,ab,aa,oa);});return Ga;};ia.prototype.jr=function(wa){return this.T0a(wa).some(function(Aa){return Aa.jr();});};ia.prototype.T0a=function(wa){return this.Fn.filter(function(Aa){var La;for(Aa=Aa.ca;Aa.Ta;){Aa=Aa.Ta;}La=Aa.ca;return Object.keys(La.O).some(function(Ya){return La.O[Ya].J === wa;});}).map(function(Aa){return Aa.ca;});};ia.prototype.T5=function(){var wa;wa=new E.PEa();this.Fn.forEach(function(Aa){var La,Ya;La=Aa.ca;Aa=Aa.OW;Ya=La.T5();Ya.st=Aa;wa.add(La.id,Ya);});return wa;};ia.prototype.S5=function(){return this.dTb;};ia.prototype.Kwb=function(){var wa,Aa;Aa=(0,R.kUa)(this.W,this.kK);return {total:(wa={},wa[q.u.Y]=this.kK.video || Infinity,wa[q.u.fa]=this.kK.audio || Infinity,wa[q.u.Ga]=this.kK.text || Infinity,wa.total=this.kK.total || Infinity,wa),Gxa:Aa};};ia.prototype.fv=function(wa){var Aa;this.xA.fv(wa);null === (Aa=this.Ek) || void 0 === Aa?void 0:Aa.fv(wa);};ia.prototype.Hr=function(wa){this.xA.Hr(wa);};ia.prototype.tta=function(){var wa;wa=this.fH.reduce(function(Aa,La){return Math.max(La.weight,0) + Aa;},0);this.Fn.forEach(function(Aa){Aa.OW=0 >= Aa.ca.weight?0:Aa.ca.weight / wa;});};ia.prototype.G0b=function(wa){var Aa;Aa=this;this.Ek && wa.requests.forEach(function(La){return Aa.Ek.Hr(La);});};ia.nUb=0;c.__decorate([(0,z.Pb)({methodName:"open"})],ia.prototype,"open",null);c.__decorate([(0,z.Pb)({methodName:"addPlaygraph",context:function(wa){var Aa,La;return {playgraphCount:null !== (La=null === (Aa=wa.R7a.Fn) || void 0 === Aa?void 0:Aa.length) && void 0 !== La?La:0};}})],ia.prototype,"UR",null);c.__decorate([(0,z.Pb)({methodName:"removePlaygraph",context:function(wa){return {playgraphCount:wa.R7a.Fn.length};}})],ia.prototype,"fz",null);c.__decorate([(0,z.Pb)({methodName:"close"})],ia.prototype,"close",null);c.__decorate([(0,z.Pb)({methodName:"setStreamingMode",kp:!0})],ia.prototype,"g3b",null);c.__decorate([(0,z.Pb)({methodName:"setConcurrentStreamingDevice",kp:!0})],ia.prototype,"x2b",null);c.__decorate([(0,z.Pb)({methodName:"notifyAseException",kp:!0})],ia.prototype,"Fsa",null);c.__decorate([(0,z.Pb)({methodName:"updateViewable"})],ia.prototype,"FO",null);c.__decorate([(0,z.Pb)({methodName:"requestViewable"})],ia.prototype,"wo",null);c.__decorate([(0,z.Pb)({methodName:"removeViewable"})],ia.prototype,"wva",null);c.__decorate([(0,z.Pb)({methodName:"createViewable"})],ia.prototype,"pv",null);c.__decorate([(0,z.Pb)({methodName:"requestAdBreakHydration"})],ia.prototype,"iw",null);c.__decorate([(0,z.Pb)({methodName:"issueRequestOpportunity",bk:!0,return:!0})],ia.prototype,"h7",null);c.__decorate([(0,z.Pb)({methodName:"reportStreamingFailure",kp:!0})],ia.prototype,"lf",null);return ia;})();b.vAa=r;},1323:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.CK=void 0;c=a(5163);l=a(26967);f=a(19114);b.CK=function(k,d){var g,n,h;g=[function(m){return new (l.Mba.bind.apply(l.Mba,c.__spreadArray([void 0],c.__read(m.IXb),!1)))();}];if(k.fT){n=a(96855).ska;g.unshift(function(m,p){return n(m,p);});}if(k.VK){h=a(96855).ska;g.unshift(function(m,p){return h(m,p);});}return f.lP.O6({IXb:d},g);};},51157:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.S3=void 0;c=a(5163);l=a(49730);f=a(45331);k=a(35408);d=a(19114);b.S3=function(g,n,h){var m,p,q,u;m=[function(t){return new (f.Nba.bind.apply(f.Nba,c.__spreadArray([void 0],c.__read(t.vW),!1)))();}];p=(0,k.Wm)({ca:n[0]});l.K && h.trace("Creating playgraph",{Aic:p,efc:g.fT,Xe:g.VK});if(g.fT){q=a(18679);m.unshift(function(t,w){return q.FS({},t,w);});}if(g.VK){u=a(78085);m.unshift(function(t,w){return u.FS({},t,w);});}return d.lP.O6({vW:n,jia:[]},m);};},82181:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.L0b=b.FL=void 0;c=a(12043);l=a(72145);b.FL=function(){var k;if(!f){k=new c.platform.Console("ASEJS","media|asejs");f=new l.vAa(k);}return f;};b.L0b=function(){f=void 0;};},58793:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QLa=void 0;r=(function(){function a(c){this.vj=c.vj;this.Bv=this.kOb();}a.prototype.UR=function(c){c.events.on("requestsPruned",this.Bv);};a.prototype.fz=function(c){c.events.removeListener("requestsPruned",this.Bv);};a.prototype.kOb=function(){var c;c=this;return function(){return c.vj();};};return a;})();b.QLa=r;},49550:function(r,b,a){var l,f,k,d;function c(){return l.__awaiter(this,void 0,void 0,function(){var g;return l.__generator(this,function(n){switch(n.label){case 0:return [4,Promise.resolve().then(function(){return l.__importStar(a(82181));})];case 1:return (g=n.Ua().FL,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.XT=void 0;l=a(5163);f=a(12043);k=a(30570);b.XT=function(g){var n;n=new f.platform.Console("ASEJS","media|asejs");d || (d=new k.bMa(function(){return c();},g,n));return d;};},37953:function(r,b,a){var l;function c(f,k,d,g){return f && k?Math.min(f - k * d,f - g):(f || Infinity) - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.kUa=void 0;l=a(27364);b.kUa=function(f,k){var d,g,n,h,m,p,q,u;u=c(k.audio,k.yec,f.uka,null !== (g=f.SVa) && void 0 !== g?g:0);g=c(k.video,k.hkc,f.uka,null !== (n=f.UVa) && void 0 !== n?n:0);n=c(k.text,k.Gjc,f.uka,null !== (h=f.TVa) && void 0 !== h?h:0);return (d={},d[l.u.fa]=u,d[l.u.Y]=g,d[l.u.Ga]=n,d.total=(k.total || Infinity) - (null !== (m=f.SVa) && void 0 !== m?m:0) - (null !== (p=f.UVa) && void 0 !== p?p:0) - (null !== (q=f.TVa) && void 0 !== q?q:0),d);};},16402:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cPa=void 0;c=a(5163);l=a(57055);f=a(49730);k=a(60763);r=(function(){function d(g,n,h,m){this.qgb=g;this.console=n;this.rub=h;this.XW=m;this.events=new l.EventEmitter();this.Ey=g.Iqa.Ms();}Object.defineProperties(d.prototype,{ma:{get:function(){var g;return null === (g=this.qgb) || void 0 === g?void 0:g.ma;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Gz:{get:function(){var g;g=this;return (function(){return c.__awaiter(g,void 0,void 0,function(){var n;return c.__generator(this,function(h){switch(h.label){case 0:return (h.Rj.push([0,2,,3]),[4,this.qgb.Gz]);case 1:return [2,h.Ua()];case 2:throw (n=h.Ua(),k.Dea.APb(n) && this.rub.lf(n),f.K && this.console.trace("Removing broken viewable entry due to error",this.XW),this.events.emit("error",{error:n}),n);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.cPa=r;},18998:function(r,b,a){var l;function c(f,k){var d;void 0 === k && (k=c);d="";f.hL && (d=null === f || void 0 === f?void 0:f.hL.map(k).reduce(function(g,n){return ("").concat(g,",").concat(n);}));return ("").concat(null === f || void 0 === f?void 0:f.name,"::").concat(null === f || void 0 === f?void 0:f.message,"::{").concat(null === f || void 0 === f?void 0:f.stack,"}[").concat(d,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.Eba=void 0;l=a(5163);r=(function(f){function k(d,g){d=f.call(this,k.nIb(d,g)) || this;d.vpb=g;d.name="AggregateError";return d;}l.__extends(k,f);k.nIb=function(d,g){return g.reduce(function(n,h){return ("").concat(n,"\n").concat(h);},d);};k.stringify=function(d){return c(d);};Object.defineProperties(k.prototype,{hL:{get:function(){return this.vpb;},enumerable:!1,configurable:!0}});return k;})(Error);b.Eba=r;},40507:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(59782),b);r.__exportStar(a(16785),b);},59782:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16785:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},49030:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},75663:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},85668:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jm=void 0;r=b.jm || (b.jm={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.rl=2]="STREAMING";},77518:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16537:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tu=b.$O=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.JRb=2]="lowCpuPlaybackStarting";})(b.$O || (b.$O={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.tu || (b.tu={}));},25850:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kc=void 0;r=a(5163);r.__exportStar(a(16537),b);r.__exportStar(a(75663),b);r.__exportStar(a(85668),b);r.__exportStar(a(77518),b);r.__exportStar(a(10441),b);r.__exportStar(a(40507),b);r.__exportStar(a(16785),b);r.__exportStar(a(65375),b);r.__exportStar(a(49030),b);r.__exportStar(a(92128),b);c=a(13043);Object.defineProperties(b,{kc:{enumerable:!0,get:function(){return c.kc;}}});},10441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65375:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},353:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DI=void 0;r=b.DI || (b.DI={});r[r.start=0]="start";r[r.end=1]="end";},64905:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},63755:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},36570:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},55651:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(353),b);r.__exportStar(a(36570),b);r.__exportStar(a(64905),b);r.__exportStar(a(63755),b);},92128:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(55651),b);},22209:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lq=void 0;c=a(12043);l=a(53265);r=(function(){function f(k){k=("(").concat(k,")");this.T=new c.platform.Console("ASEJS","media|asejs",k);this.Uga=[];}f.prototype.Av=function(k){var d;if(!this.Uga[k]){d=("[").concat(k,"]");this.Uga[k]=(0,l.Jh)(c.platform,this.T,d);}return this.Uga[k];};return f;})();b.lq=new r(0);},73057:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x;Object.defineProperties(b,{__esModule:{value:!0}});b.YAa=b.Qlb=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(12043);d=a(10996);r=a(57196);g=a(78128);n=a(98705);h=a(9998);m=a(27364);p=a(62558);a(97810);q=a(10391);u=a(73098);t=a(58628);w=a(16824);v=a(45768);y=a(42477);x=(function(){return function(z){this.mediaType=z;this.K4a=void 0;};})();b.Qlb=x;a=(function(z){function A(B,C){var D,F,G,E,I,M,L,K,O,H,J,N,R,T,ka;F=C.X;G=C.nv;E=C.Cp;I=C.config;M=C.ZW;L=C.Jc;K=C.Bj;O=C.VFb;C=C.QH;H=z.call(this) || this;H.J=B;H.e2a=!1;H.J4a=0;H.LJ={};H.Iv=(D={},D[m.u.fa]={},D[m.u.Y]={},D[m.u.Ga]={},D);H.dec=[];H.mqb=[];H.kx=[];H.eB=[];H.E1=!1;H.C7a=!1;H.m9b=[new x(m.u.fa),new x(m.u.Y),new x(m.u.Ga)];H.JVa={E7:"liveEdgeCushion",HG:"maxMediaBufferAllowed",YK:"enableMissingSegmentsDetection",iT:"enableMissingSegmentsReplacement",D7:"liveAccurateFragmentTimestamps",Sfc:"enableMissingSegmentsSkip",P7:"maxAttemptsOnFailure"};H.IVa=Object.keys(H.JVa).reduce(function(sa,ia){sa[H.JVa[ia]]=ia;return sa;},{});H.vQa=F;H.console=new k.platform.Console("ASEJS","media|asejs","<" + String(H.J) + ">");H.config=H.Zrb(F,I);H.eV=new w.jHa();H.events=new l.EventEmitter();H.oy=new v.CFa(H,H.console,H.config,function(sa){return H.events.emit("logdata",sa);});H.Jc=L;H.ZW=M;H.QH=C;H.nv=G;H.Cp=!!E;J=[[],[],[]];N=[{},{},{}];R=[0,0];T=!1;["audio_tracks","video_tracks"].forEach(function(sa,ia){H.X[sa].forEach(function(wa,Aa){if(wa.type !== m.u.fa || !wa.At && !1 !== wa.Wf)(Aa=new g.FI({ma:H,jo:wa,mediaType:ia,Cp:H.Cp,pI:Aa,JE:Aa + (ia === m.u.fa?H.X.video_tracks.length:0)},H.config,H.console),ia === m.u.Y && I.pFb && new q.ZAa(I).pZb(Aa.oe),ia === m.u.Y && (ka=u.gA.from({Jt:wa.Ora,Qq:wa.Nra})),J[ia].push(Aa),N[ia]=c.__assign(c.__assign({},N[ia]),Aa.aG()),Aa.maxBitrate > R[Aa.mediaType] && (R[Aa.mediaType]=Aa.maxBitrate),T=T || Aa.Ol);});});H.aa && H.X.timedtexttracks.forEach(function(sa,ia){var wa;if(!sa.At && !1 !== sa.Wf){wa=m.u.Ga;sa=new g.FI({ma:H,jo:sa,mediaType:wa,Cp:!1,pI:ia,JE:ia},H.config,H.console);J[wa].push(sa);N[wa]=c.__assign(c.__assign({},N[wa]),sa.aG());}});H.X.zm && ((0,p.assert)(ka,"Should have video track if there are adverts"),H.zm={de:H.X.zm.de.map(function(sa){var ia;ia=ka.normalize(sa.pr);ia=c.__assign(c.__assign({},sa),{iu:sa.pr,pr:ia.G,Pv:ia});sa.Xe !== sa.ads && (ia.unnormalizedLocationMs=ia.iu,ia.locationMs=ia.pr,ia.normalizedLocation=ia.Pv);return ia;})});H.Uk=new h.oHa(H.X,N,L,K,H.config,function(sa){return H.events.emit("logdata",sa);});B=O.HB;D=O.jr;H.wE=O.lf;H.jr=D;H.HB=B;H.x1=new n.oEa(H.Uk,H.config,H.EMb.bind(H),H.DMb.bind(H));H.x1.events.addListener("requestError",function(sa){H.aa && H.config.fRb && 404 === sa.Ym && H.eV.c1b();});H.HQ=J;H.oaa=N;H.sM=R;H.Ol=T;return H;}c.__extends(A,z);Object.defineProperties(A.prototype,{X:{get:function(){return this.vQa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{aa:{get:function(){var B,C;B=this.X;C=B.Ih;return "LIVE" === B.Zf && !!C;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{zV:{get:function(){var B;return !(null === (B=this.HQ[m.u.Y][0]) || void 0 === B || !B.zV);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{P:{get:function(){return this.X.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{up:{get:function(){return this.X.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{duration:{get:function(){return this.X.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ql:{get:function(){return this.E1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ey:{get:function(){(0,p.assert)(this.x1,"ErrorDirector is not available on old architecture prefetch viewables.");return this.x1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{gL:{get:function(){return this.ey.events;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{bu:{get:function(){return this.eV.bu;},set:function(B){this.eV.bu=B;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Oqa:{get:function(){return this.LJ;},enumerable:!1,configurable:!0}});A.prototype.Oa=function(){this.close();this.Ze();};A.prototype.close=function(){var B;this.eB=[];null === (B=this.x1) || void 0 === B?void 0:B.Oa();this.Uk.Oa();this.E1=!0;};A.prototype.Ze=function(){this.oy && this.oy.Ze();};A.prototype.FO=function(B){var C,D;C=this;D=B.X;B=B.nv;(0,p.assert)(B === this.nv,"Updating Viewable clearplay not supported");(0,p.assert)(D.movieId === this.X.movieId,"Changing Viewable manifest movieId unsupported");["audio_tracks","video_tracks"].forEach(function(F,G){var E,I;E=D[F];I=C.HQ[G];(0,p.assert)(I.every(function(M){var L;L=E[M.pI];return L && L.CO === M.trackId && (L.type === m.u.Y || !1 !== L.Wf);}),"Existing tracks must still exist and be hydrated in updated manifest");E.forEach(function(M,L){var K,O;if(M.type !== m.u.fa || !M.At && !1 !== M.Wf){K=C.getTrackById(M.CO);if(K){M=M.streams;O=Object.keys(K.aG());(0,p.assert)(M.length === O.length,"Expected updated manifest track to have same number of streams");M.forEach(function(H){H=H.downloadable_id;(0,p.assert)(-1 !== O.indexOf(H),"Changing Viewable track streams unsupported");});}else (K=new g.FI({ma:C,jo:M,mediaType:G,Cp:C.Cp,pI:L,JE:L + (G === m.u.fa?C.X.video_tracks.length:0)},C.config,C.console),I.push(K),C.oaa[G]=c.__assign(c.__assign({},C.oaa[G]),K.aG()),K.maxBitrate > C.sM[K.mediaType] && (C.sM[K.mediaType]=K.maxBitrate),(0,p.assert)(C.Ol || !K.Ol,"Can not update clear viewable with drm track."));}});});this.vQa=D;this.Uk.r2(this.X,this.oaa);};A.prototype.FNb=function(B,C){var D,F;D=this;(0,p.assert)(this.X.zm,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,p.assert)(this.zm,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.X.zm.de.some(function(G,E){var I,M,L;if(G.eh === C){I=D.zm.de[E];M=I.pr;L=I.iu;I=I.Pv;F=c.__assign(c.__assign({},B),{iu:L,pr:M,Pv:I,eh:C});G.Xe !== G.ads && (F.unnormalizedLocationMs=F.iu,F.locationMs=F.pr,F.adBreakToken=F.eh,F.normalizedLocation=F.Pv);D.zm.de[E]=F;return !0;}});return F;};A.prototype.WN=function(B){var C,D,F;C=B.Tp;D=B.na;F=B.tla;B=B.TV;C && D?(this.X$=new d.nNa(C,{na:String(D),tla:!!F,QSb:this.config.k0.mx,Uvb:this.config.k0.lv},B),this.ey.WN(this.X$)):this.C7a || (B("SideChannel: pbcid/xid is missing."),this.C7a=!0);};A.prototype.Rpa=function(){return void 0 !== this.up;};A.prototype.getTracks=function(B){return this.HQ[B];};A.prototype.getTrackById=function(B){var C;this.HQ.some(function(D){return D.some(function(F){if(F.trackId === B)return (C=F,!0);});});C || this.console.warn("getTrackById not found:",B,"length:",this.HQ.length);return C;};A.prototype.voa=function(B,C){return (B=this.aG(B)) && B[C];};A.prototype.aG=function(B){return this.oaa[B];};A.prototype.RPb=function(B){var C,D;if(void 0 === B.J9 || void 0 === B.Fua){C=this.Uk.pC.filter(function(F){return void 0 !== F.streams[B.Gb];})[0];D=C.children.filter(function(F){return F.urls.some(function(G){return G.stream.id === B.Gb;});})[0];B.J9=C.id;B.Fua=D.id;}return {rqa:B.location === B.J9,SPb:B.Ub === B.Fua};};A.prototype.Wwa=function(B,C,D){void 0 !== C && void 0 !== D && (this.rab(B.mediaType,C),B.Wwa(C,D));};A.prototype.rab=function(B,C){var D;D=this.config.ssa;("location" === D || "video_location" === D && B === m.u.Y) && this.Jc.P$(C);};A.prototype.lf=function(B,C,D,F,G,E){(0,p.assert)(this.wE,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.wE(B,C,D,F,G,E);};A.prototype.un=function(){var B;B=this;if(this.Ql)return (this.console.error("updateRequestUrls, closed Viewable:",this.J),!1);m.ZP.forEach(function(C){B.h8b(C) && B.X7b(C);});this.Q7b();return !0;};A.prototype.ht=function(B,C){var D;D=this.getTracks(m.u.Y)[0];(0,p.assert)(D);if(D.jG)return D.ht(B,C);};A.prototype.h8b=function(B){var C;C=this;return this.Ql?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.kx.reduce(function(D,F){return (0,f.dK)(D,F.Gd.filter(function(G){return G.mediaType === B;}));},[]).map(function(D){return C.Uk.zfb(C.J,D.oe);}).every(function(D){return D;});};A.prototype.Q7b=function(){(0,p.assert)(this.oy,"Headers not available on old architecture prefetch viewables.");this.oy.un();};A.prototype.X7b=function(B){var C,D,E;D=[];if(this.Ql)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else try{for(var F=c.__values(this.kx),G=F.next();!G.done;G=F.next()){E=G.value.un(B);E.length && D.push.apply(D,E);}}catch(M){var I;I={error:M};}finally{try{G && !G.done && (C=F.return) && C.call(F);}finally{if(I)throw I.error;}}};A.prototype.Zrb=function(B,C){var D,G,E;if((B=B.steeringAdditionalInfo) && B.streamingClientConfig && Object.keys(B.streamingClientConfig).length){B=B.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(B));for(var F in B){if(this.IVa.hasOwnProperty(F)){G=this.IVa[F];if(C.hasOwnProperty(G)){E=B[F];C.set?0 === C.set((D={},D[G]=E,D)) && this.console.trace("Invalid key" + F):C[G]=E;}}}}return C;};A.prototype.oh=function(){var B;B=this;this.Uk.oh();this.ey.oh();this.X$ && m.ZP.forEach(function(C){B.X$.Ewa("rebuffer",B.E0a(C).K4a);});};A.prototype.E0a=function(B){return this.m9b[B];};A.prototype.RF=function(B,C){return this.oy.RF(B,C);};A.prototype.Obb=function(B,C,D){this.eB.push({v:C,stream:B,VLb:D});};A.prototype.X$a=function(){this.eB=[];};A.prototype.b0b=function(B){this.eB=this.eB.filter(function(C){return C.stream !== B;});};A.prototype.a0b=function(B){this.eB=this.eB.filter(function(C){return C !== B;});};A.prototype.LL=function(){var B;B=this;return this.jr()?[]:this.eB.map(function(C){return new y.dPa(B,C);});};A.prototype.rI=function(B,C,D){(0,p.assert)(this.oy,"Headers not available on old architecture prefetch viewables.");return this.oy.rI(B,C,D);};A.prototype.IR=function(B,C){(0,p.assert)(this.oy,"Headers not available on old architecture prefetch viewables.");return this.oy.IR(B,C);};A.prototype.GMb=function(B){var C,D;C=B.Gb;D=B.mediaType;this.aa || this.W7b(D,B.stream.Ja);this.voa(D,C).J7b(k.platform.UT()[D],this.Rpa()?this.config.uSb:0);this.events.emit("onHeaderFragments",B);};A.prototype.J_b=function(B){this.kx.push(B);};A.prototype.v7b=function(B){B=this.kx.indexOf(B);(0,p.assert)(-1 !== B,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.kx.splice(B,1);};A.prototype.wta=function(B){var C;null === (C=this.ZW) || void 0 === C?void 0:C.fv(B);};A.prototype.WM=function(B){this.Ql?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",B):void 0 !== B.location && this.rab(B.mediaType,B.location);};A.prototype.XM=function(B){this.Ql?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",B):this.ey.Oaa(B);};A.prototype.Ar=function(B){var C;null === (C=this.ZW) || void 0 === C?void 0:C.Hr(B);this.Ql?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",B):this.jr() || this.ey.Oaa(B);};A.prototype.eW=function(B,C,D){var F;D && (null === (F=this.ZW) || void 0 === F?void 0:F.Hr(B));};A.prototype.fW=function(B){var C,D,F,G,E,I,M;C=this;if(this.Ql)this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",B);else {F=B.Uf;G=this.kx[0].Sd(B.mediaType);E=null !== (D=null === G || void 0 === G?void 0:G.X3) && void 0 !== D?D:0;if(this.G3a(B)){B.aC || (B.aC={naa:[],JSb:G?Math.min(3,null === G || void 0 === G?void 0:G.RKb(B)):3,e1b:k.platform.time.xa()});-1 === B.aC.naa.indexOf(B.Gb) && B.aC.naa.push(B.Gb);I=B.aC.naa.length;B.cn || (I=this.CIb(E,I),B.cn={kw:0,LN:void 0,Q5a:I});}this.ey.Ir(B,void 0,B.status,F,B.Vi);F=!1;if(this.G3a(B) && !B.stream.HW(B.Rg)){(0,p.assert)(B.cn,"Unexpected missing liveTemporaryNetworkRetryTracker");(0,p.assert)(B.aC,"Unexpected missing liveMissingSegmentRetryTracker");D=B.cn;M=D.kw;I=D.Q5a;D=k.platform.time.xa();G=B.aC.e1b;B.cn.LN || (M < I && D <= G + this.config.Y4a?B.cn.LN=setTimeout(function(){B.cn.LN=void 0;C.Xya(B,!1);},this.config.X5b):this.config.YK?(I=B.aC.naa.length,M=B.aC.JSb,0 < E || this.config.nM && I >= M || D > G + this.config.Y4a?this.$7b(B):this.config.nM && I < M && (this.Xya(B,!0) || (F=!0))):this.config.nM && (this.Xya(B,!0) || (F=!0)));}else this.un() || (F=!0);F && this.lf(B.uB || "unknown","NFErr_MC_StreamingFailure",B.Uf,B.status,B.Vi);}};A.prototype.dZb=function(){var B,C;this.sfb(null === (B=this.X.Ih) || void 0 === B?void 0:B.jma,null === (C=this.X.Ih) || void 0 === C?void 0:C.R4,!0);};A.prototype.sfb=function(B,C,D){var F,G,E,I,M;(0,p.assert)(this.X.Ih,"Missing manifest liveMetadata.");E=this.X.Ih;I=E.jma;M=E.R4;E=this.Oqa;this.LJ={startTime:null !== (F=null !== I && void 0 !== I?I:B) && void 0 !== F?F:E.startTime,endTime:null !== (G=null !== M && void 0 !== M?M:C) && void 0 !== G?G:E.endTime};B=this.LJ.startTime !== E.startTime;C=this.LJ.endTime !== E.endTime;(D || B || C) && this.events.emit("liveEventTimesUpdated",c.__assign({ma:this},this.LJ));C && this.kx.forEach(function(L){L.BN();});};A.prototype.T7b=function(B,C){if(this.Iv[B].nB !== C.nB || this.Iv[B].oB !== C.oB)(this.Iv[B]=C,this.events.emit("liveLoggingInfoUpdated",{ma:this,mediaType:B,info:C}));};A.prototype.ZQb=function(){(0,p.assert)(this.aa,"liveEventCompleted called on viewable that is not live");return void 0 !== this.LJ.endTime;};A.prototype.jRb=function(){var B,C;(0,p.assert)(this.aa && this.X.Ih,"liveMetadata missing from manifest");B=this.getTracks(m.u.Y)[0].oe[0].Gb;C=this.X.Ih;B=C.pX[C.x4[B]];return new f.L(Number(B.M9a),B.N);};A.prototype.G3a=function(B){return this.aa && !B.He && void 0 !== B.Rg && 400 <= B.status && 499 >= B.status;};A.prototype.CIb=function(B,C){return this.config.YK?0 === B?1 === C?this.config.F7:this.config.pra:this.config.nma:this.config.F7;};A.prototype.Xya=function(B,C){var D,E;if(C && !B.sxb())return !1;C && (B.cn=void 0);try{for(var F=c.__values(this.kx),G=F.next();!G.done;G=F.next()){E=G.value.Sd(B.mediaType);E && E.U7b(B,C);}}catch(M){var I;I={error:M};}finally{try{G && !G.done && (D=F.return) && D.call(F);}finally{if(I)throw I.error;}}return !0;};A.prototype.$7b=function(B){var C,G;try{for(var D=c.__values(this.kx),F=D.next();!F.done;F=D.next()){G=F.value.Sd(B.mediaType);G && G.$sb(B);}}catch(I){var E;E={error:I};}finally{try{F && !F.done && (C=D.return) && C.call(D);}finally{if(E)throw E.error;}}};A.prototype.W7b=function(B,C){this.mqb[B]=C.Gra;};A.prototype.EMb=function(B){var C,D,F;if(!this.E1){C=B.zPb;D=B.lWb;F=B.nWb;B=B.oWb;this.console.warn("Streaming failure, is permanent: " + C + ", last error code: " + D + ", last http code: " + F + ", last native code: " + B);C?(this.console.warn(" > Permanent failure, done"),C=this.lf("Permanent failure","NFErr_MC_StreamingFailure",D,F,B)):(this.console.warn(" > We are buffering, calling it!"),C=this.lf("Temporary failure while buffering","NFErr_MC_StreamingFailure",B,F,B,!0));C || (this.console.warn(" > Resetting failures"),this.ey.i$());}};A.prototype.DMb=function(){(0,p.assert)(this.HB,"Error handling not available on old architecture prefetch viewables.");this.E1 || (this.un(),this.HB());};return A=c.__decorate([t.rL],A);})(r.hD);b.YAa=a;},9225:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.CBa=void 0;c=a(5163);r=(function(){function l(f,k,d,g){this.J=f;this.wo=k;this.cW=d;this.sta=g;}Object.defineProperties(l.prototype,{ma:{get:function(){var f;return null === (f=this.LY) || void 0 === f?void 0:f.ma;},enumerable:!1,configurable:!0}});l.prototype.Oa=function(){var f;this.ma && (this.ma.v7b(this.kb),this.sta(this.ma));null === (f=this.LY) || void 0 === f?void 0:f.Ey.release();this.LY=void 0;};l.prototype.Cb=function(f){return c.__awaiter(this,void 0,void 0,function(){var k,d,g,n,h;return c.__generator(this,function(m){switch(m.label){case 0:return (this.kb=f,k=this.wo(this.J),d=k.Gz,g=k.ma,n=k.Ey,this.LY={Ey:n,ma:g},g?(this.U2a(g,f,!1),[2,g]):[4,d]);case 1:return (h=m.Ua(),this.U2a(h,f,!0),[2,h]);}});});};l.prototype.U2a=function(f,k,d){this.LY && (this.LY.ma=f,f.J_b(k),this.cW(k,f,d));};return l;})();b.CBa=r;},45768:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.CFa=void 0;c=a(5163);l=a(12043);f=a(22209);k=a(65593);r=a(57196);d=a(62558);g=a(39139);a=(function(n){function h(m,p,q,u){var t;t=n.call(this,m) || this;t.GE=m;t.T=p;t.W=q;t.Isa=u;t.mQa=[void 0,void 0];t.yga={oA:[Object.create(null),Object.create(null)]};t.pe=g.rD.instance.Wx("headers","" + t.GE.J,!0,!1,{},t.W);t.pe.Cb();return t;}c.__extends(h,n);Object.defineProperties(h.prototype,{oA:{get:function(){return this.yga.oA;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{r1:{get:function(){return this.yga.r1;},set:function(m){this.yga.r1=m;},enumerable:!1,configurable:!0}});h.prototype.Ze=function(){var m;m=this;this.oA.forEach(function(p,q){for(var u in p){p[u].Ze();m.jla(q,u);}});this.pe && g.rD.instance.p4(this.pe);this.pe=void 0;};h.prototype.RF=function(m,p){return this.oA[m][p];};h.prototype.rI=function(m,p,q){var u,t,w,v;u=this.W;t=this.RF(m.mediaType,m.Gb);if(t)return (t.stream.Ja || t.baa && this.aVa(t),!1);t=this.dqb;w=this.eqb;if(void 0 !== u.gsa && void 0 !== t && void 0 !== w){v=l.platform.time.xa();if(v - t < u.gsa || v - w < u.gsa)return !1;}m=this.e7b(m,{v:p,offset:0},q);this.eqb=l.platform.time.xa();return m;};h.prototype.e7b=function(m,p,q){var u,t,w,v;t=m.mediaType;f.lq.Av(t);if(this.RF(t,m.Gb))m=!1;else {w=p.offset;v=null !== (u=p.wa) && void 0 !== u?u:this.wpb(m);p=c.__assign(c.__assign({},p),{offset:w,wa:v});u=!!p.ZS;w=!!p.OV;this.yLb?q=this.yLb(t,!!p.wT,u,w,!1):q || (q=this.pe);(0,d.assert)(q);m.aa && q.track.Mdb && (p.offset=0,p.wa=0);m.url && (this.GE.E0a(t).K4a=m.dU(!0));if(!this.cpb(m,q,p).open())return (this.GE.lf("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);m=!0;}return m;};h.prototype.un=function(){var m,p,q;m=this;p=[];q=this.GE.aa;this.oA.forEach(function(u,t){var v;f.lq.Av(t);for(var w in u){t=u[w];v=t.cza(q);1 === v?p.push(t):2 === v && m.GE.lf("swapUrl failure");}});return p;};h.prototype.Ar=function(m,p){var q,u;q=m.mediaType;u=f.lq.Av(q);this.GE.Ql?u.warn("header onrequestcomplete ignored, session shutdown:",m.toString()):(this.Isa({type:"logdata",target:"startplay",Ac:{usedNativeDataView:m.H8b}}),m.l9 > m.zta && (this.mQa[q]=m.l9),m.baa && this.aVa(m),this.Ppb(m),this.dqb=l.platform.time.xa());this.HF(m,p);};h.prototype.IR=function(m,p){var q,u,t,w;q=[];u=this.oA[m];for(t in u){w=u[t];w && !w.stream.Ja && w.sN === p && (this.jla(m,t),q.push({v:w.v,stream:w.stream,offset:w.offset,wa:w.wa,ZS:w.ZS,wT:w.wT,OV:w.OV,ZM:w.ZM}),w.Ze());}return q;};h.prototype.Usb=function(m){this.oA[m.mediaType][m.Gb]=m;};h.prototype.Ppb=function(m){var p,q,u,w;p=this.W;q=f.lq.Av(m.mediaType);u=m.stream.Ja;if(p.Uka){p=u.length;q.trace("fragment count:",p);for(var t=0;t < p;++t){w=u.get(t);q.trace("fragment: " + t + ", startPts: " + w.Ka.G + ", duration: " + w.Ld.G + ", offset: " + w.offset);}}this.Hob(m);};h.prototype.Hob=function(m){var p,q;p=m.mediaType;q=m.Gb;f.lq.Av(p);m.m8a && (m.m8a.forEach(function(u){(u=u.voa(p,q)) && u !== m.stream && !u.Fh && u.ezb(m.stream);}),m.m8a=void 0);this.GE.GMb(m);};h.prototype.cpb=function(m,p,q){var u,t;u=this;t=f.lq.Av(m.mediaType);m=new k.JAa(m,this.W,p,q,this,q.v,!1,t);m.addListener("headerRequestCancelled",function(w){u.Opb(w.request);});this.Usb(m);return m;};h.prototype.wpb=function(m){var p,q,u,t;p=m.sk;q=m.ma;u=q.duration;t=this.W;return m.aa?512:q.Cp?t.eZa?t.eZa:t.x6:t.F8b && p?p.offset + p.size:(m=this.mQa[m.mediaType])?m + 128:t.cma?2292 + 12 * Math.ceil(u / 2E3):t.x6;};h.prototype.Opb=function(m){this.jla(m.mediaType,m.Gb);};h.prototype.jla=function(m,p){delete this.oA[m][p];};h.prototype.aVa=function(m){this.r1 === m.Gb && (this.r1=void 0);};return h;})(r.hD);b.CFa=a;},16824:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jHa=void 0;c=a(12043);l=a(49730);r=(function(){function f(){this.console=new c.platform.Console("ASEJS","asejs|serverclock");}Object.defineProperties(f.prototype,{bu:{get:function(){return void 0 === this.JH?(l.K && this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),c.platform.time.now()):c.platform.time.xa() - this.JH;},set:function(k){this.yG=c.platform.time.xa();this.zG=k;k=this.yG - this.zG;if(void 0 === this.JH || k < this.JH)this.JH=k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{aL:{get:function(){var k;k=c.platform.time.xa();return void 0 === this.JH?{fVa:k}:{fVa:k,bu:k - this.JH,yG:this.yG,zG:this.zG};},enumerable:!1,configurable:!0}});f.prototype.c1b=function(){void 0 !== this.yG && void 0 !== this.zG && (this.JH=this.yG - this.zG);};return f;})();b.jHa=r;},42663:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.VJa=void 0;c=a(12043);l=a(50954);r=(function(){function f(k,d){this.J=k;this.g9b=d;this.nv=!0;this.e2a=this.Ol=this.Cp=!1;this.P=("").concat(l.sq);this.aa=this.zV=!1;this.console=new c.platform.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(f.prototype,{bu:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return c.platform.time.now();},enumerable:!1,configurable:!0}});f.prototype.getTrackById=function(){};f.prototype.oh=function(){};f.prototype.X$a=function(){};f.prototype.lf=function(){return !0;};return f;})();b.VJa=r;},42477:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dPa=void 0;r=(function(){function a(c,l){var f;this.ma=c;this.sXa=l;f=l.stream;l=l.VLb;l=l();this.identifier=("").concat(f.J,"-").concat(f.mediaType,"-").concat(f.bitrate);this.mediaType=f.mediaType;this.kf=l.kf;this.Pd=l.Pd;this.ro=l.ro;this.uk=l.uk;this.Lk=l.Lk;this.kH=0;this.jH=Infinity;this.gq=this.$y=1;this.nL=0;this.groupId=("").concat(c.J);this.hr=!0;this.li=this.$m=!1;}a.prototype.f7=function(){return {result:!0};};a.prototype.sG=function(){var c,l;c=this.sXa;l=c.stream;if(l.rI(c.v))return (this.ma.b0b(l),{Hh:!0,reason:"success"});this.ma.a0b(this.sXa);return {Hh:!1,reason:"viewableTryIssueHeaderRequest"};};a.prototype.toJSON=function(){return {mediaType:this.mediaType,st:this.st,kf:this.kf,Pd:this.Pd,ro:this.ro,uk:this.uk,Lk:this.Lk,nL:this.nL,kH:this.kH,$y:this.$y,jH:this.jH,gq:this.gq,dt:this.dt,kO:this.kO,groupId:this.groupId,hr:this.hr,$m:this.$m,li:this.li,identifier:this.identifier};};return a;})();b.dPa=r;},10996:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nNa=void 0;r=a(12043);c=a(97810);l=r.platform.No;new r.platform.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function f(k,d,g){this.TV=g;this.ksb=new c.Ifa(k);this.na=d.na;this.Pob=1E3 * d.QSb / d.Uvb;this.RDb=d.tla;this.bTa=!1;}f.prototype.Xs=function(k){var d,g,n;d={s_xid:this.na,dl:this.RDb?1:0};k.XE && (d.bs=(0,c.uK)(Math.floor(k.XE / this.Pob) + 1,1,5));k.G8 && (d.limit_rate=k.G8);k.LTa && (d.bb_reason=k.LTa);k.reb && (d.tm=k.reb);if(k.A8a){g=k.A8a;n=g.Sp;"HYBRID" === n?(d.hybrid=g.QL.DNb,d.cspr=g.QL.Kt,d.cu=g.QL.zja,d.cldl=g.QL.Hva,d.h_ms=g.QL.RSb):"CCSP" === n && ((n=g.c7()) || !n && this.bTa) && (d.cpr_ss=g.qz,d.cpr_ca=g.Rx,d.cpr_rec=g.dz,this.bTa=n);}k.Yia && (d.br="" + k.Yia.start + "+" + k.Yia.size);return this.Oqb(d);};f.prototype.Ewa=function(k,d){var g,n;try{g=new l(void 0,"notification");n=this.Xs({LTa:k});d && n && g.open(d,void 0,2,void 0,void 0,void 0,n);}catch(h){this.TV("SideChannel: Error when sending sendBlackBoxNotification. Error: " + h);}};f.prototype.Oqb=function(k){var d;try{d=this.Hrb(k);return this.ksb.encrypt(d);}catch(g){this.TV("SideChannel: Error when obfuscating msg. Error: " + g);}};f.prototype.Hrb=function(k){return Object.keys(k).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(k[d]));}).join("&");};return f;})();b.nNa=a;},3863:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.RKa=void 0;r=a(5163);c=a(42866);l=a(12043);f=r.__importDefault(a(89956));k=f.default.mm;d=f.default.qs;g=a(27364);n=a(97810);h=r.__importDefault(a(76733));a=(function(){function m(p,q,u,t,w){this.Mt=p;this.tv=q;this.W=u;this.T=t;this.Be=w;}m.prototype.IUb=function(p){var q;q=p.v;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{I:q.id,offset:c.L.Na(this.Mt.gka).qa(q.me)},completePlayerStreamingTimestamp:c.L.Na(this.Mt.ES),trackIndex:p.stream.track.JE};(0,n.Lq)(this.tv,p.type,p);};m.prototype.KUb=function(p,q,u){var t,w,v;w=this.Be;v=this.Mt.Bo.uh;v.Zwa(p);w === g.u.Y && this.W.x$ && (void 0 === v.Dqa?v.gcb(l.platform.time.xa()):l.platform.time.xa() - v.Dqa > this.W.x$ && (p.bitrate !== v.H4a && (l.platform.storage.set("vb",p.bitrate),v.c3b(p.bitrate)),v.gcb(l.platform.time.xa())));v.v7 && v.v7 === p || (this.Mt.Bo.X4b(q,v.v7,p),v.R2b(p),q=0,p.Bb && p.Bb.confidence && p.Bb.nb && (q=p.Bb.nb.Ca),u={I:this.Mt.kb.v.id,offset:c.L.Na(u).qa(this.Mt.kb.v.me)},p={type:"streamSelected",nativetime:l.platform.time.xa(),mediaType:w,streamId:p.id,trackIndex:p.track.JE,streamIndex:p.pw,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (t=p.ma) || void 0 === t?void 0:t.X},(0,n.Lq)(this.tv,p.type,p));};m.prototype.FUb=function(p,q,u){var t,w,v,y;t=q.ma;w=t.Uk;v=this.Mt.Bo.uh;y=t.RPb(q);t=y.rqa;y=y.SPb;u && q.Ub && !v.XU?(y=d.Hu,q.au=d.name[y],this.F7a(p,q.Ub,q.au,q.location,q.bitrate),v.XU=q.Ub):!u && q.Ub && q.Ub !== v.XU && (y=y?void 0 === v.XU?d.Hu:w.HH === d.jea?d.Pnb:d.Vba:d.Onb,q.au=d.name[y],this.F7a(p,q.Ub,q.au,q.location,q.bitrate),v.XU=q.Ub);v.iM || (y={type:"logdata",target:"startplay",fields:{}},this.Be === k.fa?y.fields.alocid=q.location:this.Be === k.Y && (y.fields.locid=q.location),(0,n.Lq)(this.tv,y.type,y));u && q.location && !v.iM?(y=d.Hu,q.au=d.name[y],this.E7a(p,q.location,q.Wqa,q.Ub,q.uX,q.au,q.aw),v.iM=q.location):!u && q.location && q.location !== v.iM && (y=t?void 0 === v.iM?d.Hu:w.HH === d.jea?d.mlb:d.Vba:d.llb,q.au=d.name[y],this.E7a(p,q.location,q.Wqa,q.Ub,q.uX,q.au,q.aw),q.aw=void 0,v.iM=q.location);this.W.mH || (q.A4a=q.location,q.G4a=q.Ub);};m.prototype.Lsa=function(p){p={type:"requestsPruned",requests:p};(0,n.Lq)(this.tv,p.type,p);};m.prototype.F7a=function(p,q,u,t,w){var v,y;if(this.Be === k.Ga)this.T.warn("notifyServerSwitch ignored for MediaType.TEXT");else {y=(v={},v[g.u.fa]="audio",v[g.u.Y]="video",v[g.u.Ga]="subtitle",v)[this.Be];v=h.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:y,server:q,reason:u,location:t,bitrate:w,confidence:v.confidence};v.confidence && (p.throughput=v.nb.Ca);this.Mt.Bo.uh.XU && (p.oldserver=q);(0,n.Lq)(this.tv,p.type,p);}};m.prototype.E7a=function(p,q,u,t,w,v,y){var x,z;if(this.Be === k.Ga)this.T.warn("notifyServerSwitch ignored for MediaType.TEXT");else {z=(x={},x[g.u.fa]="audio",x[g.u.Y]="video",x[g.u.Ga]="subtitle",x)[this.Be];p={type:"locationSelected",segmentId:p,mediatype:z,location:q,locationlv:u,serverid:t,servername:w,selreason:v,seldetail:y};(0,n.Lq)(this.tv,"locationSelected",p);}};m.prototype.Hqb=function(p,q){p={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};(0,n.Lq)(this.tv,p.type,p);};m.prototype.OHb=function(p){(0,n.Lq)(this.tv,"transportReport",p);};m.prototype.NHb=function(p){(0,n.Lq)(this.tv,"mediaRequestComplete",p);};return m;})();b.RKa=a;},99739:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x;Object.defineProperties(b,{__esModule:{value:!0}});b.PKa=void 0;c=a(5163);l=a(12043);f=a(57055);k=a(42866);d=a(3863);g=a(57196);n=a(88577);h=a(27364);m=a(27364);p=a(88181);q=a(39266);u=a(97810);t=a(62558);r=a(551);w=a(55011);v=a(39656);y=a(39139);x=a(58628);a=(function(z){function A(B,C,D,F,G,E,I,M,L,K,O){var H;H=z.call(this,B) || this;H.W=C;H.us=G;H.Eq=E;H.Ypb=I;H.Xu=L;H.Ek=O;H.events=new f.EventEmitter();H.connected=!1;H.Toa=!1;H.ys=!1;H.cha=!1;H.q5=new n.jJa(H.mediaType,C,D,H);B="[" + H.mediaType + "]";H.T=(0,u.Jh)(l.platform,D,B);H.mA=H.T.error.bind(H.T);H.Ls=H.T.warn.bind(H.T);H.zx=H.T.trace.bind(H.T);H.c2=I.G;H.ksa=new Set();H.X3=0;H.Zo=new d.RKa(H,F,H.W,H.T,H.mediaType);H.Dq=new p.GMa(H,C,H.T,H.Zo,H.us,H.mediaType,H.Xu,function(){return H.ln;});C.tk && (H.tk=new q.ANa(C.tk,H.T));M && (H.Hj=K || (0,v.Wx)(H.mediaType,H.track.ma,H.W,H.T,H.track.aa,H.Zo.OHb.bind(H.Zo),H.Zo.NHb.bind(H.Zo),function(){}),H.Hj.on("created",function(){return H.events.emit("requestQueueCreated");}));return H;}c.__extends(A,z);Object.defineProperties(A.prototype,{mediaType:{get:function(){return this.Eq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{track:{get:function(){return this.Eq;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{kb:{get:function(){return this.us;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{I:{get:function(){return this.us.v.id;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ie:{get:function(){return this.Dq;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{oe:{get:function(){return this.Eq.oe;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{E3:{get:function(){return this.Dq.E3;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{g$:{get:function(){return this.Dq.g$;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{qn:{get:function(){return this.c2;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{gaa:{get:function(){return this.Ab || this.wy;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Kk:{get:function(){return this.Ie.Kk || this.gaa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ES:{get:function(){return this.Ie.ES;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{gka:{get:function(){return this.Ie.gka;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{oQb:{get:function(){var B;B=this.Ie.w4a;return null === B || void 0 === B?void 0:B.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{li:{get:function(){return !!this.ff && (this.Ov > this.ff.index || this.c2 >= this.ff.Wa.G);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ftb:{get:function(){return this.li && 0 === this.Ie.bD;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Zh:{get:function(){return this.li && 0 === this.Dq.aXb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Sta:{get:function(){var B;if(this.cha)return !0;if(!this.Zh)return !1;B=this.ZT();return this.cha || (this.cha=void 0 === B || B.Sta);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ptb:{get:function(){return !!this.Ie.w4a;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{KA:{get:function(){return this.Ie.KA;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Sr:{get:function(){return this.Lb?k.L.max(this.Lb.qa(this.TC),k.L.Ha):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{mL:{get:function(){return this.kb.mL;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Z4a:{get:function(){return this.hqb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{uh:{get:function(){return this.Bo.uh;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{eCb:{get:function(){return this.Ie.Ja.Ld;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{fo:{get:function(){return this.uh.fo;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{N:{get:function(){var B,C;return null !== (C=null === (B=this.$e) || void 0 === B?void 0:B.N) && void 0 !== C?C:1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{qb:{get:function(){var B;return null === (B=this.$e) || void 0 === B?void 0:B.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ub:{get:function(){var B;return null === (B=this.ff) || void 0 === B?void 0:B.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ln:{get:function(){return this.kb.ve.$c(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Voa:{get:function(){return this.Ie.Voa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ow:{get:function(){return this.Ie.ow;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Cxa:{get:function(){return this.Ie.Cxa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{wy:{get:function(){return this.Ypb.add(this.kb.ve);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Bo:{get:function(){return this.kb.xoa(this.mediaType);},enumerable:!1,configurable:!0}});A.prototype.JR=function(){var B;B=this;this.Dq.JR(function(C){var D,F;F=C[0];C=null === (D=F.Ka) || void 0 === D?void 0:D.G;D=F.index;D < B.Ov && B.LH(C,D);});};A.prototype.reset=function(){this.Ie.reset();this.$e && this.LH(this.$e.Ka.G,this.$e.index);this.Hj && this.kb.ma.IR(this.mediaType,this.Hj);};A.prototype.Df=function(B){var C;this.ys=!0;this.Dq.Df(B);null === (C=this.Bo) || void 0 === C?void 0:C.uh.Oa();this.Hj && (this.kb.ma.IR(this.mediaType,this.Hj),y.rD.instance.p4(this.Hj),this.Hj.removeAllListeners(),this.Hj=void 0);};A.prototype.toJSON=function(){return {started:this.ow,startOfSequence:this.Cxa,segmentId:this.I,requestedBufferLevel:this.g$,viewableId:this.us.ma.J,hasFragments:this.Voa};};A.prototype.un=function(B){return this.Ie.un(B);};A.prototype.LH=function(B,C){this.c2=B;this.Ov=C;};A.prototype.CB=function(){return this.Ie.CB();};A.prototype.ZT=function(){return this.kb.N0a(this.mediaType);};A.prototype.yK=function(B){return (B=this.Ie.fHb(B.G))?B.complete:!1;};Object.defineProperties(A.prototype,{kf:{get:function(){return this.us.kf;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{TC:{get:function(){var B,C;return this.Ie.TC || (null === (C=null === (B=this.$e) || void 0 === B?void 0:B.Ka) || void 0 === C?void 0:C.add(this.kb.ve)) || this.wy;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{sdb:{get:function(){return k.L.Na(this.c2);},enumerable:!1,configurable:!0}});A.prototype.Reb=function(B,C,D){var F;(0,t.assert)(this.Hj);(0,t.assert)(!this.ys,"pipeline.tryIssueRequest on disabled pipeline");(0,t.assert)(!this.$m(),"pipeline.tryIssueRequest on done pipeline");(0,t.assert)(!this.li);if(!B.Fh)return (B=B.rI(this.kb.v,this.Hj))?{Hh:B,reason:"success"}:{Hh:B,reason:"pipelineTryIssueHeaderRequest"};if(B.aa)((0,t.assert)(this.track.aa,"Unexpected live stream."),B=this.h7b(B,this.Hj,D));else {F=B.WJb();(0,t.assert)(F,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(B.Fh,", headerFragments:").concat(F));B=this.i7b(B,F,this.Hj,C,D);}this.Axb();return B;};A.prototype.DU=function(B,C){B && (this.$e=B);C && (this.ff=C);(0,t.assert)(this.$e);(0,t.assert)(this.ff);(0,t.assert)(void 0 === this.Ov);this.LH(this.$e.Ka.G,this.$e.index);};A.prototype.truncate=function(B){var C;C=this;(0,t.assert)(this.$e,"expected first fragment to exist on updateStreaming");this.ff=B;this.li && (B=c.__read(this.Dq.osb(B),2),this.LH(B[0],B[1]),this.li && (this.Ie.Ibb(),this.Ie.GUa(),Promise.resolve(function(){C.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:C.mediaType});})));};A.prototype.hr=function(){return this.$m()?!1:this.Pg()?!0:this.track.MV;};A.prototype.Pg=function(){return void 0 !== this.$e && void 0 !== this.ff;};A.prototype.$m=function(){return this.ys || this.Ftb;};A.prototype.M3a=function(){var B,C,D;D=this.W.so;if(null === (B=this.Hj) || void 0 === B?0:B.track)D=null === (C=this.Hj) || void 0 === C?void 0:C.track.so;return D;};Object.defineProperties(A.prototype,{L9a:{get:function(){var B;B=!0;this.W.Nva && (B=this.connected);this.W.Mva && (B=B && this.Toa);return B;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{wWb:{get:function(){return void 0 !== this.tk;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{r8a:{get:function(){var B;return (null === (B=this.tk) || void 0 === B?0:B.s3())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});A.prototype.Ar=function(B,C){this.Zo.IUb(B);"oncomplete" === this.W.M2a && (this.Toa=!0);this.X3=0;this.HF(B,C);};A.prototype.WM=function(B){var C,D;B.He || this.Zo.KUb(B.stream,null === (C=B.Ab) || void 0 === C?void 0:C.G,null === (D=B.Ka) || void 0 === D?void 0:D.G);this.Zo.FUb(this.I,B.stream,B.He);this.o5(B);};A.prototype.VM=function(B){this.connected=!0;"onfirstbyte" === this.W.M2a && (this.Toa=!0);this.AT(B);};A.prototype.d0a=function(B){var C,D;C=this.Ie.Ja;if(0 === C.length)return {Ja:[],m9:0,Br:0,zN:0};D=C.sT(B.G);0 > D && (D=void 0 === C.Ab || B.G <= C.Ab.G?0:C.length);return {Ja:C.V1b(D),m9:Math.max(0,C.AVa - D),Br:C.Br,zN:C.zN};};A.prototype.zB=function(){return this.track.zB();};A.prototype.RKb=function(B){return Math.min(this.oe.indexOf(B.stream) + 1,this.oe.length);};A.prototype.U7b=function(B,C){var D,F;D=this;if(C){if(this.W.nM)if((C=this.oe.indexOf(B.stream),-1 === C))this.mA("reissueLiveRequest: stream not found in stream list, falling back to first stream");else if((C=this.oe[0 < C?Math.max(C - 1,0):Math.min(1,this.oe.length - 1)],B.rxb(C),!C.Fh)){F=this.Kk.G;this.kb.ma.Obb(C,this.kb.v,function(){return {kf:D.kf,Pd:h.Rc.rl,ro:F,uk:F,Lk:D.Xu.sa.currentTime.G};});}}else this.un(!C);};A.prototype.$sb=function(B){this.ksa.add(B);this.X3+=1;this.hqb=this.ksa.size;this.Ie.z0b(B);this.events.emit("liveMissingSegment",{type:"liveMissingSegment",I:B.index,mediaType:this.mediaType});this.W.iT && this.Ov === B.index && this.LH(B.Wa.G,this.Ov + 1);};A.prototype.KKb=function(){var B,C;(0,t.assert)(this.track.aa,"Unexpected live stream.");B=Array.from(this.ksa).reduce(function(D,F){return void 0 !== F.Rg && (void 0 === (null === D || void 0 === D?void 0:D.Rg) || D.Rg < F.Rg)?F:D;},void 0);if(B && void 0 !== B.Rg){C=B.Rg + 1;return B.stream.Tm().MT(C).Ka;}};A.prototype.i7b=function(B,C,D,F,G){var E,I,M,L,K,O,H,J,N,R;H=this.us;J=H.ma;N=this.mediaType;R=this.Ov;if(R >= C.length)return (this.Ls("makeRequest nextFragmentIndex:",R,"past fragments length:",C.length),{Hh:!1,reason:"insufficientFragments"});if(!this.$e || !this.ff)return (this.Ls("makeRequest delayed, first or last fragment not set","first:",!!this.$e,"last:",!!this.ff),{Hh:!1,reason:"noFirstOrLastFragment"});C=N === m.u.fa && !!this.W.jz && (null === (E=this.kb.v.v) || void 0 === E?void 0:E.et) && this.$e.Ld.G < this.W.jz && void 0 !== this.$e.Ia;E=N === m.u.fa && !!this.W.jz && (null === (I=this.kb.v.v) || void 0 === I?void 0:I.Vn) && this.ff.Ld.G < this.W.jz && void 0 !== this.ff.Ia;I=this.q5.c0a(B,R,C,E);if(N === m.u.fa && this.W.jz){if(null === (M=this.kb.v.v) || void 0 === M?0:M.et)I.xv?I.Tbb():I.index === this.$e.index + 1 && this.$e.Ld.G < this.W.jz && void 0 !== this.$e.Ia && I.Tbb(this.$e.Ia.end - this.$e.Ia.start);if(null === (L=this.kb.v.v) || void 0 === L?0:L.Vn)I.Qk?I.Ubb():I.index === this.ff.index - 1 && this.ff.Ld.G < this.W.jz && void 0 !== this.ff.Ia && I.Ubb(this.ff.Ia.end - this.ff.Ia.start);}if(this.Ek && !this.Ek.JUa(this.mediaType,I.wa))return {Hh:!1,reason:this.mediaType === m.u.Y?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.Aqa=I.region;I.$t=G;null === (K=this.tk) || void 0 === K?void 0:K.dOb(I,B);I.Qk && N === m.u.Y && this.Zo.Hqb(H.v,I.Lb.G);this.W.IG && (I.IG=this.W.IG);I.location=B.location;I.Qc=B.Ub;I.ijc=B.au;(G=H.ma.X$) && "OPEN_CONNECT_APPLIANCE" === B.Kr && (M=this.W.iFb && this.mediaType === m.u.Y && this.W.so,I.wH=this.W.H4 || N === m.u.fa && this.W.E4 || N === m.u.Y && this.W.F4?F:void 0,I.NH=G.Xs({XE:H.Xn(this.mediaType),G8:this.W.cFb?this.W.G8:void 0,reb:String(l.platform.time.xa()),A8a:F,Yia:M?{start:I.offset,size:I.wa}:void 0}));l.platform.time.xa();D=this.Ie.tWa(I,D,B);if(!D.open()){this.Ls("MediaRequest.open error: " + D.Uf + " native: " + D.Vi);if(D.aborted)return {Hh:!1,reason:"requestAborted"};this.Ls("makeRequest caught:",D.Uf);J.lf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Hh:!1,reason:"openAseMediaRequest"};}null === (O=this.tk) || void 0 === O?void 0:O.FFb(D,I,B);this.LH(D.Wa.G,I.PV);return {Hh:!0,reason:"success"};};A.prototype.h7b=function(B,C,D){var F,G,E,I,M,L,K,O,H;E=this.us;I=E.ma;M=this.Ov;L=B.Tm();K=L.MT(M);O=K.Ka;K=K.Wa;if(K.G > L.PWa)return {Hh:!1,reason:"exceedsLiveEdge"};if(this.Ek && !this.Ek.JUa(this.mediaType,0))return {Hh:!1,reason:this.mediaType === m.u.Y?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};if((L=M === (null === (F=this.ff) || void 0 === F?void 0:F.index)) && this.mediaType === m.u.fa && (F=this.kb.Sd(m.u.Y)) && F.ff)H=F.ff.Wa.G;F=M === (null === (G=this.$e) || void 0 === G?void 0:G.index);G=this.mediaType === m.u.Ga?0:this.mediaType === m.u.fa && F?0:void 0;D={Rg:M,index:M,qb:O.ja,ub:K.ja,N:B.N,offset:0,wa:0,$t:D,xv:F,Qk:L,kz:{$d:E.v.M_a(),dM:E.v.aY},qw:H,responseType:G};B=this.Ie.tWa(D,C,B);if(!B.open()){this.Ls("MediaRequest.open error: " + B.Uf + " native: " + B.Vi);if(B.aborted)return {Hh:!1,reason:"requestAborted"};this.Ls("makeRequest caught:",B.Uf);I.lf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Hh:!1,reason:"openAseMediaRequest"};}this.LH(K.G,this.Ov + 1);return {Hh:!0,reason:"success"};};A.prototype.Axb=function(){this.li && (this.Ie.Ibb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return A=c.__decorate([x.rL],A);})(g.hD);b.PKa=a;(0,w.xk)(r.Ew,a);},57903:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.NAa=void 0;c=a(5163);r=a(57055);l=a(42866);f=a(42866);k=a(12043);d=a(49730);g=a(62663);n=a(31549);h=a(55759);m=a(91829);p=a(1918);q=a(77029);u=a(62558);t=a(37096);w=a(97810);a=(function(v){function y(){var x;x=null !== v && v.apply(this,arguments) || this;x.kRa=0;x.jha=0;x.l1=0;x.Yfa=0;return x;}c.__extends(y,v);y.prototype.Jva=function(x){var z,A,B,C;v.prototype.Jva.call(this,x);this.kRa++;this.jha++;this.FRa=k.platform.time.xa();this.FJ || (this.FJ={Wyb:null === (z=x.Wa) || void 0 === z?void 0:z.G,K3:null === (A=x.Ka) || void 0 === A?void 0:A.G,index:x.index},this.y1 || (this.y1=this.FJ));z=this.I1;A=!1;z && 100 > Math.abs(z.Lb.G - (null === (B=x.Ab) || void 0 === B?NaN:B.G)) && (this.l1+=x.Lb.G - z.Lb.G,this.Yfa++,A=!0);A || (this.l1=null === (C=x.Ld) || void 0 === C?void 0:C.G,this.Yfa=1);this.I1=x;};y.prototype.stop=function(){v.prototype.stop.call(this);this.jha=0;this.FJ=void 0;};y.prototype.m0a=function(){var x,z,A,B,C;z=this.Hs;A=z.W3;if(A){C=A.Sd(this.Be);C && C.Ie && (B=C.Ie.a1a());return {RM:B,currentBranch:{sId:A.v && A.v.id,cancelled:A.Qd},currentReceivedCount:z && z.cCb,totalReceivedCount:this.kRa,currentState:z && z.MWa || "Uninitialized",lastRequestPushed:this.I1 && ({contentEndPts:null === (x=this.I1.Wa) || void 0 === x?void 0:x.G,fragmentIndex:this.I1.index}),tslp:this.FRa && k.platform.time.xa() - this.FRa,cpts:this.l1,crq:this.Yfa,rslp:this.jha,firstRequestSSPushed:this.FJ && ({contentStartPts:this.FJ.K3,fragmentIndex:this.FJ.index}),firstRequestPushed:this.y1 && ({contentStartPts:this.y1.K3,fragmentIndex:this.y1.index})};}};return y;})((function(v){function y(x,z,A,B,C,D,F,G,E,I,M){var L;L=v.call(this) || this;L.dg=x;L.Be=z;L.W=B;L.T=C;L.Z=D;L.kua=F;L.yd=G;L.jl=E;L.sA=new f.rq(!1);L.pA=new f.rq(l.L.Na(-Infinity));L.T=(0,w.Jh)(k.platform,L.T,("AsePlayerBuffer [").concat(z,"]:"));L.Hs=new g.BBa(L.T,A,z);L.resume();D && F && G && (M?(L.zC=M,M.hv(D,G,L.dg)):L.jWa(),x=new m.wEa(null === D || void 0 === D?void 0:D.yd,l.L.Na(L.W.r8),C),L.Hs.s2(x),L.W.TSa && (D=new p.TJa(null === D || void 0 === D?void 0:D.yd,L.W.TSa,l.L.Na(L.W.$tb),C),L.Hs.s2(D)),I && (L.sRa=new q.aNa(I,L.mediaType,C),L.Hs.s2(L.sRa)),d.K && L.W.XEb && (C=new t.hHa(C),L.Hs.s2(C)));L.dg.on("requestAppended",function(K){L.sA.set(!0);K.request.Lb && L.pA.set(K.request.Lb);L.emit("requestAppended");});return L;}c.__extends(y,v);Object.defineProperties(y.prototype,{xr:{get:function(){return this.sA;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{r7:{get:function(){return this.pA;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ROb:{get:function(){return this.Hs.ji;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{OH:{get:function(){return this.dg.endOfStream;},enumerable:!1,configurable:!0}});y.prototype.jWa=function(){(0,u.assert)(this.Z && this.kua && this.yd,"Player should be defined");this.zC && this.zC.rta();this.zC=new h.iMa(this.Be,this.T,this.Z,this.dg,this.Z.events,this.kua,this.yd,this.jl);};Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.Be;},enumerable:!1,configurable:!0}});y.prototype.m0a=function(){};y.prototype.resume=function(){d.K && this.T.trace("resume");this.Vcb();};Object.defineProperties(y.prototype,{Jub:{get:function(){return this.xJ;},enumerable:!1,configurable:!0}});y.prototype.AX=function(){this.dg.K8(!0);};y.prototype.reset=function(x,z){var A,B,C;void 0 === x && (x=!1);d.K && this.T.trace("AsePlayerBuffer.reset mediaTypes:",z);this.stop();this.dg.reset(x);this.sA.set(!1);this.pA.set(l.L.Na(-Infinity));x || (this.xJ=void 0,null === (A=this.zC) || void 0 === A?void 0:A.reset(),x=null === (B=this.Z) || void 0 === B?void 0:B.Bg,null === (C=this.sRa) || void 0 === C?void 0:C.HVb(x,z || x));};y.prototype.mf=function(x){void 0 === x && (x=!1);d.K && this.T.trace("restart");this.reset(x);this.Vcb(!0);};y.prototype.stop=function(){d.K && this.T.trace("stop");this.Hs.edb();};y.prototype.close=function(){var x;d.K && this.T.trace("close");null === (x=this.zC) || void 0 === x?void 0:x.close();};y.prototype.Oa=function(){this.stop();this.close();};y.prototype.YV=function(){this.W.Wma && this.dg.DHb();this.dg.B4();};y.prototype.OC=function(x){this.dg.OC(x);};y.prototype.rHb=function(x){this.dg.AUb(x);};y.prototype.bi=function(x){var z;return !(null === (z=this.zC) || void 0 === z || !z.bi(x));};y.prototype.Vcb=function(x){if(!this.Hs.ji || x)(this.Hs.X0b(),n.AsyncIterator.k7(this.Hs,this.$Pb.bind(this)));};y.prototype.$Pb=function(x){x.done || this.Jva(x.value);};y.prototype.Jva=function(x){var z,A,B,C,D,F,G,E;d.K && this.T.trace(("requestReceived: ").concat(null === (z=this.Hs.W3) || void 0 === z?void 0:z.v.id) + (" ").concat(x.toString(),", edit: ").concat(JSON.stringify(x.Ia)));this.dg.endOfStream?d.K && this.T.error("Buffer manager has declared EOS, ignoring request",x.toString()):(this.xJ?(this.xJ.qQb=null === (F=x.Wa) || void 0 === F?void 0:F.G,this.xJ.sQb=null === (G=x.Lb) || void 0 === G?void 0:G.G,this.xJ.B4a=x.Lb):this.xJ={cgc:null === (A=x.Ka) || void 0 === A?void 0:A.G,dgc:null === (B=x.Ab) || void 0 === B?void 0:B.G,qQb:null === (C=x.Wa) || void 0 === C?void 0:C.G,sQb:null === (D=x.Lb) || void 0 === D?void 0:D.G,B4a:x.Lb},x.xv && x.stream.track.Ol && (null === (E=this.Z) || void 0 === E || !E.LU(x.ma.J)) && this.emit("drmNeeded",{J:x.ma.J,Yp:x.Ab}),this.dg.Gub(x));};return y;})(r.EventEmitter));b.NAa=a;},13407:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.eZ=void 0;c=a(5163);l=a(62558);r=a(55011);f=a(46892);a=a(551);k=(function(){function d(g,n){this.Va=[];this.Re=void 0;this.ic=0;this.T=g;n && n.length && (Array.isArray(n)?(this.Va=n.slice(),this.FQ(0,this.Va.length)):n instanceof d && (this.Va=n.Va.slice(),this.FQ(0,this.Va.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Va.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Va.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Va[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Td:{get:function(){return this.Va[this.Va.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qb:{get:function(){return this.first && this.first.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ub:{get:function(){return this.Td && this.Td.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oq:{get:function(){return this.Re;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wa:{get:function(){return this.ic;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{N:{get:function(){return this.first && this.first.N;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ln:{get:function(){return this.first && this.first.ln;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ja:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});d.prototype.I7b=function(g){this.ic+=g;};d.prototype.fvb=function(){var g;if(0 === this.Va.length)((0,l.assert)(void 0 === this.Re),(0,l.assert)(0 === this.ic));else {(0,l.assert)(this.Re instanceof f.Mz);(0,l.assert)("number" === typeof this.ic);(0,l.assert)(void 0 !== this.Oq && this.Oq.qb === this.qb);g=this.Va.reduce(function(n,h,m){return 0 === m || h.qb === n?h.ub:n;},0);(0,l.assert)(this.Oq.ub === g);(0,l.assert)(this.Va.reduce(function(n,h,m){return 0 === m || h.qb === n?h.ub:n;},0) === this.Oq.ub);(0,l.assert)(this.Va.reduce(function(n,h){return n + h.wa;},0) === this.ic);}};d.prototype.get=function(g){0 > g && (g+=this.Va.length);return this.Va[g];};d.prototype.push=function(g){this.Va.push(g);this.FQ(this.Va.length - 1);return this.length;};d.prototype.unshift=function(g){this.Va.unshift(g);this.FQ(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Va.length)return (this.hha(this.Va.length - 1),this.Va.pop());};d.prototype.shift=function(){if(0 !== this.Va.length)return (this.hha(0),this.Va.shift());};d.prototype.splice=function(g,n){for(var h,m=[],p=2;p < arguments.length;p++){m[p - 2]=arguments[p];}0 > g && (g+=this.Va.length);0 > g && (g=0);g > this.Va.length && (g=this.Va.length);if(void 0 === n || 0 > n)n=0;n=Math.min(n,this.Va.length - g);0 < n && this.hha(g,g + n);p=(h=this.Va).splice.apply(h,c.__spreadArray([g,n],c.__read(m),!1));0 < m.length && this.FQ(g,g + arguments.length - 2);return p;};d.prototype.slice=function(g,n){void 0 === g && (g=0);void 0 === n && (n=this.Va.length);0 > g && (g+=this.Va.length);if(g >= this.Va.length)return new d(this.T);n > this.Va.length && (n=this.Va.length);0 > n && (n+=this.Va.length);return new d(this.T,this.Va.slice(g,n));};d.prototype.xt=function(g){if(0 === this.Va.length || g.qb >= this.ub)this.push(g);else if(g.ub <= this.qb)this.unshift(g);else {for(var n=0,h=this.Va.length - 1,m;n < h - 1;){m=Math.floor((h + n) / 2);(0,l.assert)(m !== h && m !== n);g.qb >= this.Va[m].ub?n=m:h=m;}(0,l.assert)(n !== h);(0,l.assert)(this.Va[n].ub <= g.qb && this.Va[h].qb >= g.ub);this.splice(h,0,g);}};d.prototype.remove=function(g){g=this.Va.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],n=0;n < arguments.length;n++){g[n]=arguments[n];}g=g.map(function(h){return h.Va;});return new d(this.T,Array.prototype.concat.apply(this.Va,g));};d.prototype.forEach=function(g){var n;n=this;this.Va.forEach(function(h,m){return g(h,m,n);});};d.prototype.some=function(g){var n;n=this;return this.Va.some(function(h,m){return g(h,m,n);});};d.prototype.every=function(g){var n;n=this;return this.Va.every(function(h,m){return g(h,m,n);});};d.prototype.map=function(g){var n;n=this;return this.Va.map(function(h,m){return g(h,m,n);});};d.prototype.reduce=function(g,n){var h;h=this;return this.Va.reduce(function(m,p,q){return g(m,p,q,h);},n);};d.prototype.indexOf=function(g){return this.Va.indexOf(g);};d.prototype.find=function(g){var n,h;n=this;return this.Va.some(function(m,p){h=p;return g(m,p,n);})?this.Va[h]:void 0;};d.prototype.findIndex=function(g){var n,h;n=this;return this.Va.some(function(m,p){h=p;return g(m,p,n);})?h:-1;};d.prototype.filter=function(g){var n;n=this;return new d(this.T,this.Va.filter(function(h,m){return g(h,m,n);}));};d.prototype.l5=function(g){for(var n=this.Va.length - 1;0 <= n;--n){g(this.Va[n],n,this);}};d.prototype.wxa=function(g){for(var n=this.Va.length - 1;0 <= n;--n){if(g(this.Va[n],n,this))return !0;}return !1;};d.prototype.Dma=function(g){if(this.empty || g < this.Ka.G || g >= this.Wa.G)return -1;for(var n=0,h=this.Va.length - 1,m;h > n;){m=Math.floor((h + n) / 2);if(g >= this.Va[m].Ka.G && g < this.Va[m].Wa.G){h=m;break;}g < this.Va[m].Wa.G?h=m - 1:n=m + 1;}return h;};d.prototype.sT=function(g){if(this.empty || g < this.Ab.G || g >= this.Lb.G)return -1;for(var n=0,h=this.Va.length - 1,m;h > n;){m=Math.floor((h + n) / 2);if(g >= this.Va[m].Ab.G && g < this.Va[m].Lb.G){h=m;break;}g < this.Va[m].Lb.G?h=m - 1:n=m + 1;}return h;};d.prototype.oZa=function(g){g=this.sT(g);return 0 <= g?this.Va[g]:void 0;};d.prototype.update=function(){this.Re && (this.Re.z2b(this.qb),this.FR(0));};d.prototype.FR=function(g){var n;n=this.Va[g].ub;for(g+=1;g < this.Va.length && n === this.Va[g].qb;++g){n=this.Va[g].ub;}g < this.Va.length?void 0 === this.Re?this.Re=new f.Mz(this,{ub:n}):this.Re.VN(n):void 0 === this.Re?this.Re=new f.Mz(this,{}):this.Re.x3();};d.prototype.uJ=function(g,n){for(var h=g;h < n;++h){this.ic+=this.Va[h].wa;}void 0 === this.Re || 0 === g?this.FR(0):this.Re.ub === this.ub?this.FR(g - 1):this.Va[g].qb === this.Re.ub && this.FR(g);};d.prototype.wx=function(g,n){var h;if(0 === g)(this.Re=void 0,n < this.length && this.FR(n));else {h=this.Re;h.ub > this.Va[g - 1].ub && (n < this.length?h.VN(this.Va[g - 1].ub):h.x3());}for(;g < n;++g){this.ic-=this.Va[g].wa;}};d.prototype.FQ=function(g,n){void 0 === n && (n=g + 1);this.uJ(g,n);};d.prototype.hha=function(g,n){void 0 === n && (n=g + 1);this.wx(g,n);};return d;})();b.eZ=k;(0,r.xk)(a.Ew,k);},29930:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Hba=void 0;c=a(5163);l=a(12043);a(62558);r=a(55011);f=c.__importDefault(a(89956));k=a(35195);d=a(64406);g=l.platform.No;n=a(83350);a=(function(h){var R8;R8=2;for(;R8 !== 3;){switch(R8){case 14:return m;break;case 4:return m;break;case 2:c.__extends(m,h);m.create=function(p,q,u,t,w,v,y,x){var x$v;x$v=2;for(;x$v !== 1;){switch(x$v){case 2:return !q.tk && t.Ia && p.mediaType === f.default.mm.Y?new n.Qba(p,u,t,w,v,q,y,x):new m(p,u,t,w,v,q,y,x);break;}}};m.prototype.toString=function(){var F44;F44=2;for(;F44 !== 1;){switch(F44){case 2:var E$f="I";E$f+="D";E$f+=":";E$f+=" ";return E$f + this.Ti() + ":" + k.mq.prototype.toString.call(this);break;}}};R8=4;break;}}function m(p,q,u,t,w,v,y,x){var c9g,z;c9g=2;for(;c9g !== 7;){switch(c9g){case 4:q=h.call(this,p,q,z,u,t,w,v,y) || this;q.Qy=!1;k.mq.Cb(q,p,w,u,x);c9g=8;break;case 2:var w2H="m";w2H+="e";w2H+="di";w2H+="a";var x2q="m";x2q+="e";x2q+="dia(edit)";var G85="1S";G85+="I";G85+="YbZrNJC";G85+="p9";G85;z=u.Ia?x2q:w2H;void 0 === u.responseType && (u.responseType=u.Ia || g.uf && !g.uf.Wva.ffa?0:1);c9g=4;break;case 8:return q;break;}}}})(d.fZ);b.Hba=a;(0,r.xk)(k.mq,a,!1);},35195:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.mq=void 0;c=a(5163);l=a(42866);f=a(62558);k=c.__importDefault(a(89956));d=a(94656);r=a(55011);g=a(89755);n=a(69028);h=a(46892);a=a(551);m=(function(p){function q(u,t,w,v){var y;y=p.call(this,u,w) || this;q.Cb(y,u,t,w,v);return y;}c.__extends(q,p);q.Cb=function(u,t,w,v,y){var x;n.EI.Fpa(u,t,v);u.fg=v.index;u.lA=v.qb;u.As=v.ub;u.hsb=v.xb?v.xb:t.xb;u.kz=v.kz;u.v=w;u.aoa=y;u.TPa=!!v.xv;u.qQa=!!v.Qk;u.gRa=null !== (x=v.region) && void 0 !== x?x:0;u.SPa=!!v.Sma;u.pQa=!!v.Dt;u.Ma=void 0 === v.p5 || void 0 === v.dna || v.p5 === v.qb && v.dna === v.ub?u:new h.Mz(u,{qb:v.p5,ub:v.dna});u.xqb=v.msa;u.Iob=v.sj;u.Tpb=t.t6;u.zh=v.Ia?u.y7a(v.Ia):void 0;u.ERa=v.qw;u.aS=!1;u.bQa=!1;u.xo=[];};q.wWa=function(u){for(var t=new Uint32Array(u.length),w=new Uint32Array(u.length),v=new Uint8Array(u.length),y=new Uint8Array(u.length),x=0,z,A,B=0;B < u.length;++B){z=u[B];A=z.ic;t[B]=z.As - z.lA;w[B]=A;v[B]=z.stream.pw;void 0 !== z.xb && null !== z.xb && (y[B]=z.xb);x+=A;}return new d.jfa(t,w,u.length?u[0].N:1E3,x);};Object.defineProperties(q.prototype,{SOb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zt:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.fg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xb:{get:function(){return this.hsb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wia:{get:function(){return 8 * this.wa / this.Ld.G;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qb:{get:function(){return this.lA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ub:{get:function(){return this.As;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ln:{get:function(){var u,t;return null !== (t=null === (u=this.aoa) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xv:{get:function(){return this.TPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qk:{get:function(){return this.qQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.gRa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Sma:{get:function(){return this.SPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Dt:{get:function(){return this.pQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{msa:{get:function(){return this.xqb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sj:{get:function(){return this.Iob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ia:{get:function(){return this.zh;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qw:{get:function(){return this.ERa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ewa:{get:function(){return this.zh?this.zh.end - this.zh.start:this.jt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{p5:{get:function(){return this.Ma.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{dna:{get:function(){return this.Ma.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{QHb:{get:function(){return this.Ma.jB;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qL:{get:function(){return this.Ma.Ka;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ena:{get:function(){return this.Ma.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jt:{get:function(){var u;u=this.QHb;(0,f.assert)(u);return u / this.stream.za.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Roa:{get:function(){return this.bQa;},enumerable:!1,configurable:!0}});q.prototype.M7b=function(u,t){(0,f.assert)(u.N === this.N,"Cannot change content timestamp timescale");(0,f.assert)(t.N === this.N,"Cannot change content timestamp timescale");this.lA=u.ja;this.As=t.ja;};q.prototype.iSb=function(){this.TPa=!0;};q.prototype.L5a=function(){this.qQa=!0;};q.prototype.$2b=function(u){this.kz={$d:u.M_a(),get dM() {return u.aY;}};};q.prototype.XN=function(u){this.ERa=u;};q.prototype.X2b=function(u,t,w){this.gRa=u;this.SPa=t;this.pQa=w;};q.prototype.Bi=function(u){var t,w;void 0 === u && (u={});t=this.stream.za.ja;w=this.zh || ({start:0,end:this.jt});u=this.y7a(u);this.Ma && this.Ma !== this || (this.Ma=new h.Mz(this,this));u.start > w.start && (this.lA=this.Ma.qb + u.start * t);u.end < w.end && (this.As=this.Ma.qb + u.end * t);this.zh=c.__assign(c.__assign({},w),u);};q.prototype.Ala=function(u){void 0 === u && (u=1);this.zh?this.Bi({start:this.zh.start + u,end:this.zh.end}):this.Bi({start:u});};q.prototype.C4=function(u){this.zh?this.Bi({start:this.zh.start,end:(this.zh.end || 0) - u}):this.Bi({start:0,end:-u});};q.prototype.ci=function(){this.Ia?this.Bi({start:this.Ia.start,end:this.Ia.start}):this.Bi({start:0,end:0});};q.prototype.a3b=function(u){this.zh || this.Bi();this.zh.$$=u;};q.prototype.Tbb=function(u){this.zh || this.Bi();this.zh.et=!0;u && (this.zh.ZYa=u);};q.prototype.Ubb=function(u){this.zh || this.Bi();this.zh.Vn=!0;u && (this.zh.$Ya=u);};q.prototype.wZa=function(u){var w;if(!(u < this.Ka.G || u >= this.Wa.G) && this.sj && this.sj.length){u=new l.L(u + 1 - this.Ka.G,1E3).ih(this.stream.za);for(var t=this.sj.length - 1;0 <= t;--t){w=this.sj[t];if(w.Kj <= u)return w;}return {Kj:0,ye:this.qL.G};}};q.prototype.iHb=function(u){var w;if(!(u < this.Ka.G || u >= this.Wa.G) && this.sj && this.sj.length){u=new l.L(u + 1 - this.Ka.G,1E3).ih(this.stream.za);for(var t=this.sj.length - 1;0 <= t;--t){w=this.sj[t];if(w.Kj <= u)return w;}return {Kj:0,ye:this.qL.G};}};q.prototype.mZa=function(u,t){var w,v,y;if(!(u < this.Ka.G || u >= this.Wa.G)){if(!t && this.Tpb)return {Kj:0,ye:this.Ka.G};w=this.za.ja;v=this.za.N;y=Math.floor(this.jB / w);u=Math.min((t?Math.ceil:Math.floor)((l.L.$6a(u,v) - this.qb + (t?-1:1) * (v / 1E3 - 1)) / w),y);w=l.L.tya(this.qb + u * w,v);return u === y?void 0:{Kj:u,ye:w};}};q.prototype.gHb=function(u){return this.mediaType === k.default.mm.Y?this.wZa(u):this.mZa(u,!1);};q.prototype.Hma=function(u){return this.mediaType === k.default.mm.Y?this.iHb(u):this.mZa(u,!0);};q.prototype.q3a=function(){return 0 < this.xo.length;};q.prototype.noa=function(){(0,f.assert)(!this.eX,"Should not get response iterator more than once");this.eX=new g.iD(this.console);return this.eX.getIterator();};q.prototype.Yua=function(u,t){this.eX?(this.eX.enqueue(u),t && this.eX.AF()):this.xo.push(u);this.bQa=t;};q.prototype.yN=function(){this.xo=[];};q.prototype.dia=function(u){this.ic+=u.wa;this.As=u.ub;this.zh && (this.Ma=new h.Mz(this,{qb:this.p5,ub:this.As}),this.zh.end=this.jt);};q.prototype.qab=function(u){var t,w,v;t={type:"logdata",target:"endplay",fields:{}};w=this.mediaType === k.default.mm.fa?"audioedit":"videoedit";v=this.qL.equal(this.Ka);v=[v?this.Wa.G:this.Ka.G,v?-this.Ld.G:this.Ld.G];u && v.push(u);t.fields[w]={type:"array",value:v};return t;};q.prototype.toString=function(){return ("[").concat(this.Gb,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.Ka.G,"-").concat(this.Wa.G,",") + ("p:").concat(this.Ab.G,"-").concat(this.Lb.G,",d:").concat(this.Ld.G,"]");};q.prototype.toJSON=function(){return {movieId:this.P,streamId:this.Gb,bitrate:this.bitrate,index:this.index,startPts:this.Ka.G,endPts:this.Wa.G,contentStartPts:this.Ka.G,contentEndPts:this.Wa.G,fragmentStartPts:this.qL.equal(this.Ka)?void 0:this.qL.G,fragmentEndPts:this.ena.equal(this.Wa)?void 0:this.ena.G,edit:this.Ia};};q.prototype.vZa=function(u){var w;if(this.sj)for(var t=0;t < this.sj.length;++t){if(this.sj[t].Kj === u)w=this.sj[t].offset;}return w;};q.prototype.y7a=function(u){var t,w;t=Math.max(u.start || 0,0);w=void 0 === u.end?this.jt:Math.min(this.jt,Math.max(t,0 > u.end?this.jt + u.end:u.end));return c.__assign(c.__assign({},u),{start:t,end:w});};return q;})(n.EI);b.mq=m;(0,r.xk)(a.Ew,m);},2746:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.HAa=void 0;c=a(5163);a(62558);l=a(91219);r=a(55011);f=a(13407);k=a(551);d=a(57196);g=a(46892);a=(function(n){function h(m,p){var q,u;q=this;u=[new f.eZ(m),new f.eZ(m),new f.eZ(m)];q=n.call(this,u,function(t){return t.complete?q.empty || t.qb <= q.Eyb?0:1:t.active?1:2;}) || this;u=c.__read(u,3);q.Fk=u[0];q.kj=u[1];q.Fq=u[2];q.ep=0;q.Lfa=0;q.T=m;q.zq=p;return q;}c.__extends(h,n);Object.defineProperties(h.prototype,{wa:{get:function(){return this.Fk.wa + this.kj.wa + this.Fq.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{w7b:{get:function(){return this.Fq;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.kj;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Fk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{f_b:{get:function(){return this.ep;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{F3:{get:function(){return this.Fk.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Br:{get:function(){return this.Fk.wa + this.kj.wa - this.ep;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{x7b:{get:function(){return this.Fq.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zN:{get:function(){return this.wa - this.ep;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{first:{get:function(){return this.gIb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Td:{get:function(){return this.ovb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ela:{get:function(){return !this.Fk.empty || this.Fq.empty || this.kj.empty?this.first:this.kj.qb < this.Fq.qb?this.kj.first:this.Fq.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{N4a:{get:function(){return this.Fq.empty || this.kj.empty?this.Td:this.kj.ub < this.Fq.ub?this.Fq.Td:this.kj.Td;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{GZa:{get:function(){return this.Fq.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{N:{get:function(){return this.first && this.first.N;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qb:{get:function(){return this.Ela && this.Ela.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ub:{get:function(){return this.N4a && this.N4a.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ln:{get:function(){return this.first && this.first.ln;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Eyb:{get:function(){return this.Fk.empty?this.qb:this.Fk.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dyb:{get:function(){var m;return this.Fk.empty?null === (m=this.Ka) || void 0 === m?void 0:m.G:this.Fk.Wa.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yVa:{get:function(){var m;return this.Fk.empty?null === (m=this.Ab) || void 0 === m?void 0:m.G:this.Fk.Lb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{O8a:{get:function(){var m,p;return (null === (m=this.kj.Lb) || void 0 === m?void 0:m.G) || (null === (p=this.Fk.Lb) || void 0 === p?void 0:p.G);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bD:{get:function(){return this.Fq.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$j:{get:function(){return this.kj.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{AVa:{get:function(){return this.Fk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ua:{get:function(){return this.Fk.concat(this.kj);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Oq:{get:function(){return this.Re;},enumerable:!1,configurable:!0}});h.prototype.uJ=function(m){var p;m.aborted?++this.Lfa:this.ep+=m.bytesReceived || 0;if(this.empty)this.Re=new g.Mz(this,{});else if(m.qb !== this.ub)if(m.qb > this.Re.ub)this.Re.VN(this.Re.ub);else if(m.qb < this.qb || m.qb === this.Re.ub){p=m.ub;this.BHb(function(q,u){return q.qb - u.qb;},function(q){p=q.qb === p?q.ub:p;});p === Math.max(this.ub,m.ub)?this.Re.x3():this.Re.VN(p);}m.fcb(this);};h.prototype.wx=function(m){m.aborted?--this.Lfa:this.ep-=m.bytesReceived;this.empty?this.Re=void 0:m.qb !== this.ub && m.ub <= this.Re.ub && m.qb > this.Re.qb && this.Re.VN(m.qb);m.cyb();};h.prototype.update=function(){var m;this.Fk.update();this.kj.update();this.Fq.update();if(this.Re){m=this.map(function(u){return u;});m.sort(function(u,t){return u.qb - t.qb;});this.Re.x3();for(var p=m[0].ub,q=1;q < m.length;++q){if(m[q].qb !== p){this.Re.VN(p);break;}p=m[q].ub;}}};h.prototype.push=function(m){this.uJ(m);return n.prototype.push.call(this,m);};h.prototype.shift=function(){var m;m=n.prototype.shift.call(this);m && this.wx(m);return m;};h.prototype.pop=function(){var m;m=n.prototype.pop.call(this);m && this.wx(m);return m;};h.prototype.unshift=function(m){this.uJ(m);return n.prototype.unshift.call(this,m);};h.prototype.xt=function(m){this.uJ(m);n.prototype.xt.call(this,m);};h.prototype.remove=function(m){if(!n.prototype.remove.call(this,m))return !1;this.wx(m);return !0;};h.prototype.splice=function(m,p){for(var q=[],u=2;u < arguments.length;u++){q[u - 2]=arguments[u];}u=n.prototype.splice.apply(this,c.__spreadArray([m,p],c.__read(q),!1));q.forEach(this.uJ.bind(this));u.forEach(this.wx.bind(this));return u;};h.prototype.DZb=function(m){var p;p=this;this.reduce(function(q,u,t){u.aborted && !u.Qy && (m && m(u,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};h.prototype.Dma=function(m){return this.pZa(function(p){return p.Dma(m);});};h.prototype.sT=function(m){return this.pZa(function(p){return p.sT(m);});};h.prototype.oZa=function(m){m=this.sT(m);return -1 !== m?this.get(m):void 0;};h.prototype.V1b=function(m){var q;for(var p=[];m < this.length;){q=this.get(m);q && p.push(q);m++;}return p;};h.prototype.WM=function(m){this.move(m);this.o5(m);};h.prototype.XM=function(m,p){this.ep+=p;this.CT(m,p);};h.prototype.Ar=function(m,p){this.ep+=p;this.vcb();this.HF(m,p);};h.prototype.eW=function(m,p,q){this.ep-=m.bytesReceived;++this.Lfa;this.pL(m,p,q);};h.prototype.gW=function(m,p,q){this.kj.I7b(p - q);this.cna(m,p,q);};h.prototype.eWb=function(){this.vcb();};h.prototype.vcb=function(){for(;this.kj.first && (this.kj.first.complete || this.kj.first.Qy) && (this.Fk.empty?this.kj.first === this.Ela:this.kj.first.qb === this.Fk.ub);){this.w3b();}};return h;})(l.ACa);b.HAa=a;(0,r.xk)(d.hD,a,!1);(0,r.xk)(k.Ew,a);},18621:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Iba=void 0;c=a(5163);l=a(69028);r=(function(f){function k(d,g,n,h){var m;m=f.call(this,d,n) || this;m.baa=!1;m.wT=!1;m.OV=!1;m.ZS=!1;m.sN=void 0;k.P2a(m,d,g,n,h);return m;}c.__extends(k,f);k.P2a=function(d,g,n,h,m){l.EI.Fpa(d,g,h);d.v=n;d.kE=h.Gh;d.hE=h.ZM;d.MPa=h.zF;d.T=m;};Object.defineProperties(k.prototype,{He:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gh:{get:function(){return this.kE;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ZM:{get:function(){return this.hE;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{zF:{get:function(){return this.MPa;},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {movieId:this.P,streamId:this.Gb,bitrate:this.bitrate};};return k;})(l.EI);b.Iba=r;},65593:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u){return {He:!0,$t:{ug:m.Tb.rs},Qc:u,responseType:0};}Object.defineProperties(b,{__esModule:{value:!0}});b.JAa=void 0;l=a(5163);f=a(36418);k=a(42866);r=a(57055);d=a(12043);g=a(97810);n=a(55011);h=a(62558);m=a(27364);p=a(18621);a=a(64406);q=d.platform.MediaSource;a=(function(u){function t(w,v,y,x,z,A,B,C){var D,F,G;D=y.track;B=(B?"(cache)":"") + w.id + " header";F=x.offset;G=x.wa;x.ZM && (F+=x.ZM.byteLength,G-=x.ZM.byteLength);x=l.__assign(l.__assign(l.__assign({},x),c(x.Qc)),{offset:F,wa:G});v=u.call(this,w,D,B,x,z,A,v,C) || this;v.sN=y;v.xsa=0;p.Iba.P2a(v,w,A,x,C);v.wT=!!x.wT;v.OV=!!x.OV;v.ZS=!!x.ZS;v.zta=x.wa;v.baa=!!x.baa;++v.xsa;return v;}l.__extends(t,u);Object.defineProperties(t.prototype,{He:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{l9:{get:function(){return this.crb;},enumerable:!1,configurable:!0}});t.prototype.Ze=function(){var w;if(!this.complete){w={type:"headerRequestCancelled",request:this};this.emit(w.type,w);}u.prototype.Ze.call(this);};t.prototype.BT=function(w){this.stream.Zsa();u.prototype.BT.call(this,w);};t.prototype.pL=function(w,v,y){this.stream.Z8();u.prototype.pL.call(this,w,v,y);};t.prototype.Ar=function(w,v){var y;y=w.response;y && this.Gob(y);(0,h.assert)(this.hE);w.yN();this.arb()?(this.stream.Z8(),u.prototype.Ar.call(this,w,v)):this.u2?(this.mGb(w.offset + w.wa,this.u2),u.prototype.Ar.call(this,w,v)):u.prototype.fW.call(this,w);};t.prototype.mGb=function(w,v){this.TYa(this.OK,this.label + " (" + this.xsa + ")",c(this.Qc),{offset:w,wa:v});++this.xsa;};t.prototype.arb=function(){var w,v,y,x,z,A,B;x=this.config;z=new f.qq(t.RTb,this.stream,this.hE,this.stream.aa?["moov"]:["sidx"],x.JWb,{njc:this.stream.track.Dua,L8a:void 0 === this.za,Leb:!q.uf || !q.uf.oyb,Dya:x.Dya,Am:x.Am,HO:this.config.HO,f1b:!0,caa:!q.uf || !q.uf.$Tb,zva:this.config.zva});A=z.parse({za:this.za});this.H8b=x.HO && z.dNb;if(A.Tv){(0,h.assert)(A.Gh);this.kE=A.Gh;this.crb=A.l9;this.MPa=!!A.yFb;void 0 === this.za && void 0 === A.za && this.T.error("No frame duration available for " + this.Gb);z=A.za?new k.L(A.za):this.za;B=void 0;if(this.stream.mediaType === m.u.Y && (null === (w=x.cN) || void 0 === w?0:w.enabled))if(null === (v=this.stream.FH) || void 0 === v?0:v.length)B=this.stream.FH;else if((w=this.stream.sr.FH,0 < (null === w || void 0 === w?void 0:w.length)))for((B=new Uint8Array(w.length),y=0);y < w.length;y++){B[y]=w[y].xb;}else if(null === (y=A.zw) || void 0 === y?0:y.length)for((B=new Uint8Array(A.zw.length),y=0);y < A.zw.length;y++){B[y]=A.zw[y];}this.stream.Ysa(A.Gh,A.N,z,A.Ja,A.FM,A.sj,B,A.trackId);this.hE=void 0;}else this.u2=A.u2 || 0;return !!A.Tv;};t.prototype.Gob=function(w){this.hE=this.hE?(0,g.xK)(this.hE,w):w;};t.RTb=new d.platform.Console("MP4","media|asejs");return t;})(a.fZ);b.JAa=a;(0,n.xk)(p.Iba,a,!1,!1);(0,n.xk)(r.EventEmitter,a);},18792:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.paa=b.Bhb=void 0;c=a(27364);l=(function(){function f(k){this.audio=k.audio;this.video=k.video;this.text=k.text;}Object.defineProperties(f.prototype,{Tg:{get:function(){return this.video || this.audio || this.text;},enumerable:!1,configurable:!0}});f.prototype.AHb=function(k){[this.audio,this.video,this.text].filter(function(d){return void 0 !== d;}).forEach(k);};Object.defineProperties(f.prototype,{bitrate:{get:function(){var k;return null !== (k=this.Tg.bitrate) && void 0 !== k?k:0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xb:{get:function(){var k;return null !== (k=this.Tg.xb) && void 0 !== k?k:0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{nb:{get:function(){return this.Tg.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{id:{get:function(){return this.Tg.id;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Gb:{get:function(){return this.Tg.Gb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ja:{get:function(){return this.Tg.Ja;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{wr:{get:function(){return this.Tg.wr;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jya:{get:function(){return this.Tg.jya;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Dp:{get:function(){return this.Tg.Dp;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ub:{get:function(){return this.Tg.Ub;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{aa:{get:function(){return this.Tg.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Gv:{get:function(){return this.Tg.Gv;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Kp:{get:function(){return this.Tg.Kp;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zy:{get:function(){return this.Tg.zy;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{my:{get:function(){return this.Tg.my;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Cd:{get:function(){return this.Tg.Cd;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{rz:{set:function(k){this.AHb(function(d){d.rz=k;});},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sr:{get:function(){return this.Tg.sr;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{profile:{get:function(){return this.Tg.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{pw:{get:function(){return this.Tg.pw;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ma:{get:function(){return this.Tg.ma;},enumerable:!1,configurable:!0}});f.prototype.HW=function(k){return this.Tg.HW(k);};Object.defineProperties(f.prototype,{Bb:{get:function(){return this.Tg.Bb;},set:function(k){this.Tg.Bb=k;},enumerable:!1,configurable:!0}});f.prototype.isEqual=function(k){return k && k.Gb === this.Gb;};f.prototype.toString=function(){return ("").concat(this.audio?this.audio.toString():"") + ("").concat(this.video?this.video.toString():"") + ("").concat(this.text?this.text.toString():"");};return f;})();b.Bhb=l;b.paa=function(f){var k,d;d=(k={},k[c.u.fa]={audio:f},k[c.u.Y]={video:f},k[c.u.Ga]={text:f},k);return new l(d[f.mediaType]);};},54790:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Jba=void 0;c=a(5163);a(12043);l=a(62558);r=(function(f){function k(d,g,n,h,m,p,q){g=f.call(this,d,g,n,h,m,p,q) || this;g.Ydb=0;(0,l.assert)(0 === n.responseType);(0,l.assert)(n.Rg);g.Rg=n.Rg;d=d.Tm();g.Ydb=d.Rt.G;return g;}c.__extends(k,f);return k;})(a(29930).Hba);b.Jba=r;},46541:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Lba=void 0;c=a(5163);l=a(50954);f=a(49730);r=(function(k){function d(g,n,h,m,p,q,u,t,w,v,y,x,z){void 0 === x && (x=!0);void 0 === z && (z=!0);g=k.call(this,h,w,{index:0,offset:0,wa:0,qb:p,ub:q,N:m,xv:x,Qk:z,qw:y},v) || this;g.HWb=h;g.console=t;g.v=w;f.K && g.console.log(("AsePaddingRequest [").concat(g.mediaType,"], constructed ").concat(g.toString()) + (", ").concat(n.byteLength," bytes") + (", ").concat(g.jt," samples"));g.Yua(n,!0);return g;}c.__extends(d,k);Object.defineProperties(d.prototype,{profile:{get:function(){return this.HWb.profile;},enumerable:!1,configurable:!0}});d.prototype.abort=function(){return !1;};d.prototype.toJSON=function(){var g,n,h,m,p;return {viewableId:l.sq,startPts:null === (g=this.Ab) || void 0 === g?void 0:g.G,endPts:(null === (n=this.Ab) || void 0 === n?void 0:n.G) + (null === (h=this.Ld) || void 0 === h?void 0:h.G),"contentStartTicks:":this.qb,contentEndTicks:this.ub,contentStartPts:null === (m=this.Ka) || void 0 === m?void 0:m.G,contentEndPts:null === (p=this.Wa) || void 0 === p?void 0:p.G};};d.prototype.toString=function(){return ("[padding c:").concat(this.Ka.G,"-").concat(this.Wa.G,",") + ("p:").concat(this.Ab.G,"-").concat(this.Lb.G,",") + ("d:").concat(this.Wa.G - this.Ka.G,"]");};return d;})(a(35195).mq);b.Lba=r;},57196:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hD=b.SAa=void 0;c=a(5163);r=(function(){function l(f){this.zq=f;}l.prototype.fcb=function(f){this.zq=f;};l.prototype.cyb=function(){this.zq=void 0;};l.prototype.BT=function(f){var k,d;null === (d=null === (k=this.zq) || void 0 === k?void 0:k.wta) || void 0 === d?void 0:d.call(k,f);};l.prototype.o5=function(f){var k,d;null === (d=null === (k=this.zq) || void 0 === k?void 0:k.WM) || void 0 === d?void 0:d.call(k,f);};l.prototype.AT=function(f){var k,d;null === (d=null === (k=this.zq) || void 0 === k?void 0:k.VM) || void 0 === d?void 0:d.call(k,f);};l.prototype.CT=function(f,k){var d,g;null === (g=null === (d=this.zq) || void 0 === d?void 0:d.XM) || void 0 === g?void 0:g.call(d,f,k);};l.prototype.HF=function(f,k){var d,g;null === (g=null === (d=this.zq) || void 0 === d?void 0:d.Ar) || void 0 === g?void 0:g.call(d,f,k);};l.prototype.PZa=function(f){var k,d;null === (d=null === (k=this.zq) || void 0 === k?void 0:k.fW) || void 0 === d?void 0:d.call(k,f);};l.prototype.pL=function(f,k,d){var g,n;null === (n=null === (g=this.zq) || void 0 === g?void 0:g.eW) || void 0 === n?void 0:n.call(g,f,k,d);};l.prototype.cna=function(f,k,d){var g,n;null === (n=null === (g=this.zq) || void 0 === g?void 0:g.gW) || void 0 === n?void 0:n.call(g,f,k,d);};l.prototype.OZa=function(f){var k,d;null === (d=null === (k=this.zq) || void 0 === k?void 0:k.vta) || void 0 === d?void 0:d.call(k,f);};return l;})();b.SAa=r;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);return f;})(r);b.hD=r;r.prototype.wta=r.prototype.BT;r.prototype.WM=r.prototype.o5;r.prototype.VM=r.prototype.AT;r.prototype.XM=r.prototype.CT;r.prototype.Ar=r.prototype.HF;r.prototype.fW=r.prototype.PZa;r.prototype.eW=r.prototype.pL;r.prototype.gW=r.prototype.cna;r.prototype.vta=r.prototype.OZa;},64406:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fZ=b.im=void 0;c=a(5163);l=a(57055);f=a(36418);a(12043);r=a(55011);k=a(62558);a(26973);d=a(7033);g=a(93161);n=a(57196);a=a(69028);(function(h){h[h.WIa=0]="NOTHING_APPENDED";h[h.n0=1]="PARTIAL";h[h.lm=2]="COMPLETE";h[h.Ak=3]="ERROR";})(b.im || (b.im={}));a=(function(h){function m(p,q,u,t,w,v,y,x){var z;z=h.call(this,p,t) || this;z.OK=q;z.label=u;z.properties=t;z.v=v;z.config=y;z.console=x;z.events=new l.EventEmitter();z.Xa=d.Ig.wu;z.dE=0;z.cR=-Infinity;z.rd=[];z.Xva=0;z.fcb(w);z.Xa=d.Ig.wu;z.Rf=p.dU(!!t.He,t.Rg);z.nE=p.location || t.location;z.zR=p.Ub || t.Qc;z.Rg=t.Rg;z.hWa(q,u,t);return z;}c.__extends(m,h);Object.defineProperties(m.prototype,{He:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{g9:{get:function(){return this.Xa >= d.Ig.OPENED && this.Xa < d.Ig.lm;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{active:{get:function(){return this.Xa >= d.Ig.WO && this.Xa < d.Ig.lm;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jva:{get:function(){return this.Xa === d.Ig.ql;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{complete:{get:function(){return this.Xa === d.Ig.lm;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{aborted:{get:function(){return this.Xa === d.Ig.Yr;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{url:{get:function(){return this.Rf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{status:{get:function(){var p;return (null === (p=this.hM) || void 0 === p?void 0:p.status) || this.rd[0].status;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Uf:{get:function(){var p;return null === (p=this.hM) || void 0 === p?void 0:p.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uB:{get:function(){var p;return null === (p=this.hM) || void 0 === p?void 0:p.uB;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Vi:{get:function(){var p;return null === (p=this.hM) || void 0 === p?void 0:p.Vi;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bytesReceived:{get:function(){return this.dE;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ki:{get:function(){return this.cR;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{location:{get:function(){return this.nE;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qc:{get:function(){return this.zR;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ccb:{get:function(){return this.properties.NH;},enumerable:!1,configurable:!0}});m.prototype.Wwa=function(p,q){this.nE=p;this.zR=q;};m.prototype.cza=function(p){var q,u,t;if(this.complete)return 0;q=this.stream;u=q.ma;if(!q.url)return (this.console.warn("updateurl, missing url for streamId:",q.Gb,"mediaRequest:",this,"stream:",q),1);t=q.dU(this.He,this.Rg);if(this.url !== t || p)if((u.Wwa(this,q.location,q.Ub),!this.VX(t)))return (this.console.warn("swapUrl failed: ",this.uB),2);return 0;};m.prototype.sxb=function(){return 0 >= this.wa && 1 <= this.rd.length && void 0 !== this.rd[0].Uf;};m.prototype.rxb=function(p){(0,k.assert)(0 >= this.wa,"AseRequest.changeStream is only supported for open range requests");(0,k.assert)(1 <= this.rd.length && void 0 !== this.rd[0].Uf,"AseRequest.changeStream only supported when open range request has failed");(0,k.assert)(this.stream.track === p.track,"AseStream.changeStream cannot change stream to a different track");this.d3b(p);this.cza();};m.prototype.Seb=function(){var u;for(var p,q;this.Xva < this.rd.length && (q=this.rd[this.Xva]).response;){u=++this.Xva === this.rd.length;null === (p=this.Yua) || void 0 === p?void 0:p.call(this,q.response,u);q.yN();}};m.prototype.hWa=function(p,q,u){var t,w;if(0 < u.wa)u.IG && u.wa > u.IG?this.KZb(p,q,u,u.IG,u):this.oH(p,q,u,u);else if(this.cua())this.oH(p,q,u,u);else {t=u.offset;w=this.mediaType === g.u.Ga?this.config.iRb:this.config.$Qb;this.config.WWa && (u=c.__assign(c.__assign({},u),{responseType:0}));this.oH(p,q,u,{offset:t,wa:w});}};m.prototype.KZb=function(p,q,u,t,w){var v,y;t=Math.ceil(w.wa / t);v=w.offset;for(w=w.wa;0 < w;--t){y=Math.ceil(w / t);this.oH(p,q,u,{offset:v,wa:y});v+=y;w-=y;}};m.prototype.cua=function(){return !!this.OK.Mdb;};m.prototype.oH=function(p,q,u,t){p=new d.eJa(this.stream,this.Rf,p,q,u,t,this,this.v,this.config,this.console);this.rd.push(p);this.state >= d.Ig.OPENED && (p.open(),this.state >= d.Ig.lm && (this.Xa=d.Ig.OPENED,this.BT(this)));};m.prototype.Hr=function(p){var q;q=this.rd.indexOf(p);-1 !== q && (this.rd.splice(q,1),0 < this.ic && ((0,k.assert)(this.ic >= p.wa),this.ic-=p.wa));};m.prototype.TYa=function(p,q,u,t){this.oH(p,q,u,t);this.ic+=t.wa;};m.prototype.open=function(){var p;null === (p=this.Pga) || void 0 === p?void 0:p.KVb();if(p=this.rd.every(function(q){return q.open();}))(this.Xa=d.Ig.OPENED,this.BT(this));return p;};m.prototype.abort=function(){var p,q;p=this.active;q=this.g9;this.Xa=d.Ig.Yr;this.rd.forEach(function(u){return u.abort();});this.pL(this,p,q);return !0;};m.prototype.Ze=function(){this.rd.forEach(function(p){return p.Ze();});};m.prototype.VX=function(p){this.Rf=p;return this.rd.map(function(q){return q.VX(p);}).some(function(q){return q;});};m.prototype.BLb=function(){(0,k.assert)(0 < this.rd.length);return this.rd[0].response;};m.prototype.getResponseHeader=function(p,q){var u;u=null;this.rd.some(function(t){return !!(u=t.getResponseHeader(p,q));});return u;};m.prototype.getAllResponseHeaders=function(p){var q;q=null;this.rd.some(function(u){return !!(q=u.getAllResponseHeaders(p));});return q;};m.prototype.Ti=function(){return 1 === this.rd.length?this.rd[0].Ti():"(" + this.rd.map(function(p){return p.Ti();}).join(", ") + ")";};m.prototype.wta=function(){};m.prototype.WM=function(p){var q;this.state > d.Ig.OPENED || (this.Xa=d.Ig.WO,this.cR=Math.max(this.cR,p.ki),null === (q=this.Pga) || void 0 === q?void 0:q.EVb(),this.o5(this));};m.prototype.VM=function(p){var q,u;0 >= this.wa && !this.cua() && (u=this.JZb(p,this.offset + p.wa));this.state <= d.Ig.WO && (this.uta(p,0),this.Xa=d.Ig.ql,null === (q=this.Pga) || void 0 === q?void 0:q.AVb(),this.Seb(),this.AT(this));void 0 !== u && this.gW(p,u,this.wa);};m.prototype.JZb=function(p,q){var u,t;u=p.gJb();if(void 0 !== u){t=u - q;0 < t && this.oH(p.OK,this.label,this.properties,{offset:q,wa:t});return u;}this.BMb(p);};m.prototype.BMb=function(p){this.QVa=(this.QVa || 0) + 1;1 >= this.QVa && (this.Hr(p),p.abort(),this.hWa(p.OK,this.label,this.properties));};m.prototype.XM=function(p,q){this.uta(p,q);this.CT(this,q);};m.prototype.Ar=function(p,q){var u,t,w,v,y;if(!(this.state > d.Ig.ql)){if(this.config.WWa && this.mediaType !== g.u.Ga && this.SOb && p === this.rd[0] && p.response instanceof ArrayBuffer){t=f.$I.WYa(new DataView(p.response));if(t){w=t.yya;v=t.DZa;t=t.ewa;if(void 0 === v || void 0 === t)(v=void 0 === v?this.mediaType === g.u.Y?this.stream.za.$c(this.Op).ja:0:0,v=new g.L(w + v,this.stream.Op));else {t=this.stream.za.oo(t);v=new g.L(w + v,this.stream.Op);y=this.Ld;!t.equal(this.Ld) && this.console.error("fragment times mismatch:",("decode ").concat(w),("presentation ").concat(v.mb()),("duration ").concat(t.mb()),("expected ").concat(y.mb()));}}}this.uta(p,q);this.Seb();this.rd.every(function(x){return x.complete;})?(this.Xa=d.Ig.lm,null === (u=this.Pga) || void 0 === u?void 0:u.OM(),this.HF(this,q),this.Ze()):this.CT(this,q);}};m.prototype.vta=function(){this.OZa(this);};m.prototype.fW=function(p){var q;this.console.warn("AseRequest.onrequesterror:",this.toString(),"sub request:",p.toString());q=p.status;(416 === q || 206 === q) && 0 >= this.wa && !this.cua()?(p.abort(),p.Ze(),this.Hr(p),this.oH(p.OK,this.label,this.properties,{offset:p.offset,wa:Math.max(Math.ceil(p.wa / 2),1)})):(this.hM=p,this.PZa(this));};m.prototype.eW=function(){var p,q;if(this.state !== d.Ig.Yr){this.console.warn("AseRequest.onrequestaborted:",this.toString());p=this.active;q=this.g9;this.Xa=d.Ig.Yr;this.pL(this,p,q);}};m.prototype.gW=function(p,q,u){this.ic+=q - u;p={type:"updatedBytes",hUb:q,zta:u};this.events.emit(p.type,p);this.cna(this,q,u);};m.prototype.uta=function(p,q){this.hM === p && (this.hM=void 0);this.cR=Math.max(this.cR,p.ki);this.dE+=q;};m.prototype.toString=function(){return "ID: " + this.Ti();};return m;})(a.EI);b.fZ=a;(0,r.xk)(n.SAa,a,!1);},19616:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Pba=void 0;c=a(5163);l=a(42866);f=a(12043);k=a(87034);d=a(4399);g=a(62558);n=a(57578);h=a(35195);r=(function(){function m(p,q,u){var t,w,v;this.W=q;this.T=u;this.YQa=l.L.Ha;this.Eq=p.track;this.a2=p.pw;this.sr=p.sr;this.$pb=this.mediaType !== k.u.Ga?this.rV.ii:!1;this.Orb=p.$5b;this.Va=void 0;this.kE=p.Gh;q=p.Kp;this.Kp=void 0 === q?!0:q;this.t4=p.t4;this.GJ=void 0;this.xQa=this.Vfa=0;this.url=this.uX=this.Ub=this.au=this.Wqa=this.location=this.nb=this.Bb=void 0;this.my=!1;this.rqa=this.Md=void 0;this.JQ=new Set();p=this.W;!this.aa && (q=p && "object" === typeof p.M9 && p.M9[this.profile],"object" === typeof q && (q=q[this.bitrate])) && (this.YQa=new l.L(q.ticks,q.timescale));this.Fqb=0 <= (null === (t=p.qTa) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (w=p.cN) || void 0 === w?0:w.Nfc) && this.mediaType === k.u.Y && (t=this.sr,0 < (null === (v=t.FH) || void 0 === v?void 0:v.length))){v=t.FH.splice(0,t.FH.length);t=new Uint8Array(v.length);for(w=0;w < v.length;w++){t[w]=v[w].xb;}this.FH=t;}}Object.defineProperties(m.prototype,{Fh:{get:function(){return this.aa?!!this.kE:!!this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{r3a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ma:{get:function(){return this.Eq.ma;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{J:{get:function(){return this.ma.J;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{P:{get:function(){return this.Eq.P;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.Eq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{za:{get:function(){return this.Eq.za;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{N:{get:function(){return this.Eq.N;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Op:{get:function(){return this.Eq.Op;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.Eq.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{track:{get:function(){return this.Eq;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{rV:{get:function(){if(this.mediaType !== k.u.Ga)return this.sr;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pw:{get:function(){return this.a2;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gb:{get:function(){var p;return this.mediaType === k.u.Ga?null !== (p=this.Orb) && void 0 !== p?p:"":this.rV.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{id:{get:function(){return this.Gb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ii:{get:function(){return this.$pb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{aa:{get:function(){return this.track.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bitrate:{get:function(){return this.mediaType === k.u.Ga?0:this.rV.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xb:{get:function(){var p;if(this.O4)return this.O4;if(this.mediaType === k.u.Y)return null !== (p=this.sr.vmaf) && void 0 !== p?p:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{P0b:{get:function(){if(this.mediaType === k.u.Y)return this.sr.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dX:{get:function(){if(this.mediaType === k.u.Y)return this.sr.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{profile:{get:function(){return this.mediaType === k.u.Ga?"timedtext":this.rV.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Cd:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sk:{get:function(){if(this.mediaType === k.u.Y)return this.sr.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{If:{get:function(){return this.YQa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Rt:{get:function(){return this.aa?this.Tm().Rt:l.L.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{g5:{get:function(){return this.track.g5;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{t6:{get:function(){return this.Fqb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ja:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wr:{get:function(){return this.Va && this.Va.wr;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Dp:{get:function(){return void 0 !== this.GJ?this.GJ:this.KPb();},set:function(p){this.GJ=p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gv:{get:function(){return this.Kp && !this.my;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zy:{get:function(){return this.Gv && !1 !== this.Dp;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gh:{get:function(){return this.kE;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dPb:{get:function(){return this.mediaType === k.u.fa || this.mediaType === k.u.Y && (-1 !== this.Cd.indexOf("h264bpl") || -1 !== this.Cd.indexOf("h264mpl") || -1 !== this.Cd.indexOf("hevc") && -1 === this.Cd.indexOf("do"));},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{VOb:{get:function(){(0,g.assert)(!!this.Ja,"Initial header should have been received already");return this.ma.Rpa() && -1 < this.Cd.indexOf("h264mpl") && void 0 === this.Ja.cia;},enumerable:!1,configurable:!0}});m.prototype.RF=function(){return this.ma.RF(this.mediaType,this.Gb);};m.prototype.WJb=function(){var p;p=this.RF();return p && p.stream.Ja;};m.prototype.rI=function(p,q){return this.ma.rI(this,p,q);};m.prototype.Zsa=function(){this.track.Zsa();};m.prototype.Z8=function(){this.track.Z8();};m.prototype.Ysa=function(p,q,u,t,w,v,y,x){this.aa || t && void 0 !== t.Or && (this.track.Fh || void 0 !== t.cf && t.cf.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.aa && this.W.Am && this.If && 0 === t.Or && (t.Or+=this.If.$c(t.N).ja),this.Fh || (this.kE=p,this.track.Ysa(this,q,u,t,v,x),this.aa || (this.Va=new d.MNa(this.a2,this.track.Fo,t,w,v,y,this.P)),this.track.CVb(this))):this.aa || (t?this.T.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.Or) + "," + this.track.Fh + "," + this.track.Dua + "," + (void 0 !== t.cf) + "," + !(!t.cf || !t.cf.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.T.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};m.prototype.ezb=function(p){this.Fh || (this.track.fzb(p.track),this.Va=p.Ja,this.kE=p.Gh);};m.prototype.Yn=function(p){return new h.mq(this,void 0,this.Ja.get(p));};m.prototype.W_a=function(p){var q;q=this.Yn(p.index);p.Ia && (q.Bi(p.Ia),q.XN(p.qw));return q;};m.prototype.J7b=function(p,q){this.Vfa=p;this.xQa=q;};m.prototype.fyb=function(){this.nb=this.Bb=this.Ub=this.location=this.url=void 0;};m.prototype.Um=function(){switch(this.mediaType){case k.u.fa:return this.GIb();case k.u.Y:return this.rMb();case k.u.Ga:return this.$Lb();default:(0,g.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};m.prototype.dU=function(p,q,u){var t,w,v;return this.aa?(u=null === (t=u || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (w=null === u || void 0 === u?void 0:u[0]) && void 0 !== w?w:"",w=null !== (v=null === u || void 0 === u?void 0:u[1]) && void 0 !== v?v:"",p?p=this.Tm().uOb:(void 0 === q && this.T.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,g.assert)(void 0 !== q,"liveSegmentId is required for live media requests"),p=this.Tm().media.replace("$Number$",q.toString())),t + "/" + p + (w?"?" + w:"")):u || this.url;};m.prototype.Tm=function(){var p,q,u,t,w,v,y;p=this;(0,g.assert)(this.aa && this.ma.X.Ih,"liveMetadata missing from manifest");q=this.ma.X.Ih;q=q.pX[q.x4[this.Gb]];u=new Date(q.a3).getTime();t=Math.max(0,this.ma.bu - u - this.W.E7);w=Number(q.FX);v=new l.L(Number(q.M9a),q.N);y=new l.L(q.duration,q.N);return c.__assign(c.__assign({},q),{Nia:u,PWa:t,FX:w,Rt:v,Ld:y,MT:function(x){var z,A,B,C;z=y.$c(p.N);if(p.W.D7 && p.mediaType === k.u.fa){A=p.g5.$c(p.N);B=p.za.$c(p.Op);C=Math.ceil(z.oo(x - w).qa(A).ih(B));z=Math.ceil(z.oo(x - w + 1).qa(A).ih(B));C=B.oo(C).add(A).$c(p.N);A=B.oo(z).add(A).$c(p.N);}else (C=z.oo(x - w),A=C.add(z));return {Ka:C,Wa:A};}});};m.prototype.SWb=function(p){var q,u,t,w,v,y,x,z,A;if(p){p.split(";").some(function(B){if(0 === B.indexOf("sc="))return (u=B.slice(3),!0);});if(u && (p=this.W.ICb,this.ma.ZQb() && (p=Math.max(p,this.W.JCb)),!(f.platform.time.xa() - this.ma.J4a < p))){(0,g.assert)(null === (q=this.ma.X.VA) || void 0 === q?void 0:q.Tp,"Missing pbcid for OC side channel message decryption.");q=new n.Ifa(this.ma.X.VA.Tp).decrypt(u,!0);try{t=JSON.parse(q);w=t.time;v=Number(w);isNaN(v)?this.T.error(("Invalid live server time in OC side channel message. time:").concat(w)):this.ma.bu=v;y=t["live-msg-start"];x=t["live-msg-end"];void 0 !== y && isNaN(new Date(y).getTime()) || void 0 !== x && isNaN(new Date(x).getTime())?this.T.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(y,", live-msg-end:").concat(x)):this.ma.sfb(y,x);z=t["encoder-tag"];A=t["encoder-region"];z && A || this.T.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(z,", encoder-region:").concat(A));this.ma.T7b(this.mediaType,{oB:z,nB:A});this.ma.J4a=f.platform.time.xa();}catch(B){this.T.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(q));}}}};m.prototype.HW=function(p){return !this.JQ.has(p);};m.prototype.Nsb=function(p){this.JQ.has(p)?this.T.trace("segment already blocked: " + p):(this.T.trace("addBlockedLiveSegment: " + p),this.JQ.add(p));};m.prototype.Y_b=function(p){this.JQ.has(p) && (this.T.trace("removeBlockedSegment: " + p),this.JQ.delete(p));};m.prototype.toJSON=function(){return {movieId:this.P,mediaType:this.mediaType,streamId:this.Gb,bitrate:this.bitrate,streamIndex:this.pw,isAvailable:this.Kp,fittable:this.Dp,vmaf:this.xb,resolutionWidth:this.P0b,resolutionHeight:this.dX};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Gb + ":" + this.bitrate;};m.prototype.KPb=function(){var p,q,u,t,w,v,y;if(!this.Fh)return !0;if(this.track.epa >= this.bitrate)return this.GJ=!0;if(this.track.v5a <= this.bitrate)return this.GJ=!1;(y=this.aa?this.W.c8 * this.bitrate / 8 * (this.W.jC + (null !== (q=null === (p=this.ma) || void 0 === p?void 0:p.QH.G) && void 0 !== q?q:0)) < this.Vfa:this.Va.Gwb(this.W.jC,this.Vfa,null !== (t=null === (u=this.ma) || void 0 === u?void 0:u.QH.G) && void 0 !== t?t:0,null !== (v=null === (w=this.ma) || void 0 === w?void 0:w.QH.wa) && void 0 !== v?v:0,this.xQa))?this.track.Dua && !this.ii && this.track.Ol || (this.track.epa=this.bitrate):this.track.v5a=this.bitrate;return this.GJ=y;};m.prototype.rMb=function(){return c.__assign(c.__assign({},this.track.Um()),{profile:this.Cd});};m.prototype.GIb=function(){return c.__assign(c.__assign({},this.track.Um()),{profile:this.Cd,bitrate:this.bitrate});};m.prototype.$Lb=function(){return c.__assign(c.__assign({},this.track.Um()),{profile:this.Cd});};return m;})();b.Pba=r;},69028:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.EI=void 0;a(62558);r=(function(){function c(l,f){c.Fpa(this,l,f);}c.Fpa=function(l,f,k){l.Hd=f;l.ic=k.wa;l.Zb=k.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Hd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{wa:{get:function(){return this.ic;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Zb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ma:{get:function(){return this.Hd.ma;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{P:{get:function(){return this.Hd.P;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Hd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Gb:{get:function(){return this.Hd.Gb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Hd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Hd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{N:{get:function(){return this.Hd.N;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Op:{get:function(){return this.Hd.Op;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{za:{get:function(){return this.Hd.za;},enumerable:!1,configurable:!0}});c.prototype.d3b=function(l){this.Hd=l;};return c;})();b.EI=r;},46892:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Mz=void 0;r=a(55011);a=a(551);c=(function(){function l(f,k){this.En=f;this.lA=k.qb;this.As=k.ub;}Object.defineProperties(l.prototype,{qb:{get:function(){return void 0 !== this.lA?this.lA:this.En.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ub:{get:function(){return void 0 !== this.As?this.As:this.En.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{N:{get:function(){return this.En.N;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ln:{get:function(){return this.En.ln;},enumerable:!1,configurable:!0}});l.prototype.z2b=function(f){this.lA=f;};l.prototype.VN=function(f){this.As=f;};l.prototype.x3=function(){this.As=void 0;};return l;})();b.Mz=c;(0,r.xk)(a.Ew,c);},551:function(r,b,a){var f;function c(k,d){return void 0 === k?void 0:0 === k?f.L.Ha:new f.L(k,d);}function l(k,d){return void 0 === k || void 0 === d?void 0:k + d;}Object.defineProperties(b,{__esModule:{value:!0}});b.Ew=void 0;f=a(42866);r=(function(){function k(){}Object.defineProperties(k.prototype,{jB:{get:function(){var d,g;d=this.ub;g=this.qb;return (void 0 === d || void 0 === g?void 0:d - g) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{OXb:{get:function(){return l(this.qb,this.ln);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{KXb:{get:function(){return l(this.ub,this.ln);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ld:{get:function(){return c(this.jB,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ka:{get:function(){return c(this.qb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wa:{get:function(){return c(this.ub,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ab:{get:function(){return c(this.OXb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Lb:{get:function(){return c(this.KXb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Tua:{get:function(){return c(this.ln,this.N);},enumerable:!1,configurable:!0}});return k;})();b.Ew=r;},78128:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.FI=void 0;c=a(5163);l=a(42866);f=a(87034);k=a(26218);d=a(62558);g=a(97810);n=a(61765);h=a(73098);m=a(92141);p=a(19616);r=(function(){function q(u,t,w){this.W=t;this.T=w;this.Su=new g.oNa();this.O1=0;this.jo=u.jo;this.ma=u.ma;this.mediaType=u.mediaType;this.pI=u.pI;this.JE=u.JE;this.mediaType === f.u.Y?(t=this.jo,w=c.__read(t.streams,1)[0],this.Arb=new m.rJ({w:t.maxWidth,cr:t.maxHeight},{w:t.d9a,cr:t.e9a}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.rga=h.gA.from({Jt:w.framerate_value,Qq:w.framerate_scale}),this.Sga=this.rga.za()),void 0 !== t.Ora && void 0 !== t.Nra && (this.nqb=h.gA.from({Jt:t.Ora,Qq:t.Nra}))):this.mediaType === f.u.fa && (this.Tob=this.jo.streams[0].channels,this.Crb=48E3);this.jb=(this.HJ=this.Sga) && this.HJ.N;this.mediaType === f.u.Ga && (this.jb=1E3);this.wga=this.UQa=!1;this.epa=-Infinity;this.v5a=Infinity;u=q.fpb(this,u.Cp);t=u.maxBitrate;w=u.oe;this.Ol=u.Ol;this.maxBitrate=t;this.oe=w;this.Nrb=w.reduce(function(v,y){v[y.Gb]=y;return v;},{});!1;}q.fpb=function(u,t){var w,v,y,x,z,A,B,C;w=u.W;v=u.mediaType === f.u.Y;y=!1;x=0;z=[];if(u.mediaType === f.u.fa || u.mediaType === f.u.Y){A=u.jo;B=A.streams.some(function(D){return D.ii;});A.streams.forEach(function(D,F){var G,E,I;G=D.bitrate;E=!0;if(v){I=D.ii;E=t?!0:I === B;y=y || I;}E && G > x && (x=G);D=new p.Pba({sr:D,pw:F,track:u,Kp:E},w,u.T);z.push(D);});}else if(u.mediaType === f.u.Ga){C=u.jo;A=C.downloadableIds["imsc1.1"];if(C=C.ttDownloadables["imsc1.1"])(A=new p.Pba({sr:C,pw:0,track:u,Kp:!0,$5b:A,Gh:[]},w,u.T),z.push(A),u.Su.set(A));}return {Ol:y,maxBitrate:x,oe:z};};Object.defineProperties(q.prototype,{MV:{get:function(){return !this.Fh && 0 === this.O1;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Fh:{get:function(){var u;return this.mediaType === f.u.Ga?!0:this.aa?!(null === (u=this.Su.value) || void 0 === u || !u.Fh):!!this.Fo && !!this.Su.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Dua:{get:function(){return this.UQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{P:{get:function(){return String(this.ma.P);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === f.u.Ga?this.jo.id:this.jo.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{no:{get:function(){return this.Aqb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{za:{get:function(){return this.HJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.rga;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{S7:{get:function(){return this.nqb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{lk:{get:function(){return this.Arb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.Tob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.Crb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === f.u.Ga?this.jo.rawTrackType:this.jo.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{SH:{get:function(){return this.mediaType === f.u.Ga?this.jo.rawTrackType:this.jo.SH;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{N:{get:function(){return this.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Op:{get:function(){return this.zqb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Fo:{get:function(){return this.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jG:{get:function(){return this.Su.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qma:{get:function(){return this.Su;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zV:{get:function(){return this.oe.some(function(u){var t;return 1 < ((null === (t=u.Gh) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{aa:{get:function(){return this.ma.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{g5:{get:function(){return this.Epb || l.L.Ha;},set:function(u){this.Epb=u;},enumerable:!1,configurable:!0}});q.prototype.voa=function(u){return this.aG()[u];};q.prototype.aG=function(){return this.Nrb;};q.prototype.equals=function(u){return !!u && this.P === u.P && this.mediaType === u.mediaType && this.trackId === u.trackId;};q.prototype.Zsa=function(){this.O1++;};q.prototype.Z8=function(){0 < this.O1 && this.O1--;};q.prototype.Ysa=function(u,t,w,v,y,x){if(this.aa || v && void 0 !== v.Or && (this.Fh || void 0 !== v.cf && v.cf.length)){if(u.ii || !u.track.Ol)this.UQa=!0;if(this.Fh)!this.wga && !this.aa && v.cf && v.cf.length > this.Fo.length && (this.Ic=new k.xfa(this.mediaType,this.za,v,y),this.Su.Kab(),this.epa=-Infinity,this.wga=!0);else {this.wRa(t);this.Aqb=x;void 0 !== w && this.mediaType === f.u.Y && this.W.x1b && (w=h.gA.XZa(w).za());if(w=w || this.Sga)(this.vRa(w || this.Sga),void 0 === this.N && this.xRa(w.N));this.aa || (this.Ic=new k.xfa(this.mediaType,this.za,v,y));if(u.ii || !u.track.Ol)this.wga=!0;}}else this.aa || this.T && this.T.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.CVb=function(u){void 0 === this.Su.value && this.Su.set(u);};q.prototype.fzb=function(u){this.Fh || (this.xRa(u.N),this.wRa(u.Op),this.vRa(u.za),this.Ic=u.Fo,u.Qma.value?this.Su.set(u.Qma.value):this.Su.Kab());};q.prototype.zVb=function(u){var t,w;t=u.yya;u=u.DZa;if(this.mediaType !== f.u.fa || void 0 === u)return !1;w=this.ma.jRb().$c(this.Op);t=new l.L(t + u,this.Op).qa(w);u=Math.floor(t.ih(this.za));this.g5=t.qa(this.za.oo(u));return !0;};q.prototype.ht=function(u,t,w,v){var y;(0,d.assert)(this.jG);y=this.jG;this.aa && (t=Math.min(t,this.zB().G));return (0,n.ht)(this.mediaType,u,y,t,w,v);};q.prototype.DF=function(u,t,w){var v,y,x,z,A;(0,d.assert)(this.jG);y=this.jG;if(this.aa){x=this.ma.X.Ih;z=null === x || void 0 === x?void 0:x.R4;A=void 0;if(z)A=new Date(z).getTime();else if(z=this.ma.Oqa.endTime)(A=new Date(z).getTime() + this.W.YQb,t=Infinity);Infinity === t && void 0 !== A && (t=y.Tm().Nia,z=null !== (v=null === x || void 0 === x?void 0:x.Q4) && void 0 !== v?v:0,t=A - t + z,0 > t && this.T.error("AseTrack.findLastFragment negative pts.","liveMetadata:",JSON.stringify(x),"eventEndTime:",this.ma.Oqa.endTime),(0,d.assert)(0 <= t));}return (0,n.DF)(this.mediaType,u,y,t,w);};q.prototype.Um=function(){switch(this.mediaType){case f.u.fa:return ((0,d.assert)(this.mediaType === f.u.fa),(0,d.assert)(void 0 !== this.channels),(0,d.assert)(void 0 !== this.sampleRate),{channels:this.channels,profile:this.profile,SH:this.SH,bitrate:this.oe[this.oe.length - 1].bitrate,sampleRate:this.sampleRate,no:this.no});case f.u.Y:return ((0,d.assert)(this.mediaType === f.u.Y),(0,d.assert)(void 0 !== this.S7),(0,d.assert)(void 0 !== this.lk),{J:this.ma.J,Ol:this.Ol,profile:this.profile,lgc:this.S7.Jt,kgc:this.S7.Qq,SH:this.SH,lk:this.lk,maxWidth:this.lk.lk.w,maxHeight:this.lk.lk.cr,d9a:this.lk.E8a.w,e9a:this.lk.E8a.cr,no:this.no});case f.u.Ga:return ((0,d.assert)(this.mediaType === f.u.Ga),{profile:this.profile,SH:this.SH});default:(0,d.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};q.prototype.toJSON=function(){return {movieId:this.P,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.zB=function(){(0,d.assert)(this.aa,"Unexpected call to getLiveEdgeTargetTimestamp. Not a live track.");return l.L.Na(Math.max(0,this.K_a() - this.W.BG));};q.prototype.nKb=function(u){(0,d.assert)(this.aa,"Unexpected call to getLiveModeForContentTimestamp. Not a live track.");return this.K_a() - u.G > 1E3 * this.ma.Uk.kRb?"DVR":"LIVE";};q.prototype.K_a=function(){(0,d.assert)(this.aa,"Unexpected call to getCushionedLiveEdgeMs. Not a live track.");return (this.jG || this.oe[0]).Tm().PWa;};q.prototype.xRa=function(u){this.jb=u;};q.prototype.wRa=function(u){this.zqb=u;};q.prototype.vRa=function(u){new h.gA(u.N,u.ja).za();this.HJ=u;this.mediaType === f.u.Y && (this.rga=h.gA.XZa(u));};return q;})();b.FI=r;},83350:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Qba=void 0;c=a(5163);a(36418);a(12043);a(62558);r=a(55011);l=a(35195);a=(function(f){function k(d,g,n,h,m,p,q,u){var t;t=c.__assign(c.__assign({},n),{offset:n.offset,wa:n.msa + 8,IG:void 0,responseType:0});h=f.call(this,d,g,"moof",t,h,m,p,q) || this;h.Qy=!1;l.mq.Cb(h,d,m,n,u);h.USb=h.Jwb(n,t.wa);h.TYa(g,"mdat",n,h.USb);return h;}c.__extends(k,f);k.prototype.Jwb=function(d,g){var n;g={offset:d.offset + g,wa:d.wa - g};if(this.Ia){if(0 < this.Ia.start){n=this.vZa(this.Ia.start);n && (g.offset=d.offset + n,g.wa=d.wa - n);}this.Ia.end < this.jt && (n=this.vZa(this.Ia.end)) && (g.wa-=d.wa - n);}return g;};k.prototype.toString=function(){return "ID: " + this.Ti() + ":" + f.prototype.toString.call(this);};return k;})(a(64406).fZ);b.Qba=a;(0,r.xk)(l.mq,a);},10391:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZAa=void 0;c=a(42866);r=(function(){function l(f){this.config=f;}l.prototype.pZb=function(f){var k,d,g;k=this.config;d=[];g=[];f.forEach(function(q,u){void 0 === q.xb?g.push(u):d.push(u);});if(0 !== g.length)for(var n=-1,h=-1,m=function(q){var u,t,w,v,y,x;u=g[q];t=f[u];if(0 === q || u !== g[q - 1] + 1)(n=d[(0,c.uia)(d,function(z){return z < u;})] || -1,h=d[(0,c.Bm)(d,function(z){return z > u;})] || -1);w=0;v=k.KSb;q=0;y=k.LSb;-1 < h && (v=f[h].bitrate,y=f[h].xb);-1 < n && (q=f[n].xb,w=f[n].bitrate);v=Math.log(v);w=0 === w?0:Math.log(w);x=Math.log(t.bitrate);t.O4=Math.max(0,Math.min(110,Math.round((q * (v - x) + y * (x - w)) / (v - w) * 100) / 100));},p=0;p < g.length;p++){m(p);}};return l;})();b.ZAa=r;},31549:function(r,b,a){var f,k,d,g,n,h,m;function c(p){return p && "function" === typeof p.zg?!0:!1;}function l(p){return c(p) && (p=typeof p.cPb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Iib=b.kGb=b.bPb=b.yhb=b.AsyncIterator=void 0;f=a(5163);k=a(49730);g=(function(){function p(q){var u;u=this;this.Spb=q;this.$Q=!1;this.prb=function(t){return u.hZb(t);};this.cWa();}p.k7=function(q,u){function t(){var w;w=q.next();w.then(function(v){l(q) && q.cPb || u(v);});w.then(function(v){return !v.done && t();});}t();};Object.defineProperties(p.prototype,{xy:{get:function(){return this.$Q;},enumerable:!1,configurable:!0}});p.EJb=function(){return new n([]);};p.Boa=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{YL:{get:function(){return this.ys || !1;},enumerable:!1,configurable:!0}});p.prototype.zg=function(){this.cancel();};p.prototype.cancel=function(){this.QQa();this.ys=!0;return this.Ufa;};p.prototype.next=function(){return this.ys?this.Ufa:Promise.race([this.Ufa,this.Spb()]).then(this.prb);};p.prototype.hZb=function(q){q.done && (this.$Q=!0,this.zg());this.YL || (this.QQa(),this.cWa());return q;};p.prototype.cWa=function(){var q;q=this;this.Ufa=new Promise(function(u){q.QQa=function(){u({done:!0});};});};return p;})();b.AsyncIterator=g;n=(function(p){function q(u){var t;t=p.call(this,function(){return t.JKb();}) || this;t.PE=u;t.index=0;return t;}f.__extends(q,p);q.prototype.zg=function(){c(this.PE) && this.PE.zg();p.prototype.zg.call(this);};q.prototype.JKb=function(){return this.PE.length > this.index?Promise.resolve({value:this.PE[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(g);b.yhb=n;b.bPb=c;b.kGb=l;h=(function(p){function q(u,t,w){var v;v=p.call(this,function(){return v.usa();}) || this;v.console=t;v.Gk=w;v.Nua=!1;Array.isArray(u)?v.hR=new n(u):v.hR=u;return v;}f.__extends(q,p);q.prototype.jZb=function(u){var t;this.Nua=!1;t=this.console;k.K && t && t.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.JJ)return (c(u) && u.zg(),g.Boa());Array.isArray(u)?this.Gk=new n(u):this.Gk=u;return this.usa();};q.prototype.iZb=function(u){var t;t=this.console;k.K && t && t.trace("CompoundIterator: processNextInnerResult",this.JJ,u.done);if(!u.done || this.JJ)return u;this.Gk=void 0;return this.usa();};q.prototype.zg=function(){var u;u=this.console;k.K && u && u.trace("CompoundIterator: dispose");this.JJ=!0;p.prototype.zg.call(this);c(this.hR) && this.hR.zg();c(this.Gk) && this.Gk.zg();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.JJ," ").concat(this.hR," ").concat(this.Gk);};q.prototype.usa=function(){var u,t;u=this;t=this.console;k.K && t && t.trace("CompoundIterator: nextImpl");if(this.Gk)return (k.K && t && t.trace("CompoundIterator: getNextInner"),this.Gk.next().then(function(w){return u.iZb(w);}));this.Nua=!0;k.K && t && t.trace("CompoundIterator: getNextOuter");return this.hR.next().then(function(w){return u.jZb(w);});};return q;})(g);b.Iib=h;b.map=function(p,q,u){return new m(p,q,u);};m=(function(p){function q(u,t,w){var v;v=p.call(this,function(){return v.Kpb();}) || this;v.source=u;v.zra=t;v.kka=w;return v;}f.__extends(q,p);q.prototype.zg=function(){c(this.source) && this.source.zg();p.prototype.zg.call(this);};q.prototype.Kpb=function(){var u,t,w;u=this.kka;t=this.zra;w=this.source;k.K && u && u.trace("MappedIterator: Requesting next");return w.next().then(function(v){return v.done?v:t(v.value);});};return q;})(g);b.flatten=function(p,q,u){return new h(p,q,u);};},89755:function(r,b,a){var f,k,d,g,n,h,m,p;function c(q,u){return q.done?q:{value:{value:q.value,QRa:u}};}function l(q){q.QRa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.jvb=b.Anb=b.iD=void 0;f=a(5163);k=a(12043);r=a(57055);d=a(31549);g=a(49730);n=a(97810);h=a(62558);a=a(55011);m=(function(){function q(u,t){this.console=u;this.Nf=t;this.Dqb=this.QQ=0;this.cg=[];this.console=(0,n.Jh)(k.platform,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{nDb:{get:function(){return this.QQ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zVa:{get:function(){var u,t,w;for(t=0;t < this.cg.length;t++){w=this.cg[t];if(!w.OU || (null === (u=w.item) || void 0 === u?0:u.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Nf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xy:{get:function(){return 0 === this.Nf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Lva:{get:function(){var u;for(u=0;u < this.cg.length && this.cg[u].lqa;u++){;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var u;u=f.__read(this.cg,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wsa:{get:function(){var u;for(u=0;u < this.cg.length && this.cg[u].OU;u++){;}return u;},enumerable:!1,configurable:!0}});q.prototype.AF=function(){var u;if(void 0 === this.Nf){u=this.console;g.K && u && u.trace("QueueIterator: enqueueEnd");this.Vya(this.wsa - (this.Nf || 0));}};q.prototype.wk=function(){return this.cg.map(function(u){return u.item;});};q.prototype.lY=function(){this.tf || (this.tf=this.cg.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.tf;};q.prototype.Vya=function(u){var t;g.K && this.console.trace("updateCount",{iic:this.Nf,Rn:u});if(void 0 !== this.Nf){t=this.cg[this.Nf];t && this.Lpa(t);}this.Nf=void 0 === this.Nf?u:void 0 === u?u:this.Nf + u;void 0 !== this.Nf && (this.Nf=Math.max(0,this.Nf),(t=this.cg[this.Nf]) && t.tG.resolve({done:!0}));};q.prototype.enqueue=function(u){var t;g.K && this.console.trace("Enqueue called");t=this.wsa;this.w3();return this.BZb(t,{value:u,done:!1}).pXa.promise;};q.prototype.Iab=function(){g.K && this.console.trace("resetEnd");this.Vya(void 0);};q.prototype.clear=function(u){var t,w,v;g.K && this.console.trace("clear");this.Rua();t=this.Lva;w=this.cg.length - t;if(0 < w){v={index:t,Osa:w};g.K && this.console.trace("Removing items",v);this.cg.splice(t,w);this.w3();this.emit("onRemoved",v);}for(w=1;w < t;w++){this.Lpa(this.cg[w]);}this.Nf=void 0;this.Vya(u?u + t:u);this.QQ && (this.QQ=0);};q.prototype.getIterator=function(){var u,t;u=this;t=(0,n.Jh)(k.platform,this.console,"QueueIteratorInstance::");return new p(this,function(w){return u.I0a(w);},t);};q.prototype.mDb=function(){var u;if(0 < this.Lva){u=f.__read(this.cg,1)[0];u.OU && (g.K && this.console.trace("dequeue",u.id),this.Rua(1),this.emit("onDequeue",u.tG.promise));}};q.prototype.remove=function(u){var t,w,v;for(t=0;t < this.cg.length;t++){w=this.cg[t];v=w.item;if(v && !v.done && v.value === u){this.cg.splice(t,1);this.Nf && this.Nf > t && this.Nf--;this.w3();g.K && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:t,Osa:1});break;}}};q.prototype.Rua=function(u){var t;u=u || Math.min(this.Lva,this.wsa);if(0 < u){t=this.cg.splice(0,u);this.w3();this.Nf && (this.Nf-=u);g.K && this.console.trace("pruned",u);Promise.resolve().then(function(){t.forEach(function(w){w.pXa.resolve();});});this.emit("onRemoved",{index:0,Osa:u});this.QQ+=u;}};q.prototype.I0a=function(u){var t;g.K && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.Q2a(u);t=this.cg[u];t.F0b.resolve();u=t.tG.promise;g.K && this.console.trace("getNextItem:return",{id:t.id});}else (g.K && this.console.trace("getNextItem:returnDone"),u=Promise.resolve({done:!0}));return u;};q.prototype.BZb=function(u,t){var w;w=!t.done && t.value;w=w && w.toJSON?w.toJSON():w;g.K && this.console.trace("Providing result",{hub:u,item:w});this.Q2a(u);u=this.cg[u];w=u.tG.resolve;w(t);return u;};q.prototype.Q2a=function(u){var t;if(void 0 === this.cg[u]){t={};this.Lpa(t);this.cg[u]=t;u === this.Nf && t.tG.resolve({done:!0});g.K && this.console.trace("Item initialized",{hub:u});}};q.prototype.Dka=function(u){var t;t={};t.promise=new Promise(function(w,v){t.resolve=function(y){w(y);u && u(y);};t.reject=v;});return t;};q.prototype.Lpa=function(u){var t;t=this;u.tG=this.Dka(function(w){u.item=w;u.OU=!0;g.K && t.console.trace("Item resolved",{id:u.id});});u.id && u.lqa && !u.OU && (u.tG.resolve({done:!0}),g.K && this.console.warn("Overwriting requested queue item",u.id));u.pXa=this.Dka();u.F0b=this.Dka(function(){u.lqa=!0;g.K && t.console.trace("Item requested",{id:u.id});});u.id=this.Dqb++;u.lqa=!1;u.OU=!1;u.item=void 0;};q.prototype.w3=function(){this.tf=void 0;};q.prototype.nna=function(){var u,t,w;u=this;t=(0,n.Jh)(k.platform,this.console,"QueueIteratorInstance::");w=new p(this,function(v){var y,x;if(0 === u.count)return d.AsyncIterator.Boa();y=u.I0a(v);x=u.cg[0];return y.then(function(z){return c(z,function(){w.YL || (x === u.cg[0]?u.mDb():(0,h.assert)(!u.cg.filter(function(A){return A.tG.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},t);return w;};return q;})();b.iD=m;(0,a.xk)(r.EventEmitter,m);p=(function(q){function u(t,w,v){var y;y=q.call(this,function(){g.K && y.console.trace("Next item requested",{index:y.index});return y.j1b(y.index++);}) || this;y.parent=t;y.j1b=w;y.console=v;y.JJ=!1;y.index=0;y.Ega=!1;y.$7a=function(x){var z;z=x.index;x=x.Osa;y.index >= z && (y.index=Math.max(z,y.index - x));z=y.console;g.K && z && z.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}f.__extends(u,q);u.prototype.zg=function(){this.console.trace("disposed");this.JJ=!0;this.Ze();q.prototype.zg.call(this);};u.prototype.next=function(){this.YL || this.Kpa();return q.prototype.next.call(this);};u.prototype.cancel=function(){this.Ze();return q.prototype.cancel.call(this);};u.prototype.Ze=function(){this.parent.zr("onRemoved",this.$7a);this.Ega=!1;};u.prototype.Kpa=function(){this.Ega || (this.Ega=!0,this.parent.on("onRemoved",this.$7a));};return u;})(d.AsyncIterator);b.Anb=p;b.jvb=function(q){return (0,d.map)(q,l);};},62663:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.BBa=void 0;c=a(5163);l=a(31549);f=a(49730);r=(function(){function k(d,g,n){this.T=d;this.Oob=g;this.Be=n;this.q1=0;this.H1=!1;this.GQ=[];this.gE=void 0;f.K && d.trace(("BranchRequestIterator [").concat(this.Be,"]: created"));}Object.defineProperties(k.prototype,{cCb:{get:function(){return this.q1;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{W3:{get:function(){return this.FPa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ji:{get:function(){return this.H1;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{MWa:{get:function(){return this.Gk?this.Gk.xy?"Complete":this.Gk.Nua?"WaitingForBranch":void 0 !== this.gE && 0 !== this.gE?("In Policy ").concat(this.GQ[this.gE].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.rQa);},enumerable:!1,configurable:!0}});k.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,n,h;return c.__generator(this,function(m){switch(m.label){case 0:d=this.Gk;if(!d)return [3,6];this.gE=void 0;return [4,d.next()];case 1:(g=m.Ua(),n=0,m.label=2);case 2:if(!(n < this.GQ.length))return [3,5];this.gE=n;h=this.GQ[n];return [4,h.process(g)];case 3:(g=m.Ua(),m.label=4);case 4:return (n++,[3,2]);case 5:this.gE=void 0;if(g.done || this.Gk !== d)return [2,{done:!0}];this.q1++;g.value.QRa();return [2,{done:!1,value:g.value.value}];case 6:return [2,l.AsyncIterator.Boa()];}});});};k.prototype.X0b=function(){this.edb();this.l_b();};k.prototype.edb=function(){var d;if(this.Gk){this.rQa=this.MWa;d=this.Gk;d && d.zg();this.GQ.forEach(function(g){return g.reset();});d && f.K && this.T.trace(("BranchRequestIterator [").concat(this.Be,"]: Disposing iterator that was on branch "),this.W3 && this.W3.v.id);this.H1=!1;this.gE=this.Gk=void 0;}};k.prototype.s2=function(d){this.GQ.push(d);};k.prototype.l_b=function(){var d,g,n,h;d=this;if(!this.H1){g=this.T;n=this.Oob;h=this.Be;this.q1=0;this.rQa=this.FPa=void 0;this.Gk=(0,l.flatten)((0,l.map)(n.GLb(),function(m){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.FPa=m,this.q1=0,f.K && g.trace(("BranchRequestIterator [").concat(this.Be,"]: new branch ").concat(m.v.id)),[4,m.CB(h)]);case 1:if(p=q.Ua())return [2,{value:p}];f.K && g.error(("BranchRequestIterator [").concat(this.Be,"]: skipping branch ").concat(m.v.id));return [2,{value:[]}];}});});},g),g);this.H1=!0;}};return k;})();b.BBa=r;},76666:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p){return p === g.u.Y?0:p === g.u.fa?1:p === g.u.Ga?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.$ba=b.Oz=b.Plb=b.vI=void 0;l=a(5163);f=a(57055);k=a(12043);d=a(49730);g=a(27364);n=a(97810);h=a(62558);b.vI=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.Plb={vI:b.vI};(function(p){p[p.wu=0]="CREATED";p[p.eP=1]="CANCELLED";})(m=b.Oz || (b.Oz={}));r=(function(){function p(q,u,t,w,v){this.Ki=q;this.XPa=u;this.Ou=t;this.Zm=w;this.Xa=m.wu;this.TJ=[];this.events=new f.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,n.Jh)(k.platform,v,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Qd:{get:function(){return this.Xa === m.eP;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{v:{get:function(){return this.Ki;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Gd:{get:function(){return this.TJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.XPa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.Cb=function(){return l.__awaiter(this,void 0,void 0,function(){var q,u,t;t=this;return l.__generator(this,function(){if(q=this.parent)(q.Lb && (u=q.Lb.qa(this.Zm),this.vw(u,"init from parent")),q.OO.then(function(){var w;if(!t.Qd){w=t.parent;(0,h.assert)(w,"Parent is undefined after parent normalization");w.Lb && (w=w.Lb.qa(t.Zm),t.vw(w,"parent normalization"));}}));return [2];});});};p.prototype.vw=function(q,u){void 0 === u && (u="unknown");d.K && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.G) + (" from ").concat(this.Ou.G,".  ").concat(u));this.Ou=q;};p.prototype.N0a=function(q){var t;if(!this.Qd)for(var u=this.parent;u;){t=u.VF(q);if(t)return t;u=u.parent;}};p.prototype.Df=function(){this.XPa=void 0;};p.prototype.s6=function(q){return this.Gd.some(function(u){return u.mediaType === q;});};return p;})();b.$ba=r;},22494:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z;function c(A,B){return A.H4 || B === g.u.fa && A.E4 || B === g.u.Y && A.F4 || A.Kla;}Object.defineProperties(b,{__esModule:{value:!0}});b.zBa=b.Oz=void 0;l=a(5163);f=a(42866);k=a(42866);d=a(39139);g=a(27364);r=a(551);n=a(55011);h=a(62558);m=a(90187);p=a(1104);q=a(49730);u=a(58628);t=a(39656);w=a(35548);v=a(13326);y=a(76666);x=a(6173);(function(A){A[A.wu=0]="CREATED";A[A.eP=1]="CANCELLED";})(z=b.Oz || (b.Oz={}));a=(function(A){function B(C,D,F,G,E,I,M,L,K,O,H,J,N){D=A.call(this,G,K,M,I,D) || this;D.W=C;D.dN=F;D.l0a=E;D.tga=L;D.KQ=O;D.Xu=H;D.xI=J;D.Ek=N;D.ty=new p.YP();D.Iva=0;D.Mb=void 0;D.vz=void 0;D.Pp=new k.Sz();D.K6=new k.Sz();D.$sa=D.nOb();D.qdb=[];return D;}l.__extends(B,A);B.prototype.xoa=function(C){return this.qdb[C];};Object.defineProperties(B.prototype,{Gd:{get:function(){var C;this.Xm && 0 === (null === (C=this.TJ) || void 0 === C?void 0:C.length) && this.l0a && (q.K && this.console.trace("Branch getting initial tracks"),this.TJ=this.l0a(this.ma).sort(y.vI),q.K && this.console.trace("Branch got initial tracks:",this.TJ));return this.TJ;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{bK:{get:function(){return this.Zh?this.Zq().every(function(C){return C.Ie.bK;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{LSa:{get:function(){return this.Zq().some(function(C){return C.Ptb;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{li:{get:function(){var C;return !(null === (C=this.jd) || void 0 === C || !C.li);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Zh:{get:function(){var C;return !(null === (C=this.jd) || void 0 === C || !C.Zh);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{KA:{get:function(){var C,D;return null !== (D=null === (C=this.jd) || void 0 === C?void 0:C.KA) && void 0 !== D?D:0;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Pg:{get:function(){var C;return !(null === (C=this.jd) || void 0 === C || !C.Pg);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{OO:{get:function(){return this.Pp.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Xm:{get:function(){var C;return !(null === (C=this.xI) || void 0 === C || !C.ma);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{r6:{get:function(){return !!this.Gd.length && this.Gd.every(function(C){return C.Fh;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ma:{get:function(){(0,h.assert)(this.xI.ma,"viewable should be available");return this.xI.ma;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{N:{get:function(){var C;return (null === (C=this.jd) || void 0 === C?void 0:C.N) || this.Zm.N;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{qb:{get:function(){var C,D;return null !== (D=null === (C=this.jd) || void 0 === C?void 0:C.qb) && void 0 !== D?D:this.Zm.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ub:{get:function(){var C,D;return null !== (D=null === (C=this.jd) || void 0 === C?void 0:C.ub) && void 0 !== D?D:this.v.Ff.$c(this.Zm.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ln:{get:function(){var C,D;return null !== (D=null === (C=this.jd) || void 0 === C?void 0:C.ln) && void 0 !== D?D:this.ve.$c(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{wy:{get:function(){var C,D,F;return null !== (D=null === (C=this.jd) || void 0 === C?void 0:C.wy) && void 0 !== D?D:null === (F=this.Zm) || void 0 === F?void 0:F.add(this.ve);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{mL:{get:function(){var C,D;D=null === (C=this.v.v.Tq) || void 0 === C?void 0:C[0];return D && this.Ka?f.L.Na(Math.max(0,D[0] - this.Ka.G - this.v.me.G)):f.L.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Dr:{get:function(){var C,D;return null !== (D=null === (C=this.jd) || void 0 === C?void 0:C.Dr) && void 0 !== D?D:this.v.me.add(this.ve);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{eH:{get:function(){var C,D;return null !== (D=null === (C=this.jd) || void 0 === C?void 0:C.eH) && void 0 !== D?D:this.v.Ff.add(this.ve);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{z7:{get:function(){var C;return null === (C=this.jd) || void 0 === C?void 0:C.z7;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ve:{get:function(){var C,D;return null !== (D=null === (C=this.jd) || void 0 === C?void 0:C.ve) && void 0 !== D?D:this.Ou;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Sr:{get:function(){var C;return (null === (C=this.jd) || void 0 === C?void 0:C.Sr) || this.v.Ff.qa(this.Zm || this.v.me);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Kk:{get:function(){var C;return null === (C=this.jd) || void 0 === C?void 0:C.Kk;},enumerable:!1,configurable:!0}});B.prototype.Cb=function(){return l.__awaiter(this,void 0,void 0,function(){var C,D,F;F=this;return l.__generator(this,function(G){switch(G.label){case 0:A.prototype.Cb.call(this);if(this.Qd)return [2];q.K && this.console.log(("AseBranch {").concat(this.v.id,"} awaiting viewable"));return [4,this.xI.Cb(this)];case 1:G.Ua();q.K && this.console.log(("AseBranch {").concat(this.v.id,"} viewable available, branch ").concat(this.Qd?"cancelled":"active"));if(this.Qd)return [2];C=this.Gd.map(function(E){var I;return null === (I=F.parent) || void 0 === I?void 0:I.KL(E.mediaType);});this.Wbb(this.Zm);this.Gd.some(function(E){E.mediaType === g.u.Ga && F.icb(E);});return [4,this.gZa()];case 2:return (G.Ua(),q.K && this.console.log(("AseBranch {").concat(this.v.id,"} have headers")),this.Qd?[2]:(D=this.parent)?[4,D.OO]:[3,4]);case 3:G.Ua();if(this.Qd)return [2];this.kBb(C);G.label=4;case 4:return (this.normalize(),[2]);}});});};B.prototype.kBb=function(C){var D;D=this;this.ty.forEach(function(F){var G,E;E=null === (G=D.parent) || void 0 === G?void 0:G.KL(F.mediaType);(0,h.assert)(E,"Parent state should be defined");-1 === (null === C || void 0 === C?void 0:C.indexOf(E)) && (F.Bo.uh.Oa(),G=new m.qfa(function(){var I;return null === (I=D.parent) || void 0 === I?void 0:I.KL(F.mediaType);}),F.Bo.uh=G);E=void 0;});C=void 0;};B.prototype.gZa=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(){this.r6?this.K6.resolve():(this.ma.events.on("onHeaderFragments",this.$sa),this.events.emit("needsRequest"));return [2,this.K6.promise];});});};B.prototype.nOb=function(){var C;C=this;return function(){!C.Qd && C.r6 && (C.ma.events.zr("onHeaderFragments",C.$sa),C.K6.resolve());};};B.prototype.normalize=function(){this.Qd || (this.jd=new x.kJa(this,this.W,this.console,this.ma,this.dN,this.Ki,this.Zm,this.ty.items,this.Ou,this.tga,this.KQ,this.events,this.Xu,this.Ek),this.Gla(this.jd.hB),this.Pp.resolve(this.jd));};B.prototype.BN=function(){var C;null === (C=this.jd) || void 0 === C?void 0:C.BN();};B.prototype.update=function(C){var D;this.Ki=C;(null === (D=this.jd) || void 0 === D?0:D.update(C)) && this.Gla(!0);};B.prototype.vw=function(C,D){var F;void 0 === D && (D="unknown");A.prototype.vw.call(this,C,D);null === (F=this.jd) || void 0 === F?void 0:F.vw(C);};B.prototype.CB=function(C){return l.__awaiter(this,void 0,void 0,function(){var D;return l.__generator(this,function(F){switch(F.label){case 0:return [4,this.Pp];case 1:return (D=F.Ua(),[2,null === D || void 0 === D?void 0:D.CB(C)]);}});});};B.prototype.reset=function(){var C;null === (C=this.jd) || void 0 === C?void 0:C.reset();};B.prototype.Df=function(C){var D;void 0 === C && (C="other");A.prototype.Df.call(this,C);this.Xa=z.eP;this.Xm && this.ma.events.zr("onHeaderFragments",this.$sa);null === (D=this.jd) || void 0 === D?void 0:D.Df(C);this.ty.forEach(function(F){F.cancel();F.Bo.uh.Oa();});this.xI.Oa();this.vz && (this.vz.removeAllListeners(),q.K && this.console.trace("AseBranch destroying textRequestQueue:",this.vz),d.rD.instance.p4(this.vz),this.vz=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:C});this.events.removeAllListeners();};B.prototype.Q6=function(C){var D;return !(null === (D=this.jd) || void 0 === D || !D.Q6(C));};B.prototype.Sd=function(C){var D;return null === (D=this.jd) || void 0 === D?void 0:D.Sd(C);};B.prototype.s6=function(C){return this.Gd.some(function(D){return D.mediaType === C;});};B.prototype.Zq=function(C){var D,F;void 0 === C && (C=y.vI);return null !== (F=null === (D=this.jd) || void 0 === D?void 0:D.Zq(C)) && void 0 !== F?F:[];};B.prototype.KL=function(C){var D;return null === (D=this.xoa(C)) || void 0 === D?void 0:D.uh;};B.prototype.R5=function(){var C,D,F;if(!this.r6)return this.ty.items;F=null !== (D=null === (C=this.jd) || void 0 === C?void 0:C.R5()) && void 0 !== D?D:[];q.K && this.console.trace("getMediaStreamables returning:",F);return F;};B.prototype.VF=function(C){var D;return (null === (D=this.jd) || void 0 === D?void 0:D.VF(C)) || this.ty.get(C);};B.prototype.Xn=function(C,D){var F;return (null === (F=this.jd) || void 0 === F?void 0:F.Xn(C,D)) || 0;};B.prototype.tL=function(){var C;return (null === (C=this.jd) || void 0 === C?void 0:C.tL()) || ({});};B.prototype.xL=function(C){var D;return (null === (D=this.jd) || void 0 === D?void 0:D.xL(C)) || this.wy.G;};B.prototype.oz=function(C,D,F){return l.__awaiter(this,void 0,void 0,function(){var G,E,I,M,L;L=this;return l.__generator(this,function(K){switch(K.label){case 0:q.K && this.console.trace("Branch.setTracks:",C);this.TJ=C.sort(y.vI);this.Wbb(D);if(!this.Pg)return [3,4];(0,h.assert)(this.jd);G=this.ty.filter(function(O){return O.track.Fh;}).items;E=this.jd.ufb(G,D,F);I=E.US;M=E.hB;I && this.Gla(M);if(this.r6)return [3,4];this.K6=new k.Sz();this.Pp=new k.Sz();q.K && this.console.log(("AseBranch {").concat(this.v.id,"} setTracks waiting for headers"));return [4,this.gZa()];case 1:return (K.Ua(),this.Qd?[2]:this.parent?[4,this.parent.OO]:[3,3]);case 2:(K.Ua(),K.label=3);case 3:(this.jd.ufb(this.ty.items,D,F),q.K && this.console.log(("AseBranch {").concat(this.v.id,"} setTracks pipelines updated")),this.Pp.resolve(this.jd),this.events.emit("needsRequest"),K.label=4);case 4:return (C.some(function(O){if(O.mediaType === g.u.Ga)return (L.icb(O),!0);}),[2]);}});});};B.prototype.icb=function(C){var D;D=this;this.Mb=C;this.vz || (this.vz=(0,t.Wx)(g.u.Ga,this.ma,this.W,this.console,!0,function(F){return D.dN.emit("transportReport",F);},function(F){return D.dN.emit("mediaRequestComplete",F);},function(){}),q.K && this.console.trace("AseBranch created textRequestQueue:",this.vz));};B.prototype.JBb=function(C){var D,F,G;D=this;F=C.mediaType === g.u.fa?this.W.bvb:C.track.aa?this.W.Rqa:this.W.pdb;G=new m.qfa(function(){var E;return null === (E=D.parent) || void 0 === E?void 0:E.KL(C.track.mediaType);});G.j3b(C.track);F=new w.sQ(F,this.W,G,c(this.W,C.mediaType));this.qdb[C.mediaType]=F;};B.prototype.Wbb=function(C){var D,F;D=this;this.Iva=0;F=this.Gd;this.ma.aa || (F=F.filter(function(G){return G.mediaType !== g.u.Ga;}));F=F.map(function(G){var E;E=D.ty.find(function(I){return I.track === G;});E || (++D.Iva,E=new v.DFa(D,G,function(){return (null === C || void 0 === C?void 0:C.add(D.ve)) || f.L.Ha;},C || f.L.Ha,D.W,D.console,D.dN,function(){0 === --D.Iva && D.events.emit("requestQueuesCreated");}),D.JBb(E));return E;});this.ty=new p.YP(F);};B.prototype.un=function(C){var D;return (null === (D=this.jd) || void 0 === D?void 0:D.un(C)) || [];};B.prototype.yK=function(C){var D;return !(null === (D=this.jd) || void 0 === D || !D.yK(C));};B.prototype.E5=function(C){return this.jd?this.jd.E5(C):f.L.Ha;};B.prototype.Laa=function(C){var D;return !(null === (D=this.jd) || void 0 === D || !D.Laa(C));};B.prototype.Gla=function(C){C={type:"branchNormalized",segmentContentStart:this.v.me,branchContentStart:this.Ka,branchContentEnd:this.Wa,didNormalizeSegment:C};this.events.emit(C.type,C);q.K && this.console.trace("branchNormalized:",C);};B.prototype.toJSON=function(){var C;return (null === (C=this.jd) || void 0 === C?void 0:C.toJSON()) || ({});};return B=l.__decorate([u.rL],B);})(y.$ba);b.zBa=a;(0,n.xk)(r.Ew,a);},13326:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DFa=void 0;c=a(39656);l=a(39139);a(27364);f=a(62558);r=(function(){function k(d,g,n,h,m,p,q,u){this.kb=d;this.track=g;this.D4b=n;this.w4b=h;this.config=m;this.console=p;this.events=q;this.VVb=u;this.Ov=0;this.L9a=this.Zh=!1;}Object.defineProperties(k.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{I:{get:function(){return this.kb.v.id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kf:{get:function(){return this.kb.kf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{gaa:{get:function(){return this.D4b();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Kk:{get:function(){return this.gaa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{TC:{get:function(){return this.gaa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sdb:{get:function(){return this.w4b;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mL:{get:function(){return this.kb.mL;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Hj:{get:function(){return this.pe || (this.pe=this.Wx());},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{li:{get:function(){return !this.track.MV;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Sta:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bo:{get:function(){return this.kb.xoa(this.mediaType);},enumerable:!1,configurable:!0}});k.prototype.hr=function(){return this.track.MV;};k.prototype.$m=function(){return this.track.Fh;};k.prototype.Pg=function(){return !1;};k.prototype.d0a=function(){return {Ja:[],m9:0,Br:0,zN:0};};k.prototype.M6b=function(){var d;(0,f.assert)(this.$m());d=this.Hj;this.pe=void 0;return d;};k.prototype.Reb=function(d){return (d=d.rI(this.kb.v,this.Hj))?{Hh:d,reason:"success"}:{Hh:d,reason:"pipelineTryIssueHeaderRequest"};};k.prototype.cancel=function(){this.pe && (this.kb.ma.IR(this.mediaType,this.pe),l.rD.instance.p4(this.pe),this.pe.removeAllListeners(),this.pe=void 0);};k.prototype.M3a=function(){var d,g,n;n=this.config.so;if(null === (d=this.Hj) || void 0 === d?0:d.track)n=null === (g=this.Hj) || void 0 === g?void 0:g.track.so;return n;};k.prototype.ZT=function(){return this.kb.N0a(this.mediaType);};k.prototype.Wx=function(){var d,g;d=this;g=(0,c.Wx)(this.mediaType,this.track.ma,this.config,this.console,this.track.aa,function(n){return d.events.emit("transportReport",n);},function(n){return d.events.emit("mediaRequestComplete",n);},function(){});g.on("created",this.VVb);return g;};return k;})();b.DFa=r;},6173:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v;function c(y,x){return (y.mediaType === m.u.Y?0:1) - (x.mediaType === m.u.Y?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.kJa=b.nnb=void 0;l=a(5163);f=a(42866);k=a(42866);d=a(12043);g=a(99739);n=a(57196);h=a(31549);m=a(27364);p=a(40115);q=a(62558);r=a(551);u=a(55011);t=a(1104);w=a(7460);v=a(97810);b.nnb={vI:c};a=(function(y){function x(z,A,B,C,D,F,G,E,I,M,L,K,O,H){var J,N;N=y.call(this,C) || this;N.kb=z;N.W=A;N.ma=C;N.dN=D;N.Ki=F;N.Ou=I;N.tga=M;N.KQ=L;N.events=K;N.Xu=O;N.Ek=H;N.nj=new t.YP([]);N.ys=!1;N.kQa=0;N.APa=N.tVb.bind(N);(0,q.assert)(C.J === N.v.J || isNaN(C.J) && isNaN(N.v.J));z=F.id && F.id.length?"{" + F.id + "}":"";N.console=(0,v.Jh)(d.platform,B,z);N.Zm=G || N.v.me;B=N.parent;N.PQa=null === B || void 0 === B?void 0:B.Lb;null === (J=N.KQ) || void 0 === J?void 0:J.addListener(N.APa);E=N.lWa(E,N.Zm,!!B).hB;N.hB=E;return N;}l.__extends(x,y);Object.defineProperties(x.prototype,{Qd:{get:function(){return this.ys;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{v:{get:function(){return this.Ki;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{li:{get:function(){return this.nj.every(function(z){return z.li;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Zh:{get:function(){return this.nj.every(function(z){return z.Zh;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{KA:{get:function(){return this.Zq().reduce(function(z,A){return z + A.KA;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Pg:{get:function(){return this.Zq().every(function(z){return z.Pg();});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Gd:{get:function(){return this.kb.Gd;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{N:{get:function(){return this.nR.N;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{qb:{get:function(){return this.nR.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ub:{get:function(){return this.nR.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ln:{get:function(){return this.ve.$c(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{wy:{get:function(){return this.Zm.add(this.ve);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Dr:{get:function(){return this.v.me.add(this.ve);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{eH:{get:function(){return this.v.Ff.add(this.ve);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{z7:{get:function(){return this.nj.reduce(function(z,A){return z && A.Lb?f.L.max(z,A.Lb):A.Lb?A.Lb:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Kk:{get:function(){return this.nj.reduce(function(z,A){A=A.Kk;return z && A?f.L.max(z,A):z || A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Sr:{get:function(){return this.nR.Sr;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ve:{get:function(){return this.Ou;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{parent:{get:function(){return this.kb.parent;},enumerable:!1,configurable:!0}});x.prototype.ufb=function(z,A,B){void 0 === A && (A=this.Ka || this.Zm);return this.lWa(z,A,B);};x.prototype.BN=function(){var z,A,B,C;if(this.rE){z=this.Ki;A=l.__read(this.rE.BN(z,z.Ff),3);B=A[0];z=A[1];A=A[2];C=this.Sd(m.u.fa);C && ((0,q.assert)(B,"branch.renormalize: audioLastFragment should be defined"),C.truncate(B));if(B=this.Sd(m.u.Y))((0,q.assert)(z,"branch.renormalize: videoLastFragment should be defined"),B.truncate(z));if(z=this.Sd(m.u.Ga))((0,q.assert)(A,"branch.renormalize: lastTextFragment should be defined"),z.truncate(A));this.events.emit("branchEdited",{type:"branchEdited"});}};x.prototype.update=function(z){var A;A=z.Ff.Esa(this.Ki.Ff);this.Ki=z;return A && this.rE?(this.BN(),!0):!1;};x.prototype.vw=function(z){this.ve.equal(z) || (this.Ou=z,this.events.emit("branchEdited",{type:"branchEdited"}));};x.prototype.CB=function(z){return l.__awaiter(this,void 0,void 0,function(){var A;return l.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.Ua(),(A=this.Sd(z))?[2,A.CB()]:[2,h.AsyncIterator.EJb()]);}});});};x.prototype.JR=function(){this.nj.forEach(function(z){return z.JR();});};x.prototype.reset=function(){this.nj.forEach(function(z){z.reset();});};x.prototype.Df=function(z){var A,B;this.ys || (this.ys=!0,null === (A=this.rE) || void 0 === A?void 0:A.Ze(),this.rE=void 0,this.nj.forEach(function(C){C.Df("aborted" === z);}),null === (B=this.KQ) || void 0 === B?void 0:B.removeListener(this.APa));};x.prototype.Q6=function(){return !0;};x.prototype.Sd=function(z){return this.nj.get(z);};x.prototype.Zq=function(z){void 0 === z && (z=c);return this.nj.items.slice().sort(z);};x.prototype.R5=function(){return this.nj.items;};x.prototype.VF=function(z){return this.Sd(z);};x.prototype.Xn=function(z,A){z=this.Sd(z);if(!z)return 0;if(A)return z.g$;A=z.ES;if(void 0 === A)return 0;z=this.tga();return A - z;};x.prototype.tL=function(){var z,A,B,C,D,F,G;G=null === (z=this.Sd(m.u.fa)) || void 0 === z?void 0:z.E3;z=null === (A=this.Sd(m.u.Y)) || void 0 === A?void 0:A.E3;return {Yaa:null !== (B=null === z || void 0 === z?void 0:z.G) && void 0 !== B?B:0,l2:null !== (C=null === G || void 0 === G?void 0:G.G) && void 0 !== C?C:0,CY:null !== (D=null === z || void 0 === z?void 0:z.wa) && void 0 !== D?D:0,LR:null !== (F=null === G || void 0 === G?void 0:G.wa) && void 0 !== F?F:0};};x.prototype.xL=function(z){var A;return (z=this.Sd(z))?null !== (A=z.ES) && void 0 !== A?A:0:0;};x.prototype.un=function(z){var A;z=this.Sd(z);A=this.ma.aa;return (null === z || void 0 === z?void 0:z.un(A)) || [];};x.prototype.tVb=function(z){z=z.newValue;(0,m.ao)(z) && this.qE();};x.prototype.yK=function(z){return this.nj.every(function(A){return A.yK(z);});};x.prototype.E5=function(z){var A;return (null === (A=this.nj.get(z)) || void 0 === A?void 0:A.eCb) || f.L.Ha;};x.prototype.Laa=function(z){var A,B,C,D;A=this.nR.oQb;if(!A)return !1;z=(0,k.tc)(z,function(F){return A.G <= F.Ka.G;});if(!z)return !1;B=z.Ka;z=!1;C=l.__read((0,w.yva)(this.W,this.nj,B),3);B=C[0];D=C[1];C=C[2];D && (this.Sd(m.u.Y).truncate(D),z=!0);B && (this.Sd(m.u.fa).truncate(B),z=!0);C && (this.Sd(m.u.Ga).truncate(C),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};x.prototype.Ar=function(z,A){this.ys || ((0,q.assert)(!z.He),this.qE(),this.events.emit("requestComplete",{type:"requestComplete",kb:this.kb}),this.Zh && this.Xqb());this.HF(z,A);};x.prototype.XM=function(z,A){this.W.vYa && this.qE(!0);this.CT(z,A);};x.prototype.VM=function(z){this.W.vYa && this.qE(!0);this.AT(z);};x.prototype.lWa=function(z,A,B){var C,D,F;C=this;D=new t.YP();F=!1;z.forEach(function(G){var E;E=C.nj.find(function(I){return I.track === G.track;});void 0 === E?(F=!0,E=new g.PKa(C,C.W,C.console,C.dN,C.kb,G.track,A,!0,C.Xu,G.M6b(),C.Ek),C.xOb(E)):(C.nj.remove(E),E.JR());D.add(E);});this.nj.forEach(function(G){return G.Df();});this.nj=D;return F?this.normalize(A,B):{US:!1,hB:!1};};x.prototype.xOb=function(z){var A;A=this;z.events.on("lastRequestIssued",function(){return A.li && A.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});z.events.on("liveMissingSegment",function(B){return A.events.emit("liveMissingSegment",B);});};x.prototype.normalize=function(z,A){var B;null === (B=this.rE) || void 0 === B?void 0:B.Ze();this.rE=new p.QKa({console:this.console,config:this.W,ma:this.ma,v:this.v,uC:this.nj,Ka:z,Wa:this.v.Ff,splice:A});this.nR=this.nj.Eua;A=this.rE.normalize();z=A.US;A=A.hB;z && this.PQa && (this.Ou=this.PQa.qa(this.Ka));return {US:z,hB:A};};x.prototype.B3b=function(z){var A;return (0,m.ao)((null === (A=this.KQ) || void 0 === A?void 0:A.value) || m.Rc.rl) && (!z || this.kQa + this.W.esa < d.platform.time.xa());};x.prototype.qE=function(z){void 0 === z && (z=!1);this.B3b(z) && (this.kQa=d.platform.time.xa(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};x.prototype.Xqb=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};x.prototype.toJSON=function(){var z,A,B;return {segment:this.v.id,branchOffset:null === (z=this.ve) || void 0 === z?void 0:z.G,viewableId:this.Ki.J,contentStartPts:null === (A=this.Ka) || void 0 === A?void 0:A.G,contentEndPts:null === (B=this.Wa) || void 0 === B?void 0:B.G};};return x;})(n.hD);b.kJa=a;(0,u.xk)(r.Ew,a);},86787:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.UJa=b.Oz=void 0;c=a(5163);l=a(8604);f=a(42866);k=a(12043);d=a(27364);r=a(551);g=a(55011);n=a(89755);h=a(62558);m=a(97810);p=a(30923);q=a(38509);a=a(76666);(function(t){t[t.wu=0]="CREATED";t[t.eP=1]="CANCELLED";})(u=b.Oz || (b.Oz={}));a=(function(t){function w(v,y,x,z,A,B){v=t.call(this,y,z,x,f.L.Ha,(0,m.Jh)(k.platform,v,"AsePadding")) || this;v.ma=A;v.config=B;v.wI=new n.iD(v.console);v.OA=new n.iD(v.console);v.Pp=new f.Sz();v.console.trace(("PaddingBranch {").concat(y.id,"}: created"));return v;}c.__extends(w,t);w.prototype.NAb=function(v){return c.__awaiter(this,void 0,void 0,function(){var y,x,z,A,B,C,D,F;F=this;return c.__generator(this,function(G){switch(G.label){case 0:return [4,this.OYb()];case 1:return (y=G.Ua(),x=y.If,z=y.wd,A=y.bitrate,B=y.no,C=(0,m.Jh)(k.platform,this.console,"[0]"),this.OA=new n.iD(C),D=p.qD.instance().KX.f$a(this.ma,x,z,A,B,v,this.v,this.q_a.bind(this),this.config,C),D.forEach(function(E){return F.OA.enqueue(E);}),this.OA.AF(),[2]);}});});};w.prototype.TBb=function(v){var y,x,z;return c.__awaiter(this,void 0,void 0,function(){var A,B,C,D,F,G,E,I,M,L,K,O,H;H=this;return c.__generator(this,function(J){switch(J.label){case 0:return [4,this.QYb()];case 1:return (A=J.Ua(),B=A.profile,C=A.gv,D=A.no,F=l.Fz.some(function(N){return -1 !== B.indexOf(N);})?B:"h264hpl",G=null === (z=null === (x=null === (y=this.parent) || void 0 === y?void 0:y.Sd(d.u.Y)) || void 0 === x?void 0:x.track.za) || void 0 === z?void 0:z.kva(),(0,h.assert)(G,"padding branches should always have a frameRate"),E=(0,m.Jh)(k.platform,this.console,"[0]"),I=p.qD.instance().KX.h$a(this.ma,this.ma.g9b,F,G,C,D,v,this.v,this.q_a.bind(this),E),M=I.Ka,L=I.Wa,K=I.duration,O=I.Ja,this.v.normalize(M,L,[]),O.forEach(function(N){return H.wI.enqueue(N);}),this.wI.AF(),this.N8b=K,[2,{duration:K}]);}});});};Object.defineProperties(w.prototype,{li:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Zh:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{KA:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Pg:{get:function(){return this.Pp.Uva;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{OO:{get:function(){return this.Pp.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Xm:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{N:{get:function(){return this.v.me.N;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{qb:{get:function(){return this.v.me.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ub:{get:function(){return this.v.Ff.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ln:{get:function(){return this.ve.$c(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{wy:{get:function(){return this.v.me.add(this.ve);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mL:{get:function(){(0,h.assert)(!this.v.v.Tq,"exit zone not supported for padding segments");return f.L.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{bK:{get:function(){return this.OA && this.wI?this.OA.xy && this.wI.xy:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{LSa:{get:function(){return !(!this.OA && !this.wI);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Dr:{get:function(){return this.v.me.add(this.ve);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{eH:{get:function(){return this.v.Ff.add(this.ve);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{z7:{get:function(){return this.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Kk:{get:function(){return this.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ve:{get:function(){return this.Ou;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Qra:{get:function(){return this.AQa || this.v.Ff.qa(this.v.me);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Sr:{get:function(){return f.L.Ha;},enumerable:!1,configurable:!0}});w.prototype.Cb=function(){return c.__awaiter(this,void 0,void 0,function(){var v;return c.__generator(this,function(y){switch(y.label){case 0:(t.prototype.Cb.call(this),y.label=1);case 1:return (y.Rj.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.v.id,"}: init")),this.parent?[4,this.parent.OO]:[3,3]);case 2:(y.Ua(),y.label=3);case 3:return (this.AQa=this.v.Ff.qa(this.v.me),[4,this.uWa([d.u.fa,d.u.Y])]);case 4:return (y.Ua(),this.Pp.resolve(),[3,6]);case 5:v=y.Ua();if(!this.Qd)throw v;return [3,6];case 6:return [2];}});});};w.prototype.update=function(v){this.Ki=v;};w.prototype.CB=function(v){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.v.id,"}: getRequestIterator(").concat(v,")"));return v === d.u.fa?[2,this.OA.nna()]:[2,this.wI.nna()];});});};w.prototype.reset=function(){};w.prototype.Df=function(v){void 0 === v && (v="other");t.prototype.Df.call(this,v);this.Xa=u.eP;this.AQa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:v});this.events.removeAllListeners();};w.prototype.Q6=function(){return !0;};w.prototype.Sd=function(){};w.prototype.s6=function(v){return [d.u.fa,d.u.Y].some(function(y){return y === v;});};w.prototype.Zq=function(){return [];};w.prototype.KL=function(v){var y;return null === (y=this.parent) || void 0 === y?void 0:y.KL(v);};w.prototype.R5=function(){return [];};w.prototype.VF=function(){};w.prototype.Xn=function(){return this.Qra.G;};w.prototype.tL=function(){return {};};w.prototype.xL=function(){return this.v.Ff.G;};w.prototype.oz=function(v,y,x,z){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(A){switch(A.label){case 0:return [4,this.Pp.promise];case 1:return (A.Ua(),this.parent?[4,this.parent.OO]:[3,3]);case 2:(A.Ua(),A.label=3);case 3:return [4,this.uWa(z)];case 4:return (A.Ua(),[2]);}});});};w.prototype.uWa=function(v){return c.__awaiter(this,void 0,void 0,function(){var y,x;return c.__generator(this,function(z){switch(z.label){case 0:y=f.L.Ha;if(-1 === v.indexOf(d.u.Y))return [3,2];this.wI.clear();return [4,this.TBb(this.Qra)];case 1:(x=z.Ua(),y=x.duration,z.label=2);case 2:if(-1 === v.indexOf(d.u.fa))return [3,4];this.OA.clear();this.console.trace(("AsePaddingBranch {").concat(this.v.id,"}: video duration ").concat(y.mb()));return [4,this.NAb(this.N8b)];case 3:(z.Ua(),z.label=4);case 4:return [2];}});});};w.prototype.un=function(){return [];};w.prototype.yK=function(v){var y,x;return !!((null === (y=this.Lb) || void 0 === y?0:y.greaterThan(v)) && (null === (x=this.Ab) || void 0 === x?0:x.lessThan(v)));};w.prototype.E5=function(){return this.Qra;};w.prototype.Laa=function(){return !1;};w.prototype.toJSON=function(){var v,y;return {segment:this.v.id,viewableId:this.Ki.J,contentStartPts:null === (v=this.Ka) || void 0 === v?void 0:v.G,contentEndPts:null === (y=this.Wa) || void 0 === y?void 0:y.G};};w.prototype.QYb=function(){var v,y,x,z,A,B,C;return c.__awaiter(this,void 0,void 0,function(){var D,F,G,E;return c.__generator(this,function(I){switch(I.label){case 0:return (D=null === (y=null === (v=this.parent) || void 0 === v?void 0:v.Sd(d.u.Y)) || void 0 === y?void 0:y.uh.fo)?[3,2]:[4,null === (z=null === (x=this.parent) || void 0 === x?void 0:x.Sd(d.u.Y)) || void 0 === z?void 0:z.uh.wgb];case 1:I.Ua();if(this.Qd)return [2,Promise.reject()];I.label=2;case 2:return (D=null === (B=null === (A=this.parent) || void 0 === A?void 0:A.Sd(d.u.Y)) || void 0 === B?void 0:B.uh.fo,(0,h.assert)(D,"Parent of padding branch must have last selected video stream"),F=null === (C=D.track.lk) || void 0 === C?void 0:C.gv,G=D.track.no,E=D.Cd,[2,{profile:E,gv:F,no:G}]);}});});};w.prototype.OYb=function(){var v,y,x,z,A,B;return c.__awaiter(this,void 0,void 0,function(){var C,D,F,G,E;return c.__generator(this,function(I){switch(I.label){case 0:return (C=null === (y=null === (v=this.parent) || void 0 === v?void 0:v.Sd(d.u.fa)) || void 0 === y?void 0:y.uh.fo)?[3,2]:[4,null === (z=null === (x=this.parent) || void 0 === x?void 0:x.Sd(d.u.fa)) || void 0 === z?void 0:z.uh.wgb];case 1:I.Ua();if(this.Qd)return [2,Promise.reject()];I.label=2;case 2:return (C=null === (B=null === (A=this.parent) || void 0 === A?void 0:A.Sd(d.u.fa)) || void 0 === B?void 0:B.uh.fo,(0,h.assert)(C,"Parent of padding branch must have last selected audio stream"),D=C.If || f.L.Ha,F=(0,q.vna)(C.profile),G=C.bitrate,E=C.track.no,[2,{If:D,wd:F,bitrate:G,no:E}]);}});});};w.prototype.q_a=function(v,y){return this.Ou.add(y).$c(v).ja;};return w;})(a.$ba);b.UJa=a;(0,g.xk)(r.Ew,a);},74029:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.NVa=void 0;c=a(50954);l=a(42866);f=a(42663);k=a(22494);b.NVa=function(d){var g,n,h,m,p,q,u,t,w,v,y,x;g=d.config;n=d.console;h=d.rua;m=d.v;p=d.events;q=d.GH;u=d.Zm;t=d.ve;w=d.mt;v=d.Pd;y=d.yd;x=d.xI;d=d.UTa;m.J === c.sq && g.VK?(p=new f.VJa(m.J,g.Hta),q=l.L.Ha,g=new (a(86787).UJa)(n,m,q,h.W5.bind(h),p,g)):g=new k.zBa(g,n,p,m,q,u,t,w,h.W5.bind(h),v,y,x,d);return g;};},23800:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mD=void 0;c=a(15913);l=a(62558);r=(function(){function f(k){this.config=k;this.reset();}f.instance=function(){(0,l.assert)(void 0 !== f.Ds);return f.Ds;};f.Nyb=function(k){f.Ds=new f(k);};f.prototype.push=function(k){this.cj && this.cj.push(k);};f.prototype.Bb=function(){if(this.cj)return (this.cj.Qx(),this.cj.wi([.25,.5,.75,.9,.95,.99]).map(function(k){return k?parseFloat(k.toFixed(1)):0;}));};f.prototype.reset=function(){this.config.hFb && this.config.jda && (this.cj=new c.TDigest(this.config.jda.c,this.config.jda.maxc));};return f;})();b.mD=r;},87425:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.LBa=b.It=void 0;c=a(5163);r=a(57055);l=a(42866);f=a(42866);k=a(12043);d=a(22209);g=c.__importDefault(a(89956));n=a(27364);h=a(62558);m=a(29308);p=a(64406);q=a(7881);u=a(97810);t=a(31549);w=a(54790);b.It=function(v){return v.qa(l.L.Na(v.zH));};a=(function(v){function y(x,z,A,B,C,D){var F,G;F=this;F=v.call(this) || this;F.Be=x;F.hg=z;F.Sc=A;F.W=B;F.Z=C;F.Hn=D;F.KRa=!1;F.LPa=!1;F.AR=!1;F.T=d.lq.Av(F.Be);F.mA=F.T.error.bind(F.T);F.Ls=F.T.warn.bind(F.T);F.zx=F.T.trace.bind(F.T);null === (G=A.events) || void 0 === G?void 0:G.addListener("ready",function(){F.jx();});F.s6a=new m.BIa(F.W,F.Be,F.hg.uf,F.T);F.reset();return F;}c.__extends(y,v);Object.defineProperties(y.prototype,{endOfStream:{get:function(){return this.TQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{C5b:{get:function(){return !!this.Sc.AFb;},enumerable:!1,configurable:!0}});y.prototype.reset=function(x){var z,A,B;null === (z=this.KQa) || void 0 === z?void 0:z.Oa();x || (this.yx=[]);this.Kga=this.z1=this.mE=void 0;this.hA && (this.hA.Qd=!0,this.hA.iterator.zg(),this.hA=void 0);this.wJ && (this.wJ.Qd=!0,this.wJ.iterator.zg(),this.wJ=void 0);this.gga=!1;this.KJ=void 0;this.AR=this.TQ=!1;this.yRa(l.L.Ha);null === (B=(A=this.Sc).reset) || void 0 === B?void 0:B.call(A);this.s6a.reset();};y.prototype.DHb=function(){this.z1=!0;};y.prototype.B4=function(){this.LPa=!0;this.jx();};y.prototype.OC=function(x){this.KRa=x;};y.prototype.Gub=function(x){this.yx.push(x);this.jx();};y.prototype.Dz=function(){this.jx();};y.prototype.AUb=function(x){this.W.mia && void 0 === this.Kga && this.vPa(x,0);this.jx();};y.prototype.K8=function(x,z){var A,B,C,D;A=this;void 0 === x && (x=!1);this.TQ || (this.TQ=!0,this.jx(),!x && this.C5b) || (z && this.Hn && this.W.eDb?(x=l.L.Na(this.W.p6b),z=z.qa(x),x=(0,q.jba)(this.Hn,z,!0),z=x.Mf,x=x.promise,null === (B=this.KQa) || void 0 === B?void 0:B.Oa(),this.KQa=z,x.then(function(){var F,G;A.TQ && (null === (G=(F=A.Sc).endOfStream) || void 0 === G?void 0:G.call(F));})):null === (D=(C=this.Sc).endOfStream) || void 0 === D?void 0:D.call(C));};y.prototype.yRa=function(x){var z;null !== (z=this.Rrb) && void 0 !== z && z.equal(x) || (this.Rrb=x,this.Sc.jcb(x.ja,x.N));};y.prototype.jx=function(){var x,z,A,B,C,D,F,G;C=this.W;if(!this.hA && !this.wJ && this.yx.length)if(this.Sc && !1 !== this.Sc.ready){D=this.yx[0];if(D.aborted)(this.Ls("aborted fragment should not appear in the toAppend list:",D.toString(),"complete:",D.complete),this.tR("@" + k.platform.time.xa() + ", append: removing aborted fragment from toAppend: " + D.toString()),this.yx.shift());else {F=D.stream;G=F.ma;if(F.Fh)if((D.xv && !this.AR && (null === (z=(x=this.Sc).Wcb) || void 0 === z?void 0:z.call(x,{J:F.track.ma.J,z3a:F.ii}),this.AR=!0),this.y3b(F,D.index)))(this.z1=!1,this.vPa(F,D.index));else if((x=this.Z.LU(G.J),F=this.UNb(F),x || F || !this.gga && !C.vza))if((x=this.d1a(D),this.Be === g.default.mm.fa && (D.Qk || D.Dt || (null === (A=D.Ia) || void 0 === A?0:A.Vn)) && D.Ia && !C.FN && !this.TQ && this.yx.length <= (D.Qk || D.Dt?1:2) && x > C.r8 && (null === (B=D.kz) || void 0 === B || !B.dM)))this.F1b();else {this.gga || (this.gga=F);this.yx.shift();try{this.Xtb(D);}catch(E){throw (this.T.error(E),E);}}}}else this.tR("@" + k.platform.time.xa() + ", append: not appending, sourceBuffer not ready");};y.prototype.F1b=function(){var x;x=this;this.Hn && (this.sqa?this.sqa.p3a || this.sqa.mf():this.sqa=this.Hn.Vx(function(){return x.fQb();},"JIT Appender"));};y.prototype.fQb=function(){var x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:if(1 !== this.yx.length)return [3,3];x=this.yx[0];if(!x.Qk && !x.Dt || (null === (B=x.kz) || void 0 === B?0:B.dM))return [2];z=this.d1a(x);A=this.W.r8;return z > A?[4,q.Jg.fD(l.L.Na(z - A))]:[3,2];case 1:(C.Ua(),C.label=2);case 2:return (this.jx(),[3,0]);case 3:return [2];}});};y.prototype.d1a=function(x){var z;return (null === (z=x.Ab) || void 0 === z?NaN:z.G) - this.Z.Kd.G;};y.prototype.y3b=function(x,z){var A;A=x.Gh;(0,h.assert)(A);return 0 === A.length?this.z1=!1:this.z1 || void 0 === this.mE || x.Gb !== this.mE.Gb?!0:1 < A.length?(0,f.uia)(A,function(B){return B.Fe <= z;}) !== this.mE.E3a:!1;};y.prototype.UNb=function(x){if(x.mediaType === n.u.fa || !x.ii)return !0;if(void 0 === this.mE)return !1;if(!x.track.zV)return !x.ii;x=x.Gh;(0,h.assert)(x);return !1 === x[this.mE.E3a].zF;};y.prototype.vPa=function(x,z){var A,B,C,D;if(!this.KRa || this.LPa){if(x.Gh && 0 !== x.Gh.length){C=x.Gh.reduce(function(F,G,E){return G.Fe <= z?E:F;},0);D=x.Gh[C];this.mE || (null === (B=(A=this.Sc).Wcb) || void 0 === B?void 0:B.call(A,{J:x.track.ma.J,z3a:x.ii}),this.AR=!0);if(!this.Sc.appendBuffer(D.data,{He:!0,profile:x.profile,bitrate:x.bitrate,Gb:x.Gb}))throw (this.Ls("appendHeader error: " + this.Sc.error),this.tR("@" + k.platform.time.xa() + ", appendHeader error: " + this.Sc.error),Error("appendHeaderError"));this.tR("@" + k.platform.time.xa() + ", header appended, streamId: " + x.Gb);this.mE={Gb:x.Gb,E3a:C};this.wrb(x.Gb,C);}this.jx();}};y.prototype.Xtb=function(x){var z,A,B,C,D;z=this;C=x.Tua || l.L.Ha;D=x.v;D.Ff && !D.Ff.equal(l.L.Jp) && (C=D.Ff.add(C).sh,Infinity === this.hg.duration || this.hg.duration < C) && (this.hg.duration=C);C=void 0 !== x.qw?l.L.Na(x.qw).add(x.Tua):void 0;D=null === (A=this.yx[0]) || void 0 === A?void 0:A.Ab;A={endOfStream:this.endOfStream || !(null === (B=x.kz) || void 0 === B || !B.dM),zM:C,tsa:D};D=this.s6a.append(x,A);B=D.ci;C=D.si;A=D.xo;D=D.offset;null === C || void 0 === C?void 0:C.forEach(function(F){return z.emit(F.type,F);});C=x.stream;C.aa && (D=D.qa(C.Rt.$c(C.N)));this.yRa(D);B && (x.Qk || x.Dt) && x.ci();C=p.im.WIa;B || (this.Be === n.u.fa || this.Be === n.u.Y?C=this.Utb(x,A):this.Be === n.u.Ga && (C=this.bub(x)));switch(C){case p.im.Ak:this.Job(x);break;case p.im.n0:this.Kga=x;break;case p.im.lm:this.Xsa(x);this.Kga=x;break;case p.im.WIa:this.V7a(x,!0);}};y.prototype.Fdb=function(){var x;return k.platform.No.uf.Wva.ffa || !(null === (x=this.hg.uf) || void 0 === x || !x.Fdb);};y.prototype.Utb=function(x,z){return this.Fdb()?this.Vtb(x,z):this.Wtb(x,z);};y.prototype.Vtb=function(x,z){var A,B,C;A=this;B=(0,u.vra)(x);if((z=(z || x.xo).every(function(D,F){return A.Sc.appendBuffer(D,0 === F?B:void 0);})) && !x.Roa){z=x.noa();C={Ma:x,iterator:z,Qd:!1};this.hA=C;t.AsyncIterator.k7(z,function(D){C.Qd || (D.done?(A.hA=void 0,A.Xsa(x)):A.Sc.appendBuffer(D.value,B));});z=p.im.n0;}else z=z?p.im.lm:p.im.Ak;return z;};y.prototype.Wtb=function(x,z){var A,B,C,D;A=this;B=(0,u.vra)(x);z || (z=x.xo);if(x.Roa)C=(C=this.FVa(z,B))?p.im.lm:p.im.Ak;else {C=x.noa();D={Ma:x,iterator:C,Qd:!1};this.hA=D;t.AsyncIterator.k7(C,function(F){D.Qd || (F.done?(A.FVa(z,B),A.hA=void 0,A.Xsa(x)):z.push(F.value));});C=p.im.n0;}return C;};y.prototype.FVa=function(x,z){x=1 < x.length?(0,u.xK)(x):x[0];return this.Sc.appendBuffer(x,z);};y.prototype.bub=function(x){var z,A,B,C;z=this;(0,h.assert)(x instanceof w.Jba);A=x.xo;if(x.Roa){(0,h.assert)(A.every(function(D){return D instanceof ArrayBuffer;}));Promise.resolve().then(function(){return z.fYa(x,A);});B=p.im.lm;}else {B=x.noa();C={Ma:x,iterator:B,Qd:!1};this.wJ=C;t.AsyncIterator.k7(B,function(D){C.Qd || (D.done?(z.wJ=void 0,(0,h.assert)(A.every(function(F){return F instanceof ArrayBuffer;})),z.fYa(x,A)):A.push(D.value));});B=p.im.n0;}return B;};y.prototype.fYa=function(x,z){var A,B;z=(0,u.xK)(z);z=new Uint8Array(z);z=k.platform.Yka(z);(0,h.assert)(z);B=x.Qk && (null === (A=x.kz) || void 0 === A?void 0:A.dM);x={type:"subtitleData",I:x.Rg,gb:x.Ka.G,df:x.Wa.G,Fr:x.Ydb,Ueb:z,endOfStream:B};this.hg.events.emit(x.type,x);};y.prototype.Xsa=function(x){var z;void 0 === this.KJ || this.Be !== g.default.mm.fa || x.Ab.equal(this.KJ) || (this.KJ=void 0);this.tR("@" + k.platform.time.xa() + ", request appended, type: " + x.mediaType + ", streamId: " + x.Gb + ", pts: " + (null === (z=x.Ab) || void 0 === z?void 0:z.G) + "-" + x.Lb.G);this.V7a(x,!1);};y.prototype.V7a=function(x,z){var A,B,C;x.Qk || x.Dt?(this.KJ=z?x.Ab:x.Lb,null === (B=(A=this.Sc).AFb) || void 0 === B?void 0:B.call(A,x.kz),this.AR=!1,(null === (C=x.kz) || void 0 === C?0:C.dM) && this.K8(!1,this.KJ)):this.KJ=void 0;x.aS=!0;x.yN();this.xrb(x);this.jx();};y.prototype.Job=function(x){if(void 0 !== this.Sc.error){if("done" === this.Sc.error)return;this.mA("failure to append queued mediaRequest:",null === x || void 0 === x?void 0:x.toString(),"err:",JSON.stringify(this.Sc.error));throw this.Sc.error;}x=Error("failure to append queued mediaRequest: " + (null === x || void 0 === x?void 0:x.toString()) + " err: " + this.Sc.error);this.mA(x.message);throw x;};y.prototype.wrb=function(x,z){x={type:"headerAppended",mediaType:this.Be,streamId:x,isIndex:z};this.emit(x.type,x);};y.prototype.xrb=function(x){x={type:"requestAppended",mediaType:this.Be,request:x};this.emit(x.type,x);};y.prototype.tR=function(x){x={type:"managerdebugevent",message:x};this.emit(x.type,x);};return y;})(r.EventEmitter);b.LBa=a;},78764:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.MBa=void 0;c=a(57055);l=a(27364);f=a(62558);r=(function(){function k(d,g){this.T=d;this.Gpb=g;this.av=this.Lu=this.gp=0;this.iha=new Map();}k.prototype.fv=function(d){var g,n,h;g=this;if(!d.He){n=d.wa;if(0 >= n){h=new c.ze();h.on(d.events,"updatedBytes",function(m){g.aSa(d,m.hUb - m.zta);h.clear();g.iha.delete(d);});this.iha.set(d,h);}else this.aSa(d,n);}};k.prototype.Hr=function(d){var g;if(!d.He){g=d.wa;0 < g && (this.gp-=g,d.mediaType === l.u.fa?this.Lu-=g:this.av-=g,(0,f.assert)(this.gp === this.Lu + this.av),(0,f.assert)(0 <= this.gp),(0,f.assert)(0 <= this.Lu),(0,f.assert)(0 <= this.av));this.iha.delete(d);}};k.prototype.JUa=function(d,g){var n;(0,f.assert)(this.gp === this.Lu + this.av);n=this.Gpb();if(void 0 !== n.total && this.gp + g > n.total)return !1;n=d === l.u.fa?n.audio:n.video;d=d === l.u.fa?this.Lu:this.av;return void 0 !== n && d + g > n?!1:!0;};k.prototype.aSa=function(d,g){this.gp+=g;d.mediaType === l.u.fa?this.Lu+=g:this.av+=g;(0,f.assert)(this.gp === this.Lu + this.av);(0,f.assert)(0 < this.gp);(0,f.assert)(0 <= this.Lu);(0,f.assert)(0 <= this.av);};return k;})();b.MBa=r;},59322:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.v_a=b.y_a=b.pva=b.nja=b.Ada=void 0;c=a(5163);l=a(12043);f=a(62558);k=a(97810);r=(function(){function g(n,h,m){void 0 === m && (m={});this.config=n;this.OFb=h;this.dh=[];this.lja=new k.Uh();this.eUa=new k.Uh();this.options=c.__assign({ko:10},m);}Object.defineProperties(g.prototype,{isEnabled:{get:function(){return this.config.FEb;},enumerable:!1,configurable:!0}});g.prototype.boa=function(n,h){var m;if(!this.isEnabled)return h();m=this.EIb(n);if(m)return m.value;h=h();this.xt(n,h);return h;};g.prototype.findIndex=function(n){var h,m,p,q;h=Infinity;m=Infinity;if(this.options.KR || this.options.xN){p=l.platform.time.xa();this.options.xN && (h=p - this.options.xN);this.options.KR && (m=p - this.options.KR);}for(p=0;p < this.dh.length;p++){q=this.dh[p];if(this.options.xN && q.L4a < h){this.dh.splice(p,this.dh.length - p);break;}if(this.options.KR && q.Pn < m)(this.dh.splice(p,1),p--);else if(this.OFb(q.key,n))return p;}return -1;};g.prototype.EIb=function(n){var h;n=this.findIndex(n);if(-1 !== n){h=this.dh[n];this.dh.splice(n,1);this.dh.unshift(h);this.options.xN && (h.L4a=l.platform.time.xa());this.eUa.push(n);this.lja.push(1);return h;}this.lja.push(0);};g.prototype.xt=function(n,h){this.dh.unshift({key:n,value:h});if(this.options.xN || this.options.KR)(n=l.platform.time.xa(),this.options.xN && (this.dh[0].L4a=n),this.options.KR && (this.dh[0].Pn=n));this.Bxb();};g.prototype.Bxb=function(){this.dh.length > this.options.ko && this.dh.pop();};g.prototype.clear=function(){this.dh=[];};return g;})();b.Ada=r;d=new WeakMap();b.nja=function(g){void 0 === g && (g="default");return function(n,h,m){var p;p=m.value;m.value=function(q){var u,t,w;u=this;w=null === (t=d.get(this)) || void 0 === t?void 0:t[g];(0,f.assert)(w,"lruCache not defined");return w.boa(q,function(){return p.call(u,q);});};};};b.pva=function(g,n,h){d.has(g) || d.set(g,{});d.get(g)[n]=h;};b.y_a=function(g){var n;if(!d.has(g))return [];n=d.get(g);return Object.keys(n).map(function(h){return n[h];});};b.v_a=function(g){return d.has(g)?d.get(g):{};};},97021:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ryb={Gt:["minInitVideoBitrate",-Infinity],My:["maxInitVideoBitrate",Infinity],n8:["minInitAudioBitrate",-Infinity],T7:["maxInitAudioBitrate",Infinity],j8:["minAcceptableVideoBitrate",-Infinity],GV:["minAcceptableVMAF",0],rTb:["minAcceptableVMAFRebufferScalingFactor",0],csa:["minAllowedVideoBitrate",-Infinity],oSb:["maxAllowedVideoBitrate",Infinity],MG:["minAllowedVmaf",-Infinity],R5a:["maxAllowedVmaf",Infinity],jO:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],J4:["enableResolutionVMAFStreamFilter",!1],Yta:["percentCapTitlesForResolutionVMAFStreamFilter",100],k$:["resolutionVMAFCappingRuleList",[]],x2a:["ignoreUserFilterOnEmptyResult",!0],jC:["minRequiredBuffer",2E4],p8:["minRequiredAudioBuffer",0],yr:["minPrebufSize",5800],esa:["minCheckBufferingCompleteInterval",200],vYa:["enableMoreFrequentBufferingCompleteCheck",!1],O6a:["minimumBufferingCompleteInterval",1E4],Mva:["requireDownloadDataAtBuffering",!1],M2a:["indicatorForDownloadDataAtBuffering","oncomplete"],Nva:["requireSetupConnectionDuringBuffering",!1],hva:["rebufferingFactor",1],vr:["maxBufferingTime",2E3],kza:["useMaxPrebufSize",!0],gC:["maxPrebufSize",4E4],Kra:["maxRebufSize",Infinity],J6:["initialBitrateSelectionCurve",null],R2a:["initSelectionLowerBound",-Infinity],T2a:["initSelectionUpperBound",Infinity],cY:["throughputPercentForAudio",15],Qia:["bandwidthMargin",0],Sia:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],DTa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Kx:76376,scale:18862.4,gamma:3.0569}],Ria:["bandwidthMarginContinuous",!1],ETa:["bandwidthMarginForAudio",!0],Zxa:["switchConfigBasedOnInSessionTput",!0],nka:["conservBandwidthMargin",20],pka:["conservBandwidthMarginTputThreshold",6E3],oka:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],Pdb:["switchAlgoBasedOnHistIQR",!1],$xa:["switchConfigBasedOnThroughputHistory","iqr"],f6a:["maxPlayerStateToSwitchConfig",-1],t5a:["lowEndMarkingCriteria","iqr"],pGa:["IQRThreshold",.5],l2a:["histIQRCalcToUse","simple"],Rs:["bandwidthManifold",{curves:[{min:.05,max:.82,Kx:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Kx:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],xV:["maxTotalBufferLevelPerSession",0],g2a:["highWatermarkLevel",3E4],web:["toStableThreshold",3E4],Gaa:["toUnstableThreshold",0],uxa:["skipBitrateInUpswitch",!1],Aza:["watermarkLevelForSkipStart",8E3],sxa:["simulationDurationStrategy","default"],X3b:["simulationFullBufferPercentage",1],M6a:["minSimulationDuration",2E4],Lra:["maxSimulationDuration",3E5],hza:["upperThroughputPredictionFactor",1.6],bpa:["highStreamRetentionWindow",9E4],jra:["lowStreamTransitionWindow",51E4],dpa:["highStreamRetentionWindowUp",5E5],lra:["lowStreamTransitionWindowUp",1E5],cpa:["highStreamRetentionWindowDown",6E5],kra:["lowStreamTransitionWindowDown",0],apa:["highStreamInfeasibleBitrateFactor",.5],Hy:["lowestBufForUpswitch",9E3],iV:["lockPeriodAfterDownswitch",15E3],ora:["lowWatermarkLevel",15E3],Iy:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],qra:["lowestWaterMarkLevelBufferRelaxed",!1],c8:["mediaRate",1.5],uM:["maxTrailingBufferLen",15E3],Fia:["audioBufferTargetAvailableSize",262144],pza:["videoBufferTargetAvailableSize",1048576],n6a:["maxVideoTrailingBufferSize",8388608],S5a:["maxAudioTrailingBufferSize",393216],X4:["fastUpswitchFactor",3],xGb:["fastUpswitchFactorWithoutHeaders",3],wGb:["fastUpswitchFactorForNextSegment",1],yma:["fastDownswitchFactor",3],HG:["maxMediaBufferAllowed",27E4],Uhc:["minMediaBufferLen",1E4],Fcb:["simulatePartialBlocks",!0],Ecb:["simulateBufferFull",!0],qka:["considerConnectTime",!0],mka:["connectTimeMultiplier",1],WQb:["liveDvrSwitchThresholdms",1E4],V5a:["maxDomainFailureWaitDuration",3E4],QYa:["exhaustAllLocationsForFailure",!0],b6a:["maxNetworkErrorsDuringBuffering",20],Q7:["maxBufferingTimeAllowedWithNetworkError",6E4],cK:["alwaysRunUnderflowTimer",!0],cZa:["fastDomainSelectionBwThreshold",2E3],feb:["throughputProbingEnterThreshold",4E4],geb:["throughputProbingExitThreshold",34E3],j5a:["locationProbingTimeout",1E4],jZa:["finalLocationSelectionBwThreshold",1E4],deb:["throughputHighConfidenceLevel",.75],eeb:["throughputLowConfidenceLevel",.4],Vqa:["locationStatisticsUpdateInterval",6E4],xRb:["locationSelectorPersistFailures",!0],wYa:["enablePerfBasedLocationSwitch",!1],Ahc:["maxRateMaxFragmentGroups",4500],cFb:["enableNginxRateLimit",!1],G8:["nginxSendingRate",4E4],P5a:["maxActiveRequestsSABCell100",2],Fab:["resetActiveRequestsAtSessionInit",!0],H4:["enableHybridPacing",!1],zja:["catchUpMode",!1],FSb:["maxSegHint",4],Hva:["requestLevelLogging",!1],MEb:["enableCsprNonPipelined",!1],E4:["enableCprAudio",!1],F4:["enableCprVideo",!1],KEb:["enableCprAudioNonPipelined",!1],LEb:["enableCprVideoNonPipelined",!0],Kla:["enableConcurrentStreamingHandling",!1],eFb:["enablePaceReportLogging",!1],BWb:["paceRateSelectorAlgorithm","default"],CWb:["paceRateSelectorAlgorithmAudio","default"],DWb:["paceRateSelectorAlgorithmNonPipelined","default"],ddb:["staticPacingRateKbps",0],z3:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],u7b:["unpacedFragmentInterval",0],QNb:["ignorePacedRequestStrategy","none"],kW:["pacedThresholdPct",.1],Fla:["effectivePaceRateFactor",1],P_b:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],FWb:["pacingTargetBufferStrategy","implicit"],R5b:["targetBufferLevelStddevMultiplier",1],Q5b:["targetBufferLevelDurationMs",0],ATb:["minTargetBufferLevelMs",27E4],Hxa:["stddevPredictorMultiplier",-.3],Ixa:["stddevPredictorUpperMultiplier",2],N4b:["stddevPredictorSource","deliverytime"],Pja:["ciPredictorSource","throughput-ci"],qYa:["enableInitialTputLogging",!1],pYa:["enableInitialThroughputHistory",!1],x6:["headerRequestSize",4096],cma:["estimateHeaderSize",!0],j7a:["neverWipeHeaderCache",!1],F8b:["useSidxInfoFromManifestForHeaderRequestSize",!1],JWb:["parseAdditionalBoxesMp4Header",!0],eZa:["fastPlayHeaderRequestSize",0],IG:["maxRequestSize",0],IV:["minRequestSize",65536],l8:["minBufferLenForHeaderDownloading",1E4],g4b:["smartHeaderPreDownloading",!1],GEb:["enableAllHeadersPreDownloading",!1],so:["pipelineEnabled",!0],Ira:["maxParallelConnections",3],B8b:["usePipelineForAudio",!1],A8b:["usePipelineDetectionForAudio",!1],D8b:["usePipelineForText",!0],Mcb:["socketReceiveBufferSize",0],U2:["audioSocketReceiveBufferSize",32768],dba:["videoSocketReceiveBufferSize",65536],c6b:["textSocketReceiveBufferSize",32768],Sfb:["usePipelineDetectionForVideo",!1],DTb:["minVideoSocketReceiveBufferSize",65536],Zoa:["headersSocketReceiveBufferSize",32768],u3b:["shareDownloadTracks",!0],v3b:["shareOpenRangeTracks",!1],HDb:["disableHeaderDownloadTracks",!1],gsa:["minTimeBetweenHeaderRequests",void 0],wW:["prebufferTimeLimit",6E4],jYb:["prebufferTimeLimitFromPlayerAttach",!0],E6a:["minBufferLevelForTrackSwitch",2E3],fFb:["enablePenaltyForLongConnectTime",!1],Vta:["penaltyFactorForLongConnectTime",2],gra:["longConnectTimeThreshold",200],aia:["additionalBufferingLongConnectTime",2E3],bia:["additionalBufferingPerFailure",8E3],LW:["rebufferCheckDuration",6E4],ZK:["enableOCSideChannel",!0],ICb:["decryptOCSideChannelMinInterval",1E3],JCb:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],Hua:["probeRequestTimeoutMilliseconds",3E4],Bic:["probeRequestConnectTimeoutMilliseconds",8E3],k0:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],iFb:["enableSCByteRangeHints",!1],mfb:["updateDrmRequestOnNetworkFailure",!0],p6b:["timeBeforeEndOfStreamBufferMark",6E3],Fra:["maxFastPlayBufferInMs",2E4],tSb:["maxFastPlayContentTimeThresholdMs",112E3],X5a:["maxFastPlayBitThreshold",2E8],T5a:["maxBufferingCompleteBufferInMs",Infinity],awb:["bufferingCompleteOnMemoryLimit",!1],dsa:["minAudioMediaRequestSizeBytes",0],hsa:["minVideoMediaRequestSizeBytes",0],qSb:["maxAudioMediaRequestSizeBytes",Infinity],NSb:["maxVideoMediaRequestSizeBytes",Infinity],ySb:["maxMediaRequestSizeBytesInFraction",1],Mv:["minAudioMediaRequestDuration",0],Py:["minVideoMediaRequestDuration",0],o8:["minMediaRequestDuration",0],pSb:["maxAudioMediaRequestDuration",Infinity],MSb:["maxVideoMediaRequestDuration",Infinity],U7:["maxMediaRequestDuration",Infinity],gia:["allowFirstRequestAggregation",!1],Nhc:["minAudioMediaRequestDurationCache",0],Yhc:["minVideoMediaRequestDurationCache",0],ela:["defaultHeaderCacheSize",4],dla:["defaultHeaderCacheDataPrefetchMs",0],C8b:["usePipelineForBranchedAudio",!0],s8:["minimumTimeBeforeBranchDecision",2E3],ETb:["minimumAppendedMediaBeforePlayback",5E3],CSb:["maxRequestsToAttachOnBranchActivation",void 0],r8:["minimumJustInTimeBufferLevel",3E3],Rfc:["enableJustInTimeAppends",!1],TSa:["appendPacingFactor",0],$tb:["appendPacingThreshold",3E3],Kec:["branchEndPtsIntervalMs",250],Ugc:["ignorePtsJustBeforeCurrentSegment",!1],uSb:["maxFragsForFittableOnBranching",300],rsa:["networkFailureResetWaitMs",2E3],qsa:["networkFailureAbandonMs",6E4],V7:["maxThrottledNetworkFailures",5],yaa:["throttledNetworkFailureThresholdMs",200],nra:["lowThroughputThreshold",400],lma:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],o6b:["timeAtEachBitrateRoundRobin",1E4],k1b:["roundRobinDirection","forward"],ANb:["httpsConnectErrorAsPerm",!1],tYa:["enableManagerDebugTraces",!1],C5a:["managerDebugMessageInterval",1E3],B5a:["managerDebugMessageCount",20],FN:["requireAudioStreamToEncompassVideo",!1],pdb:["ase_stream_selector","optimized"],bvb:["audiostreamSelectorAlgorithm","selectaudioadaptive"],Rqa:["liveStreamSelectorAlgorithm","livesimple"],tUb:["noRepeatedFirstSelectionLogic",!1],ceb:["throughputDiscountForLive",.8],beb:["throughputDiscountExponentBC",1.5],BG:["liveTargetBufferDuration",1E4],E7:["liveEdgeCushion",2E3],F7:["liveMaxTemporaryRequestErrorRetries",4],pra:["lowerStreamLiveMaxTemporaryRequestErrorRetries",2],Y4a:["liveMaxRetriesDurationFor404Errors",6E3],nma:["explorationPhaseLiveMaxTemporaryRequestErrorRetries",1],$Qb:["liveInitialFetchSizeBytes",1024],iRb:["liveTextInitialFetchSizeBytes",40],fRb:["liveResyncClockOn404Error",!0],YQb:["liveEndSlateMaxDuration",6E4],nM:["liveSwitchStreamsOnErrorInPipeline",!0],D7:["liveAccurateFragmentTimestamps",!1],YK:["enableMissingSegmentsDetection",!1],iT:["enableMissingSegmentsReplacement",!1],x1b:["sanitizeMediaVideoFrameDuration",!0],WWa:["debugFragmentTimes",!1],X5b:["temporaryRequestFailureRetryIntervalMs",500],Nla:["enableLiveTemporaryRequestRetries",!0],P7:["maxAttemptsOnFailure",18],Ola:["enableMaxAttemptsOnFailure",!0],Dpa:["initBitrateSelectorAlgorithm","default"],dja:["bufferingSelectorAlgorithm","default"],Y4b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],yYa:["enableThroughputTraceResearchData",!1],heb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],Jic:["researchEnvironmentEnabled",!1],kFb:["enableStreamSelectionAugmentData",!1],gvb:["augmentDataNumOfChunks",30],Uka:["ase_dump_fragments",!1],Vka:["ase_location_history",0],XWa:["ase_throughput",0],Gta:["paddingDurationMs",1E3],Hta:["paddingMediaType","padding"],tk:["stallAtFrameCount",void 0],Scb:["stallAtFrameCountAudio",void 0],Ara:["marginPredictor","simple"],Kfb:["useBackupUnderflowTimer",!0],sUb:["noDuplicateUnderflowTimer",!1],$jc:["useManifestDrmHeader",!0],bkc:["useOnlyManifestDrmHeader",!0],ssa:["networkMeasurementGranularity","video_location"],fUb:["netIntrStoreWindow",36E3],cic:["minNetIntrDuration",8E3],Bpb:["fastHistoricBandwidthExpirationTime",10368E3],Vpb:["bandwidthExpirationTime",5184E3],Apb:["failureExpirationTime",86400],RQa:["historyTimeOfDayGranularity",4],xpb:["expandDownloadTime",!0],vqb:["minimumMeasurementTime",500],uqb:["minimumMeasurementBytes",131072],nrb:["throughputMeasurementTimeout",2E3],mrb:["initThroughputMeasureDataSize",262144],iqb:["historicBandwidthUpdateInterval",2E3],nec:["throughputPredictor","ewma"],xwa:["secondThroughputEstimator","slidingwindow"],lbb:["secondThroughputMeasureWindowInMs",3E5],mec:["throughputMeasureWindow",5E3],oec:["throughputWarmupTime",5E3],lec:["throughputIQRMeasureWindow",1E3],Xdc:["IQRBucketizerWindow",15E3],$5a:["maxIQRSamples",100],H6a:["minIQRSamples",5],iec:["connectTimeHalflife",10],bec:["responseTimeHalflife",10],hQa:["historicThroughputHalflife",14400],gQa:["historicResponseTimeHalflife",100],fQa:["historicHttpResponseTimeHalflife",100],HFa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],IQa:["minReportedNetIntrDuration",4E3],kec:["throughputBucketMs",500],$dc:["bucketHoltWintersWindow",2E3],rpb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],ypb:["experimentalFilter",["throughput-wssl"]],jRa:["reportedFilters",[]],nga:["filterDefinitionOverrides",{}],lpb:["defaultFilter","throughput-ewma"],mpb:["defaultFilterField","average"],Erb:["secondaryFilter","throughput-sw"],HPa:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],qFb:["enableWsslEstimate",!1],Dhc:["maxWsslRequestSize",131072],Chc:["maxWsslRequestRatio",.2],Kgb:["wsslAggregationMethod","max"],xYa:["enableSessionHistoryReport",!0],WXa:["earlyStageEstimatePeriod",1E4],M4a:["lateStageEstimatePeriod",3E4],c6a:["maxNumSessionHistoryStored",10],L6a:["minSessionHistoryDuration",3E5],Ggc:["highAndStableModelName","baseline"],Qfc:["enableHighAndStablePredictor",!1],Vhc:["minNumSessionHistory",5],Hec:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],Fgc:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],Hgc:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Pha:["addHeaderDataToNetworkMonitor",!0],Bxa:["startMonitorOnLoadStart",!1],Cva:["reportFailedRequestsToNetworkMonitor",!1],q9:["periodicHistoryPersistMs",0],x$:["saveVideoBitrateMs",0],psa:["needMinimumNetworkConfidence",!0],Via:["biasTowardHistoricalThroughput",!1],nhc:["logMemoryUsage",!1],mH:["probeServerWhenError",!0],XR:["allowSwitchback",!0],S9a:["probeDetailDenominator",100],R7:["maxDelayToReportFailure",300],Itb:["allowParallelStreaming",!0],Ghc:["mediaPrefetchDisabled",!1],Ohc:["minBufferLevelToAllowPrefetch",5E3],RN:["seamlessAudio",!1],Xic:["seamlessAudioProfiles",[]],Yic:["seamlessAudioProfilesAndTitles",{}],vwa:["seamlessAudioMaximumSyncError",void 0],wwa:["seamlessAudioMinimumSyncError",void 0],f3a:["insertSilentFrames",0],Opa:["insertSilentFramesOnSeek",!1],g3a:["insertSilentFramesOnSeekForTitles",[]],COb:["insertSilentFramesOnSeekCount",3],hgc:["forceDiscontinuityAtTransition",!0],Bjc:["supportAudioResetOnDiscontinuity",void 0],Ajc:["supportAudioEasingOnDiscontinuity",void 0],rEb:["editCompleteFragments",!0],FTb:["minimumAudioFramesPerFragment",1],bS:["applyProfileTimestampOffset",!1],Am:["applyProfileStreamingOffset",!0],M9:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],qTa:["audioProfilesNonSyncSamples",["xheaac-dash"]],b7b:["truncateEndOfStreamAudio",!1],w8b:["useDpiAssumedAacEncoderDelay",!0],e8:["mediaSourceSupportsNegativePts",!1],k8:["minAudioPtsGap",void 0],Yub:["audioOverlapGuardSampleCount",2],hFb:["enableRecordJSBridgePerf",!1],jda:["JSBridgeTDigestConfig",{maxc:25,c:.5}],k6b:["throughputThresholdSelectorParam",0],t8b:["upswitchDuringBufferingFactor",2],Ntb:["allowUpswitchDuringBuffering",!1],hfc:["contentOverrides",void 0],ifc:["contentProfileOverrides",void 0],j2a:["hindsightDenominator",0],i2a:["hindsightDebugDenominator",0],Kgc:["hindsightAlgorithmsEnabled",[]],k2a:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],SSa:["appendMediaRequestOnComplete",!1],vza:["waitForDrmToAppendMedia",!1],q9b:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],Wma:["forceAppendHeadersAfterDrm",!1],ZWa:["declareBufferingCompleteAtSegmentEnd",!1],uV:["maxActiveRequestsPerSession",void 0],Mqa:["limitAudioDiscountByMaxAudioBitrate",!1],mia:["appendFirstHeaderOnComplete",!0],saa:["strictBufferCapacityCheck",!1],cS:["aseReportDenominator",0],Aia:["aseReportIntervalMs",3E5],oub:["aseReportMaxStreamSelections",400],$4a:["liveReportSendIntervalMs",6E4],Qqa:["liveReportCollectIntervalMs",5E3],Dya:["translateToVp9Draft",!1],zva:["reorderTrakMvex",!1],WX:["switchableAudioProfiles",[]],$ub:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Rdb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Nub:["audioBwFactor",1],cvb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],dvb:["audioSwitchConfigLive",{upSwitchFactor:2.5,downSwitchFactor:1.3,lowestBufForUpswitch:6E3,lockPeriodAfterDownswitch:3E4}],l6a:["maxStartingVideoVMAF",110],Ht:["minStartingVideoVMAF",1],MR:["activateSelectStartingVMAF",!1],I$:["selectStartingVMAFTDigest",-1],TN:["selectStartingVMAFMethod","fallback"],sbb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],cN:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],Cfc:["disablePtsStartsEvent",!0],Q$a:["recordFirstFragmentOnSubBranchCreate",!0],N5a:["markRequestActiveOnFirstByte",!1],jaa:["stopOnAllInactiveRequests",!1],hYa:["enableActiveRequestsInFilters",!1],HO:["useNativeDataViewMethods",!0],mub:["aseDiagnostics",[{fd:"queue-audit",enabled:!0},{fd:"task-audit",enabled:!0},{fd:"trace-ShimSession",enabled:!0},{fd:"trace-engine",enabled:!0},{fd:"trace-RequestPacer",enabled:!0},{fd:"trace-BufferStateTracker",enabled:!0},{fd:"trace-GraphStreamingProcess",enabled:!0},{fd:"trace-AsePlaygraph",enabled:!0},{fd:"playgraph-branch-audit",enabled:!0},{fd:"content-playgraph",enabled:!0},{fd:"trace-CphAsePlaygraph",enabled:!0},{fd:"trace-GraphLocation",enabled:!0},{fd:"cache-ads::gls",enabled:!0},{fd:"cache-content::gls",enabled:!0}]],HEb:["enableAseReporting",!0],Lvb:["branchDistanceThreshold",6E4],O7:["maxAllowedOutstandingRequests",4],fsa:["minStreamableConcurrencyWindow",3E3],HSb:["maxStreamableConcurrencyWindow",Infinity],Nxa:["streamableConcurrencyFactor",.3],qS:["bufferingConcurrencyWindow",7800],Zia:["branchCreationThreshold",12E4],G4:["enableDiscontiguousBuffering",!1],Zma:["forceImmediateTransitionTypeForTitles",[]],Yma:["forceImmediateTransitionExitZone",0],uka:["contiguousBufferMultiplier",3],SVa:["contiguousBufferMinimumAudio",1048576],UVa:["contiguousBufferMinimumVideo",8388608],TVa:["contiguousBufferMinimumText",0],pYb:["prefetchBudgetInBytes",0],J$a:["rebufferRiskHalfLife",1E4],xY:["useBufferSizeLimiter",!1],G8b:["useStaticBufferSizeLimiter",!1],sYb:["prefetchWeightBudget",32],isa:["minimumDownstreamBranchProbability",.075],jza:["useExitZones",!0],tYb:["prefetchWhilePlaying",!0],yYb:["prefetcherSoftReset",!0],SXb:["playgraphDefaultWeight",65520],eDb:["delayNotificationOfEoS",!1],cTb:["memDeadlockShouldCheckMemory",!0],bTb:["memDeadlockOverageThreshold",.9],aTb:["memDeadlockMaxUtilizationPercentage",.5],NXb:["playerPtsPadding",1],Thc:["minFragmentVmaf",void 0],fT:["enableCombinedPlaygraphs",!0],VK:["enableAdPlaygraphs",!0],I4:["enablePrerollForInitialSeek",!1],mma:["excludedContentPlaygraphIds",[]],G1a:["graphSelectorSetAudioRate",!1],pFb:["enableVmafEstimationFromBitrate",!1],KSb:["maxVMAFMappingBitrate",16E3],LSb:["maxVMAFMappingVMAF",110],mxb:["cdndldistEnabled",!1],jz:["segmentFadeDuration",400],E$:["segmentFadeInDuration",-1],F$:["segmentFadeOutDuration",-1],vM:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],m$:["retainSbrOnFade",!1],e3a:["insertSilentFrameOnFade",!0],mic:["optimizeEditedFragments",!1],Ndb:["supportsPtsChanged",!0],FEb:["enableAdLruCaches",!1],iTa:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],XEb:["enableLiveRequestLogger",!1],r2a:["hydrateWaitTimeBetweenAdBreaksMs",5E3],e6a:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4],dD:["usePrioritySetTimeout",!1],zUa:["centralizeClockSchedulers",!0],BTa:["backOffSetTimeout",!0],Q_b:["rehydrateSkippableAdBreaks",!0],pjc:["skipIntroPlaygraphEnabled",!1],dhc:["jointAudioVideoSelectorEnabled",!1]};b.og=b.Ryb;},2362:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},81883:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Xna=b.Ktb=void 0;b.Ktb=function(a){return a.RN;};b.Xna=function(a,c){return void 0 !== a.k8?a.k8:c && void 0 !== c.k8?c.k8:100;};},39656:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Wx=void 0;c=a(49730);l=a(39139);f=a(62558);b.Wx=function(k,d,g,n,h,m,p,q){var u;c.K && n.trace("AsePlaygraph.createRequestQueue()");u=l.rD.instance.Wx(k,d.P,!0,!1,{lB:g.lB,aa:h},g);u.Tk.on(u,"networkfailing",function(){var t;c.K && n.trace("requestQueue OnNetworkFailing: ",u);u.vma && ((0,f.assert)(u.wma),null === (t=d.ey) || void 0 === t?void 0:t.Ir(void 0,u.wma,void 0,u.Uf,u.Vi));d.un();});u.Tk.on(u,"error",function(){q(u.Uf,u.Vi);});u.on("transportreport",function(t){t.Qla=d.eV.aL;m(t);});u.on("mediaRequestComplete",p);u.Cb();return u;};},39139:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.rD=void 0;c=a(5163);l=a(12043);f=c.__importDefault(a(89956));k=a(27364);d=a(28302);r=(function(){function g(n){this.$D=n;this.Gd=[];this.console=new l.platform.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(g,{instance:{get:function(){void 0 === g.Ds && (g.Ds=new g(l.platform.rP));return g.Ds;},enumerable:!1,configurable:!0}});g.reset=function(){g.Ds=void 0;};g.prototype.Wx=function(n,h,m,p,q,u){var t;t=u.u3b?this.bHb(m,h,n,u.v3b):-1;-1 === t?(t={track:this.cBb(m,p,n,q,u),Ai:m,P:h,p$a:n,FC:[],Pn:!1,rF:!1},this.Gd.push(t),this.k_b(t),n=!1):(n=!0,t=this.Gd[t]);n=new d.IMa(this.console,t.track,t.Pn,n);t.FC.push(n);return n;};g.prototype.k_b=function(n){function h(){n.Pn=!0;n.track.removeListener("created",h);}n.track.on("created",h);};g.prototype.p4=function(n){var h,m;n.$s();h=this.uT(function(p){return p.track === n.track;});if(-1 !== h){if((h=this.Gd[h],1 === h.FC.length))(h.track.$s(),h.rF=!0);else {m=h.FC.indexOf(n);0 <= m && h.FC.splice(m,1);}}else n.track.$s();};g.prototype.yf=function(){this.$D.yf();};g.prototype.cBb=function(n,h,m,p,q){var u,t,w,v,y,x;u=this;w=!1;v=t=!1;y=p.aa;n?m === k.u.Y?(n=1,q.so?(v=!0,n=q.Ira):q.uV && 2 < q.uV && (v=!0,n=q.uV),t=y?!!q.yY:q.yY || !v,t={type:this.$D.Y,openRange:t,pipeline:v,connections:n,socketBufferSize:q.dba,minRequestSize:q.IV}):m === k.u.fa?(w=q.so && (q.B8b || h && q.C8b),t=y?!!q.yY:q.yY || !w,t={type:this.$D.fa,openRange:t,pipeline:w,connections:1,socketBufferSize:q.U2,minRequestSize:q.IV}):m === k.u.Ga?(t=y?!!q.yY:q.yY || !q.D8b,t={type:this.$D.Ga,openRange:t,pipeline:q.so,connections:1,socketBufferSize:q.c6b,minRequestSize:q.IV}):t={type:q.HDb?this.$D.Y:this.$D.lkb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Zoa,minRequestSize:q.IV}:t={type:m === k.u.fa?f.default.mm.fa:f.default.mm.Y,openRange:!1,pipeline:!1,connections:1,socketBufferSize:m === k.u.fa?q.U2:q.dba,minRequestSize:q.IV};x=new this.$D(t,p);x.so=v;x.on("transportreport",function(z){var A;A=u.uT(function(B){return B.track === x;});-1 !== A && (A=u.Gd[A],A.FC.length && A.FC[0].emit("transportreport",z));});x.on("mediaRequestComplete",function(z){var A;A=u.uT(function(B){return B.track === x;});-1 !== A && (A=u.Gd[A],A.FC.length && A.FC[0].emit("mediaRequestComplete",z));});x.on("destroyed",function(){var z;z=u.uT(function(A){return A.track === x;});-1 !== z && u.Gd.splice(z,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.so=!1;if(y)x.lva(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(w && q.A8b || q.Sfb)q.Sfb && x.config.type === k.u.Y?x.lva(c.__assign(c.__assign({},x.config),{socketBufferSize:q.DTb,pipeline:!1,openRange:!0,connections:1})):x.lva(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};g.prototype.bHb=function(n,h,m,p){return this.uT(function(q){return !q.rF && (!p && q.track.config.lic || !n?!q.Ai && q.p$a === m:q.Ai && q.P === h && q.p$a === m);});};g.prototype.uT=function(n){for(var h=0;h < this.Gd.length;++h){if(n(this.Gd[h]))return h;}return -1;};return g;})();b.rD=r;},28302:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.IMa=void 0;c=a(5163);l=a(57055);r=(function(f){function k(d,g,n,h){var m;m=f.call(this) || this;m.T=d;m.track=g;m.Pn=!1;m.Fga=!1;m.Tk=new l.ze();m.Tk.on(g,"networkfailing",function(){m.emit("networkfailing");});m.Tk.on(g,"error",function(){m.T.warn("requestQueue got error");m.emit("error");});if(n)(m.Pn=!0,Promise.resolve().then(function(){return m.emit("created");}));else m.Tk.on(g,"created",function(){m.Pn=!0;m.emit("created");});m.Fga=h;return m;}c.__extends(k,f);Object.defineProperties(k.prototype,{vma:{get:function(){return this.track.vma;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Uf:{get:function(){return this.track.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Vi:{get:function(){return this.track.Vi;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wma:{get:function(){return this.track.wma;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});k.prototype.Cb=function(){var d,g;this.Fga || (null === (g=(d=this.track).Cb) || void 0 === g?void 0:g.call(d),this.Fga=!0);};k.prototype.toString=function(){return this.track.toString();};k.prototype.toJSON=function(){return this.track;};k.prototype.$s=function(){this.Tk.clear();};return k;})(l.EventEmitter);b.IMa=r;},89956:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(87034);b["default"]={O$b:{Hu:0,cdc:1,name:["STARTUP","STEADY"]},mm:{fa:r.u.fa,Y:r.u.Y,Ga:r.u.Ga,name:["AUDIO","VIDEO","TEXT"]},Cbc:{fa:r.u.fa,Y:r.u.Y,Ga:r.u.Ga,name:["AUDIO","VIDEO","TEXT"]},Pf:{URL:0,TD:1,LOCATION:2,Du:3,name:["URL","SERVER","LOCATION","NETWORK"]},nl:{HAVE_NOTHING:0,QI:1,OI:2,xP:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},qs:{w$b:0,ebc:1,Hcc:2,dcc:3,Bcc:4,Cdc:5,jbc:6,Bbc:7,Hu:8,Ak:9,jea:10,hnb:11,Vba:12,mlb:13,llb:14,Pnb:15,Onb:16,qlb:17,fob:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},Hac:{Du:0,jac:1,name:["NETWORK","DECODE"]},adc:{kac:"delayedSeamless",qbc:"hideLongTransition"}};},49730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K=!1;},98705:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.oEa=void 0;c=a(5163);l=a(57055);f=c.__importStar(a(17267));k=a(12043);d=new k.platform.Console("ASEJS_ERROR_DIRECTOR","asejs");g=c.__importDefault(a(89956));n=a(34425);h=a(83386);m=k.platform.No;p=m.SZ;q={};u={};r=[g.default.Pf.Du,!1];a=[g.default.Pf.Du,!0];t=[g.default.Pf.TD,!1];w=[g.default.Pf.TD,!0];v=[g.default.Pf.URL,!0];y=[g.default.Pf.URL,!1];x=[g.default.Pf.URL,!1];z=[-1,!1];A=[g.default.Pf.TD,!1];q[p.o$b]=t;q[p.UNKNOWN_ERROR]=t;q[p.gcc]=t;q[p.djb]=t;q[p.UCa]=t;q[p.pjb]=t;q[p.hjb]=w;q[p.wib]=w;q[p.cCa]=A;q[p.aCa]=A;q[p.xib]=z;q[p.yib]=A;q[p.zib]=A;q[p.tib]=t;q[p.vib]=t;q[p.bCa]=r;q[p.uib]=t;q[p.sib]=A;q[p.X$b]=w;q[p.pkb]=A;q[p.uFa]=A;q[p.tFa]=A;q[p.qFa]=A;q[p.rFa]=A;q[p.okb]=v;q[p.Xca]=w;q[p.Zca]=v;q[p.Yca]=a;q[p.xFa]=a;q[p.$ca]=w;q[p.rkb]=v;q[p.P_]=A;q[p.vFa]=w;q[p.qkb]=w;q[p.kjb]=w;q[p.ejb]=t;q[p.Unb]=t;q[p.Vib]=t;q[p.Wib]=t;q[p.Xib]=t;q[p.Yib]=t;q[p.Zib]=t;q[p.$ib]=t;q[p.ajb]=t;q[p.bjb]=t;q[p.cjb]=t;q[p.fjb]=t;q[p.gjb]=t;q[p.ijb]=t;q[p.jjb]=t;q[p.ljb]=t;q[p.mjb]=t;q[p.njb]=t;q[p.ojb]=t;q[p.qjb]=t;q[p.rjb]=t;q[p.Tnb]=A;q[p.TIMEOUT]=r;u[p.cCa]=!0;u[p.uFa]=!0;u[p.tFa]=!0;u[p.rFa]=!0;u[p.UCa]=!0;r=(function(){var D3v;D3v=2;for(;D3v !== 13;){switch(D3v){case 2:B.prototype.Oa=function(){var D99;D99=2;for(;D99 !== 1;){switch(D99){case 2:this.Tk.clear();D99=1;break;case 4:this.Tk.clear();D99=6;break;}}};B.prototype.WN=function(C){var z4x;z4x=2;for(;z4x !== 1;){switch(z4x){case 2:this.Y$=C;z4x=1;break;}}};B.prototype.Ir=function(C,D,F,G,E){var e1v,ka,sa,h8V,da,P,i0g,l9d,e5f,T,ia,wa,l5R,Aa,La,Ya,ab,aa,oa,Ga,Sa,q2v,v30,C$c,I,M,L,K,O,H,J,N,R;e1v=2;for(;e1v !== 44;){switch(e1v){case 10:e1v=this.config.Nla && C.cn?20:16;break;case 17:var q50=" max ";q50+="ret";q50+="rie";q50+="s:";var Q5K="Treating ${httpCode";Q5K+="} as URL_THROTTLE er";Q5K+="ror for";Q5K+=" live streaming retry coun";Q5K+="t:";var M8O=" m";M8O+="a";M8O+="x r";M8O+="et";M8O+="ries:";var O9w=" as";O9w+=" URL_TEM";O9w+="P error for live streaming retry ";O9w+="co";O9w+="unt:";var y2R="Trea";y2R+="ti";y2R+="n";y2R+="g";y2R+=" ";ka < T?(d.info(y2R.concat(F,O9w),ka,M8O,T),T=y):(d.info(Q5K,ka,q50,T),T=x);e1v=15;break;case 8:e1v=this.I3 >= this.config.P7?7:13;break;case 20:T=C.cn;e1v=19;break;case 16:var c9K="Treat HTTP_RESPO";c9K+="NSE_5XX as SERVER_THROTTLE error for live";c9K+=" streaming";G === p.$ca && (d.info(c9K),T=A);e1v=15;break;case 4:var x4T=" : crit";x4T+="ica";x4T+="l error";x4T+=" count";x4T+=" = ";var x0j=" o";x0j+="n";x0j+=" ";var K$G=" ";K$G+="h";K$G+="ttpCo";K$G+="de ";var N4B="Fai";N4B+="l";N4B+="ure";N4B+=" ";d.warn(N4B + J + K$G + F + x0j + JSON.stringify(C?C:D) + x4T + this.qv);e1v=3;break;case 31:D=R.p2b(D.host,D.port).map(function(ta){var X2C,Ha;X2C=2;for(;X2C !== 5;){switch(X2C){case 1:return {url:(null === (Ha=ta.url.stream.Ps) || void 0 === Ha?void 0:Ha.dU(!0)) || "",Qc:ta.Ub.id,Ub:ta.Ub,stream:ta.url.stream,urls:ta.Ub.urls};break;case 2:X2C=1;break;}}}).filter(function(ta){var c4p;c4p=2;for(;c4p !== 1;){switch(c4p){case 2:return "" !== ta.url;break;}}});e1v=21;break;case 14:return;break;case 25:e1v=T !== z?24:44;break;case 13:this.I3++;e1v=12;break;case 3:e1v=G && f.isArray(q[G])?9:28;break;case 19:ka=T.kw;T=T.Q5a;e1v=17;break;case 7:var H_1=" consecutive network failure";H_1+=" mod";H_1+="e in un";H_1+="derflow mod";H_1+="e";var e17="Forcing permanent n";e17+="etwo";e17+="rk failure a";e17+="fter ";d.info(e17 + this.I3 + H_1);this.Uk.Ir(g.default.Pf.Du,!0);e1v=14;break;case 23:sa=R.j0a(C.stream);e1v=22;break;case 9:e1v=this.Lla?8:12;break;case 22:D=R.k1a(C).map(function(ta){var f$u;f$u=2;for(;f$u !== 1;){switch(f$u){case 2:return {url:C.url,Qc:ta.id,Ub:ta,stream:sa,urls:ta.urls,I:C.Rg};break;}}});e1v=21;break;case 24:e1v=C?23:32;break;case 33:try{h8V=2;for(;h8V !== 13;){switch(h8V){case 4:oa=Ya.Qc;ab=Ya.urls;h8V=9;break;case 5:Ya=P.value;h8V=4;break;case 14:P=da.next();h8V=1;break;case 8:h8V=T === A && !this.p0b(oa)?13:7;break;case 7:var g6n="e";g6n+="r";g6n+="r";g6n+="o";g6n+="r";ab.some(function(ta){var f6x;f6x=2;for(;f6x !== 5;){switch(f6x){case 2:R.Ir(ia,wa,ta.url);return ia === g.default.Pf.TD;break;}}});!this.Y$ || 0 !== F && void 0 !== F || this.Y$.Ewa(g6n,aa);h8V=14;break;case 1:h8V=!P.done?5:13;break;case 9:aa=Ya.url;h8V=8;break;case 2:(da=c.__values(D),P=da.next());h8V=1;break;}}}catch(ta){var Y;Y={error:ta};}finally{i0g=2;for(;i0g !== 1;){switch(i0g){case 2:try{l9d=2;for(;l9d !== 1;){switch(l9d){case 2:P && !P.done && (M=da.return) && M.call(da);l9d=1;break;}}}finally{e5f=2;for(;e5f !== 5;){switch(e5f){case 2:e5f=Y?1:5;break;case 3:e5f=Y?5:1;break;case 9:throw Y.error;e5f=0;break;case 1:throw Y.error;e5f=5;break;}}}i0g=1;break;}}}e1v=44;break;case 32:e1v=D?31:30;break;case 12:T=q[G];e1v=11;break;case 29:return;break;case 15:var O3R="c";O3R+="ri";O3R+="ticalNe";O3R+="tworkEr";O3R+="ror";var H_R="c";H_R+="rit";H_R+="icalNetworkEr";H_R+="ror";var u9P="re";u9P+="qu";u9P+="estE";u9P+="rror";var f6C="r";f6C+="eques";f6C+="t";f6C+="Err";f6C+="or";this.Cy={Ym:F,Uf:G,bZa:J,Vi:E};this.events.emit(f6C,{type:u9P,Ym:F});u[G] && (++this.qv,this.events.emit(H_R,{type:O3R,Uf:G}));e1v=25;break;case 21:(ia=T[0],wa=T[1]);e1v=35;break;case 11:e1v=R.aa && C?10:15;break;case 28:var K0j="Unmapped ";K0j+="failure code in JSASE er";K0j+="ror director : ";A9tfv.W5F(0);d.error(A9tfv.a_S(K0j,G));e1v=44;break;case 34:try{l5R=2;for(;l5R !== 8;){switch(l5R){case 9:La=Aa.next();l5R=1;break;case 1:l5R=!La.done?5:8;break;case 2:(Aa=c.__values(D),La=Aa.next());l5R=1;break;case 5:var X2Y="er";X2Y+="r";X2Y+="or";var g1k=" Reac";g1k+="hed limit, marki";g1k+="ng url as faile";g1k+="d and changing s";g1k+="tream ";var f_M="] seg";f_M+="men";f_M+="tId";f_M+=" ";var S7$=" R";S7$+="et";S7$+="ry count increasing";S7$+=" ";var P1V="] ";P1V+="segme";P1V+="nt";P1V+="Id";P1V+=" ";var q_l=" Retry in progress";q_l+=" already, skip up";q_l+="dating";q_l+=" retry counters";(Ya=La.value,ab=Ya.urls,aa=Ya.url,oa=Ya.Qc,Ga=Ya.stream,Sa=Ya.Ub);T === A || T === t?this.Gua.YYb(Ya,{FSa:oa,qY:T,Ym:F,Uf:G,bZa:J,Vi:E}):this.config.Nla && T === y && (null === (L=null === Ga || void 0 === Ga?void 0:Ga.Ps) || void 0 === L?0:L.aa) && (null === (K=null === Ga || void 0 === Ga?void 0:Ga.Ps) || void 0 === K?void 0:K.Ub) === Sa.id && C && C.cn?(ka=C.cn.kw,C.cn.LN?d.log(C.mediaType + " " + C.Rg + q_l + ka):(C.cn.kw=ka + 1,d.log("[" + C.mediaType + P1V + C.Rg + S7$ + ka + 1),Ga.Ps.Nsb(C.Rg || 0))):this.config.Nla && T === x && (null === (O=null === Ga || void 0 === Ga?void 0:Ga.Ps) || void 0 === O?0:O.aa) && (null === (H=null === Ga || void 0 === Ga?void 0:Ga.Ps) || void 0 === H?void 0:H.Ub) === Sa.id && C && C.cn?(d.log("[" + C.mediaType + f_M + C.Rg + g1k + C.cn.kw),R.o0b(C.stream.url,ia,wa)):ab.some(function(ta){var C51;C51=2;for(;C51 !== 5;){switch(C51){case 2:R.Ir(ia,wa,ta.url);return ia === g.default.Pf.TD;break;}}});!this.Y$ || 0 !== F && void 0 !== F || this.Y$.Ewa(X2Y,aa);l5R=9;break;}}}catch(ta){var Q;Q={error:ta};}finally{q2v=2;for(;q2v !== 1;){switch(q2v){case 2:try{v30=2;for(;v30 !== 1;){switch(v30){case 2:La && !La.done && (I=Aa.return) && I.call(Aa);v30=1;break;}}}finally{C$c=2;for(;C$c !== 5;){switch(C$c){case 2:C$c=Q?1:5;break;case 1:throw Q.error;C$c=5;break;case 9:throw Q.error;C$c=6;break;}}}q2v=1;break;}}}e1v=44;break;case 35:e1v=N.mH?34:33;break;case 2:J=m.SZ.name;J=G?J[G]:void 0;(N=this.config,R=this.Uk);e1v=4;break;case 30:var H5k="Invalid affected ";H5k+="for ";H5k+="ne";H5k+="twork failure";d.error(H5k);e1v=29;break;}}};D3v=4;break;case 4:B.prototype.p0b=function(C){var j5G,D,F,G;j5G=2;for(;j5G !== 7;){switch(j5G){case 3:j5G=!(G.Td >= D - F.yaa || G.gz || (G.Td=D,++G.count,G.count < F.V7))?9:7;break;case 9:return G.gz=!0;break;case 8:this.gya[C]={Td:D,count:1};j5G=7;break;case 2:(D=k.platform.time.xa(),F=this.config,G=this.gya[C]);j5G=1;break;case 1:j5G=G?5:8;break;case 5:j5G=G.Td < this.kM?4:3;break;case 4:(G.Td=D,G.count=1);j5G=7;break;}}};B.prototype.JMb=function(C){var R_F,I,M,L,D,F,G,E;R_F=2;for(;R_F !== 7;){switch(R_F){case 9:var z4i="te";z4i+="mpora";z4i+="ryNetworkError";var X_Z="tempo";X_Z+="raryNe";X_Z+="two";X_Z+="r";X_Z+="kError";C || this.events.emit(X_Z,{type:z4i,errorCode:I,httpCode:M,nativeCode:L});G?(this.IN && (clearTimeout(this.IN),this.IN=void 0),this.eVa(),this.Gua.reset(),this.Poa({zPb:C,lWb:I,nWb:M,oWb:L})):this.IN || (this.IN=setTimeout(function(){var I80;I80=2;for(;I80 !== 5;){switch(I80){case 2:D.IN=void 0;D.i$();I80=5;break;}}},E.rsa));R_F=7;break;case 3:(I=this.Cy.Uf,M=this.Cy.Ym,L=this.Cy.Vi);R_F=9;break;case 4:R_F=this.Cy?3:9;break;case 2:var O6Y="N";O6Y+="etwork has fail";O6Y+="ed";O6Y+=" ";var H_p=" last su";H_p+="cc";H_p+="ess was ";var q7y="te";q7y+="mpo";q7y+="raril";q7y+="y";var C06="perma";C06+="nen";C06+="tly";var l7D=" ";l7D+="ms";l7D+=" ";l7D+="a";l7D+="go";(D=this,F=k.platform.time.xa() - this.kM,G=C,E=this.config);A9tfv.W5F(1);d.warn(A9tfv.L_B(l7D,F,C?C06:q7y,H_p,O6Y));!C && F > E.qsa && (G=!0);R_F=4;break;}}};B.prototype.i$=function(){var K4R,C;K4R=2;for(;K4R !== 5;){switch(K4R){case 2:C=this;this.VUa.lia || this.VUa.Fgb(function(){var L9X;L9X=2;for(;L9X !== 1;){switch(L9X){case 2:C.IN || (C.Uk.i$(),C.gya={},C.HB());L9X=1;break;}}});K4R=5;break;}}};D3v=8;break;case 8:B.prototype.Oaa=function(C){var P2n,D;P2n=2;for(;P2n !== 6;){switch(P2n){case 2:D=this.config;this.kM=Math.max(C.ki || k.platform.time.xa(),this.kM);this.eVa();this.Lla=!1;P2n=3;break;case 3:this.I3=0;this.Uk.aa && void 0 !== C.Rg && !C.stream.HW(C.Rg) && this.Uk.j0a(C.stream).Ps.Y_b(C.Rg);D.mH && this.Gua.Oaa(C);P2n=7;break;case 7:var H4m="upd";H4m+="atingL";H4m+="astSu";H4m+="c";H4m+="cessEvent";var C3r="updatin";C3r+="gLa";C3r+="s";C3r+="tSuccessEvent";this.events.emit(C3r,{type:H4m});P2n=6;break;}}};B.prototype.oh=function(){var e4m,C,D,F;e4m=2;for(;e4m !== 3;){switch(e4m){case 2:var O4g="m";O4g+="s";var h9t="Settin";h9t+="g underflow t";h9t+="ime";h9t+="o";h9t+="ut in ";(C=this,D=this.config,F=D.Q7);this.kM=Math.max(k.platform.time.xa(),this.kM);!D.Kfb || this.sY || D.sUb || (d.info(h9t + F + O4g),this.sY=setTimeout(function(){var j8s;j8s=2;for(;j8s !== 4;){switch(j8s){case 2:var s4g="Forcing ";s4g+="permanent network failure aft";s4g+="er";s4g+=" ";var z_Z="ms, sinc";z_Z+="e underf";z_Z+="low with no success";A9tfv.W5F(2);d.info(A9tfv.a_S(F,z_Z,s4g));C.sY=void 0;j8s=5;break;case 5:C.Uk.Ir(g.default.Pf.Du,!0);j8s=4;break;}}},F));this.config.Ola && (this.Lla=!0);e4m=3;break;}}};B.prototype.eVa=function(){var e3o;e3o=2;for(;e3o !== 1;){switch(e3o){case 2:var m$m="Cl";m$m+="ea";m$m+="red underflow ";m$m+="timeout";this.sY && (clearTimeout(this.sY),this.sY=void 0,d.info(m$m));e3o=1;break;}}};return B;break;}}function B(C,D,F,G){var s7A;s7A=2;for(;s7A !== 18;){switch(s7A){case 3:var N3W="1";N3W+="SIY";N3W+="bZrNJCp9";this.events=new l.EventEmitter();this.Tk=new l.ze();N3W;this.VUa=new h.Xea();s7A=6;break;case 10:this.Gua=new n.kMa(C,G,D);this.Lla=!1;this.I3=0;s7A=18;break;case 13:this.kM=k.platform.time.xa();this.qv=0;this.gya={};s7A=10;break;case 2:this.Uk=C;this.config=D;this.Poa=F;this.HB=G;s7A=3;break;case 6:var U$j="n";U$j+="et";U$j+="workFailed";q[p.qFa]=D.ANb?w:A;this.Tk.addListener(this.Uk,U$j,this.JMb.bind(this));s7A=13;break;}}}})();b.oEa=r;},59263:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QAa=void 0;c=a(5163);r=a(12043);l=a(57055);f=r.platform.hj;a=(function(k){function d(g){var n;n=k.call(this) || this;n.WQa=g;n.B1=g.groupId;n.J1=new l.ze();n.J1.on(n,f.Bk.eQ,n.Pqb);n.J1.on(n,f.Bk.$z,n.Yga);return n;}c.__extends(d,k);d.prototype.gWb=function(g,n,h){f.prototype.open.call(this,g,n,h);};d.prototype.K2b=function(g){this.B1=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.B1;},enumerable:!1,configurable:!0}});d.prototype.Ze=function(){this.J1 && this.J1.clear();f.prototype.Ze.call(this);};d.prototype.Pqb=function(g){this.WQa.ZYb(g.probed,g.affected);this.Ze();};d.prototype.Yga=function(g){this.WQa.WYb(g.probed,g.affected);this.Ze();};return d;})(f);b.QAa=a;},34425:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kMa=void 0;c=a(12043);l=a(62558);f=a(59263);new c.platform.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function k(d,g,n){this.dR=d;this.HB=g;this.config=n;this.ft={};this.BC={};this.AE=!0;this.groupId=1;}k.prototype.YYb=function(d,g){var n,h,m,p,q,u,t,w,v,y;n=this;h=this.config;m=d.Qc;p=d.stream;q=d.Ub.location;(0,l.assert)(p,"Failing url should have an associated stream");(0,l.assert)(q,"Failing url should have an associated location");u=[];t=p.ri[0];w=!1;v=this.ft[m];y=c.platform.time.xa();if(!v)v=this.t3b(m,y,g,d);else if(v.Td >= y - h.yaa)return;v.gz || (t && q.id === t.id && (d.isPrimary=!0),v.Td=y,v.gz=!1,v.error=g,++v.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(x){var z,A,B,C,D;B=x.Ub.id;C=B + "-" + m;D=n.BC[C];if(void 0 === D || void 0 === D.DW)(D && D.em && clearTimeout(D.em),x=(null === (A=null === (z=d.stream) || void 0 === z?void 0:z.Ps) || void 0 === A?0:A.aa)?n.oKb(d.stream.Ps,d.I,x.url):x.url,(0,l.assert)(x,("Unexpected probeUrl: ").concat(x)),z=n.pWa(x,d,B),n.BC[C]={ia:!1,count:0,DW:z.Ti()},u.push(z.Ti()),w=!0);-1 === v.Mwa.indexOf(B) && v.Mwa.push(B);}),0 < u.length && (h={ts:c.platform.time.xa(),es:g.FSa,fc:g.Uf,fn:g.bZa,nc:g.Vi,pb:u,gid:this.groupId},g.Ym && (h.hc=g.Ym),this.CG(h,"errpb")),w && this.groupId++));};k.prototype.pWa=function(d,g,n){var h,m;h=new f.QAa(this);m="random=" + parseInt(("").concat(1E7 * Math.random()));h.gWb(d + (-1 !== d.indexOf("?")?"&":"?") + m,g,n);return h;};k.prototype.t3b=function(d,g,n,h){var m;m=this.ft[d];h=h.Ub.location;m || (m=this.ft[d]={count:0,Td:g,gz:!1,error:n,Mwa:[],Iua:{},location:h,I:n.I,Ufc:n});return m;};k.prototype.getState=function(d){return this.ft[d];};k.prototype.dyb=function(d){this.ft[d]=void 0;};k.prototype.CG=function(d,g){var n;if(this.AE){n={type:"logdata",target:"endplay",fields:{}};n.fields[g]={type:"array",value:d,adjust:["ts"]};this.dR.Isa(n);}};k.prototype.oKb=function(d,g,n){var h;h=void 0 === g || g === d.Tm().FX;return d.dU(h,h?void 0:g,n);};k.prototype.ZYb=function(d,g){var n,h,m,p,q,u,t,w,v,y,x,z;n=this;p=this.dR;q=this.config;u=g.Qc;t=this.ft[u];if(t){w=d.url;v=this.BC[d.Qc + "-" + u];if(v){y=t.error;v && v.em && clearTimeout(v.em);v.ia=!0;v.count=0;v.DW=void 0;t.Iua[d.Qc]=!0;v=this.ft[d.Qc];if((null === v || void 0 === v?0:v.gz) && q.XR){p.Jab(d.Qc,v.error.qY[1]);if(this.AE){x={ts:c.platform.time.xa(),id:d.requestId,servid:g.Qc,gid:d.groupId?d.groupId:-1};this.CG(x,"errst");}this.ft[d.Qc]=void 0;this.HB();}if(w !== g.url){z=this.BC[u + "-" + u];z && z.ia || (u=null === v || void 0 === v?void 0:v.location,q=Math.min((null === (m=null === (h=null === u || void 0 === u?void 0:u.Bb) || void 0 === h?void 0:h.Dv) || void 0 === m?void 0:m.Ca) || Math.random() * q.R7,q.R7),setTimeout(function(){var A;if(!(!1 !== t.gz || z && z.ia) && (t.gz=!0,p.Ir(y.qY[0],y.qY[1],g.stream.Ps.url,y),n.AE)){A={ts:c.platform.time.xa(),id:d.requestId,servid:g.Qc,gid:d.groupId?d.groupId:-1};n.CG(A,"erep");}},q));}this.AE && (x={ts:c.platform.time.xa(),id:d.requestId,result:1,servid:d.Qc,gid:d.groupId?d.groupId:-1},this.CG(x,"pbres"));}}};k.prototype.WYb=function(d,g){var n,h,m,p,q,u,t,w,v,y,x,z,A;n=this;p=this.dR;q=this.config;u=g.Qc;t=this.ft[u];w=d.Qc;v=this.BC[w + "-" + u];if(v)if(t){y=0;v.ia=!1;v.DW=void 0;t.Iua[w]=!1;x=t.Mwa;if(q.XR && w === u && g.isPrimary){z=t.location;z=(null === (m=null === (h=null === z || void 0 === z?void 0:z.Bb) || void 0 === h?void 0:h.Dv) || void 0 === m?void 0:m.Ca) || 300 * Math.random();h=Math.min(z * Math.pow(2,v.count),12E4);h+=Math.random() * (1E4 > h?100:1E4);v.em=setTimeout(function(){var B;v.em=void 0;B=n.pWa(d.url,g,w);B.K2b(d.groupId);v.DW=B.Ti();},h);}++v.count;if(w === u && (y=0,x.forEach(function(B){!1 === t.Iua[B] && y++;}),x.length === y && t.count >= q.V7)){A=t.error;t.gz=!0;q=g.stream;(0,l.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(B){p.Ir(A.qY[0],A.qY[1],B.url,A);n.AE && (B={ts:c.platform.time.xa(),id:-1,servid:B.Ub.id},n.CG(B,"erep"));});}this.AE && (q={ts:c.platform.time.xa(),id:d.requestId,result:0,servid:d.Qc,gid:d.groupId?d.groupId:-1},this.CG(q,"pbres"));}else v && (v.ia=!1,v.DW=void 0);};k.prototype.Oaa=function(d){var g,n,h;if(d.url){n=this.dR;h=n.l2b(d.url);h || (h=null === (g=this.dR.k1a(d)[0]) || void 0 === g?void 0:g.id);h && (d=this.ft[h]) && d.gz && this.config.XR && (n.Jab(d.error.FSa,!1),this.AE && (n={ts:c.platform.time.xa(),id:-1,servid:h},this.CG(n,"errst")),this.dyb(h),(h=this.BC[h + "-" + h]) && h.em && clearTimeout(h.em));}};k.prototype.reset=function(){var d,g,n;d=this.BC;for(n in d){d.hasOwnProperty(n) && (g=d[n + "-" + n]) && g.em && clearTimeout(g.em);}this.BC={};this.ft={};};return k;})();b.kMa=r;},40717:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZXa=b.kPb=b.B3a=b.b1a=void 0;c=a(42866);b.b1a=function(l,f){if((l=l.kb.v.gw) && 0 !== l.length)return (0,c.tc)(l,function(k){return k.Ka.G <= f && f < k.Wa.G;});};b.B3a=function(l,f){return f.index === l.$e.index?!0:(l=l.kb.v.gw) && 0 !== l.length?l.some(function(k){k=k.Ka;return f.Ka.Fy(k) && k.lessThan(f.Wa);}):!1;};b.kPb=function(l,f){return f.index === l.ff.index?!0:(l=l.kb.v.gw) && 0 !== l.length?l.some(function(k){k=k.Wa;return f.Ka.lessThan(k) && k.Fy(f.Wa);}):!1;};b.ZXa=function(l,f,k,d){var g,n,h,m,p,q,u,t;l=null === (g=f.Ia) || void 0 === g?void 0:g.start;g=null === (n=f.Ia) || void 0 === n?void 0:n.end;t=n=!1;if((null === d || void 0 === d?0:d.wPb) || (null === d || void 0 === d || !d.iPb) && f.Ka.lessThan(k.Ka)){if(u=f.Hma(k.Ka.G))(u=(null !== (m=null === (h=f.Ia) || void 0 === h?void 0:h.start) && void 0 !== m?m:0) + u.Kj,l=Math.max(null !== l && void 0 !== l?l:0,u));u=k.Ka.G;n=!0;}if((null === d || void 0 === d || !d.pPb) && f.Wa.greaterThan(k.Wa)){if(u=f.Hma(k.Wa.G))(u=(null !== (q=null === (p=f.Ia) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + u.Kj,g=Math.min(null !== g && void 0 !== g?g:Infinity,u),f.PV=f.index);u=k.Wa.G;t=!0;}if(void 0 !== l || void 0 !== g)(f.Bi({start:l,end:g}),void 0 !== u && (!f.qw || u > f.qw) && f.XN(u));f.X2b(k.region,n,t);};},41714:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wAa=void 0;c=a(5163);l=a(86786);r=(function(){function f(k,d){this.jk=k;this.filter=d;this.W5a=Math.max(k.max_n || 10,0);this.reset();}f.prototype.reset=function(){this.MW=[];this.offset=0;this.rw=this.VC=null;this.filter.reset();this.hY=null;};f.prototype.add=function(k,d,g){var n;n=this.rw;null !== n && g > n && (this.offset+=Math.max(d - n,0),this.rw=null);for((0,l.d3a)(this.MW,[d - this.offset,g - this.offset,k]);this.MW && this.MW.length > this.W5a;){k=c.__read(this.MW.shift(),3);this.filter.add(k[2],k[0],k[1]);}this.hY=null;};f.prototype.get=function(k,d){var g,m;if(!this.hY){this.hY=this.filter.On();try{for(var n=c.__values(this.MW),h=n.next();!h.done;h=n.next()){m=c.__read(h.value,3);this.hY.add(m[2],m[0],m[1]);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (g=n.return) && g.call(n);}finally{if(p)throw p.error;}}}p=this.rw;return this.hY.get((null === p?k:p) - this.offset,d);};f.prototype.On=function(){var k;k=new f(this.jk,this.filter.On());k.rw=this.rw;k.offset=this.offset;return k;};f.prototype.start=function(k){var d;d=this.rw;null !== d && k > d && (this.offset+=k - d,this.rw=null);this.filter.start(k - this.offset);};f.prototype.stop=function(k){this.rw=null === this.rw?k:Math.min(this.rw,k);this.filter.stop(k - this.offset);};f.prototype.flush=function(){this.filter.flush();};f.prototype.toString=function(){return "AggregatingFilter(" + this.W5a + ", " + this.filter.toString() + ")";};return f;})();b.wAa=r;},45762:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jD=void 0;r=(function(){var Y$Y;Y$Y=2;for(;Y$Y !== 9;){switch(Y$Y){case 4:a.prototype.get=function(){var J67;J67=2;for(;J67 !== 1;){switch(J67){case 2:return {Ca:this.vE?Math.floor(8 * this.ic / this.vE):null,EXa:this.vE || 0};break;}}};return a;break;case 2:a.prototype.start=function(c){var n0Z;n0Z=2;for(;n0Z !== 1;){switch(n0Z){case 2:this.ig?c < this.ig?(this.vE+=this.ig - c,this.ig=c):this.dc && c > this.dc && (this.dc=this.ig=c):this.dc=this.ig=c;n0Z=1;break;}}};a.prototype.stop=function(c){var Y4h;Y4h=2;for(;Y4h !== 1;){switch(Y4h){case 2:this.dc && c > this.dc && (this.vE+=c - this.dc,this.dc=c);Y4h=1;break;}}};a.prototype.add=function(c,l,f){var i1F;i1F=2;for(;i1F !== 4;){switch(i1F){case 2:this.start(l);this.stop(f);this.ic+=c;i1F=4;break;}}};Y$Y=4;break;}}function a(){var y8Z;y8Z=2;for(;y8Z !== 4;){switch(y8Z){case 5:var y8u="1SIYbZrNJ";y8u+="C";y8u+="p9";y8u;y8Z=4;break;case 2:this.vE=this.ic=0;this.dc=this.ig=void 0;y8Z=5;break;case 7:"";y8Z=9;break;}}}})();b.jD=r;},75265:function(r,b,a){var l,f;function c(k){this.W={wV:k.maxc || 25,ika:k.c || .5,C9b:k.w || 15E3,Rvb:k.b || 5E3};l.call(this,this.W.C9b,this.W.Rvb);this.xR();}l=a(7977);f=a(15913).TDigest;c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var k;k=this.Lt(0);l.prototype.shift.call(this);null !== k && (this.Ve.push(k,1),this.CA=!0);return k;};c.prototype.flush=function(){var k;k=this.get();this.Ve.push(k,1);this.CA=!0;l.prototype.reset.call(this);return k;};c.prototype.get=function(){return this.u1a();};c.prototype.EL=function(){var k;k=this.u1a();return {min:k.min,p10:k.Bta,p25:k.Qp,p50:k.jn,p75:k.Rp,p90:k.Cta,max:k.max,centroidSize:k.nxb,sampleSize:k.sampleSize,centroids:k.tj};};c.prototype.u1a=function(){var k;if(0 === this.Ve.size())return null;k=this.Ve.wi([0,.1,.25,.5,.75,.9,1]);if(k[2] === k[4])return null;if(this.CA || !this.dh)(this.CA=!1,this.dh={min:k[0],Bta:k[1],Qp:k[2],jn:k[3],Rp:k[4],Cta:k[5],max:k[6],wi:this.Ve.wi.bind(this.Ve),nxb:this.Ve.size(),sampleSize:this.Ve.n,tj:this.aJb(),EL:this.EL.bind(this)});return this.dh;};c.prototype.aJb=function(){var k;if(0 === this.Ve.size())return null;if(!this.CA && this.dh)return this.dh.centroids;k=this.Ve.wi([.25,.75]);if(k[0] === k[1])return null;this.Ve.size() > this.W.wV && this.Ve.Qx();k=this.Ve.wk(!1).map(function(d){return {mean:d.Hf,n:d.n};});return JSON.stringify(k);};c.prototype.p1a=function(){return this.Ve.summary();};c.prototype.size=function(){return this.Ve.size();};c.prototype.toString=function(){return "btdtput(" + this.Aha + "," + this.yh + "," + this.Jn + "): " + this.Ve.summary();};c.prototype.xR=function(){this.Ve=new f(this.W.ika,this.W.wV);};r.exports=c;},62012:function(r,b,a){var l,f;function c(k,d,g,n){l.call(this,g,n);this.Uu=new f(k);this.tqb=d;}l=a(7977);f=a(26208);c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var k;k=this.Lt(0);l.prototype.shift.call(this);null !== k && this.Uu.rSa(k);return k;};c.prototype.flush=function(){var k;k=this.get();this.Uu.rSa(k);l.prototype.reset.call(this);return k;};c.prototype.get=function(){var k;k=this.$T();return {sampleSize:this.eU(),Zta:k,zsa:k.jn?(k.Rp - k.Qp) / k.jn:void 0};};c.prototype.eU=function(){return this.Uu.eU();};c.prototype.$T=function(){return this.Uu.eU() < this.tqb?{Qp:void 0,jn:void 0,Rp:void 0,sampleSize:void 0,wi:void 0}:{Qp:this.Uu.pK(25),jn:this.Uu.pK(50),Rp:this.Uu.pK(75),sampleSize:this.Uu.eU(),wi:this.Uu.pK.bind(this.Uu)};};c.prototype.toString=function(){return "biqr(" + this.Aha + "," + this.yh + "," + this.Jn + ")";};r.exports=c;},72245:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nCa=void 0;c=a(45762);r=(function(){function l(){var S6k;S6k=2;for(;S6k !== 5;){switch(S6k){case 2:var S5W="1SIY";S5W+="bZrNJ";S5W+="Cp9";this.S1={};S5W;S6k=5;break;}}}var R42;R42=2;for(;R42 !== 9;){switch(R42){case 4:l.prototype.get=function(){var E0N,f,k,d,g,n,h;E0N=2;for(;E0N !== 8;){switch(E0N){case 2:(f=this.S1,k=Object.keys(f).map(function(m){var J8q;J8q=2;for(;J8q !== 1;){switch(J8q){case 2:return parseInt(m);break;}}}),d=[],g=0);E0N=1;break;case 1:E0N=g < k.length?5:9;break;case 9:return d;break;case 5:(n=k[g],h=f[n].get());h && d.push({cdnid:n,avtp:h.Ca,tm:h.EXa});E0N=3;break;case 3:g++;E0N=1;break;}}};return l;break;case 2:l.prototype.add=function(f,k,d,g){var b4U,n;b4U=2;for(;b4U !== 4;){switch(b4U){case 2:n=this.S1;void 0 === n[g] && (n[g]=new c.jD());n[g].add(f,k,d);b4U=4;break;}}};l.prototype.start=function(f,k){var S7_,d;S7_=2;for(;S7_ !== 4;){switch(S7_){case 2:d=this.S1;void 0 === d[k] && (d[k]=new c.jD());d[k].start(f);S7_=4;break;}}};l.prototype.stop=function(f,k){var b9n,d;b9n=2;for(;b9n !== 5;){switch(b9n){case 3:d=this.S1;b9n=2;break;case 2:d=this.S1;b9n=1;break;case 1:void 0 !== d[k] && d[k].stop(f);b9n=5;break;}}};R42=4;break;}}})();b.nCa=r;},78632:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.BCa=void 0;c=a(5163);r=a(12043);l=a(15913);new r.platform.Console("ASEJS_TDIGEST_FILTER","media|asejs");a=(function(){function f(k){this.config=k;this.jka=k.c;this.Hra=k.Ehc;this.lV=k.lV;this.qU=k.qU;this.M6=k.M6;this.E3b=k.pfc;this.dG=k.dG;this.U5a=k.U5a;this.reset();}f.prototype.reset=function(){this.cj=new l.TDigest(this.jka,this.Hra);this.dc=null;};f.prototype.add=function(k,d,g){var n,h,m,u;g=Math.max(g - d,1);k=8 * k / g;if(this.E3b){null === this.dc && (this.dc=d);h=Math.pow(2,(d - this.dc) / this.dG);m=g * h;if(h >= this.U5a){m=new l.TDigest(this.jka,this.Hra);try{for(var p=c.__values(this.cj.wk()),q=p.next();!q.done;q=p.next()){u=q.value;m.push(u.Hf,u.n / h);}}catch(w){var t;t={error:w};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(t)throw t.error;}}this.cj=m;m=g;this.dc=d;}this.cj.push(k,m);}else this.cj.push(k,g);};f.prototype.get=function(){var k;k=this.cj.wi([this.lV,this.qU,this.M6]);return {low:k[0] || 0,high:k[1] || 0,initial:k[2] || 0};};f.prototype.On=function(){var k,d,g,m;d=new f(this.config);g=new l.TDigest(this.jka,this.Hra);try{for(var n=c.__values(this.cj.wk()),h=n.next();!h.done;h=n.next()){m=h.value;g.push(m.Hf,m.n);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (k=n.return) && k.call(n);}finally{if(p)throw p.error;}}d.cj=g;return d;};f.prototype.flush=function(){};f.prototype.start=function(){};f.prototype.stop=function(){};return f;})();b.BCa=a;},19253:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kDa=b.yjb=b.jDa=b.bkb=b.zjb=void 0;c=a(5163);l=a(34238);a=(function(){return function(){};})();b.zjb=a;f=(function(){function k(d,g,n,h,m){this.alpha=d;this.Ca=g;this.weight=h;this.lfa=n * this.weight;this.iY=m;}k.prototype.On=function(){return new k(this.alpha,this.Ca,this.Ke,this.weight,this.iY);};Object.defineProperties(k.prototype,{Ke:{get:function(){return this.weight?this.lfa / this.weight:0;},enumerable:!1,configurable:!0}});k.prototype.update=function(d,g,n){var h,m,p,q;h=this.alpha;m=this.weight;p=this.iY;q=h * (d - p);5 < q && (this.weight/=Math.exp(q),this.iY=p=d);d=Math.exp(h * (g - p)) - Math.exp(h * (d - p));g=this.weight+=d;h=this.Ca;this.Ca=p=h + d * (n - h) / g;this.lfa=m?this.lfa * (g - d) / m + d * (n - p) * (n - h):0;};return k;})();b.bkb=f;r=(function(){var j$E;j$E=2;for(;j$E !== 14;){switch(j$E){case 2:k.prototype.On=function(d){var u26;u26=2;for(;u26 !== 8;){switch(u26){case 2:d || (d=new k(this.jk));d.Rr=this.Rr;d.VC=this.VC;d.TH=this.TH.On();u26=3;break;case 3:d.UH=this.UH.On();return d;break;}}};k.prototype.reset=function(){var l$Z,d;l$Z=2;for(;l$Z !== 3;){switch(l$Z){case 2:d=-Math.log(.5) / this.dG;this.TH=new f(d,0,0,0,0);this.UH=new f(d,0,0,0,0);this.Rr=this.VC=null;l$Z=3;break;}}};k.prototype.start=function(d){var Y$t;Y$t=2;for(;Y$t !== 1;){switch(Y$t){case 2:null === this.Rr && (this.Rr=d);Y$t=1;break;}}};k.prototype.add=function(d,g,n){var X_O=A9tfv;var Y7W,h;Y7W=2;for(;Y7W !== 7;){switch(Y7W){case 2:h=this.Rr;this.Rr=null === h?g:Math.min(h,g);Y7W=5;break;case 5:h=this.VC;this.VC=null === h?n:Math.max(h,n);X_O.J3t(3);h=Math.max(X_O.L_B(g,n),1);Y7W=9;break;case 9:X_O.J3t(4);this.TH.update(g,n,X_O.a_S(d,h));X_O.J3t(5);this.UH.update(g,n,X_O.a_S(d,h,8));Y7W=7;break;}}};j$E=3;break;case 3:k.prototype.get=function(d,g){var e4h=A9tfv;var B70,t,n,h,m,p,q,u,w,v;B70=2;for(;B70 !== 16;){switch(B70){case 1:B70=0 < m?5:17;break;case 4:void 0 === g && (g=this.G6a);m >= p && (g=Math.min(g,this.G6a));p=g * q.Ca;B70=8;break;case 20:d=q.weight;g=u.weight;B70=18;break;case 8:e4h.W5F(6);var t$O=e4h.a_S(27,9,16);t=Math.pow(g,t$O) * q.Ke;B70=7;break;case 10:m=1E-11 < w?Math.max(v / w,m):m + 2 * t / p;B70=14;break;case 7:B70=0 === t?6:12;break;case 17:(q=this.TH,u=this.UH);B70=20;break;case 13:e4h.J3t(3);u.update(e4h.a_S(n,h),e4h.a_S(n,d),0);B70=20;break;case 2:(n=this.Rr || 0,h=this.VC || 0,m=d - h,p=this.yTb,q=this.TH,u=this.UH);B70=1;break;case 5:B70=(q=new f(q.alpha,q.Ca,q.Ke,q.weight,q.iY),u=new f(u.alpha,u.Ca,u.Ke,u.weight,u.iY),0 < q.weight && 0 !== g)?4:20;break;case 14:e4h.J3t(3);q.update(e4h.L_B(n,h),e4h.a_S(n,d,e4h.J3t(3)),e4h.a_S(g,m,e4h.J3t(4)));B70=13;break;case 18:return {Ca:d?q.Ca:null,Ke:d?q.Ke:null,hK:g?u.Ca:null,LO:g?u.Ke:null};break;case 6:m=Math.max(m,p);B70=14;break;case 12:(w=new l.W_(p,t).gxb(m),v=p - w[1]);e4h.W5F(7);var m2Y=e4h.L_B(401,20,0,20);w=m2Y - w[0];B70=10;break;}}};j$E=9;break;case 9:k.prototype.toString=function(){var Y0x;Y0x=2;for(;Y0x !== 1;){switch(Y0x){case 2:var O$i="Deli";O$i+="ve";O$i+="ryDi";O$i+="st(";return O$i.concat(this.dG,")");break;case 4:var w0j="Delive";w0j+="ry";w0j+="Dis";w0j+="t";w0j+="(";var v_A="D";v_A+="elivery";v_A+="Dist(";return v_A.concat(this.dG,w0j);break;}}};k.prototype.stop=function(){};k.prototype.flush=function(){};return k;break;}}function k(d){var d6N,g,n;d6N=2;for(;d6N !== 7;){switch(d6N){case 2:var k5f="1";k5f+="SIY";k5f+="bZr";k5f+="NJC";k5f+="p9";this.jk=d;k5f;(g=d.min_b,n=d.min_iv);d6N=4;break;case 4:this.dG=d.hl;d6N=3;break;case 3:this.G6a=g;this.yTb=n;this.reset();d6N=7;break;}}}})();b.jDa=r;a=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);return d;})(a);b.yjb=a;r=(function(k){function d(g){var n;n=k.call(this,g) || this;n.jk=g;return n;}c.__extends(d,k);d.prototype.get=function(){var g,n,h;if(0 === this.TH.weight || 0 === this.UH.weight)return {low:null,high:null,initial:null};switch(this.jk.BM){case "deliverytime":g=this.TH;g=new l.W_(g.Ca,g.Ke);(n=this.jk.accuracy,h=this.jk.wSb);return {low:8 / g.Xv(this.jk.qU,n,h),high:8 / g.Xv(this.jk.lV,n,h),initial:8 / g.Xv(this.jk.M6,n,h)};default:return (g=this.UH,g=new l.W_(g.Ca,g.Ke),n=this.jk.accuracy,h=this.jk.wSb,{low:g.Xv(this.jk.lV,n,h),high:g.Xv(this.jk.qU,n,h),initial:g.Xv(this.jk.M6,n,h)});}};d.prototype.On=function(){var g;g=new d(this.jk);k.prototype.On.call(this,g);return g;};d.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.jk.lV,this.jk.qU),"])");};return d;})(r);b.kDa=r;},36253:function(r,b,a){var k;function c(d){this.reset();this.T2b(d);}function l(d){this.setInterval(d);this.reset();}function f(d){this.nA=new l(d);this.Zb=0;this.Hc=null;}k=a(17267);c.prototype.T2b=function(d){this.vJ=Math.pow(.5,1 / d);this.YQ=d;};c.prototype.reset=function(d){d && d.Ca && k.Rb(d.Ca)?d.Ke && k.Rb(d.Ke)?(this.Qu=this.Xpb,this.Vo=d.Ca,this.jA=d.Ke + d.Ca * d.Ca):(this.Qu=this.Xpb,this.Vo=d.Ca,this.jA=d.Ca * d.Ca):this.jA=this.Vo=this.Qu=0;};c.prototype.add=function(d){var g;if(k.Rb(d)){this.Qu++;g=this.vJ;this.Vo=g * this.Vo + (1 - g) * d;this.jA=g * this.jA + (1 - g) * d * d;}};c.prototype.loa=function(){var d,g,n;if(0 === this.Qu)return {Ca:0,Ke:0};d=this.Vo;g=this.jA;n=1 - Math.pow(this.vJ,this.Qu);d/=n;g/=n;n=d * d;return {Ca:d,Ke:g > n?g - n:0};};c.prototype.get=function(){var d;d=this.loa();return {Ca:Math.floor(d.Ca),Ke:Math.floor(d.Ke)};};c.prototype.getState=function(){return 0 === this.Qu?null:{a:Number(this.Vo.toPrecision(6)),s:Number(this.jA.toPrecision(6)),n:this.Qu};};c.prototype.Kf=function(d){if(k.vc(d) || !k.has(d,"a") || !k.has(d,"s") || !k.isFinite(d.a) || !k.isFinite(d.s))return (this.jA=this.Vo=this.Qu=0,!1);this.Vo=d.a;this.jA=d.s;k.has(d,"n") && k.Rb(d.n)?this.Qu=d.n:this.Qu=16 * this.YQ;return !0;};l.prototype.setInterval=function(d){this.YQ=d;this.vJ=-Math.log(.5) / d;};l.prototype.reset=function(d){this.dc=this.ig=null;d && k.isFinite(d.Ca)?this.Vo=d.Ca:this.Vo=0;};l.prototype.start=function(d){k.vc(this.ig) && (this.dc=this.ig=d);};l.prototype.add=function(d,g,n){var h,m,p;k.vc(this.ig) && (this.dc=this.ig=g);this.ig=Math.min(this.ig,g);g=Math.max(n - g,1);h=this.vJ;m=Math.max(n,this.dc);p=m - this.dc;n=m - n;this.Vo=this.Vo * (0 < p?Math.exp(-h * p):1) + 8 * d / g * (1 - Math.exp(-h * g)) * (0 < n?Math.exp(-h * n):1);this.dc=m;};l.prototype.get=function(d){var g;d=Math.max(d,this.dc);g=this.Vo * Math.exp(-this.vJ * (d - this.dc));d=1 - Math.exp(-this.vJ * (d - this.ig));0 < d && (g/=d);return {Ca:Math.floor(g)};};l.prototype.toString=function(){return "ewmav(" + this.YQ + ")";};f.prototype.setInterval=function(d){this.nA.setInterval(d);};f.prototype.reset=function(d){this.nA.reset(d);this.Zb=0;this.Hc=null;};f.prototype.start=function(d){!k.vc(this.Hc) && d > this.Hc && (this.Zb+=d - this.Hc,this.Hc=null);this.nA.start(d - this.Zb);};f.prototype.add=function(d,g,n){!k.vc(this.Hc) && n > this.Hc && (this.Zb+=g > this.Hc?g - this.Hc:0,this.Hc=null);this.nA.add(d,g - this.Zb,n - this.Zb);};f.prototype.stop=function(d){this.Hc=Math.max(k.vc(this.nA.dc)?0:this.nA.dc + this.Zb,k.vc(this.Hc)?d:Math.min(this.Hc,d));};f.prototype.get=function(d){return this.nA.get((k.vc(this.Hc)?d:this.Hc) - this.Zb);};f.prototype.toString=function(){return this.nA.toString();};r.exports={Djb:c,gac:l,Bjb:f};},61739:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x;function c(z){this.config=z;this.npb=z.HPa;}l=a(99039).mea;f=a(78632).BCa;k=a(45762).jD;b=a(36253);d=b.Djb;g=b.Bjb;n=a(78142).Cjb;h=a(19253).jDa;m=a(19253).kDa;p=a(78142).zob;q=a(62012);u=a(75265);t=a(65877).$Na;w=a(69615);v=a(81253);y=a(90402).BLa;x=a(41714).wAa;c.prototype.constructor=c;c.prototype.create=function(z,A){var B,C,D,F;B=this.npb[z];C=A[z];D={};B && Object.keys(B).forEach(function(G){D[G]=B[G];});C && Object.keys(C).forEach(function(G){D[G]=C[G];});switch(D.type){case "slidingwindow":F=new l(this.config,new n(D.mw));break;case "discontiguous-ewma":F=new l(this.config,new g(D.mw));break;case "initial-discontiguous-ewma":F=new y(new g(D.mw),D.playerStates);break;case "wssl":F=new p(D.mw,D.max_n);break;case "iqr":F=new q(D.mx,D.mn,D.bw,D.iv);break;case "tdigest":F=new u(D);break;case "ci":F=new l(this.config,new x(D,new f(D)));break;case "discrete-ewma":F=new d(D.hl);break;case "tdigest-history":F=new t(D);break;case "iqr-history":F=new w(D);break;case "avtp":F=new k();break;case "entropy":F=new v(D);break;case "deliverytime":F=new l(this.config,new x(D,new h(D)));break;case "deliverytime-ci":F=new l(this.config,new x(D,new m(D)));}F && (F.type=D.type);return F;};r.exports=c;},52733:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZIa=void 0;r=a(12043);c=a(27364);new r.platform.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function l(f,k){this.config=f;this.X8=k;this.reset();}l.prototype.reset=function(){this.confidence=c.Yw.HAVE_NOTHING;this.startTime=this.wa=0;};l.prototype.On=function(){var f;f=new l(this.config,this.X8);f.confidence=this.confidence;f.wa=this.wa;f.startTime=this.startTime;return f;};l.prototype.add=function(f,k,d){0 === this.startTime && (this.startTime=k,this.wa=0);this.wa+=f;f=d - this.startTime;this.confidence=Math.max(this.confidence,c.Yw.QI);this.confidence < c.Yw.OI && (f > this.config.vqb || this.wa > this.config.uqb) && (this.confidence=c.Yw.OI);this.confidence < c.Yw.xP && (f > this.config.nrb || this.wa > this.config.mrb) && (this.confidence=c.Yw.xP,this.X8());};l.prototype.get=function(){return this.confidence;};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.flush=function(){};return l;})();b.ZIa=a;},81253:function(r,b,a){var l;function c(f){var k,d;k=f.sw;d=f.mw;this.UJ=k;this.Qfa={uhd:f.uhdl,hd:f.hdl};this.Jn=Math.max(Math.ceil(1 * k / d),1);this.wqb=f.mins || 1;l.call(this,k,d);this.reset();}l=a(7977);new (a(12043).platform.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(l.prototype);c.prototype.flush=function(){this.Hi.map(function(f,k){this.vSa(f,this.ina(k));},this);};c.prototype.ywb=function(){var f,k,d,g,n,h,m,t;f=this.Qfa;for(k in f){if(f.hasOwnProperty(k)){d=f[k];g=this.uha[k];n=this.tha[k];if(g.first){h=g.first;m=g.lH;void 0 !== m && (n[h][m]+=1);g.first=void 0;}g=[];h=0;d=m=d.length + 1;for(var p=0;p < m;p++){for(var q=0,u=0;u < d;u++){q+=n[u][p];}h+=q;g.push(q);}q=-1;if(h > this.wqb){for(p=q=0;p < m;p++){if(0 < g[p])for(u=0;u < d;u++){t=n[u][p];0 < t && (q-=t * Math.log(1 * t / g[p]));}}q/=h * Math.log(2);}this.jga[k]=q;}}return this.jga;};c.prototype.vSa=function(f,k){var h,m;for(var d=this.Jn,g=this.Qfa;this.u1.length >= d;){this.u1.shift();}for(;this.v1.length >= d;){this.v1.shift();}this.u1.push(f);this.v1.push(k);f=this.u1.reduce(function(p,q){return p + q;},0);k=this.v1.reduce(function(p,q){return p + q;},0);if(0 < k){f=8 * f / k;for(var n in g){if(g.hasOwnProperty(n)){k=this.uha[n];d=this.tha[n];h=this.LZb(f,g[n]);m=k.lH;void 0 !== m?d[h][m]+=1:k.first=h;k.lH=h;}}}};c.prototype.LZb=function(f,k){for(var d=0;d < k.length && f > k[d];){d+=1;}return d;};c.prototype.shift=function(){this.vSa(this.Hi[0],this.ina(0));l.prototype.shift.call(this);};c.prototype.reset=function(){var f,k,d,g,n,h,m;this.uha={};this.u1=[];this.v1=[];this.tha={};this.jga={};f=this.Qfa;for(k in f){if(f.hasOwnProperty(k)){d=this.tha;g=k;h=void 0;m=Array(h);h=n=f[k].length + 1;for(var p=0;p < h;p++){m[p]=Array(n);for(var q=0;q < n;q++){m[p][q]=0;}}d[g]=m;this.uha[k]={first:void 0,lH:void 0};this.jga[k]=0;}}l.prototype.reset.call(this);};r.exports=c;},99039:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.mea=void 0;new (a(12043).platform.Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(l,f){this.config=l;this.filter=f;}c.prototype.On=function(){return new c(this.config,this.filter);};c.prototype.I3b=function(l,f,k,d){var g,n,h;h=d.wH;if(!h || !h.c7())return !0;switch(this.config.QNb){case "requested":return !1;case "requested-low":return (h=h.nwa(this.config.Fla),h.K6a() > ((null === (g=d.$t) || void 0 === g?void 0:g.zW) || 0));case "inferred":h=h.nwa(this.config.Fla);l=h.Dra(l,f,k,this.config.kW);if(!l)break;return h.K6a() > ((null === (n=d.$t) || void 0 === n?void 0:n.zW) || 0);case "inferred-strict":if((h=h.nwa(this.config.Fla),h.Dra(l,f,k,this.config.kW)))return !1;}return !0;};c.prototype.add=function(l,f,k,d){this.I3b(l,f,k,d) && this.filter.add(l,f,k,d);};c.prototype.get=function(l){if(this.filter.get)return this.filter.get(l);};c.prototype.start=function(l){this.filter.start && this.filter.start(l);};c.prototype.stop=function(l){this.filter.stop && this.filter.stop(l);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.mea=r;},90402:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BLa=void 0;r=(function(){function a(c,l){this.$j=0;this.filter=c;this.y9=l;this.$j=0;}a.prototype.tV=function(c){return 0 < this.y9.filter(function(l){var f;return l === (null === (f=c.$t) || void 0 === f?void 0:f.ug);}).length;};a.prototype.add=function(c,l,f,k){this.tV(k) && this.filter.add(c,l,f,k);};a.prototype.start=function(c,l){this.filter.start && this.tV(l) && this.filter.start(c);};a.prototype.stop=function(c,l){this.filter.stop && this.tV(l) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.$j=0;this.filter.reset && this.filter.reset();};a.prototype.hw=function(c,l){this.tV(l) && (this.$j+=1,this.filter.hw && this.filter.hw(c,l));};a.prototype.jw=function(c,l,f){this.tV(f) && (this.$j=Math.max(this.$j - 1,0),0 === this.$j && this.stop(c,f),this.filter.jw && this.filter.jw(c,f));};return a;})();b.BLa=r;},78142:function(r,b,a){var k;function c(d){this.UJ=d;this.reset();}function l(d){this.Jn=new c(d);this.Zb=0;this.Hc=null;}function f(d,g){this.UJ=d;this.yQa=g;this.reset();}k=a(17267);c.prototype.aRa=function(d,g){this.dc+=d;this.lj+=d;this.ic+=g;this.Ji.push({d:d,b:g});};c.prototype.pR=function(){var d;for(;this.lj > this.UJ;){d=this.Ji.shift();this.ic-=d.b;this.lj-=d.d;}};c.prototype.reset=function(){this.Ji=[];this.dc=null;this.lj=this.ic=0;};c.prototype.setInterval=function(d){this.UJ=d;this.pR();};c.prototype.start=function(d){k.vc(this.dc) && (this.dc=d);};c.prototype.add=function(d,g,n){k.vc(this.dc) && (this.dc=g);g > this.dc && this.aRa(g - this.dc,0);this.aRa(n > this.dc?n - this.dc:0,d);this.pR();};c.prototype.get=function(){return {Ca:Math.floor(8 * this.ic / this.lj),Ke:0};};l.prototype.reset=function(){this.Jn.reset();this.Zb=0;this.Hc=null;};l.prototype.add=function(d,g,n){!k.vc(this.Hc) && n > this.Hc && (g > this.Hc && (this.Zb+=g - this.Hc),this.Hc=null);this.Jn.add(d,g - this.Zb,n - this.Zb);};l.prototype.start=function(d){!k.vc(this.Hc) && d > this.Hc && (this.Zb+=d - this.Hc,this.Hc=null);this.Jn.start(d - this.Zb);};l.prototype.stop=function(d){this.Hc=k.vc(this.Hc)?d:Math.min(d,this.Hc);};l.prototype.get=function(){return this.Jn.get();};l.prototype.setInterval=function(d){this.Jn.setInterval(d);};f.prototype.reset=function(){this.Ji=[];this.ic=this.lj=0;};f.prototype.add=function(d,g,n,h){void 0 !== h && !0 === h && (g=n - g,this.lj+=g,this.ic+=d,this.Ji.push({d:g,b:d}),this.pR());};f.prototype.pR=function(){var d;for(;this.lj > this.UJ || this.Ji.length > this.yQa;){d=this.Ji.shift();this.ic-=d.b;this.lj-=d.d;}};f.prototype.start=function(){};f.prototype.stop=function(){};f.prototype.get=function(){return {Ca:Math.floor(8 * this.ic / this.lj),Ke:0};};f.prototype.setInterval=function(d,g){this.UJ=d;this.yQa=g;this.pR();};r.exports={fac:c,Cjb:l,zob:f};},88577:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jJa=b.gkb=void 0;c=a(5163);l=a(12043);f=a(87034);k=a(49730);d=a(40717);g=a(97810);r=(function(){return function(n,h,m,p){this.W=h;this.Mt=p;p="[" + n + "]";m=(0,g.Jh)(l.platform,m,p);this.J6a=n === f.u.Y?h.hsa:h.dsa;p=l.platform.UT()[n];this.vV=n === f.u.Y?h.NSb:h.qSb;this.vV=Math.min(h.ySb * p,this.vV);k.K && m.trace("This pipeline's buffer size ",p,this.vV);this.o8=(n === f.u.Y?h.Py:h.Mv) || h.o8;this.U7=(n === f.u.Y?h.MSb:h.pSb) || h.U7;this.gia=h.gia;};})();b.gkb=r;r=(function(n){function h(m,p,q,u){return n.call(this,m,p,q,u) || this;}c.__extends(h,n);h.prototype.c0a=function(m,p,q,u){var t,w,v,y,x,z,A,B,C;void 0 === q && (q=!1);void 0 === u && (u=!1);v=this.Mt;y=m.ma.Rpa();x=v.$e.index;z=v.ff.index;A=p === x;B=p === z;if(!B || A && v.$e.Ia){if(A){C=m.W_a(v.$e);C.XN(v.$e.qw);B && (v.$e.Ia || v.ff.Ia) && C.Bi({start:null === (t=C.Ia) || void 0 === t?void 0:t.start,end:null === (w=v.ff.Ia) || void 0 === w?void 0:w.end});}else C=m.Yn(p);}else (C=m.W_a(v.ff),C.XN(v.ff.qw));C.PV=p + 1;if(t=(0,d.b1a)(v,v.qn))(k.K && v.zx("getFragmentForRequest pts:",v.qn,"in region:",t,"previous region:",v.Aqa),w=void 0 === v.Aqa || v.Aqa !== t.region,(0,d.ZXa)(v.T,C,t,{iPb:A,pPb:B,wPb:w}));B && (C.L5a(),C.$2b(v.kb.v));A && C.iSb();A=m.Ja.Mr;if(!(C.PV === p || null !== A && void 0 !== A && A.C3a(p) || y || !this.gia && C.Ia || q && !(p > x + 1) || u && !(p < z - 2)))for((q=u?z - 1:z,++p);p < m.Ja.length && p < q && (C.wa < this.J6a || C.Ld.G < this.o8) && (1 === C.stream.Gh.length || this.Ywb(m,p));++p){u=m.Yn(p);if(null === A || void 0 === A?0:A.C3a(p))break;if((0,d.B3a)(v,u))break;if(C.Ld.add(u.Ld).G > this.U7)break;if(C.wa + u.wa > this.vV)break;C.dia(u);C.PV=p + 1;k.K && v.zx("getFragmentForRequest: extended fragment startPts:",C.Ka.G,"to duration:",C.Ld.G,"size:",C.wa,"min request size:",this.J6a,"max request size:",this.vV,"min request duration:",this.o8,"max request duration:",this.U7,"edit:",C.Ia);}k.K && v.zx("getFragmentForRequest(" + p + ") returning:",C,"stream:",C.stream,"firstRequestInRegion:",C.Sma,"lastRequestInRegion:",C.Dt,"nextIndex:",C.PV);return C;};h.prototype.Ywb=function(m,p){return !m.Gh.some(function(q){return p === q.Fe;});};return h;})(r);b.jJa=r;},61765:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.CYa=b.DF=b.ht=b.L5=void 0;c=a(35195);l=a(27364);f=a(62558);k=a(22209);b.L5=function(d,g){return d.gy(g,void 0,!0);};b.ht=function(d,g,n,h,m,p){var q,u,t,w;k.lq.Av(d);if(n.aa){g=n.N;m=n.Tm();p=m.FX;q=m.Ld.$c(g);q=p + Math.floor(h / q.G);d === l.u.fa && (q=Math.max(p,q - 1));h=m.MT(q);d=h.Ka;h=h.Wa;(0,f.assert)(d.N === g,"Expected fragment start timestamp to be in stream timescale");(0,f.assert)(h.N === g,"Expected fragment end timestamps to be in stream timescale");return new c.mq(n,void 0,{index:q,qb:d.ja,ub:h.ja,N:g,offset:0,wa:0});}(0,f.assert)(n.Ja,"findFirstFragment called without stream fragments");u=n.Ja;h=Math.max(n.Ja.bm(0),h);d === l.u.fa && !p && g.Am && !g.bS && n.If && (h=Math.max(n.Ja.bm(0),h + n.If.G));q=(0,b.L5)(u,h);t=n.Yn(q);if(t.Wa.G < h)return t;w=t.gHb(h);w?(0 < w.Kj && t.Bi({start:w.Kj}),d !== l.u.fa || g.e8 || (0 > w.ye && t.Bi({start:w.Kj}),w.ye < (g.Am && !g.bS && n.If?Math.floor(n.If.G):0) && t.Ala())):h >= t.Wa.G && q < u.length - 1 && (t=n.Yn(q + 1));d === l.u.Y && m && t.Wa.G === m && q < u.length - 1 && (t=n.Yn(q + 1));d === l.u.fa && !t.Ia && (g.f3a || g.rEb) && p && t.Bi({});t.XN(h);return t;};b.DF=function(d,g,n,h,m,p){var q,u;k.lq.Av(d);if(n.aa)return (m=g=q=Infinity,d=n.N,void 0 !== h && Infinity !== h && (g=n.Tm(),m=g.FX,p=g.Ld.$c(d),q=m + Math.floor(h / p.G),0 === h % p.G && (q=Math.max(m,q - 1)),g=g.MT(q),h=g.Wa,g=g.Ka.ja,m=h.ja),new c.mq(n,void 0,{index:q,qb:g,ub:m,N:d,offset:0,wa:0}));q=n.Ja;void 0 === h && (h=q.df);if(m && (m=m.XGb(n,h,d,g,p)))return m;m=q.za;p=h?h + (0,b.CYa)(d,m,g.FN,g.RN):q.kT(q.length - 1);q=q.gy(p,void 0,!0);m=n.Yn(q);0 === q || m.Ka.G !== h || d !== l.u.Y && g.FN || (--q,m=n.Yn(q));p=d === l.u.Y?p:h;if(p < m.Wa.G){u=m.Hma(p);u && 0 !== u.Kj?m.Bi({end:u.Kj}):d === l.u.fa && (u || p < m.Ka.G) && 0 !== q?m=n.Yn(q - 1):d !== l.u.Y || n.VOb && !u || 0 === q || (m=n.Yn(q - 1));}d === l.u.fa && !m.Ia && g.f3a && m.Bi();m.XN(h);return m;};b.CYa=function(d,g,n,h){var m;return d === l.u.Y || h?0:n?null !== (m=null === g || void 0 === g?void 0:g.G) && void 0 !== m?m:0:g?-g.G:0;};},58628:function(r,b,a){var l,f,k,d,g,n;function c(h,m){return h - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.jkb=b.rL=void 0;l=a(5163);f=a(12043);k=a(49730);d="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).hkb;b.rL=function(h,m){var p;if(!d)return h;p=new n(h.name,m);return (function(q){function u(){for(var t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}t=q.apply(this,l.__spreadArray([],l.__read(t),!1)) || this;t.$Za=p.hBb(t);return t;}l.__extends(u,q);return u;})(h);};n=(function(){function h(m,p){this.name=m;this.kka=p;this.OB=[];this.GOb=0;}Object.defineProperties(h,{console:{get:function(){g || (g=new f.platform.Console("GCTAGGER"));return g;},enumerable:!1,configurable:!0}});h.prototype.hBb=function(m){var p,q;if(d){p=this.kka;p || (p=h.console);if(!m.$Za && "undefined" !== typeof nrdp){m={type:this.name,id:this.GOb++};this.OB.push(m.id);q=JSON.stringify(m);q=nrdp.$Za(q,(function(u,t,w,v){u.OB.splice(u.OB.indexOf(t),1);u.OB=u.OB.sort(c);for(var y=[],x=0;x < u.OB.length && 5 > x;x++){y.push(u.OB[x]);}null === v || void 0 === v?void 0:v.error(("Removing instance for ").concat(w,"/").concat(t,". ") + ("").concat(u.OB.length," remaining, earliest: ").concat(y,"}"));}).bind(null,this,m.id,m.type,p));k.K && p && p.info("Creating tagged instance",m);return q;}}};return h;})();b.jkb=n;},14386:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p){return m.filter(function(q){return q.groupId === p.groupId;}).reduce((0,f.F6a)(function(q){return q.ro;}),p).ro;}Object.defineProperties(b,{__esModule:{value:!0}});b.REa=void 0;l=a(5163);f=a(42866);k=a(12043);d=a(72072);g=a(27364);n=a(33285);h=a(2663);r=(function(){function m(p,q){this.T=p;this.config=q;this.I4a=0;this.Xg=new n.Ju({ko:10,hn:this,source:"GraphStreamingProcess"});}m.prototype.b8a=function(p,q){var u,t,w,v,y,x,z,A,B,F,G,E,I,M;w=!1;v=[];if(0 < q.length){y=this.o4b(q);x=y.some(function(K){return 1 === (0,h.mUa)(K) && (0,g.ao)(K.Pd);});z=y.slice();A=[!1,!1,!1];B=void 0;try{for(var C=l.__values(y),D=C.next();!D.done;D=C.next()){F=D.value;if(F.hr && (!B || F.groupId === B))if(F.li)B=F.groupId;else if("global" !== A[F.mediaType]){G=F.f7(p,null !== (t=F.st) && void 0 !== t?t:1);E=(0,d.G$a)(G.reason);E && (A[F.mediaType]=E,(0,f.H2)(z,F));if(G.result){I=c(z,F);if(this.Lxb(F,x,I)){M=F.sG();this.ara(v,F,M.reason);M.Hh && (this.I4a=k.platform.time.xa());if(w=M.Hh)break;if("globalVideoMemoryLimit" === M.reason || "globalAudioMemoryLimit" === M.reason){this.T.trace("GSP.onRequestOpportunity stopping at memory limit:",M.reason);break;}"pipelineTryIssueHeaderRequest" === M.reason && (B=F.groupId);}else if((this.ara(v,F,"concurrencyCheck"),!E))break;}else this.ara(v,F,G.reason);}}}catch(K){var L;L={error:K};}finally{try{D && !D.done && (u=C.return) && u.call(C);}finally{if(L)throw L.error;}}}this.Xg.Os({streamableCount:q.length,streamableReasons:v,lastSuccessfulIssueRequestMs:this.I4a});return w;};m.prototype.o4b=function(p){return this.UYb(p).sort(function(q,u){return q.priority - u.priority;}).map(function(q){return q.Z4b;});};m.prototype.UYb=function(p){var q;q=this;return p.map(function(u){return {priority:-(0,h.lUa)(q.config,u,q.T),Z4b:u};});};m.prototype.ara=function(p,q,u){this.Xg.enabled && p.push(this.WLb(u,q));};m.prototype.WLb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.Pd,currentPlayerMs:q.Lk,pathCompletePlayerMs:q.ro,streamingPlayerMs:q.uk};};m.prototype.Lxb=function(p,q,u){return this.config.qS && (q || (0,g.ao)(p.Pd))?this.Mxb(p,u):this.Nxb(p,u);};m.prototype.Oxb=function(p){return p.uk <= p.ro;};m.prototype.Nxb=function(p,q){return p.uk - (p.Lk > q?p.Lk:q) <= Math.max(this.config.fsa,Math.min((p.ro - p.Lk) * this.config.Nxa,this.config.HSb));};m.prototype.Mxb=function(p,q){var u,t;if(void 0 === this.config.qS)return !0;u=this.config.qS;t=p.Lk + u;return p.uk <= t?!0:this.Oxb(p) && q >= t && p.uk - q < u;};l.__decorate([(0,n.Pb)({methodName:"onRequestOpportunity",bk:!0})],m.prototype,"b8a",null);return m;})();b.REa=r;},2663:function(r,b,a){var p,q,u;function c(t){return t.uk - t.Lk;}function l(t,w){return Math.exp(-(Math.log(2) / t) * w);}function f(t,w){t=Math.log(2) * w / t;return (1 - Math.exp(-t)) / t;}function k(t,w){var v,y,x,z,A;v=w.kH;y=w.jH;x=w.$y;if(0 === w.kf.length)return {w2:!1};z=w.kf[0];w=z.nf;A=z.JB;z=z.duration;if(!A || 1 === x)return {w2:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < x,"presenting segment seamless probability cannot be zero");y-=z;if(v < y)return {w2:!1};y=v - y;v=x + y / z * (1 - x);z-=y;A=A * (1 - v) / (1 - x);t=w * v / x * l(t,z) + A * f(t,z);(0,q.assert)(1 >= t);return {w2:!0,Atb:t};}function d(t){var w,v,y,x,z;w=t.dt;v=t.kO;y=t.gq;x=t.uk;z=t.Lk;t=t.nL;(0,q.assert)(void 0 !== v);(0,q.assert)(void 0 !== w);y=1 - y;x-=z;t?(z=v - t - x,w-=t,0 >= z?t=Math.max(0,(v - t) / w):(v=w - z,t=0 < v?x / v:0,y*=0 < v?v / w:1)):(z=v - x,0 >= z?t=v / w:(v=w - z,t=0 < v?x / v:0,y*=0 < v?v / w:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= y);(0,q.assert)(1 >= y);return 1 - t * y;}function g(t,w){t=Math.log(2) / t.J$a;return n(w) * Math.exp(-t * c(w));}function n(t){var w;return (null !== (w=t.st) && void 0 !== w?w:1) * t.kf.reduce(function(v,y){var x;x=y.JB;return v * (y.nf + (void 0 === x?0:x));},1);}function h(t){var w,v,y,x;if(0 === t.kf.length)return 0;v=0;if(1 > t.$y){v=t.kH;y=t.jH;x=null !== (w=t.kf[0].duration) && void 0 !== w?w:0;v=Math.max(0,Math.min(x,v - (y - x)));}return t.kf.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - v;}function m(t){return t.kf.filter(function(w){return !w.JB;}).reduce(function(w,v){return w * v.nf;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.uja=b.mUa=b.Qwb=b.lUa=b.Uwb=void 0;p=a(27364);q=a(62558);u=a(49730);b.Uwb=c;b.lUa=function(t,w,v){var y,x,z,A,B,C,D,F;if(!t.G4 || (0,p.ao)(w.Pd))return g(t,w);x=t.J$a;t=c(w);z=h(w);A=m(w);B=k(x,w);C=B.w2;B=B.Atb;B=void 0 === B?1:B;D=1 > w.gq?d(w):1;F=(null !== (y=w.st) && void 0 !== y?y:1) * A * l(x,t - z) * B * D * w.kf.filter(function(G,E){return G.JB && (0 < E || !C);}).reduce(function(G,E){var I,M;I=E.JB;M=E.duration;M=void 0 === M?0:M;I=void 0 === I?0:I;E=E.nf * l(x,M) + I * f(x,M);return G * E;},1);u.K && (null === v || void 0 === v?void 0:v.log(("{").concat(w.groupId,"} [").concat(w.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(w.gq,", ") + ("pssp: ").concat(w.$y,", ") + ("streamingDuration: ").concat(w.kO,", ") + ("duration: ").concat(w.dt,", ") + ("seamlessProbability: ").concat(A,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(z,", ") + ("risk:").concat(l(x,t - z),", ") + ("adjustedFirstTerm: ").concat(B,", streamingAdjustment: ").concat(D,", ") + ("probabilities: ").concat(JSON.stringify(w.kf)," => ").concat(F)));return F;};b.Qwb=g;b.mUa=n;b.uja=m;},93161:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.STb=b.og=b.MFb=b.iy=b.XT=b.FL=b.RRb=b.JG=b.f8=b.Tb=b.u=b.Qz=b.Rc=b.rJ=b.Uh=b.wp=b.wQ=b.Ph=b.kc=b.UP=b.Iu=b.BQ=b.rq=b.L=void 0;c=a(5163);l=a(12043);c.__exportStar(a(12043),b);f=a(42866);Object.defineProperties(b,{L:{enumerable:!0,get:function(){return f.L;}}});Object.defineProperties(b,{rq:{enumerable:!0,get:function(){return f.rq;}}});c.__exportStar(a(2362),b);k=a(42186);Object.defineProperties(b,{BQ:{enumerable:!0,get:function(){return k.BQ;}}});Object.defineProperties(b,{Iu:{enumerable:!0,get:function(){return k.Iu;}}});Object.defineProperties(b,{UP:{enumerable:!0,get:function(){return k.UP;}}});c.__exportStar(a(56742),b);c.__exportStar(a(52E3),b);c.__exportStar(a(7881),b);c.__exportStar(a(60763),b);c.__exportStar(a(25850),b);d=a(13043);Object.defineProperties(b,{kc:{enumerable:!0,get:function(){return d.kc;}}});Object.defineProperties(b,{Ph:{enumerable:!0,get:function(){return d.Ph;}}});g=a(85177);Object.defineProperties(b,{wQ:{enumerable:!0,get:function(){return g.wQ;}}});n=a(93514);Object.defineProperties(b,{wp:{enumerable:!0,get:function(){return n.wp;}}});h=a(97810);Object.defineProperties(b,{Uh:{enumerable:!0,get:function(){return h.Uh;}}});m=a(92141);Object.defineProperties(b,{rJ:{enumerable:!0,get:function(){return m.rJ;}}});p=a(27364);Object.defineProperties(b,{Rc:{enumerable:!0,get:function(){return p.Rc;}}});Object.defineProperties(b,{Qz:{enumerable:!0,get:function(){return p.Qz;}}});Object.defineProperties(b,{u:{enumerable:!0,get:function(){return p.u;}}});Object.defineProperties(b,{Tb:{enumerable:!0,get:function(){return p.Tb;}}});Object.defineProperties(b,{f8:{enumerable:!0,get:function(){return p.f8;}}});Object.defineProperties(b,{JG:{enumerable:!0,get:function(){return p.JG;}}});b.RRb=function(u){l.platform.opa(u);};b.FL=function(u){l.platform.opa(u);return Promise.resolve().then(function(){return c.__importStar(a(82181));}).then(function(t){return t.FL();});};b.XT=function(u,t){l.platform.opa(u);return Promise.resolve().then(function(){return c.__importStar(a(49550));}).then(function(w){return w.XT(t);});};b.iy=function(){return a(71866)["default"];};r=c.__importDefault(a(89956));b.MFb=r.default;r=a(97021);b.og=r.og;q=a(65656);b.STb=function(){return {qq:q.qq};};},9998:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(28578),b);},28578:function(r,b,a){var n,h,m,p,q,u,t,w,v;function c(y){var x,z,A;y=y.parent;x=!1;if(y && y.children){z={};z[w.Ck]=[];z[w.Sh]=[];z[w.TEMPORARY]=[];A=y.children;A.forEach(function(B){B && z[B.Md].push(B);});0 < z[w.Ck].length || (z[w.Sh].length === A.length?y.Md !== w.Sh && (y.Md=w.Sh,t.error("PERM failing :",q.default.Pf.name[y.Om] + " " + y.id),x=!0):(y.Md === w.Ck && (y.Md=w.TEMPORARY,t.error("TEMP failing :",q.default.Pf.name[y.Om] + " " + y.id),x=!0),z[w.TEMPORARY].forEach(function(B){B.Md=w.Ck;})),x && c(y));}}function l(y){var z;for(var x=[];y;y=y.parent){switch(y.Om){case q.default.Pf.TD:z=y;x.unshift(z.id + "(" + z.name + ")");break;case q.default.Pf.LOCATION:x.unshift(y.id);break;case q.default.Pf.URL:x.unshift("<url for " + y.stream.bitrate + ">");}}return x.length?"/" + x.join("/"):"";}function f(y){var x;if((y=y.parent) && 0 < y.children.length && y.Md !== w.Ck){x={};x[w.Ck]=[];x[w.Sh]=[];x[w.TEMPORARY]=[];y.children.forEach(function(z){z && x[z.Md].push(z);});0 < x[w.Ck].length && (y.Md=w.Ck,f(y));}}function k(y){return y.Md !== w.Ck;}function d(y){switch(y.Md){case w.Ck:return "OK";case w.Sh:return "FAILED PERMANENTLY";case w.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function g(y,x){if(y.Md === w.TEMPORARY || y.Md === w.Sh && x)y.Md=w.Ck;y.children && y.children.forEach(function(z){z && g(z,x);});}Object.defineProperties(b,{__esModule:{value:!0}});b.oHa=void 0;n=a(5163);h=n.__importStar(a(17267));r=a(57055);m=a(12043);p=a(27364);q=n.__importDefault(a(89956));u=a(62558);t=new m.platform.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(y){y[y.Ck=0]="OK";y[y.TEMPORARY=1]="TEMPORARY";y[y.Sh=2]="PERMANENT";})(w || (w={}));(function(y){y[y.Hu=0]="STARTUP";y[y.Dnb=1]="REBUFFER";})(v || (v={}));a=(function(y){var L_p;function x(z,A,B,C,D,F){var Q56,G;Q56=2;for(;Q56 !== 25;){switch(Q56){case 3:var r2P="L";r2P+="I";r2P+="V";r2P+="E";G.Iqb=F;G.nQa=r2P;G.bZb=v.Hu;G.ri={};Q56=6;break;case 2:G=y.call(this) || this;G.Jc=B;G.Bj=C;G.config=D;Q56=3;break;case 13:var K_C="n";K_C+="etw";K_C+="ork";G.streams={};G.pC=[];G.HM=!1;G.Wk={id:K_C,Om:q.default.Pf.Du,Md:w.Ck,aw:void 0,parent:void 0,children:G.pC};G.K1=null;G.lz=null;Q56=18;break;case 6:G.qk={};G.urls={};Q56=13;break;case 18:var j5g="1SIYb";j5g+="ZrN";j5g+="JCp9";var D_x="L";D_x+="I";D_x+="VE";G.HH=q.default.qs.Hu;B=z.Ih;G.aa=D_x === z.Zf && !!B;G.r2(z,A,q.default.qs.Hu);j5g;return G;break;}}}L_p=2;for(;L_p !== 22;){switch(L_p){case 2:n.__extends(x,y);L_p=1;break;case 20:x.prototype.Oa=function(){var L0h;L0h=2;for(;L0h !== 1;){switch(L0h){case 2:this.config.xRb && this.nXb();L0h=1;break;}}};x.prototype.oZb=function(z){var Q7H,d4H,F,G,L7x,X3E,Y6A,B,C,D;function A(I){var A_4;A_4=2;for(;A_4 !== 1;){switch(A_4){case 2:Object.keys(I).forEach(function(M){var T7h,K,L;T7h=2;for(;T7h !== 9;){switch(T7h){case 4:var f7M="L";f7M+="I";f7M+="V";f7M+="E";K=C.streams[M];C.streams[M]=K?n.__assign(n.__assign({},K),L):{id:M,bitrate:L.bitrate,xb:null,type:L.mediaType,clear:L.ii?!1:!0,Kp:!0,urls:[],GO:{},ri:[],Ps:L,Pqa:C.aa?f7M:void 0};T7h=9;break;case 5:T7h=L?4:9;break;case 2:L=I[M];D.add(M);T7h=5;break;}}});A_4=1;break;}}}Q7H=2;for(;Q7H !== 4;){switch(Q7H){case 1:try{d4H=2;for(;d4H !== 3;){switch(d4H){case 2:(F=n.__values(z),G=F.next());d4H=1;break;case 1:d4H=!G.done?5:3;break;case 5:A(G.value);d4H=4;break;case 4:G=F.next();d4H=1;break;}}}catch(I){var E;E={error:I};}finally{L7x=2;for(;L7x !== 1;){switch(L7x){case 2:try{X3E=2;for(;X3E !== 1;){switch(X3E){case 2:G && !G.done && (B=F.return) && B.call(F);X3E=1;break;}}}finally{Y6A=2;for(;Y6A !== 5;){switch(Y6A){case 9:throw E.error;Y6A=3;break;case 1:throw E.error;Y6A=5;break;case 3:Y6A=E?5:4;break;case 2:Y6A=E?1:5;break;}}}L7x=1;break;}}}Object.keys(this.streams).forEach(function(I){var T7G;T7G=2;for(;T7G !== 1;){switch(T7G){case 2:D.has(I) || delete C.streams[I];T7G=1;break;}}});Q7H=4;break;case 2:(C=this,D=new Set());Q7H=1;break;case 9:(C=this,D=new Set());Q7H=9;break;}}};x.prototype.Y9a=function(z,A,B){var m8F,C;m8F=2;for(;m8F !== 5;){switch(m8F){case 2:C=this;m8F=1;break;case 3:C=this;m8F=6;break;case 1:A.streams.forEach(function(D){var k0P;k0P=2;for(;k0P !== 1;){switch(k0P){case 2:C.Z9a(z,D.downloadable_id,D,B);k0P=1;break;}}});m8F=5;break;}}};L_p=17;break;case 11:x.prototype.Isa=function(z){var Y2i;Y2i=2;for(;Y2i !== 1;){switch(Y2i){case 4:this.Iqb(z);Y2i=2;break;case 2:this.Iqb(z);Y2i=1;break;}}};x.prototype.oh=function(){var J74;J74=2;for(;J74 !== 1;){switch(J74){case 2:this.u0b(v.Dnb);J74=1;break;}}};L_p=20;break;case 14:x.prototype.o0b=function(z,A,B){var X9V,C,D,Y$J;X9V=2;for(;X9V !== 16;){switch(X9V){case 20:X9V=Y$J === w.TEMPORARY?7:19;break;case 2:C=this.urls[z];z=this.Wk.Md;D=B?w.Sh:w.TEMPORARY;X9V=4;break;case 7:C.Md=D;X9V=6;break;case 9:Y$J=C.Md;X9V=Y$J === w.Sh?8:20;break;case 4:X9V=C && D !== C.Md?3:16;break;case 3:var J$G=" ";J$G+=":";J$G+=" ";J$G+="was";J$G+=" ";var E9Q=" ";E9Q+="a";E9Q+="t ";var p1D=" fail";p1D+="ure";p1D+=" reported fo";p1D+="r ";var Q_n="TE";Q_n+="M";Q_n+="P";var e5e="PE";e5e+="R";e5e+="M";t.warn((B?e5e:Q_n) + p1D + q.default.Pf.name[A] + E9Q + l(C) + J$G + d(C));X9V=9;break;case 8:return;break;case 19:X9V=Y$J === w.Ck?7:18;break;case 18:X9V=17;break;case 17:var W5u="Inv";W5u+="ali";W5u+="d ";W5u+="failure st";W5u+="ate";throw Error(W5u);X9V=7;break;case 6:var Y26="netw";Y26+="orkFail";Y26+="ed";var X2q="Emitt";X2q+="ing networkFa";X2q+="iled, per";X2q+="manent =";this.HM=this.HM || k(this.Wk);A=this.Wk.Md;A > z && (t.warn(X2q,A === w.Sh),this.emit(Y26,A === w.Sh));this.lz=null;this.HH=q.default.qs.Ak;this.dump();X9V=16;break;}}};x.prototype.Jab=function(z,A){var b1O;b1O=2;for(;b1O !== 3;){switch(b1O){case 2:b1O=(z=this.qk[z])?1:5;break;case 1:(g(z,A),f(z));b1O=5;break;case 5:this.lz=null;this.HH=q.default.qs.jea;b1O=3;break;}}};x.prototype.i$=function(){var C8e;C8e=2;for(;C8e !== 1;){switch(C8e){case 4:g(this.Wk,~6);C8e=3;break;case 2:g(this.Wk,!1);C8e=1;break;}}};L_p=11;break;case 24:x.prototype.dump=function(){};return x;break;case 1:x.prototype.Vq=function(){var p0n;p0n=2;for(;p0n !== 1;){switch(p0n){case 2:return k(this.Wk);break;}}};x.prototype.l2b=function(z){var G6P;G6P=2;for(;G6P !== 5;){switch(G6P){case 2:G6P=(z=this.urls[z]) && z.parent?1:5;break;case 1:return z.parent.id;break;}}};x.prototype.k1a=function(z){var Q_G,A,B,n4r,C,D,F,X5t,J4K,H0w;Q_G=2;for(;Q_G !== 4;){switch(Q_G){case 2:B=[];try{n4r=2;for(;n4r !== 9;){switch(n4r){case 2:(C=n.__values(Object.keys(this.urls)),D=C.next());n4r=1;break;case 3:D=C.next();n4r=1;break;case 1:n4r=!D.done?5:9;break;case 5:F=this.urls[D.value];F.url === z.stream.url && B.push(F.Ub);n4r=3;break;}}}catch(E){var G;G={error:E};}finally{X5t=2;for(;X5t !== 1;){switch(X5t){case 2:try{J4K=2;for(;J4K !== 1;){switch(J4K){case 2:D && !D.done && (A=C.return) && A.call(C);J4K=1;break;}}}finally{H0w=2;for(;H0w !== 5;){switch(H0w){case 3:H0w=G?9:7;break;case 2:H0w=G?1:5;break;case 1:throw G.error;H0w=5;break;}}}X5t=1;break;}}}return B;break;}}};x.prototype.j0a=function(z){var J2W;J2W=2;for(;J2W !== 1;){switch(J2W){case 2:for(var A in this.streams){if(this.streams[A].Ps === z){return this.streams[A];}}J2W=1;break;}}};L_p=9;break;case 9:x.prototype.r2=function(z,A,B){var h46,F,G,E,C,D;h46=2;for(;h46 !== 26;){switch(h46){case 12:z.audio_tracks.forEach(function(I){var N9I;N9I=2;for(;N9I !== 1;){switch(N9I){case 2:C.Y9a(p.u.fa,I,E);N9I=1;break;}}});z.video_tracks.forEach(function(I){var I1z;I1z=2;for(;I1z !== 1;){switch(I1z){case 2:C.Y9a(p.u.Y,I,E);I1z=1;break;}}});null === (D=z.timedtexttracks) || void 0 === D?void 0:D.forEach(function(I){var X8V;X8V=2;for(;X8V !== 1;){switch(X8V){case 2:C.fZb(I,E);X8V=1;break;case 4:C.fZb(I,E);X8V=5;break;}}});z=this.pC.filter(function(I){var v5R,M;v5R=2;for(;v5R !== 4;){switch(v5R){case 2:M=I.qk.every(function(L){var O6A;O6A=2;for(;O6A !== 1;){switch(O6A){case 2:return 0 === L.urls.length;break;}}});M && (I.qk.forEach(function(L){var R64;R64=2;for(;R64 !== 1;){switch(R64){case 2:C.qk[L.id]=void 0;R64=1;break;}}}),C.ri[I.id]=void 0,I.parent=void 0,I.children.length=0,I.streams={});return !M;break;}}});h46=19;break;case 19:z.forEach(function(I){var R92;R92=2;for(;R92 !== 1;){switch(R92){case 2:I.qk.sort(function(M,L){var l2Q;l2Q=2;for(;l2Q !== 1;){switch(l2Q){case 2:return M.bc - L.bc;break;case 4:return M.bc % L.bc;break;}}});R92=1;break;}}});this.pC=z;this.Wk.children=z;h46=16;break;case 9:var t0w="L";t0w+="I";t0w+="V";t0w+="E";var v60="L";v60+="I";v60+="V";v60+="E";z.servers.forEach(function(I){var Z2y,M,K,L;Z2y=2;for(;Z2y !== 14;){switch(Z2y){case 5:C.qk[M].bc=I.rank;Z2y=14;break;case 2:M=I.id;Z2y=1;break;case 9:K=[];I={id:M,Om:q.default.Pf.TD,Md:w.Ck,aw:void 0,parent:L,children:K,urls:K,name:I.name,type:I.type,bc:I.rank,location:L};C.qk[I.id]=I;L.children.push(I);Z2y=14;break;case 4:L=C.ri[I.key];Z2y=3;break;case 1:Z2y=C.qk[M]?5:4;break;case 3:Z2y=L?9:14;break;}}});(F=z.Zf,G=z.Ih);(0,u.assert)(this.aa && v60 === F && !!G || !this.aa && t0w !== F && !G);this.aa && (this.kRb=G.dVb);E=!0;A && (E=!1,this.oZb(A));h46=12;break;case 16:this.lz=null;this.HH=B;this.dump();h46=26;break;case 2:C=this;void 0 === B && (B=q.default.qs.qlb);z.locations.forEach(function(I){var k3i,M,L,K,O;k3i=2;for(;k3i !== 7;){switch(k3i){case 2:M=I.key;k3i=1;break;case 1:k3i=C.ri[M]?5:4;break;case 5:(C.ri[M].bc=I.rank,C.ri[M].level=I.level,C.ri[M].weight=I.weight);k3i=7;break;case 4:(L=[],K=C.Bj.get(M),O=C.Wk);I={id:M,Om:q.default.Pf.LOCATION,Md:w.Ck,bc:I.rank,level:I.level,weight:I.weight,aw:void 0,parent:O,children:L,qk:L,streams:{},Bb:K};C.ri[I.id]=I;O.children.push(I);k3i=7;break;}}});this.K1=m.platform.time.xa();this.pC.sort(function(I,M){var S8c;S8c=2;for(;S8c !== 1;){switch(S8c){case 2:return I.level - M.level || I.bc - M.bc;break;}}});h46=9;break;}}};x.prototype.zfb=function(z,A,B){var Z7t,C,D,F,G,E,I,M;Z7t=2;for(;Z7t !== 16;){switch(Z7t){case 2:(C=this,D=this.config,F=!1);this.aa && void 0 !== B && B !== this.nQa && (void 0 === this.oQa || m.platform.time.xa() - this.oQa > D.WQb) && (this.nQa=B,this.oQa=m.platform.time.xa(),F=!0);F && (this.lz=null);(G=this.Jc.get(),E=0);Z7t=3;break;case 19:return (this.Ir(q.default.Pf.Du,!1),!1);break;case 18:var w7f="(em";w7f+="pty st";w7f+="ream";w7f+=" li";w7f+="st)";var U2p="Did not fi";U2p+="nd ";U2p+="a URL for ANY stream";U2p+="...";var U8c="n";U8c+="etwor";U8c+="k";U8c+="Failed";var B5u="Network h";B5u+="as failed, not updating stre";B5u+="am selection";A.forEach(function(L,K){var l2p,O;l2p=2;for(;l2p !== 5;){switch(l2p){case 2:var b2u=" ";b2u+="Kbp";b2u+="s)";var s0d=" ";s0d+="(";var z31="]";z31+=" ";var d95="Faili";d95+="ng";d95+=" ";d95+="s";d95+="tream [";O=L.id;M.some(function(H){var t9m,N,J;t9m=2;for(;t9m !== 8;){switch(t9m){case 4:N=J.ri[0];void 0 === L.J9 && (L.J9=N.id,L.Fua=J.GO[N.id][0].Ub.id);return J.GO[H.id].some(function(R){var H0B,T;H0B=2;for(;H0B !== 20;){switch(H0B){case 11:D.pYa && !L.Bb.vt && (L.Bb.vt=H.Bb.vt);return !0;break;case 2:H0B=k(R.Ub)?1:5;break;case 6:L.uX=R.Ub.name;L.Kr=R.Ub.type;F && (J.Pqa=B);L.Bb=D.Via?H.Bb.confidence >= q.default.nl.OI || G.confidence < I?H.Bb:G:G.confidence === q.default.nl.HAVE_NOTHING || H.Bb.confidence >= q.default.nl.OI?H.Bb:G;H0B=11;break;case 1:return (R.Ub.Md === w.TEMPORARY && (L.Md=w.TEMPORARY),D.mH && L.Ub === R.Ub.id && R.Ub.aw && (L.aw=R.Ub.aw),!1);break;case 3:var x_z="loc";x_z+="a";x_z+="tionfail";x_z+="ov";x_z+="er";var I4X="serv";I4X+="erfa";I4X+="ilover";var u_E="pe";u_E+="rf";u_E+="orman";u_E+="ce";var K43="unk";K43+="n";K43+="ow";K43+="n";T=K43;L.location !== H.id && (D.mH?L.rqa=H.id === N.id:T=H !== M[0] && F && J.Pqa !== B?"" + q.default.qs.fob:H !== M[0]?"" + q.default.qs.Vba:void 0 === L.location?"" + q.default.qs.Hu:h.co(L.A4a) || L.A4a === H.id?h.co(L.G4a) || L.G4a === R.Ub.id?u_E:I4X:x_z,L.location=H.id,L.Wqa=H.level,L.au=T);L.url=R.url;L.Ub=R.Ub.id;H0B=6;break;case 4:return !1;break;case 5:H0B=k(R) || F && !R.G7.some(function(ka){var q5g=A9tfv;var A61;A61=2;for(;A61 !== 1;){switch(A61){case 4:q5g.W5F(8);return q5g.L_B(B,ka);break;case 2:q5g.W5F(9);return q5g.a_S(ka,B);break;}}})?4:3;break;}}});break;case 5:return !1;break;case 1:t9m=!J?5:4;break;case 2:J=H.streams[O];t9m=1;break;}}})?(L.my=!1,L.Md=void 0,L.Kp && ++E):L.Md && L.Md === w.TEMPORARY?C.Wk.Md=w.TEMPORARY:L.my || (t.warn(d95 + K + z31 + O + s0d + L.bitrate + b2u),L.fyb(),L.my=!0);l2p=5;break;}}});return k(this.Wk)?(t.warn(B5u),this.HM=!0,this.emit(U8c,this.Wk.Md === w.Sh),!1):E?!0:(t.warn(U2p + (A.length?"":w7f)),this.Ir(q.default.Pf.Du,!0),!1);break;case 7:I=q.default.nl.QI;D.psa && (I=q.default.nl.OI);this.Jc.location && G.confidence >= I && (z=this.ri[this.Jc.location]) && (z.Bb=G);h.vc(this.lz) && (this.lz=this.V7b());Z7t=12;break;case 20:Z7t=!M.length?19:18;break;case 12:Z7t=!this.lz?11:10;break;case 8:return !1;break;case 11:return (this.Ir(q.default.Pf.Du,!1),!1);break;case 9:Z7t=k(this.Wk)?8:7;break;case 10:M=this.lz;Z7t=20;break;case 3:m.platform.Ws && m.platform.Ws(z);Z7t=9;break;}}};x.prototype.p2b=function(z,A){var M7x,B,C;M7x=2;for(;M7x !== 4;){switch(M7x){case 2:(B=[],C=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(D,F){var Q6B,M,E,I,G;Q6B=2;for(;Q6B !== 13;){switch(Q6B){case 7:D.urls.some(function(L){var V9H;V9H=2;for(;V9H !== 5;){switch(V9H){case 2:V9H=L.url === F?1:5;break;case 1:return (M=L,!0);break;}}});M && B.push({url:M,Ub:D});Q6B=13;break;case 8:Q6B=h.rg(I) && h.rg(G) && I === z && G == A?7:13;break;case 4:var s0r="8";s0r+="0";var p21="4";p21+="4";p21+="3";(E="s" === G[1],I=G[2]);G=G[3];G.length || (G=E?p21:s0r);Q6B=8;break;case 5:Q6B=G && 4 === G.length?4:13;break;case 2:D=D.Ub;G=F.match(C);Q6B=5;break;}}});return B;break;}}};x.prototype.Ir=function(z,A,B,C){var S$g,D,F,G,C2o;S$g=2;for(;S$g !== 25;){switch(S$g){case 3:S$g=G !== D.Md?9:25;break;case 2:(D=z !== q.default.Pf.Du && B?this.urls[B]:this.Wk,F=this.Wk.Md,G=A?w.Sh:w.TEMPORARY);S$g=1;break;case 4:S$g=D?3:26;break;case 26:var W8g="Unable to find ";W8g+="f";W8g+="ailure entity for";W8g+=" URL ";A9tfv.W5F(0);t.warn(A9tfv.a_S(W8g,B));S$g=25;break;case 1:S$g=D && D.parent && D.Om !== z?5:4;break;case 10:this.lz=null;this.HH=q.default.qs.Ak;C && (this.HH=q.default.qs.hnb,D.aw=C);this.dump();S$g=25;break;case 16:S$g=C2o === w.Ck?6:15;break;case 8:C2o=D.Md;S$g=C2o === w.Sh?7:17;break;case 5:D=D.parent;S$g=1;break;case 6:var Z97="n";Z97+="etworkFa";Z97+="i";Z97+="led";var z5i="Emit";z5i+="ting netwo";z5i+="rkFailed, permanent =";D.Md=G;c(D);this.HM=this.HM || k(this.Wk);z=this.Wk.Md;z > F && (t.warn(z5i,z === w.Sh),this.emit(Z97,z === w.Sh));S$g=10;break;case 17:S$g=C2o === w.TEMPORARY?6:16;break;case 9:var z6o=" ";z6o+=": ";z6o+="was ";var Y8R=" ";Y8R+="a";Y8R+="t";Y8R+=" ";var J4e=" failure ";J4e+="report";J4e+="ed for ";var A3o="T";A3o+="E";A3o+="M";A3o+="P";var L4j="P";L4j+="E";L4j+="R";L4j+="M";t.warn((A?L4j:A3o) + J4e + q.default.Pf.name[z] + Y8R + l(D) + z6o + d(D));S$g=8;break;case 27:var e_s="Inva";e_s+="lid fail";e_s+="ure state";throw Error(e_s);S$g=6;break;case 7:return;break;case 15:S$g=27;break;}}};L_p=14;break;case 17:x.prototype.fZb=function(z,A){var k_g,B;k_g=2;for(;k_g !== 4;){switch(k_g){case 1:var p9i="im";p9i+="s";p9i+="c1";p9i+=".";p9i+="1";var Q$c="ims";Q$c+="c";Q$c+="1.";Q$c+="1";B=z.downloadableIds[Q$c];(z=z.ttDownloadables[p9i]) && B && this.Z9a(p.u.Ga,B,z,A);k_g=4;break;case 2:var n6Z="n";n6Z+="on";n6Z+="e";k_g=n6Z !== z.id?1:4;break;}}};x.prototype.Z9a=function(z,A,B,C){var T5g,D,F;T5g=2;for(;T5g !== 10;){switch(T5g){case 6:this.gZb(D,B.urls);h.yp(D.GO,function(G){var y5l;y5l=2;for(;y5l !== 1;){switch(y5l){case 2:G.sort(function(E,I){var O3A;O3A=2;for(;O3A !== 1;){switch(O3A){case 2:return E.Ub.bc - I.Ub.bc;break;}}});y5l=1;break;}}});D.ri=D.ri.sort(function(G,E){var R21;R21=2;for(;R21 !== 1;){switch(R21){case 2:return G.level - E.level || G.bc - E.bc;break;}}});T5g=10;break;case 2:D=this.streams[A];T5g=1;break;case 7:this.streams[D.id]=D;T5g=6;break;case 5:C="";D=0;F=null;z !== p.u.Ga && (C=B.content_profile,D=B.bitrate,z === p.u.Y && (F=B.vmaf));T5g=8;break;case 11:return;break;case 8:var a5o="L";a5o+="I";a5o+="VE";var z2s="n";z2s+="o";z2s+="n";z2s+="e";z2s+="-";D={id:A,bitrate:D,xb:F,type:z,profile:C,clear:0 === C.indexOf(z2s),Kp:!0,urls:[],GO:{},ri:[],Pqa:this.aa?a5o:void 0};T5g=7;break;case 12:T5g=!D && !C?11:6;break;case 1:T5g=h.co(D) && C?5:12;break;}}};x.prototype.gZb=function(z,A){var u6c,B;u6c=2;for(;u6c !== 5;){switch(u6c){case 2:B=this;A.forEach(function(C){var a3E,D,F,G,E,I;a3E=2;for(;a3E !== 14;){switch(a3E){case 5:a3E=G?4:14;break;case 2:(D=C.url,F=B.urls[D],G=B.qk[C.cdn_id]);B.aa && (E=C.liveOcaCapabilities);a3E=5;break;case 4:h.co(F) && (F={id:D,Om:q.default.Pf.URL,Md:w.Ck,aw:void 0,parent:G,children:[],url:D,Ub:G,stream:z,G7:E},B.urls[D]=F,G.children.push(F));I=G.location;z.urls.push(F);a3E=8;break;case 7:I.streams[z.id]=z;(C=z.GO[I.id])?C.push(F):z.GO[I.id]=[F];a3E=14;break;case 8:0 === z.ri.filter(function(M){var m6D;m6D=2;for(;m6D !== 1;){switch(m6D){case 2:return M.id === I.id;break;}}}).length && z.ri.push(I);a3E=7;break;}}});u6c=5;break;}}};x.prototype.V7b=function(){var g5x,z,A,B,C;g5x=2;for(;g5x !== 6;){switch(g5x){case 2:(z=this,A=this.config,B=this.pC.filter(function(D){var l_h;l_h=2;for(;l_h !== 1;){switch(l_h){case 2:return !k(D) && 0 !== D.level;break;}}}));g5x=1;break;case 1:g5x=0 === B.length?5:4;break;case 5:return null;break;case 3:g5x=null === this.K1 || this.K1 + A.Vqa < C?9:8;break;case 8:B.sort(function(D,F){var X2h;X2h=2;for(;X2h !== 1;){switch(X2h){case 2:return D.level - F.level || D.bc - F.bc;break;}}});return B;break;case 9:(B.forEach(function(D){var v3k;v3k=2;for(;v3k !== 1;){switch(v3k){case 2:D.id !== z.Jc.location && (D.Bb=z.Bj.get(D.id));v3k=1;break;}}}),this.K1=C);g5x=8;break;case 4:C=m.platform.time.xa();g5x=3;break;}}};x.prototype.u0b=function(z){var N1M,A;N1M=2;for(;N1M !== 4;){switch(N1M){case 2:A=this.Jc.location;this.bZb=z;this.pC.forEach(function(B){var B3S;B3S=2;for(;B3S !== 1;){switch(B3S){case 2:B.id !== A && B.Bb && B.Bb.confidence > q.default.nl.QI && (B.Bb.confidence=q.default.nl.QI);B3S=1;break;}}});N1M=4;break;}}};x.prototype.nXb=function(){var j2r,z;j2r=2;for(;j2r !== 5;){switch(j2r){case 2:z=this;this.HM || this.pC.forEach(function(A){var d6e;d6e=2;for(;d6e !== 1;){switch(d6e){case 2:A.Md === w.TEMPORARY && z.Bj.fail(A.id,m.platform.time.xa());d6e=1;break;}}});j2r=5;break;}}};L_p=24;break;}}})(r.EventEmitter);b.oHa=a;},86102:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.z0a=void 0;b.z0a=function(a){var c;a=a.Ih;if(!a)return 0;c=a.pX;return 1E3 * Object.keys(c).reduce(function(l,f){f=c[f];return Math.max(l,f.duration / f.N);},0);};},1104:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.YP=void 0;c=a(42866);l=a(62558);f=a(27364);r=(function(){function k(d){var g;void 0 === d && (d=[]);g=this;this.items=d;d.forEach(function(n){return g.Wya(n);});}Object.defineProperties(k.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Eua:{get:function(){var d;return null !== (d=this.video) && void 0 !== d?d:this.audio;},enumerable:!1,configurable:!0}});k.prototype.get=function(d){switch(d){case f.u.Y:return this.video;case f.u.fa:return this.audio;case f.u.Ga:return this.text;}};k.prototype.every=function(d){return this.items.every(d);};k.prototype.some=function(d){return this.items.some(d);};k.prototype.forEach=function(d){this.items.forEach(d);};k.prototype.find=function(d){return (0,c.tc)(this.items,d);};k.prototype.reduce=function(d,g){return this.items.reduce(d,g);};k.prototype.filter=function(d){return new k(this.items.filter(d));};k.prototype.replace=function(d,g){var n;n=this.items.indexOf(d);(0,l.assert)(-1 < n);(0,l.assert)(d.mediaType === g.mediaType);this.items[n]=g;this.Wya(g);};k.prototype.add=function(d){this.items.push(d);this.Wya(d);};k.prototype.remove=function(d){var g;g=this.items.indexOf(d);if(-1 === g)return !1;this.items.splice(g,1);this.$xb(d.mediaType);return !0;};k.prototype.clear=function(){this.items=[];this.text=this.audio=this.video=void 0;};k.prototype.Wya=function(d){switch(d.mediaType){case f.u.Y:this.video=d;break;case f.u.fa:this.audio=d;break;case f.u.Ga:this.text=d;}};k.prototype.$xb=function(d){switch(d){case f.u.Y:this.video=void 0;break;case f.u.fa:this.audio=void 0;break;case f.u.Ga:this.text=void 0;}};return k;})();b.YP=r;},50625:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cBa=void 0;c=a(42866);l=a(81883);r=(function(){function f(k,d,g,n){this.config=d;this.uf=g;this.console=n;this.za=k.za;}f.prototype.append=function(k,d){var g,n,h,m,p,q,u,t,w,v,y,x,z;if(k.ci)return k;g=!1;n=(0,l.Xna)(this.config,this.uf);h=k.Ma;m=k.offset;p=k.nf;q=k.si;u=h.Lb;t=h.Ab;w=h.Dt;w=h.Qk || w;if(!k.Ma.Ia || !w || p)return k;v=h.Wa.qa(h.Ka);w=Math.floor(v.ih(this.za));y=d.tsa || u.qa(this.za.oo(2));x=y.qa(t);u=w;z=!1;d.tsa && (d=this.jUa(v,x,x),u=d.Lj,z=d.s7a);n=y.qa(c.L.Na(n));t=c.L.max(n.qa(t),c.L.Ha);z || (t=this.jUa(v,t,x),u=t.Lj,t.s7a && (--u,this.za.oo(u)));u < (this.config.FTb || 1)?g=!0:0 < w - u && k.Ma.C4(w - u);return {Ma:h,offset:m,nf:p,ci:g,si:q};};f.prototype.jUa=function(k,d,g){var n;k=c.L.min(k,d);k=Math.floor(k.ih(this.za));d=this.za.oo(k);g=g.qa(d);n=0 < k && g.lessThan(c.L.Ty);return {Lj:k,Tic:d,ogc:g,s7a:n};};return f;})();b.cBa=r;},3973:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Rba=void 0;c=a(42866);l=a(49730);r=(function(){function f(k){this.console=k;}f.prototype.append=function(k){var d,g,n,h,m,p;if(k.ci)return k;d=k.Ma;g=k.offset;n=k.si;h=d.Ka;m=d.Wa;p=h.add(g);g=m.add(g);p=this.jM && p.qa(this.jM);this.jM=g;if(void 0 === p || p.equal(c.L.Ha))return k;k.si=n || [];d={stream:d.Gb,pts:h.G,gap:p.G};k.si.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:d}}});l.K && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(d)));return k;};return f;})();b.Rba=r;},33507:function(r,b,a){var f,k,d,g,n,h;function c(m,p,q,u,t,w){var v,y,x,z,A,B,C;if(void 0 !== m.$$ || void 0 !== m.pxa || m.et || m.Vn){v=m.end - m.start;y=Array(v);x=m.et;z=m.ZYa?m.ZYa - 1:0;A=m.$Ya?m.$Ya - 1:0;B=Math.min(v,Math.max(m.$$ || 0,w && x && !z?1:0));m=Math.min(v - B,Math.max(m.pxa || 0,w && p && !A?1:0));w=Math.floor(u.ih(q));q=Math.max(0,Math.min(v - B - m,x?Math.max(0,w - z):0));C=Math.max(0,Math.min(v - B - m - q,p?Math.max(0,w - A):0));q=B + q;u=v - m - C;A=A?0:Math.max(0,w + 1 - C);w=(1 - t) / (w + 1);for(C=0;C < v;++C){y[C]=C < B?-Infinity:C >= v - m?-Infinity:x && C < q?l(t + (C - B + z) * w):p && C >= u?l(1 - (C - u + A + 1) * w):0;}return y;}}function l(m){return 20 * Math.log(m) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.dBa=void 0;f=a(5163);k=a(36418);d=a(42866);g=a(97810);n=a(62558);h=a(27364);r=a(60513);r=(function(m){var e98;e98=2;for(;e98 !== 9;){switch(e98){case 2:f.__extends(p,m);p.prototype.Ia=function(q,u){var g0G,w,v,y,x,t;g0G=2;for(;g0G !== 33;){switch(g0G){case 35:y && 1 < w.length && (y=null === y || void 0 === y?void 0:y.concat(w.slice(1)));return {ia:!0,si:t,xo:y};break;case 17:x=q.Ia.start;g0G=16;break;case 3:return {ia:!0};break;case 22:x && t.push(x);g0G=21;break;case 21:y=v;g0G=35;break;case 10:g0G=!y?20:19;break;case 24:g0G=!y?23:22;break;case 9:w=q.xo;g0G=8;break;case 6:g0G=0 >= q.Ld.ja?14:13;break;case 13:g0G=0 < q.Ia.start || q.Ia.$$ || q.Ia.et?12:16;break;case 7:return {ia:!0};break;case 23:return {ia:y};break;case 15:q=this.uEb(q,y?(0,g.xK)(y):w[0],x,u);y=q.ia;x=q.ho;g0G=25;break;case 16:g0G=q.Ia.end !== q.jt || q.Ia.pxa || q.Ia.Vn?15:35;break;case 14:return {ia:!1};break;case 20:return {ia:y};break;case 8:g0G=!(w[0] instanceof ArrayBuffer)?7:6;break;case 25:v=q.data;g0G=24;break;case 12:(v=this.tEb(q,w[0],u),y=v.ia,x=v.ho);v=v.data;g0G=10;break;case 4:g0G=!q.Ia?3:9;break;case 19:x && t.push(x);y=v;g0G=17;break;case 2:var M8$="AudioMediaFragmentEditor [${fragment.mediaTy";M8$+="pe}]: Attempt to edit appe";M8$+="nded fragment";void 0 === u && (u=!0);t=[];(0,n.assert)(!q.aS,M8$);g0G=4;break;}}};p.prototype.tEb=function(q,u,t){var P7M,w;P7M=2;for(;P7M !== 6;){switch(P7M){case 9:return {ia:!0};break;case 3:P7M=!(q.Ia.start || w || q.Ia.et || t)?9:8;break;case 8:var y1r=" e";y1r+="dit ";y1r+="fail";y1r+="ed";var K45="]";K45+=":";K45+=" ";var V56="AudioMedi";V56+="a";V56+="Fragmen";V56+="tEditor [";t=c(q.Ia,t,q.za,this.E$,this.vM,this.config.e3a);return (u=new k.ns(this.w8,q.stream,u).cab({Kj:q.Ia.start,N:q.Op,Dx:t,Sva:!1,yH:this.config.m$,FG:l(this.vM)}))?{ia:!0,ho:q.qab(w),data:u.Ma}:(this.console.error(V56.concat(q.mediaType,K45).concat(q.toString(),y1r)),{ia:!1});break;case 2:void 0 === t && (t=!0);(0,n.assert)(q.Ia);w=q.Ia.$$;t=!(!q.Ia.Vn || !t);P7M=3;break;}}};p.prototype.uEb=function(q,u,t,w){var I27,v;I27=2;for(;I27 !== 14;){switch(I27){case 9:I27=q.Ia.end === q.jt && !v && !q.Ia.et && !w?8:7;break;case 8:return {ia:!0};break;case 7:var K4J=" ";K4J+="edit";K4J+=" failed";var Y3y="]";Y3y+=":";Y3y+=" ";var U1L="Aud";U1L+="i";U1L+="oM";U1L+="ediaFragmentEditor [";w=c(q.Ia,w,q.za,this.F$,this.vM,this.config.e3a);return (u=new k.ns(this.w8,q.stream,u).jab({Kj:q.Ia.end - t,N:q.Op,Dx:w,Sva:!1,yH:this.config.m$,FG:l(this.vM)}))?{ia:!0,ho:q.qab(v),data:u.Ma}:(this.console.error(U1L.concat(q.mediaType,Y3y).concat(q.toString(),K4J)),{ia:!1});break;case 4:v=q.Ia.pxa;w=!(!q.Ia.Vn || !w);I27=9;break;case 2:void 0 === t && (t=0);void 0 === w && (w=!0);(0,n.assert)(q.Ia);I27=4;break;}}};return p;break;}}function p(q,u,t){var H_X,w;H_X=2;for(;H_X !== 6;){switch(H_X){case 9:w.F$=d.L.Na(0 <= u.F$?u.F$:u.jz);w.vM=Math.pow(10,(u.vM[t] || -44) / 20);return w;break;case 2:var s$Z="1SIY";s$Z+="bZrNJ";s$Z+="Cp";s$Z+="9";s$Z;w=m.call(this,q,h.u.fa) || this;w.console=q;w.config=u;w.E$=d.L.Na(0 <= u.E$?u.E$:u.jz);H_X=9;break;}}}})(r.Oda);b.dBa=r;},56764:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eBa=void 0;c=a(49730);r=(function(){function l(f){this.console=f;}l.prototype.append=function(f,k){var d,g,n,h,m,p,q;if(f.ci)return f;d=!1;g=f.Ma;n=f.offset;h=f.nf;f=f.si;k=k.zM;m=g.Lb;if(this.Xl && m.lessThan(this.Xl.Lb)){p=this.Xl.zM.qa(g.Ab);q=g.Lb.qa(this.Xl.zM);q.lessThan(p) && (c.K && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(g) + (", current error: ").concat(p.mb()) + (", discard error: ").concat(q.mb())),d=!0);}this.Xl=(g.Qk || g.Dt) && k?{zM:k,Lb:m}:void 0;return {Ma:g,offset:n,nf:h,ci:d,si:f};};return l;})();b.eBa=r;},36304:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DGa=void 0;r=(function(){function a(c){this.aX=!1;this.U3b=c.COb;}a.prototype.append=function(c){c.Ma.Ia && (c.Ma.a3b(this.aX?0:this.U3b),this.aX=!0);return c;};return a;})();b.DGa=r;},60513:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Oda=void 0;c=a(12043);b.Oda=(function(){return function(l,f){this.console=l;this.mediaType=f;this.w8=new c.platform.Console("MP4","media|asejs");};})();},29308:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.BIa=void 0;c=a(42866);l=a(27364);f=a(62558);k=a(66649);d=a(33446);g=a(99548);n=a(35559);h=a(55142);m=a(36304);p=a(50625);q=a(56764);u=a(33507);t=a(3973);w=a(91659);r=(function(){function v(y,x,z,A){this.config=y;this.mediaType=x;this.uf=z;this.console=A;}v.prototype.append=function(y,x){var z,A,B,C,D,F;void 0 === this.track?this.Kpa(y.stream):this.track !== y.stream.track && ((0,f.assert)(this.track.za),(0,f.assert)(y.stream.track.za),this.track=y.stream.track);(0,f.assert)(void 0 !== this.vp);C={Ma:y,offset:null !== (z=y.Tua) && void 0 !== z?z:c.L.Ha,nf:this.config.RN,ci:!1};C=this.vp.reduce(function(G,E){return E.append(G,x);},C);D=C.Ma;z=C.offset;F=C.ci;C=C.si;C=void 0 === C?[]:C;D.Ia && ((0,f.assert)(y.Ia,"Fragments must be marked for edit at request time"),y.Bi(D.Ia));if(F || !this.Rra)return {offset:z,ci:F};y=this.Rra.Ia(y,!(null === (B=null === (A=y.v) || void 0 === A?void 0:A.v) || void 0 === B || !B.Vn));A=y.ia;B=y.si;y=y.xo;Array.prototype.push.apply(C,void 0 === B?[]:B);return {offset:z,ci:!A,si:C,xo:y};};v.prototype.reset=function(){this.vp=this.track=void 0;};v.prototype.Kpa=function(y){var x,z;this.track=y.track;this.mediaType === l.u.fa?this.Rra=new u.dBa(this.console,this.config,y.profile):y.dPb && (this.Rra=new w.SOa(this.console,this.config));this.vp=[];if(this.mediaType === l.u.fa){this.config.RN && this.vp.push(new g.ZMa(this.config,y.track,this.console));z=this.tja(y);z.equal(c.L.Ha)?this.config.Am && y.If && this.Opa(y.ma.J) && this.vp.push(new m.DGa(this.config)):this.vp.push(new k.Rea(z));this.config.e8 || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(z.mb(),", ") + ("").concat(null === (x=y.If) || void 0 === x?void 0:x.mb())),this.vp.push(new n.YIa(this.config,y,this.console)));this.xPb()?(this.config.tk || this.vp.push(new p.cBa(y,this.config,this.uf,this.console)),this.config.RN && this.vp.push(new t.Rba(this.console)),this.vp.push(new d.lJa(this.config,y,this.console)),this.N3b(y) && ((0,f.assert)(y.za),this.vp.push(this.Vyb(y.If || c.L.Ha,y.za,z)))):(this.vp.push(new q.eBa(this.console)),this.config.RN && this.vp.push(new t.Rba(this.console)));}};v.prototype.Opa=function(y){return this.config.Opa || this.config.g3a && -1 !== this.config.g3a.indexOf(y);};v.prototype.tja=function(y){return k.Rea.tja(this.config,y.If,this.uf,this.console);};v.prototype.xPb=function(){return !this.config.FN;};v.prototype.N3b=function(y){return this.config.b7b && this.config.Am && !!y.If;};v.prototype.Vyb=function(y,x,z){return new h.BOa(y.qa(z),x,this.console);};return v;})();b.BIa=r;},35559:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.YIa=void 0;c=a(42866);l=a(62558);f=a(49730);r=(function(){function k(d,g,n){var h;this.console=n;this.aX=!1;(0,l.assert)(g.za,"NegativePtsGuard: stream.frameDuration must exist.");this.za=g.za;this.Am=d.Am;this.If=null !== (h=g.If) && void 0 !== h?h:c.L.Ha;}k.prototype.append=function(d){var g,n,h,m,p;if(this.aX || d.ci)return d;g=d.Ma;n=d.offset;h=d.nf;d=d.si;if(g.Ia){m=g.Ka.qa(this.Am?this.If:c.L.Ha).add(n);if(m.lessThan(c.L.Ha)){p=Math.ceil(m.oo(-1).ih(this.za));f.K && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.If.mb(),", ") + ("request content start ").concat(g.Ka.mb(),", ") + ("current timestamp offset ").concat(n.mb()," => ") + ("firstPlatformTimestamp ").concat(m.mb(),"."));g.Ala(p);}}this.aX=!0;return {Ma:g,offset:n,nf:h,ci:!1,si:d};};return k;})();b.YIa=r;},33446:function(r,b,a){var l,f,k,d;function c(g){return ("").concat(g.mb()," (nrdp: ").concat(g.zH,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.lJa=void 0;l=a(42866);f=a(87425);k=a(49730);d=a(62558);r=(function(){function g(n,h,m){this.console=m;this.offset=l.L.Ha;this.If=n.Am?h.If || l.L.Ha:l.L.Ha;this.Rt=h.Rt || l.L.Ha;(0,d.assert)(h.za);this.za=h.za;}g.prototype.append=function(n){var h,m,p,q;if(n.ci)return n;h=n.Ma;m=n.offset;p=n.nf;q=n.si;void 0 !== this.y4a && ((0,d.assert)(void 0 !== this.zqa),h.Ka.add(n.offset).equal(this.y4a)?(n=this.Nwb(h,m.add(this.offset)).G - this.zqa,0 > n?this.offset=this.offset.add(l.L.Ty):0 === n?this.offset.lessThan(l.L.Ha) && (this.offset=this.offset.add(l.L.Ty)):1 === n?this.offset.greaterThan(l.L.Ha) && (this.offset=this.offset.qa(l.L.Ty)):this.offset=this.offset.qa(l.L.Ty)):this.offset=l.L.Ha);this.zqa=this.Mwb(h,m.add(this.offset)).G;this.y4a=h.Wa.add(m);return {Ma:h,offset:m.add(this.offset),nf:p,ci:!1,si:q};};g.prototype.Nwb=function(n,h){var m,p;n=this.BSa(n.Ka);h=h.qa(this.Rt);m=(0,f.It)(n).add((0,f.It)(h));p=n.add(h).qa(m);k.K && this.console.trace("NrdpRounding: content start " + c(n) + ", adjusted offset: " + c(h) + ", start rounding error: " + (0,f.It)(n).toString() + ", adjusted offset rounding error: " + (0,f.It)(h).toString() + ", total error: " + m.toString() + ", expected nrdp value:" + p.mb() + ", (" + n.zH + h.zH + "ms), last fragment end nrdp: " + this.zqa);return p;};g.prototype.Mwb=function(n,h){var m,p,q;m=this.za;n=this.BSa(n.Wa);h=h.qa(this.Rt);p=(0,f.It)(n.qa(m)).add((0,f.It)(m)).add((0,f.It)(h));q=n.add(h).qa(p);k.K && this.console.trace("NrdpRounding: content end: start of last frame:" + c(n.qa(m)) + ", frame duration: " + c(m) + ", adjusted offset: " + c(h) + ", timestamp rounding error: " + (0,f.It)(n.qa(m)).toString() + ", frame duration rouding error: " + (0,f.It)(m).toString() + ", adjusted offset rounding error: " + (0,f.It)(h).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.mb() + ", (" + n.qa(m).zH + m.zH + h.zH + "ms)");return q;};g.prototype.BSa=function(n){return n.add(this.Rt).qa(this.If);};return g;})();b.lJa=r;},66649:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Rea=void 0;c=a(42866);l=a(49730);r=(function(){function f(k){this.If=k;}f.tja=function(k,d,g,n){var h;h=c.L.Ha;d && (g=null === g || void 0 === g?void 0:g.Afc,k.w8b && void 0 !== g && 0 <= g?(k=new c.L(g,48E3),h=d.add(k),l.K && n.trace(("Adjusting profile timestamp offset of ").concat(d) + (" by DPI assumed delay of ").concat(k) + (" for ASE applied offset of ").concat(h,"."))):k.bS && (h=d));return h;};f.prototype.append=function(k){var d,g,n;d=k.nf;g=k.ci;n=k.si;return {Ma:k.Ma,offset:k.offset.add(this.If),nf:d,ci:g,si:n};};return f;})();b.Rea=r;},99548:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ZMa=void 0;c=a(42866);l=a(62558);f=a(49730);r=(function(){function k(d,g,n){this.config=d;this.console=n;this.jv=c.L.Ha;(0,l.assert)(g.za);this.za=g.za;g=g.oe[0].profile;this.q8=this.EKb(g,this.za);this.X7=this.zKb(g,this.za);this.t6=-1 !== d.qTa.indexOf(g);}k.prototype.append=function(d,g){var n,h,m,p,q;if(d.ci)return d;n=d.Ma;h=d.offset;m=d.si;m=void 0 === m?[]:m;d=d.nf;p=g.zM;g=g.tsa;if(this.Xta){q=this.LTb(n,this.Xta);n.Ia && !this.t6 && this.Mia(q)?(f.K && this.console.trace("SeamlessAudio: dropping first frame"),n.Ala(1),this.jv=q):(this.jv=q.add(this.za),this.yTa(this.jv) || (f.K && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + n.Ab.mb() + " error would be " + this.jv.mb() + " (editing " + (n.Ia?"":"not ") + "allowed)"),m.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:n.Gb,pts:n.Ka.G}}}}),this.jv=c.L.Ha,d=!1));this.Xta=void 0;}if(n.Qk || n.Dt)((0,l.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!n.Ia || !g && n.Dt || (q=this.MTb(n,p,g),g && this.t6 && q.hi(this.za)?(f.K && this.console.trace("SeamlessAudio: dropping last two frames"),n.C4(2)):q.hi(c.L.Ha) && (f.K && this.console.trace("SeamlessAudio: dropping last frame"),n.C4(1))),this.Xta=p);(0,l.assert)(this.yTa(this.jv));this.jM=n.Lb;return {Ma:n,offset:h.add(this.jv),nf:d,ci:0 === n.ewa,si:m.length?m:void 0};};k.prototype.MTb=function(d,g,n){var h;if(n)h=this.jv.add(d.Lb.qa(n)).qa(this.za);else (h=d.Lb.qa(g),h=this.jv.add(h).qa(this.za));f.K && this.console.trace("SeamlessAudio: fragment end: " + d.Lb.mb() + ", splice " + g.mb() + ", next start " + (null === n || void 0 === n?void 0:n.mb()) + ", error " + h.add(this.za).mb() + ", error with frame drop " + h.mb() + ", is" + (this.Mia(h)?"":" not") + " within bounds of [" + this.q8.mb() + " and " + this.X7.mb() + ")");return h;};k.prototype.LTb=function(d,g){var n;(0,l.assert)(this.jM);n=this.jv.add(this.jM.qa(d.Ab)).qa(this.za);f.K && this.console.trace("SeamlessAudio: fragment start: " + d.Ab.mb() + ", splice " + g.mb() + ", last fragment end: " + this.jM.mb() + ", error " + n.add(this.za).mb() + ", error with frame drop " + n.mb() + ", is" + (this.Mia(n)?"":" not") + " within bounds of [" + this.q8.mb() + " and " + this.X7.mb() + ")");return n;};k.prototype.Mia=function(d){return d.lessThan(this.X7) && d.hi(this.q8);};k.prototype.yTa=function(d){return d.lessThan(this.X7.add(c.L.Ty)) && d.hi(this.q8.qa(c.L.Ty));};k.prototype.zKb=function(d,g){return "object" === typeof this.config.vwa && void 0 !== this.config.vwa[d]?(d=new c.L(this.config.vwa[d],1E3).$c(g.N).add(new c.L(1,g.N)),c.L.min(g,d)):g;};k.prototype.EKb=function(d,g){var n;if("object" === typeof this.config.wwa && void 0 !== this.config.wwa[d]){n=g.ih(-2);d=new c.L(this.config.wwa[d],1E3).$c(g.N).qa(new c.L(1,g.N));return c.L.max(n,d);}return new c.L(-12,1E3);};return k;})();b.ZMa=r;},55142:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.BOa=void 0;c=a(42866);l=a(49730);r=(function(){function f(k,d,g){this.If=k;this.za=d;this.console=g;}f.prototype.append=function(k,d){var g,n,h,m,p,q;g=k.Ma;n=k.offset;h=k.nf;m=k.si;k=k.ci;if(!k){p=d.endOfStream;d=d.zM;if(p && d){p=g.Ka.qa(this.If).add(n);q=g.Wa.qa(this.If).add(n);d=d.qa(c.L.Ty);l.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.mb() + "-" + q.mb() + " vs media splice point at " + d.mb());p.add(this.za).hi(d)?(l.K && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),k=!0):q.hi(d) && (d=Math.ceil(q.qa(d).ih(this.za)),g.Ia?(l.K && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(d," frames")),g.C4(d)):(l.K && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),k=!0));}else p && l.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {Ma:g,offset:n,nf:h,ci:k,si:m};};return f;})();b.BOa=r;},91659:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.SOa=void 0;c=a(5163);l=a(36418);f=a(62558);k=a(97810);d=a(83350);g=a(93161);r=(function(n){function h(m,p){var q;q=n.call(this,m,g.u.Y) || this;q.console=m;q.config=p;return q;}c.__extends(h,n);h.prototype.Ia=function(m){var p,q,u,t,w,v,y;if(!(m.Ia && m instanceof d.Qba))return {ia:!0};p=m.xo;if(!(p[0] instanceof ArrayBuffer))return {ia:!0};q=p[0];u=q.slice(0,q.byteLength - 8);t=new DataView(q);q=t.getUint32(u.byteLength);(0,f.assert)("mdat" === (0,l.lx)(t.getUint32(u.byteLength + 4)));w=0 < m.Ia.start;t=m.Ia.end < m.jt;if(!w && !t)return {ia:!0};if(w){w=new l.ns(this.w8,m.stream,u);v=w.cab(m.Ia.start,m.N);}if(t && !1 !== v){w=new l.ns(this.w8,m.stream,v?(0,k.xK)(v.Ma):u);y=w.jab(m.Ia.end - m.Ia.start,m.N);}u=(m=t?y:v)?m.Ma:[u];q=this.wtb(v,y,q);u.push((0,l.eC)(q - 8));1 < p.length && (u=u.concat(p.slice(1)));return {ia:!0,xo:u};};h.prototype.wtb=function(m,p,q){m && ((0,f.assert)(void 0 !== m.bq),(0,f.assert)(void 0 !== m.AN),q-=m.bq);p && ((0,f.assert)(void 0 !== p.bq),(0,f.assert)(void 0 !== p.AN),q-=p.bq,m && (0,f.assert)(void 0 !== m.bq));return q;};return h;})(a(60513).Oda);b.SOa=r;},59012:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.PEa=void 0;c=a(62558);l=a(60580);r=(function(){function f(){this.global=new l.$P();this.fH={};}f.prototype.add=function(k,d){(0,c.assert)(void 0 === this.fH[k],"Cannot add new memory object for playgraph");this.fH[k]=d;this.global.add(d.Oq);this.global.add(d.VS);};return f;})();b.PEa=r;},60580:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$P=void 0;c=a(27364);r=(function(){function l(){this[c.u.fa]=0;this[c.u.Y]=0;this[c.u.Ga]=0;}Object.defineProperties(l.prototype,{total:{get:function(){return this[c.u.fa] + this[c.u.Y] + this[c.u.Ga];},enumerable:!1,configurable:!0}});l.prototype.add=function(f){this[c.u.fa]+=Math.max(f[c.u.fa] || 0,0);this[c.u.Y]+=Math.max(f[c.u.Y] || 0,0);this[c.u.Ga]+=Math.max(f[c.u.Ga] || 0,0);};l.prototype.Sha=function(f,k){this[f]+=Math.max(k || 0,0);};return l;})();b.$P=r;c.u.fa;c.u.Y;c.u.Ga;},92523:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.MLa=void 0;c=a(60580);r=(function(){function l(){this.Oq=new c.$P();this.VS=new c.$P();}Object.defineProperties(l.prototype,{total:{get:function(){var f;f=new c.$P();f.add(this.Oq);f.add(this.VS);return f;},enumerable:!1,configurable:!0}});l.prototype.add=function(f){this.Oq.add(f.Oq);this.VS.add(f.VS);};l.prototype.Sha=function(f,k,d){(d?this.VS:this.Oq).Sha(f,k);};return l;})();b.MLa=r;},30923:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.qD=void 0;r=a(5163);c=a(12043);l=a(23800);f=r.__importDefault(a(71866));k=r.__importDefault(a(24021));d=r.__importDefault(a(76733));g=a(62558);n=a(38509);b.qD=(function(){function m(p,q,u){var t;t=this;this.Bj=new f.default(p,u);this.NV=new k.default(p);this.Jc=new d.default(this.NV,this.Bj,p);this.KX=new n.GNa(c.platform.Z3,q);l.mD.Nyb(p);p.q9 && setInterval(function(){t.Bj.save();t.NV.save();},p.q9);}m.boa=function(p,q,u){void 0 === h?(m.config=p,m.iya=u,h=new m(p,q,u)):((0,g.assert)(m.config === p),(0,g.assert)(m.iya === u));return h;};m.instance=function(){(0,g.assert)(h,"CommonGlobals accessed too early");return h;};m.reset=function(){m.config=void 0;h=m.iya=void 0;};return m;})();},77613:function(r,b){function a(c,l){var f;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,l);Object.getOwnPropertyNames(c).forEach(function(k){f=Object.getOwnPropertyDescriptor(c,k);void 0 !== f && Object.defineProperty(l,k,f);});}Object.defineProperties(b,{__esModule:{value:!0}});b["default"]=a;},23360:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(46211),b);r.__exportStar(a(76498),b);r.__exportStar(a(27009),b);r.__exportStar(a(33163),b);r.__exportStar(a(92011),b);r.__exportStar(a(62470),b);r.__exportStar(a(71973),b);r.__exportStar(a(65915),b);r.__exportStar(a(1002),b);r.__exportStar(a(6389),b);r.__exportStar(a(8760),b);r.__exportStar(a(39381),b);r.__exportStar(a(72072),b);r.__exportStar(a(89212),b);r.__exportStar(a(87034),b);r.__exportStar(a(67510),b);r.__exportStar(a(32139),b);r.__exportStar(a(35874),b);r.__exportStar(a(99814),b);r.__exportStar(a(75816),b);r.__exportStar(a(72213),b);r.__exportStar(a(16571),b);r.__exportStar(a(66759),b);r.__exportStar(a(22492),b);r.__exportStar(a(4087),b);r.__exportStar(a(46733),b);r.__exportStar(a(14450),b);r.__exportStar(a(30162),b);r.__exportStar(a(14157),b);r.__exportStar(a(33629),b);r.__exportStar(a(63110),b);r.__exportStar(a(73103),b);r.__exportStar(a(55730),b);r.__exportStar(a(17810),b);r.__exportStar(a(73808),b);r.__exportStar(a(50982),b);r.__exportStar(a(39273),b);r.__exportStar(a(8512),b);r.__exportStar(a(16469),b);r.__exportStar(a(84071),b);r.__exportStar(a(70669),b);r.__exportStar(a(91898),b);},76498:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27009:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},33163:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},92011:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46211:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},62470:function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Rc=b.ao=void 0;(function(c){c[c.ss=0]="STOPPED";c[c.Ne=1]="BUFFERING";c[c.pl=2]="REBUFFERING";c[c.rl=3]="STREAMING";c[c.U0=4]="TRACK_SWITCH";})(a || (a={}));b.Rc=a;b.ao=function(c){return c === a.Ne || c === a.pl || c === a.U0;};},71973:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65915:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},55730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Qz=void 0;r=b.Qz || (b.Qz={});r[r.RH=0]="skipped";r[r.Btb=1]="adjustment";},1002:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},6389:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39381:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},70669:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16469:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27364:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(23360),b);},72072:function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.$4b=b.G$a=b.gva=void 0;b.gva=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.G$a=a;b.$4b=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.kf)," sp:").concat(c.gq," ") + ("pssp:").concat(c.$y," ") + ("state:").concat(c.Pd," path-complete:").concat(c.ro," ") + ("streaming:").concat(c.uk," current:").concat(c.Lk);};},89212:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},67510:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},87034:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.JG=b.f8=b.ZP=b.u=void 0;c=a(60328);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});b.ZP=[c.u.fa,c.u.Y,c.u.Ga];b.f8=function(l,f,k){l=l || f?f?[c.u.Y]:[c.u.fa]:[c.u.fa,c.u.Y];k && l.push(c.u.Ga);return l;};b.JG=function(l){return l === c.u.fa?"audio":l === c.u.Y?"video":l === c.u.Ga?"text":"unknown";};},32139:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(87034);},35874:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(87034);},99814:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Yw=void 0;r=b.Yw || (b.Yw={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.QI=1]="HAVE_SOMETHING";r[r.OI=2]="HAVE_MINIMUM";r[r.xP=3]="HAVE_ENOUGH";},75816:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},72213:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16571:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Tb=b.pua=void 0;c=a(62470);(function(f){f[f.rs=0]="STARTING";f[f.Ne=1]="BUFFERING";f[f.pl=2]="REBUFFERING";f[f.Oe=3]="PLAYING";f[f.J0=4]="STOPPING";f[f.ss=5]="STOPPED";f[f.Rh=6]="PAUSED";})(l || (l={}));b.Tb=l;b.pua=function(f){return f === c.Rc.Ne?l.Ne:f === c.Rc.pl?l.pl:f === c.Rc.U0?l.Ne:f === c.Rc.rl?l.Oe:l.rs;};},17810:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(32769),b);r.__exportStar(a(65376),b);r.__exportStar(a(74071),b);r.__exportStar(a(48248),b);r.__exportStar(a(59680),b);r.__exportStar(a(29730),b);r.__exportStar(a(89394),b);r.__exportStar(a(84631),b);},32769:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},89394:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},29730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65376:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},59680:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},74071:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84631:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},48248:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},66759:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},22492:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46733:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},4087:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14450:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},30162:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},8760:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14157:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},33629:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},91898:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84071:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},63110:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},73103:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39273:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xq=void 0;r=b.xq || (b.xq={});r[r.Omb=0]="PLAYGRAPH_CHANGED";r[r.Pmb=1]="PLAYGRAPH_UNCHANGED";r[r.Ylb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.Mnb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.akb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.$jb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.Nnb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.Zgb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.olb=8]="LOSS_OF_POSITION";},73808:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(48425),b);r.__exportStar(a(38294),b);},48425:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},38294:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},8512:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},50982:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65656:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ns=b.Ww=b.qq=b.eC=b.P0=void 0;c=a(5163);l=a(12043);f=a(36418);Object.defineProperties(b,{Ww:{enumerable:!0,get:function(){return f.Ww;}}});Object.defineProperties(b,{ns:{enumerable:!0,get:function(){return f.ns;}}});Object.defineProperties(b,{eC:{enumerable:!0,get:function(){return f.eC;}}});Object.defineProperties(b,{P0:{enumerable:!0,get:function(){return f.P0;}}});r=(function(k){function d(g,n,h,m,p){return k.call(this,d.console,g,n,h,m,p) || this;}c.__extends(d,k);Object.defineProperties(d,{console:{get:function(){return this.T || (this.T=new l.platform.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(f.qq);b.qq=r;},97119:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Ica=void 0;r=a(12043);c=a(72245);l=a(27364);new r.platform.Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var G_W;G_W=2;for(;G_W !== 7;){switch(G_W){case 5:f.prototype.jw=function(k,d){var M7m,g;M7m=2;for(;M7m !== 9;){switch(M7m){case 5:this.WC.stop(k,d.xj);M7m=9;break;case 4:g=this.cy[d.xj];d.type === l.u.Y && g && (--g.HY,0 === g.HY && (g.b5 && this.WC.stop(k,d.xj),g.b5=!1,delete this.cy[d.xj]),this.jfb(k));M7m=9;break;case 7:M7m=d.xj?4:10;break;case 2:M7m=d.xj?1:9;break;case 1:M7m=this.upa?5:4;break;}}};f.prototype.ZJ=function(k,d,g,n){var V8X;V8X=2;for(;V8X !== 1;){switch(V8X){case 2:n.xj && (this.upa?this.WC.add(k,d,g,n.xj):this.NR === n.xj && this.WC.add(k,d,g,n.xj));V8X=1;break;}}};G_W=3;break;case 2:f.prototype.reset=function(){var p8o;p8o=2;for(;p8o !== 1;){switch(p8o){case 2:this.WC=new c.nCa();p8o=1;break;}}};f.prototype.hw=function(k,d){var s7K;s7K=2;for(;s7K !== 1;){switch(s7K){case 2:d.xj && (this.upa?this.WC.start(k,d.xj):d.type === l.u.Y && (this.cy[d.xj]?this.cy[d.xj].HY+=1:this.cy[d.xj]={xj:d.xj,HY:1,b5:!1},this.jfb(k)));s7K=1;break;}}};G_W=5;break;case 3:f.prototype.Vm=function(){var i_5;i_5=2;for(;i_5 !== 1;){switch(i_5){case 4:return this.WC.get();break;case 2:return this.WC.get();break;}}};f.prototype.jfb=function(k){var p7$,d,g;p7$=2;for(;p7$ !== 5;){switch(p7$){case 2:(d=Object.keys(this.cy).map(function(n){var P7X;P7X=2;for(;P7X !== 1;){switch(P7X){case 2:return parseInt(n);break;}}}),g=this.cy[d[0]]);1 === d.length && !1 === g.b5?(this.WC.start(k,g.xj),this.NR=g.xj):1 < d.length && this.NR && (d=this.cy[this.NR],this.WC.stop(k,this.NR),d.b5=!1,this.NR=void 0);p7$=5;break;}}};return f;break;}}function f(k){var N_c;N_c=2;for(;N_c !== 4;){switch(N_c){case 2:var n76="1SIY";n76+="bZrNJC";n76+="p";n76+="9";this.upa=k;this.cy={};n76;N_c=4;break;}}}})();b.Ica=a;},69615:function(r,b,a){var l;function c(){this.sm=void 0;this.yA=0;}l=a(17267);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.yA && this.sm?{p25:this.sm.Qp,p50:this.sm.jn,p75:this.sm.Rp,c:this.yA}:null;};c.prototype.Kf=function(f){if(!(!l.vc(f) && l.has(f,"p25") && l.has(f,"p50") && l.has(f,"p75") && l.has(f,"c") && l.isFinite(f.p25) && l.isFinite(f.p50) && l.isFinite(f.p75) && l.isFinite(f.c)))return (this.sm=void 0,this.yA=0,!1);this.sm={Qp:f.p25,jn:f.p50,Rp:f.p75};this.yA=f.c;};c.prototype.get=function(){return {Zta:this.sm,Lj:this.yA};};c.prototype.set=function(f,k){this.sm=f;this.yA=k;};c.prototype.reset=function(){this.sm=void 0;this.yA=0;};c.prototype.toString=function(){return "IQRHist(" + this.sm + "," + this.yA + ")";};r.exports=c;},71866:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t){return l.has(q,u)?q[u]:q[u]=t;}Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);l=r.__importStar(a(17267));f=a(12043);k=r.__importStar(a(97810));d=r.__importDefault(a(89956));g=r.__importDefault(a(61739));n=k.NEa;new f.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");h={confidence:d.default.nl.HAVE_NOTHING};m=(function(){function q(u){var t;this.config=u;t=u.nga;this.confidence=d.default.nl.HAVE_NOTHING;this.fXa=u.HPa;u=new g.default(u);this.nb=u.create("throughput-location-history",t);this.vt=u.create("throughput-location-history",t);this.Aaa=u.create("throughput-location-history",t);this.Baa=u.create("throughput-location-history",t);this.zaa=u.create("throughput-location-history",t);this.rh=u.create("respconn-location-history",t);this.Dv=u.create("respconn-location-history",t);this.xaa=u.create("throughput-tdigest-history",t);this.P6=u.create("throughput-iqr-history",t);this.j4=u.create("throughput-location-history",t);this.l4=u.create("throughput-location-history",t);this.k4=u.create("throughput-location-history",t);this.m4=u.create("throughput-location-history",t);this.time=null;}q.prototype.NE=function(u,t){this.confidence=t;this.nb.add(u);this.xaa.add(u);this.time=f.platform.time.xa();};q.prototype.LE=function(u){this.vt.add(u);};q.prototype.OE=function(u){this.Aaa.add(u.initial);this.Baa.add(u.low);this.zaa.add(u.high);};q.prototype.tI=function(u,t){this.P6.set(u,t);};q.prototype.JA=function(u){this.rh.add(u);};q.prototype.IA=function(u){this.Dv.add(u);};q.prototype.$J=function(u){this.j4.add(u.Ca);this.l4.add(u.Ke);this.k4.add(u.hK);this.m4.add(u.LO);};q.prototype.getState=function(){var u;u={c:this.confidence,t:l.vc(this.time)?null:f.platform.time.lsa(this.time),tp:this.nb.getState(),itp:this.vt.getState(),tcii:this.Aaa.getState(),tcil:this.Baa.getState(),tcih:this.zaa.getState(),rt:this.rh.getState(),hrt:this.Dv.getState(),iqr:this.P6.getState(),td:this.xaa.getState(),dta:this.j4.getState(),dtv:this.l4.getState(),dtta:this.k4.getState(),dttv:this.m4.getState()};return l.vc(u.tp) && l.vc(u.rt) && l.vc(u.hrt)?null:u;};q.prototype.Kf=function(u){var t;t=f.platform.time.now();if(!u || l.vc(u.c) || l.vc(u.c) || l.vc(u.tp) || !l.isFinite(u.c) || !l.isFinite(u.t) || l.vc(u.t) || 0 > u.c || u.c > d.default.nl.xP || u.t > t || !this.nb.Kf(u.tp))return (this.confidence=d.default.nl.HAVE_NOTHING,this.vv=this.time=null,this.nb.Kf(null),this.rh.Kf(null),this.Dv.Kf(null),!1);this.confidence=u.c;this.time=f.platform.time.Msa(u.t);this.rh.Kf(u.rt);this.Dv.Kf(u.hrt);this.vt.Kf(u.itp);this.Aaa.Kf(u.tcii);this.Baa.Kf(u.tcil);this.zaa.Kf(u.tcih);this.j4.Kf(u.dta);this.l4.Kf(u.dtv);this.k4.Kf(u.dtta);this.m4.Kf(u.dttv);l.vc(u.iqr) || this.P6.Kf(u.iqr);l.vc(u.td) || this.xaa.Kf(u.td);return !0;};q.prototype.get=function(){var u,t,w,v,y,x,z,A,B,C,D;u=this.config;if(l.vc(this.time))return h;t=(f.platform.time.xa() - this.time) / 1E3;t > u.Vpb?this.confidence=d.default.nl.HAVE_NOTHING:t > u.Bpb && (this.confidence=Math.min(this.confidence,d.default.nl.QI));w=this.nb.get();v=this.vt.get();u=this.Aaa.get().Ca;y=this.Baa.get().Ca;x=this.zaa.get().Ca;z=this.rh.get();A=this.Dv.get();B=this.P6.get();C=this.xaa.get();D={Ca:this.j4.loa().Ca,Ke:this.l4.loa().Ca,hK:this.k4.get().Ca,LO:this.m4.get().Ca};t={x2:t,confidence:this.confidence,nb:w,vt:v,rh:z,Dv:A,RB:B,cj:C,Jm:D,Kjc:w?n.prototype.Xv.bind(w):void 0,Lic:z?n.prototype.Xv.bind(z):void 0,Qgc:A?n.prototype.Xv.bind(A):void 0,Vq:!1};t["throughput-ci"]={initial:u,low:y,high:x};return t;};q.prototype.debug=function(){this.get();l.vc(this.time) || f.platform.time.xa();};return q;})();p=(function(){function q(u,t,w,v,y){this.config=y;this.global=new m(y);this.rn=[];this.qTb=f.platform.time.xa() - Date.now() % 864E5;for(u=0;u < v;++u){this.rn.push(new m(y));}}q.prototype.index=function(){return ((f.platform.time.xa() - this.qTb) / 1E3 / 3600 / (24 / this.rn.length) | 0) % this.rn.length;};q.prototype.getState=function(){return {f:l.co(this.vv)?void 0:f.platform.time.lsa(this.vv),g:this.global.getState(),h:this.rn.map(function(u){return u.getState();})};};q.prototype.Kf=function(u){var t,w;if(!this.global.Kf(u.g))return !1;t=this.rn.length;w=!1;this.rn.forEach(function(v,y){w=!v.Kf(u.h[y * u.h.length / t | 0]) || w;});this.vv=l.co(u.f)?void 0:f.platform.time.Msa(u.f);return w;};q.prototype.NE=function(u,t){this.global.NE(u,t);this.rn[this.index()].NE(u,t);this.vv=void 0;};q.prototype.LE=function(u){this.global.LE(u);this.rn[this.index()].LE(u);this.vv=void 0;};q.prototype.OE=function(u){this.global.OE(u);this.rn[this.index()].OE(u);this.vv=void 0;};q.prototype.tI=function(u,t){this.global.tI(u,t);this.rn[this.index()].tI(u,t);};q.prototype.JA=function(u){this.global.JA(u);this.rn[this.index()].JA(u);};q.prototype.IA=function(u){this.global.IA(u);this.rn[this.index()].IA(u);};q.prototype.$J=function(u){this.global.$J(u);this.rn[this.index()].$J(u);};q.prototype.fail=function(u){this.vv=u;};q.prototype.get=function(){var u,t;if(!l.co(this.vv)){if((f.platform.time.xa() - this.vv) / 1E3 < this.config.Apb)return {confidence:d.default.nl.HAVE_NOTHING,Vq:!0};this.vv=void 0;}u=this.rn[this.index()].get();t=this.global.get();u=u.confidence >= t.confidence?u:t;u.Vq=!1;return u;};q.prototype.time=function(){return this.global.time;};q.prototype.debug=function(u){this.global.debug(u + ": global");this.rn.forEach(function(t,w,v){l.vc(t.time) || (w=24 * w / v.length,t.debug(u + ":  " + ((10 > w?"0":"") + w + "00h")));});};return q;})();a=(function(){function q(u,t){var w;this.config=u;this.iya=t;this.PFb();this.OL=new m(this.config);this.load();if(u=u.Vka){w={confidence:d.default.nl.xP,nb:{Ca:u,Ke:0},rh:{Ca:0,Ke:0},Dv:{Ca:0,Ke:0}};this.get=function(){return w;};}}q.prototype.N5=function(u,t){var w;w=this.config;u=c(this.history,null !== u && void 0 !== u?u:"",{});return c(u,t?t:"",new p(w.hQa || 14400,w.gQa || 100,w.fQa || 100,w.RQa || 4,w));};q.prototype.load=function(){var u,t;u=f.platform.storage.get("lh");t=f.platform.storage.get("gh");u && this.Kf(u);t && this.J2b(t);};q.prototype.getState=function(){var u;u={};l.yp(this.history,function(t,w){l.yp(t,function(v,y){c(u,w,{})[y]=v.getState();},this);},this);return u;};q.prototype.J2b=function(u){this.OL.Kf(u);};q.prototype.Kf=function(u){var t,w,v;t=this;w=!0;v=this.config;l.yp(u,function(y,x){l.yp(y,function(z,A){var B;B=new p(v.hQa || 14400,v.gQa || 100,v.fQa || 100,v.RQa || 4,v);B.Kf(z)?(c(t.history,x,{})[A]=B,w=!0):l.vc(w) && (w=!1);},t);},this);return w;};q.prototype.save=function(){var u;u=this.getState();f.platform.storage.set("lh",u);f.platform.storage.set("gh",this.OL.getState());};q.prototype.PFb=function(){this.history={};this.FK=this.KWa="";this.Bj=null;};q.prototype.P$=function(u){this.KWa=u;this.Bj=null;};q.prototype.Mbb=function(u){this.FK=u;this.Bj=null;};q.prototype.iy=function(){l.vc(this.Bj) && (this.Bj=this.N5(this.KWa,this.FK));return this.Bj;};q.prototype.NE=function(u,t){this.iy().NE(u,t);this.OL.NE(u,t);};q.prototype.LE=function(u){this.iy().LE(u);this.OL.LE(u);};q.prototype.OE=function(u){this.iy().OE(u);this.OL.OE(u);};q.prototype.tI=function(u,t){u && u.Qp && u.jn && u.Rp && (this.iy().tI(u,t),this.OL.tI(u,t));};q.prototype.JA=function(u){this.iy().JA(u);};q.prototype.IA=function(u){this.iy().IA(u);};q.prototype.$J=function(u){this.iy().$J(u);};q.prototype.fail=function(u,t){this.N5(u,this.FK).fail(t);};q.prototype.get=function(u){var t,w,v,y,x;t=this;u=(u=this.history[u])?u[this.FK]:null;w=null;if(u && (w=u.get(),w.confidence > d.default.nl.HAVE_NOTHING))return w;w=null;y=!1;l.yp(this.history,function(z){l.yp(z,function(A,B){var C;B=B.toString();if(!y || B === t.FK){C=A.get();C && (!v || v <= C.confidence) && (A=A.time(),!x || !l.vc(v) && v < C.confidence || !l.vc(A) && x < A) && (v=C.confidence,y=B === t.FK,x=A,w=C);}},t);},this);return w || h;};q.prototype.debug=function(){l.yp(this.history,function(u,t){l.yp(u,function(w,v){w.debug(t + ":" + v);});});};return q;})();b["default"]=a;},24021:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163).__importStar(a(17267));l=a(12043);new l.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");r=(function(){function f(k){this.config=k;this.load();}f.prototype.save=function(){var k;k=this.getState();l.platform.storage.set("nh",k);};f.prototype.l3a=function(k,d){this.SC && (d > this.wN && (this.XH+=d - this.wN,this.wN=d),-1 === this.u7 || k > this.u7) && (k=d - k,this.XL.push([this.XH - k,k]),this.trim(),this.u7=d);};f.prototype.trim=function(){var k;k=this.XH - this.config.fUb;this.XL=this.XL.filter(function(d){return d[0] > k;});};f.prototype.load=function(){var k;k=l.platform.storage.get("nh");this.Kf(k) || (this.wN=l.platform.time.xa(),this.XH=0,this.SC=!1,this.u7=-1,this.XL=[]);};f.prototype.Kf=function(k){if(!(k && c.has(k,"t") && c.has(k,"s") && c.has(k,"i") && c.Rb(k.t) && c.Rb(k.s) && c.isArray(k.i)))return !1;this.wN=l.platform.time.Msa(1E3 * k.t);this.XH=1E3 * k.s;this.SC=!1;this.XL=k.i.map(function(d){return [1E3 * d[0],d[1]];});this.u7=-1;return !0;};f.prototype.getState=function(){return this.SC?{t:l.platform.time.now() / 1E3 | 0,s:(this.XH + (l.platform.time.xa() - this.wN)) / 1E3 | 0,i:this.XL.map(function(k){return [k[0] / 1E3 | 0,k[1]];})}:{t:l.platform.time.lsa(this.wN) / 1E3 | 0,s:this.XH / 1E3 | 0,i:this.XL.map(function(k){return [k[0] / 1E3 | 0,k[1]];})};};return f;})();b["default"]=r;},76733:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=c.__importStar(a(17267));r=a(57055);f=c.__importDefault(a(7977));k=c.__importDefault(a(61739));d=a(52733);g=a(99039);n=a(97119);h=a(64981);m=a(12043).platform;p=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(u){function t(w,v,y){var x;x=u.call(this) || this;x.fp={};x.rR=0;x.uA=0;x.EQ=[];x.qf=0;x.hec=!1;x.W=y;x.OPa=new k.default(y);x.UQ=new n.Ica(!0);x.DQ=new n.Ica(!1);y.eFb && (x.QJ=new h.SJa(x.W));x.reset();x.HQa=w;x.Fs=v;x.iQa=m.Wk.name();x.Fs.Mbb(x.iQa);m.events.on("networkchange",x.IVb.bind(x));return q=x;}c.__extends(t,u);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.IVb=function(w){this.iQa=w;this.Fs.Mbb(w);};Object.defineProperties(t.prototype,{Bj:{get:function(){return this.Fs;},enumerable:!1,configurable:!0}});t.prototype.pfb=function(){var w;if(!this.vha){w=this.v1a();this.Fs.NE(w.default.Ca,this.confidence);w["initial-throughput-ewma"] && w["initial-throughput-ewma"].Ca && this.Fs.LE(w["initial-throughput-ewma"].Ca);w["throughput-ci"] && this.Fs.OE(w["throughput-ci"]);w.deliverytime && this.Fs.$J(w.deliverytime);this.Fs.tI(w.RB?w.RB.Zta:void 0,w.RB?w.RB.r1b:void 0);l.vc(this.Hc) || (this.vha=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.ig;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.fp.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{$j:{get:function(){return this.sJ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{zsb:{get:function(){return this.EQ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{rQb:{get:function(){return this.lQa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.nE;},enumerable:!1,configurable:!0}});t.prototype.gpb=function(){var w,v,y,x;w=this.W;v=w.rpb.concat(w.ypb);y=w.nga;x=this.OPa;v=v.reduce(function(z,A){z[A]=x.create(A,y);return z;},{});v.confidence=new g.mea(w,new d.ZIa(w,this.X8.bind(this)));return v;};t.prototype.reset=function(){var w,v,y,x;w=this.W.nga;v=this.OPa;y=this.W;this.nE=null;this.fp=this.gpb();if(this.W.yYa){x=this.W.heb;this.fp.l6b=new f.default(x.numB * x.bSizeMs,x.bSizeMs);}this.UQ.reset();this.DQ.reset();this.lha=v.create("respconn-ewma",w);this.Aga=v.create("respconn-ewma",w);this.QJ && this.QJ.reset();this.Yrb=this.pfb.bind(this);this.g2=void 0;this.rx=this.Hc=this.ig=null;this.e2=0;y.Fab && (this.uA=this.rR=this.sJ=0,this.EQ=[]);};t.prototype.P$=function(w){var v;v=this.fp;if(w !== this.nE){l.co(this.g2) || (clearInterval(this.g2),this.g2=void 0);l.vc(this.nE) && (this.e2=0,this.ig=null);if(!l.vc(w)){for(var y in v){v[y] && v[y].reset && v[y].reset();}this.lha.reset();this.Aga.reset();}l.vc(this.ig) || (this.e2+=(l.vc(this.Hc)?m.time.xa():this.Hc) - this.ig);this.Hc=this.ig=null;this.nE=w;this.Fs.P$(w);}};t.prototype.ZJ=function(w,v,y,x){var z,A;this.lQa=Math.max(this.lQa || 0,y);this.uA-=w;z=this.W;A=this.fp;if(!0 === x.RO)(x=A["throughput-wssl"]) && x.add(w,v,y,!0);else if(l.co(v))p.warn("addDataReceived called with undefined start time");else {this.QJ && this.QJ.ZJ(w,v,y,x);z.xpb && 10 > y - v?v=y - 10:0 === y - v && (v=y - 1);this.UQ.ZJ(w,v,y,x);this.DQ.ZJ(w,v,y,x);for(var B in A){A[B] && A[B].add && A[B].add(w,v,y,x);}l.vc(this.ig) && (this.ig=v,this.Hc=null,this.vha=!1);l.vc(this.Hc) || (v > this.Hc && (this.ig+=v - this.Hc),this.Hc=null,this.vha=!1);l.vc(this.rx) || (v - this.rx > z.IQa?this.HQa.l3a(this.rx,v):y - v > z.IQa && this.HQa.l3a(v,y));this.rx=this.rx?Math.max(y,this.rx):y;}};t.prototype.JA=function(w){this.lha.add(w);this.Fs.JA(w);};t.prototype.IA=function(w){this.Aga.add(w);this.Fs.IA(w);};t.prototype.start=function(w,v){var y;l.vc(this.rx) && !l.vc(this.Hc) && (this.rx=w);y=this.fp;if(this.W.Bxa)for(var x in y){y[x] && y[x].start && y[x].start(w,v);}};t.prototype.stop=function(w,v){var y,x;y=this.fp;for(x in y){y[x] && y[x].stop && y[x].stop(w,v);}this.Hc=l.vc(this.Hc)?w:Math.min(this.Hc,w);this.rx=null;};t.prototype.flush=function(){var w,v;w=this.fp;for(v in w){w[v] && w[v].flush && w[v].flush();}};t.prototype.GJb=function(){var w,v;w=this.fp.Tfc;if(w){v=w.ywb();w.reset();}return v;};t.prototype.v1a=function(){var w,v,y,x,z,A,B,C;w=m.time.xa();v=this.fp;y=this.W;x=y.lpb;z=y.mpb;A=y.Erb;B={};for(C in v){v[C] && v[C].get && (B[C]=v[C].get(w,this.uA),"iqr" === v[C].type && (B.RB=B[C]),"tdigest" === v[C].type && (B.cj=B[C]),"wssl" === v[C].type && (B.RO=B[C]));}B.cdnavtp=this.UQ.Vm();B.activecdnavtp=this.DQ.Vm();B.default=x && B[x] && z && void 0 !== B[x][z]?{Ca:B[x][z]}:x && B[x]?B[x]:B["throughput-ewma"];"none" !== y.xwa && "none" !== A && (B.mbb=A && B[A]?B[A]:B["throughput-sw"]);return B;};t.prototype.coa=function(){return this.QJ?this.QJ.coa():void 0;};t.prototype.get=function(){var w,v,y,x,z,A;w=this.v1a();v=w.default;y=this.lha.get();x=this.Aga.get();z=this.W;if(w.mbb){A=w.mbb;v=l.Rb(v.Ca) && l.Rb(A.Ca) && v.Ca > A.Ca && 0 < A.Ca?A:v;}w.nb=v;w.vt=w["initial-throughput-ewma"];!z.qFb || !v || l.vc(v.Ca) || isNaN(v.Ca) || !w.RO || l.vc(w.RO.Ca) || isNaN(w.RO.Ca) || ("max" === z.Kgb?w.nb.Ca=Math.max(w.RO.Ca,v.Ca):"sum" === z.Kgb && (w.nb.Ca+=w.RO.Ca));w.rh=y;w.Dv=x;this.W.yYa && (v=this.W.heb,w.Ojc=this.fp.l6b.get(v.fillS,v.fillHl));v=this.e2 + (l.vc(this.ig)?0:(l.vc(this.Hc)?m.time.xa():this.Hc) - this.ig);w.time=v;return w;};t.prototype.eMb=function(){var w,v,y;w={};v=this.get();if(v.confidence && v["throughput-ewma"]){w.aseavtp=Number(v["throughput-ewma"].Ca).toFixed(2);w.asevartp=Number(v["throughput-ewma"].Ke).toFixed(2);if(v.RB){y=v.RB.Zta;!y || void 0 === y.Rp || void 0 === y.Qp || void 0 === y.jn || isNaN(y.Rp || 0) || isNaN(y.Qp) || isNaN(y.jn) || (w.aseniqr=0 < y.jn?Number((y.Rp - y.Qp) / y.jn).toFixed(2):-1,w.aseiqr=Number(y.Rp - y.Qp).toFixed(2),w.asemedtp=Number(y.jn).toFixed(2));w.iqrsamples=v.RB.r1b;}v.cj && v.cj.EL && (w.tdigest=v.cj.EL());}return w;};t.prototype.hw=function(w,v){var y,x,z;y=v.requestId;1 === ++this.sJ && this.emit("active",w);if(this.W.hYa){x=this.fp;for(z in x){x[z] && x[z].hw && x[z].hw(w,v);}}this.W.jaa && this.start(w,v);y && (this.W.jaa || this.start(w,v),this.EQ.push(y));this.uA+=v.wa || 0;this.UQ.hw(w,v);this.DQ.hw(w,v);};t.prototype.B0b=function(){++this.rR;};t.prototype.jw=function(w,v,y){var x,z,A;x=y.requestId;v && --this.rR;--this.sJ;this.uA=Math.max((this.uA || 0) - ((y.wa || 0) - (y.bytesReceived || 0)),0);this.W.Fab && (this.sJ=Math.max(this.sJ,0),this.rR=Math.max(this.rR,0));if(this.W.hYa){z=this.fp;for(A in z){z[A] && z[A].jw && z[A].jw(w,v,y);}}this.W.jaa && this.stop(w,y);0 === this.sJ && (this.W.jaa || this.stop(w,y),this.emit("inactive",w));x && (v=this.EQ.indexOf(x),0 <= v && this.EQ.splice(v,1));this.UQ.jw(w,y);this.DQ.jw(w,y);};t.prototype.X8=function(){this.pfb();this.g2=setInterval(this.Yrb,this.W.iqb);};return t;})(r.EventEmitter);b["default"]=a;},7033:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.eJa=b.Ig=void 0;r=a(5163);c=a(57055);l=a(12043);f=a(62558);k=a(23800);d=a(27364);g=r.__importDefault(a(76733));(function(h){h[h.wu=0]="CREATED";h[h.OPENED=1]="OPENED";h[h.WO=2]="ACTIVE";h[h.ql=3]="RECEIVING";h[h.lm=4]="COMPLETE";h[h.Yr=5]="ABORTED";})(n=b.Ig || (b.Ig={}));a=(function(){function h(m,p,q,u,t,w,v,y,x,z){this.stream=m;this.Rf=p;this.properties=t;this.listener=v;this.config=x;this.console=z;this.dE=0;this.Xa=n.wu;this.request=new l.platform.No(q,u,this.xLb(t,y));this.offset=w.offset;this.ic=w.wa;this.id=this.YJb();this.Ccb=t.NH;this.wH=t.wH;this.$t=t.$t;this.responseType=void 0 === t.responseType?l.platform.No.uf && !l.platform.No.uf.Wva.ffa?0:1:t.responseType;this.Tk=this.Cub();this.mediaType === d.u.Ga || !x.Pha && t.He || (this.Jc=g.default.instance());}Object.defineProperties(h.prototype,{url:{get:function(){return this.Rf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wa:{get:function(){return this.ic;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.stream.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bytesReceived:{get:function(){return this.dE;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{status:{get:function(){return this.request.status;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ki:{get:function(){return this.request.ki;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{response:{get:function(){return this.request.response;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Uf:{get:function(){return this.request.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{uB:{get:function(){return this.request.uB;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Vi:{get:function(){return this.request.Vi;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{OK:{get:function(){return this.request.track;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{g9:{get:function(){return this.Xa >= n.OPENED && this.Xa < n.lm;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.Xa >= n.WO && this.Xa < n.lm;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jva:{get:function(){return this.Xa === n.ql;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Xa === n.lm;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aborted:{get:function(){return this.Xa === n.Yr;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});h.prototype.open=function(){if(this.Xa !== n.wu || !this.request.open(this.Rf,{start:this.offset,end:this.offset + this.ic - 1},this.responseType,{},void 0,void 0,this.Ccb,this.stream.Kr,this.stream.aa?this.stream.ma.eV.aL:void 0))return !1;this.Xa=n.OPENED;return !0;};h.prototype.VX=function(m){this.Rf=m;return this.state >= n.OPENED && this.state < n.lm?this.request.VX(m):!0;};h.prototype.abort=function(){var m;if(this.aborted)return !0;this.active && (null === (m=this.Jc) || void 0 === m?void 0:m.jw(l.platform.time.xa(),this.jva,this.cU()));this.Xa=n.Yr;this.request.abort();return !0;};h.prototype.Ze=function(){var m,p,q;if(7 !== this.request.readyState && 5 !== this.request.readyState){p=this.g9;q=this.active;this.abort();this.listener.eW(this,q,p);}null === (m=this.Tk) || void 0 === m?void 0:m.clear();this.request.Ze();};h.prototype.getResponseHeader=function(m,p){return this.request.getResponseHeader(m,p);};h.prototype.getAllResponseHeaders=function(m){return this.request.getAllResponseHeaders(m);};h.prototype.gJb=function(){var m,p;m=this.getResponseHeader("content-range",!1);if(m){p=m.indexOf("/");(0,f.assert)(-1 !== p,"unable to parse content-range: " + m);p=m.slice(p + 1);p=parseInt(p);(0,f.assert)(0 < p,"unable to parse content-range: " + m);return p;}};h.prototype.yN=function(){this.request.yN();};h.prototype.Ti=function(){return this.request.Ti();};h.prototype.PM=function(){var m,p;if(this.Xa === n.OPENED){this.Xa=n.WO;p=this.request.ki || this.request.loadTime;k.mD.instance().push(l.platform.time.xa() - p);!this.config.N5a && (null === (m=this.Jc) || void 0 === m?void 0:m.hw(p,this.cU()));this.listener.WM(this);this.timestamp=p;}};h.prototype.Y8=function(){var m,p,q,u;if(!(this.Xa >= n.ql)){this.Xa=n.ql;u=this.request.ki || this.request.Mma;k.mD.instance().push(l.platform.time.xa() - u);this.config.N5a && (null === (m=this.Jc) || void 0 === m?void 0:m.hw(u,this.cU()));null === (p=this.Jc) || void 0 === p?void 0:p.B0b();m=this.request.fX;this.request.connect && m.length && (null === (q=this.Jc) || void 0 === q?void 0:q.JA(m[0]));this.timestamp=u;this.listener.VM(this);0 === this.ic && this.d8b(this.request.Eo);this.mZb();}};h.prototype.TG=function(){var m;if(!(this.Xa > n.ql)){this.Xa=n.ql;m=this.request.ki;k.mD.instance().push(l.platform.time.xa() - m);m=this.Wsa(!0);this.listener.XM(this,m);}};h.prototype.OM=function(){var m,p,q;if(!this.aborted){p=this.request.ki;k.mD.instance().push(l.platform.time.xa() - p);q=this.Wsa(!0);null === (m=this.Jc) || void 0 === m?void 0:m.jw(p,this.jva,this.cU());this.Xa=n.lm;this.listener.Ar(this,q);this.Ze();}};h.prototype.uVb=function(){this.listener.vta(this);};h.prototype.dn=function(){var m;if(!this.complete && !this.aborted && "number" === typeof this.request.Uf){m=this.request.ki;k.mD.instance().push(l.platform.time.xa() - m);this.Wsa(this.config.Cva && void 0 === this.request.status);this.listener.fW(this);}};h.prototype.Wsa=function(m){var p,q,u,t;p=this;u=this.request.ki;t=this.request.bytesReceived - this.dE;m && this.Jc && (void 0 !== this.timestamp && 0 < t && this.Jc.ZJ(t,this.timestamp,u,this.cU()),null === (q=this.request.fX) || void 0 === q?void 0:q.forEach(function(w){return p.Jc.IA(w);}));this.timestamp=u;this.dE=this.request.bytesReceived;return t;};h.prototype.d8b=function(m){var p;p=this.ic;this.ic=m;this.listener.gW(this,this.ic,p);};h.prototype.mZb=function(){var m;if(this.stream.aa){m=this.request.getResponseHeader("X-TCP-Info",!0);this.stream.SWb(m);}else this.request.getAllResponseHeaders(!0);};h.prototype.cU=function(){return {requestId:this.id,xj:this.stream.Ub,type:this.mediaType,wH:this.wH,wa:this.ic,bytesReceived:this.request.bytesReceived,$t:this.$t};};h.prototype.YJb=function(){var m;m=(m=this.stream)?m.toString():this.url;this.ic && (m+=",range " + this.offset + "-" + (this.offset + this.ic - 1));return m;};h.prototype.Cub=function(){var m,p,q;m=this;p=new c.ze();q=l.platform.No.Bk;p.on(this.request,q.oJa,function(){return m.PM();});p.on(this.request,q.nJa,function(){return m.Y8();});p.on(this.request,q.pJa,function(){return m.TG();});p.on(this.request,q.eQ,function(){return m.OM();});p.on(this.request,q.Acc,function(){return m.uVb();});p.on(this.request,q.$z,function(){return m.dn();});return p;};h.prototype.xLb=function(m,p){return {mediaType:this.mediaType,Gb:this.stream.Gb,bitrate:this.stream.bitrate,Qc:this.stream.Ub,zt:!m.He,I:p.id,config:this.config};};h.prototype.toString=function(){return "ID: " + this.request.Ti() + " " + this.id;};h.prototype.toJSON=function(){return {requestId:this.request.Ti(),id:this.id};};return h;})();b.eJa=a;},64981:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SJa=void 0;c=a(27364);l=a(45762);r=(function(){var t48;t48=2;function f(k){var c5t;c5t=2;for(;c5t !== 7;){switch(c5t){case 3:this.kW=k.kW;this.Dta=[new l.jD(),new l.jD()];this.C8a=new l.jD();c5t=7;break;case 2:var d0l="1SIYb";d0l+="ZrNJ";d0l+="Cp";d0l+="9";this.bX=[0,0];this.Eo=[0,0];this.jW=[0,0];d0l;c5t=3;break;}}}for(;t48 !== 3;){switch(t48){case 2:f.prototype.reset=function(){var Q5_;Q5_=2;for(;Q5_ !== 4;){switch(Q5_){case 2:this.bX=[0,0];this.Eo=[0,0];this.jW=[0,0];Q5_=4;break;}}};f.prototype.ZJ=function(k,d,g,n){var z46,h,m;z46=2;for(;z46 !== 8;){switch(z46){case 5:z46=(null === (h=n.wH) || void 0 === h?0:h.c7())?4:3;break;case 2:this.Eo[n.type]+=k;z46=5;break;case 4:(this.bX[n.type]+=k,this.C8a.add(k,d,g),this.Dta[n.type].add(k,d,g));z46=3;break;case 3:z46=(null === (m=n.wH) || void 0 === m?0:m.Dra(k,d,g,this.kW))?9:8;break;case 9:this.jW[n.type]+=k;z46=8;break;}}};f.prototype.coa=function(){var h9T;h9T=2;for(;h9T !== 1;){switch(h9T){case 2:return {bytesRequestedPacingVideo:this.bX[c.u.Y],bytesRequestedPacingAudio:this.bX[c.u.fa],estimatedBytesPacedVideo:this.jW[c.u.Y],estimatedBytesPacedAudio:this.jW[c.u.fa],bytestotalVideo:this.Eo[c.u.Y],bytestotalAudio:this.Eo[c.u.fa],pacedAvtpVideo:this.Dta[c.u.Y].get().Ca,pacedAvtpAudio:this.Dta[c.u.fa].get().Ca,pacedAvtp:this.C8a.get().Ca};break;}}};return f;break;}}})();b.SJa=r;},65877:function(r,b,a){var l,f;function c(k){this.W={wV:k.maxc || 25,ika:k.c || .5,i_b:k.rc || "none",dG:k.hl || 7200};this.xR();this.trb=this.W.i_b;this.YQ=this.W.dG;this.Ofa=Math.exp(Math.log(2) / this.YQ);this.Ofa=Math.max(this.Ofa,1);this.o1=1;}l=a(17267);f=a(15913).TDigest;new (a(12043).platform.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var k;if(0 === this.Ve.size())return null;k=this.Ve.wi([.25,.75]);if(k[0] === k[1])return null;this.Ve.size() > this.W.wV && this.Ve.Qx();k=this.Ve.wk(!1).reduce((function(d,g){l.Rb(g.Hf) && l.Rb(g.n) && d.push({mean:g.Hf,n:g.n / this.o1});return d;}).bind(this),[]);return {tdigest:JSON.stringify(k)};};c.prototype.Kf=function(k){var d;if(l.vc(k) || !l.has(k,"tdigest") || !l.rg(k.tdigest))return !1;try{d=JSON.parse(k.tdigest);}catch(g){return !1;}d.forEach(function(g){l.isFinite(g.n) || (g.n=1);});k=d.map(function(g){return {Hf:g.mean,n:g.n};});this.o1=1;this.Ve.Zua(k);void 0 === this.Ve.wi(0) && this.xR();};c.prototype.get=function(){var k,d;k=this.Ve;d=k.wi([0,.1,.25,.5,.75,.9,1]);return {min:d[0],Bta:d[1],Qp:d[2],jn:d[3],Rp:d[4],Cta:d[5],max:d[6],tj:k.wk(!1)};};c.$Kb=function(k){var d;d=new c({});l.vc(k) || l.co(k) || !l.isArray(k.tj) || (d.Ve.Zua(k.tj),void 0 === d.Ve.wi(0) && d.xR());k=d.Ve.wi([.25,.75]);return k[0] === k[1]?null:function(g){return d.Ve.wi(g);};};c.prototype.add=function(k){var d;d=1;"ewma" === this.trb && (this.o1=d=this.o1 * this.Ofa);this.Ve.push(k,d);};c.prototype.toString=function(){return "TDigestHist(" + this.Ve.summary() + ")";};c.prototype.xR=function(){this.Ve=new f(this.W.ika,this.W.wV);};r.exports={$Na:c};},38509:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u){return function(){return ("[").concat(u,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.GNa=b.vna=void 0;l=a(8604);f=a(42866);k=a(60328);d=a(62558);g=a(49730);n=a(78128);h=a(46541);m=a(73098);p=a(92141);b.vna=function(u){return -1 !== u.indexOf("heaac")?"heaac":"ddp";};r=(function(){function u(t,w){q=new l.FNa(t,w);}u.mja=function(){(0,d.assert)(q,"expected StaticMediaCache to exist");return q;};u.prototype.f$a=function(t,w,v,y,x,z,A,B,C,D){var F,G,E,I,M,L,K,O,H;F=[];v=u.mja().OLb(v,y,x);y=new f.L(v.duration);G=new f.L(v.za);E=G.N;I=v.profile;M={r3a:!0,mediaType:k.u.fa,Cd:I,profile:I,N:E,Gh:[{Fe:0,data:v.Cb}],Fh:!0,za:G,If:w,ma:t,bitrate:v.bitrate,Gb:"-1",track:{trackId:"1",mediaType:k.u.fa,Ol:!1,za:G,ma:t,channels:v.channels,sampleRate:48E3,profile:I,oe:[],no:x,toString:c(k.u.fa)},toJSON:function(){return {mediaType:M.mediaType,Gb:M.Gb,bitrate:M.bitrate};}};M.Um=M.track.Um=n.FI.prototype.Um.bind(M.track);M.track.oe.push(M);t=new f.L(v.za);x=C.Am?w:f.L.Ha;I=x.add(y);g.K && D.trace(("StaticMedia: audio target duration is ").concat(z.mb()));L=f.L.Ha;w=C.Am?-Math.ceil(w.ih(G)):0;C=x;for(G=!0;C.lessThan(z);){C=C.add(y);C.greaterThan(z) && (K=y.ih(t) - Math.floor(C.qa(z).ih(t)));O=C.hi(z);H=G?0:O?z.G:void 0;G=new h.Lba(v.Cb,v.Ma,M,E,x.$c(E).ja,I.$c(E).ja,t,D,A,B.bind(void 0,E,L),H,G,O);G.Bi({start:w,end:K});g.K && D.log(("PaddingBranch: enqueing request ").concat(G,", edit: ").concat(JSON.stringify({start:w,end:K}),", ") + ("offset ").concat(L.mb()));F.push(G);L=L.add(y);w=void 0;G=!1;}return F;};u.prototype.h$a=function(t,w,v,y,x,z,A,B,C,D){var F,G,E,I,M,L,K,O,H;F=[];w=u.mja().QLb(w,v,y,x,z);v=new f.L(w.duration);G=w.profile;E=w.bitrate;I=w.width;M=w.height;L=w.Jta;K=w.Kta;y=w.za.N;x=new f.L(w.za);O=new m.gA(y,w.za.ja);H={r3a:!0,mediaType:k.u.Y,Cd:G,profile:G,N:y,Gh:[{Fe:0,data:w.Cb}],Fh:!0,Gb:"-1",za:x,ma:t,bitrate:E,track:{trackId:"1",mediaType:k.u.Y,Ol:!1,za:x,frameRate:O,S7:O,lk:new p.rJ({w:I,cr:M},{w:L,cr:K}),ma:t,profile:G,oe:[],no:z,toString:c(k.u.Y)},toJSON:function(){return {mediaType:H.mediaType,Gb:H.Gb,bitrate:H.bitrate};}};H.Um=H.track.Um=n.FI.prototype.Um.bind(H.track);g.K && D.trace(("StaticMedia {").concat(B.id,"}: video queue"),H);H.track.oe.push(H);G=Math.ceil(A.ih(v));A=v.oo(G);t=f.L.Ha.$c(y);z=t.add(A).$c(y);g.K && D.trace(("PaddingBranch: ").concat(G," fragments of ").concat(v.mb(),", ") + ("duration ").concat(A.mb(),", ") + ("c: ").concat(t.mb(),"-").concat(z.mb(),", "));for(E=f.L.Ha;E.lessThan(A);){G=E.add(v);E=new h.Lba(w.Cb,w.Ma,H,y,0,v.$c(y).ja,x,D,B,C.bind(void 0,y,E),void 0,E.equal(f.L.Ha),G.hi(A));g.K && D.trace(("PaddingBranch: appended ").concat(E));F.push(E);E=G;}return {Ka:t,Wa:z,duration:A,Ja:F};};u.prototype.CZb=function(){return u.mja().PLb();};return u;})();b.GNa=r;},7460:function(r,b,a){var f,k,d,g;function c(n,h,m,p,q){m=h.$e || h.track.ht(n,m.G,void 0,q);n=h.ff || h.track.DF(n,null === p || void 0 === p?void 0:p.G,h.tk);return [!h.Pg(),m,n];}function l(n,h){var C,D;for(var m=[],p=0,q=n[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],w=h.ff.index,v=h.track.Fo,y=0,x=h.$e.Ka,z=h.$e.Wa.G > q[0],A=z,B=h.$e.index;B <= w;++B){C=!1;if(q){D=v.get(B);z && (D.Ka.G >= t?(z=!1,++p >= n.length?t=u=q=void 0:(q=n[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):A?A=!1:(m.push(new g.F0(y,x,D.Ka)),x=D.Ka,C=!0));!z && q && D.Wa.G > u && (z=!0,C=D.Ka,(D=h.track.jG.Yn(B).wZa(u)) && 0 !== D.Kj && (C=k.L.Na(D.ye)),m.push(new g.F0(y,x,C)),x=C,C=!0);}C && ++y;}m.push(new g.F0(y,x,h.ff.Wa));return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.lSb=b.M5a=b.A7a=b.x7a=b.yva=void 0;f=a(5163);k=a(42866);d=a(27364);g=a(61978);b.yva=function(n,h,m){var p,q,u,t,w,v,y,x;y=h.get(d.u.fa);x=h.get(d.u.Y);h=h.get(d.u.Ga);x=null === x || void 0 === x?void 0:x.track.DF(n,null === m || void 0 === m?void 0:m.G,x.tk);y=null === y || void 0 === y?void 0:y.track.DF(n,null !== (q=null === (p=null === x || void 0 === x?void 0:x.Wa) || void 0 === p?void 0:p.G) && void 0 !== q?q:null === m || void 0 === m?void 0:m.G,y.tk);n=null === h || void 0 === h?void 0:h.track.DF(n,null !== (v=null !== (t=null === (u=null === x || void 0 === x?void 0:x.Wa) || void 0 === u?void 0:u.G) && void 0 !== t?t:null === (w=null === y || void 0 === y?void 0:y.Wa) || void 0 === w?void 0:w.G) && void 0 !== v?v:null === m || void 0 === m?void 0:m.G,h.tk);return [y,x,n];};b.x7a=function(n,h,m,p,q){var u,t,w,v,y,x,z,A;u=h.get(d.u.fa);t=h.get(d.u.Y);h=h.get(d.u.Ga);w=f.__read(t?c(n,t,m,p,q):[!1],3);v=w[0];y=w[1];w=w[2];x=f.__read(u?c(n,u,v && void 0 !== (null === y || void 0 === y?void 0:y.Ka)?y.Ka:m,void 0 !== (null === w || void 0 === w?void 0:w.Wa)?w.Wa:p,q):[!1],3);z=x[0];A=x[1];x=x[2];p=f.__read(h?c(n,h,m,p,q):[!1],3);n=p[0];m=p[1];p=p[2];z && (null === u || void 0 === u?void 0:u.DU(A,x));v && (null === t || void 0 === t?void 0:t.DU(y,w));n && (null === h || void 0 === h?void 0:h.DU(m,p));return [z,v,n];};b.A7a=function(n,h,m){return h.track.ht(n,m.G,void 0,!0).Ka;};b.M5a=function(n,h,m){var p;p=h.v;if(!p.Tq || 0 === p.Tq.length)return [];n=p.Tq.map(function(q){return [p.ta + q[0],p.ta + q[1]];});return l(n,m.Eua);};b.lSb=l;},40115:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.QKa=void 0;c=a(5163);l=a(27364);f=a(7460);k=a(62558);r=(function(){function d(g){var n,h,m,p,q,u,t;n=g.console;h=g.config;m=g.ma;p=g.uC;q=g.v;u=g.Ka;t=g.Wa;g=g.splice;this.AU=this.vK=!1;this.console=n;this.config=h;this.uC=p;this.ma=m;this.v=q;this.Ka=u;this.Wa=t;this.splice=g;this.jOb();}d.prototype.Cb=function(g){if(this.vK)throw Error("Cannot call init() after cleanup");if(this.AU)throw Error("Cannot call init() twice");this.AU=!0;this.Z7a=g;this.ma.events.addListener("onHeaderFragments",this.FUa);this.fia() && this.Csa();};d.prototype.normalize=function(){if(this.vK)throw Error("Cannot call normalize() after cleanup");if(this.AU)throw Error("Cannot call init() / normalize() twice");this.AU=!0;(0,k.assert)(this.fia());return this.Csa();};d.prototype.BN=function(g,n){(0,k.assert)(this.AU,"expected to be called init() before renormalize");this.v=g;this.Wa=n;g=(0,f.yva)(this.config,this.uC,this.Wa);this.z7a();return g;};d.prototype.Ze=function(){this.vK || (this.vK=!0,this.Z7a=void 0,this.ma.events.removeListener("onHeaderFragments",this.FUa));};d.prototype.jOb=function(){var g;g=this;this.FUa=function(){g.vK || g.fia() && g.Csa();};};d.prototype.Csa=function(){var g,n,h;if(this.vK)return {US:!1,hB:!1};n=this.wUb();h=!1;this.v && !this.v.Pp && (h=this.z7a());null === (g=this.Z7a) || void 0 === g?void 0:g.call(this,n,h);this.Ze();return {US:n,hB:h};};d.prototype.fia=function(){return this.uC.every(function(g){return g.track.Fh;});};d.prototype.wUb=function(){var g,n;g=c.__read((0,f.x7a)(this.config,this.uC,this.Ka,this.Wa,this.splice,this.console),2);n=g[0];return g[1] || void 0 === this.uC.get(l.u.Y) && n;};d.prototype.z7a=function(){var g,n,h;(0,k.assert)(this.v,"missing segment");g=this.uC.Eua;n=(0,f.A7a)(this.config,g,this.v.me);if(void 0 === n || void 0 === g.Wa)return !1;g=g.Wa;h=this.config.jza && "lazy" === this.v.$d?(0,f.M5a)(this.console,this.v,this.uC):[];this.v.normalize(n,g,h);return !0;};return d;})();b.QKa=r;},60763:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Dea=void 0;c=a(5163);r=(function(l){function f(k,d){k=l.call(this,k) || this;k.$la=d;k.name="PlaybackError";return k;}c.__extends(f,l);f.APb=function(k){return k && k.message && k.stack && k.$la?"PlaybackError" === (null === k || void 0 === k?void 0:k.name):!1;};return f;})(Error);b.Dea=r;},26967:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Mba=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(97810);g=a(62558);n=a(7881);r=a(88801);h=a(39886);m=a(58628);p=a(18650);q=a(72938);u=a(13353);t=a(54037);w=r.Wv.bla;a=(function(v){function y(x,z,A){var B;B=v.call(this) || this;B.Z=x;B.Bg=z;B.$o=A;B.aT=[];B.se=void 0;B.VQ=new l.ze();B.qA=void 0;B.vA=void 0;B.Mga=void 0;B.VQ.on(B.Z,"underflow",B.oh.bind(B));B.MQ=new u.vLa(x);B.VQ.on(B.Z,"skipped",B.aW.bind(B));B.VQ.on(B.Z,"playing",B.ita.bind(B));B.VQ.on(B.Z,"playbackEnding",B.hta.bind(B));B.Xu=new n.uQ(B.MQ,B.T,"player");B.zza=new d.Uh();x.rUa && x.mf && (B.iz=new t.$Ma(B,x,B.T));return B;}c.__extends(y,v);Object.defineProperties(y.prototype,{jl:{get:function(){var x;return null === (x=this.se) || void 0 === x?void 0:x.jl;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$v:{get:function(){var x;return (null === (x=this.se) || void 0 === x?void 0:x.$v) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ya:{get:function(){var x;return (null === (x=this.se) || void 0 === x?void 0:x.Ep()) || [];},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{D4a:{get:function(){return this.Mga;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ya:{get:function(){var x;return null === (x=this.se) || void 0 === x?void 0:x.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sa:{get:function(){return this.MQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{USa:{get:function(){var x,z;return !!((null === (x=this.se) || void 0 === x?0:x.OH) && (null === (z=this.kr) || void 0 === z?0:z.Zh));},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{OH:{get:function(){var x,z;return null !== (z=null === (x=this.se) || void 0 === x?void 0:x.OH) && void 0 !== z?z:!1;},enumerable:!1,configurable:!0}});y.prototype.ita=function(x){this.Mga=this.Zk(x.ye || this.Z.Dd);(0,g.assert)(this.Mga,"Should have a location");};y.prototype.hta=function(x){var z;if(this.Nd){x=this.Zk(x.ye || this.Z.Dd,!0);(0,g.assert)(x,"Playback ending at position outside playgraph");z=this.GB(x);(0,g.assert)(z,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:z,position:x});}else this.console.warn(("Unexpected playback ending event at ").concat(x.ye));};y.prototype.Rbb=function(x){-1 === this.aT.indexOf(x) && this.aT.push(x);this.se && this.se.YV(x);this.events.emit("drmReady",{viewableId:x});};y.prototype.Qbb=function(x){x=this.aT.indexOf(x);-1 !== x && this.aT.splice(x,1);};y.prototype.LU=function(x){var z;return -1 !== this.aT.indexOf(x) || !(null === (z=(0,k.tc)(this.Ya,function(A){return A.Xm && A.ma.J === x;})) || void 0 === z || !z.ma.nv);};y.prototype.OC=function(x){var z;null === (z=this.se) || void 0 === z?void 0:z.OC(x);};y.prototype.vY=function(x){var z;null === (z=this.se) || void 0 === z?void 0:z.vY(x);};y.prototype.reset=function(){var x,z;this.zza=new d.Uh();v.prototype.reset.call(this);this.vA=void 0;null === (x=this.se) || void 0 === x?void 0:x.reset();null === (z=this.iz) || void 0 === z?void 0:z.reset();};y.prototype.Rva=function(x){this.HN([x]);};y.prototype.HN=function(x){var z,A;z=this;x.forEach(function(B){var C;v.prototype.Rva.call(z,B);null === (C=z.iz) || void 0 === C?void 0:C.M0b(B);});null === (A=this.se) || void 0 === A?void 0:A.HN(x);};y.prototype.WA=function(){var x;null === (x=this.se) || void 0 === x?void 0:x.WA();};y.prototype.pause=function(x){this.VH(x);v.prototype.pause.call(this,x || this.Bg);};y.prototype.resume=function(x){var z;null === (z=this.se) || void 0 === z?void 0:z.resume(x);v.prototype.resume.call(this,x || this.Bg);};y.prototype.Oa=function(){this.qA=this.v6()?this.Zn():void 0;this.se && this.lla(this.se.ya);this.MQ.Oa();this.Xu.Oa();this.VQ.clear();v.prototype.Oa.call(this);};y.prototype.OF=function(){var x,z;if(null === (x=this.se) || void 0 === x?0:x.TYb){x=this.Z.Dd;if(this.sa.ji){if(this.vA){if(this.vA.greaterThan(x))return (x=this.vA.qa(x),this.zza.push(x.G),this.vA);if(this.Ya.length){z=this.se.yQb;if(z && z.lessThan(x))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Ac:{clockdrift:{type:"count"}}}),this.vA);}}this.vA=x;}return x;}return v.prototype.OF.call(this);};y.prototype.GL=function(){var x;x=this.Z.playbackRate;void 0 === x && (x=v.prototype.GL.call(this));return x;};y.prototype.v6=function(){return !!this.qA || v.prototype.v6.call(this);};y.prototype.Zn=function(){return this.qA?this.qA:v.prototype.Zn.call(this);};y.prototype.TF=function(){var x;return null === (x=this.se) || void 0 === x?void 0:x.C4a;};y.prototype.lla=function(x){var z;(0,g.assert)(x === this.ya);null === (z=this.se) || void 0 === z?void 0:z.Oa();this.se=void 0;};y.prototype.Q2=function(x,z){var A,B;this.qA=void 0;A=v.prototype.Q2.call(this,x,z);if(A){B=new p.bBa(x,this,this.T,x.config,this.$o,this.events,this.Bg,this.Xu,this.iz,this.sA,this.pA,this.BJ,null === z || void 0 === z?void 0:z.jl,null === z || void 0 === z?void 0:z.$v);null === z || void 0 === z?void 0:z.UM();this.se=B;this.VH(this.aN);this.iz && (z=x.Wt.vLb(h.hfa),z || (z=new h.hfa(),x.Ce(z)),this.iz.M_b(z));}return A;};y.prototype.UM=function(){var x;null === (x=this.se) || void 0 === x?void 0:x.UM();};y.prototype.Wla=function(){var A;for(var x=[],z=0;z < arguments.length;z++){x[z]=arguments[z];}A=this.se;(0,g.assert)(A);x.forEach(function(B){return A.EFb(B);});};y.prototype.AX=function(){var x;null === (x=this.se) || void 0 === x?void 0:x.AX();};y.prototype.C4b=function(x,z,A){var B;null === (B=this.ya) || void 0 === B?void 0:B.zya(x.to,x.from,z,A);};y.prototype.bi=function(x){var z,A,B;if(!this.se)return !1;z=this.HT(x);if(!z)return !1;A=z.v;B=f.L.Na(this.$o.s8);return A.Ff.qa(B).lessThan(x) || !z.yK(x)?!1:this.se.bi(x);};y.prototype.oh=function(){var x,z,A;if(null === (x=this.ya) || void 0 === x?0:x.Aj)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {A=this.Kd;(0,g.assert)(this.ya);x=this.Zk(A,!0);(0,g.assert)(x);null === (z=this.se) || void 0 === z?void 0:z.oh(x);z=this.HT(A);null === z || void 0 === z?void 0:z.ma.oh();this.ya.oh(x);}};y.prototype.aW=function(){this.vA=void 0;};y.prototype.mna=function(){var x;return null === (x=this.se) || void 0 === x?void 0:x.mna();};y.prototype.VH=function(x){var z;null === (z=this.se) || void 0 === z?void 0:z.VH(x);};y.prototype.Bya=function(x){(0,g.assert)(this.ya && this.se);return v.prototype.Bya.call(this,x);};y.prototype.N9=function(){(0,g.assert)(this.se);this.se.N9();};c.__decorate([w.return.$ia(),w.return.cm],y.prototype,"Zn",null);c.__decorate([w.return.$ia(),w.return.O8],y.prototype,"TF",null);return y=c.__decorate([m.rL],y);})(q.Iea);b.Mba=a;},18650:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;Object.defineProperties(b,{__esModule:{value:!0}});b.bBa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(12043);g=a(57903);n=a(86102);h=a(89755);m=a(27364);p=a(87425);q=a(97810);u=a(7881);t=a(62558);w=a(53412);v=a(8190);y=a(56405);r=(function(){function x(z,A,B,C,D,F,G,E,I,M,L,K,O,H){var J;J=this;this.ya=z;this.Z=A;this.T=B;this.W=C;this.$o=D;this.ib=F;this.Bg=G;this.yd=E;this.iz=I;this.sA=M;this.pA=L;this.BJ=K;this.mR=H;this.h1=!1;this.RPa=new q.pNa();this.Xga=this.pVb.bind(this);this.Zga=this.UVb.bind(this);this.ws=new h.iD(this.T);this.ER=O || new v.yfa(this.T,z);this.BBb();this.Vh && (this.lrb=this.u5(this.kLb()),this.EPa());this.cp=E.Vx(function(){return J.Mvb();},"branchPruner");this.Dn=new l.ze();this.Dn.on(this.ib,"segmentPresenting",function(){return c.__awaiter(J,void 0,void 0,function(){var N;return c.__generator(this,function(R){switch(R.label){case 0:return (this.fqb=this.Z.Zn(),null !== (N=this.W.iTa) && void 0 !== N && N.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(R.Ua(),this.ib.emit("requestGarbageCollection",{time:d.platform.time.xa(),type:"requestGarbageCollection"}),R.label=2);case 2:return [2];}});});});}Object.defineProperties(x.prototype,{jl:{get:function(){return this.ER;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$v:{get:function(){var z;z=new Map();this.Vh.forEach(function(A){z.set(A.mediaType,A.zC);});return z;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{C4a:{get:function(){return this.fqb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{OH:{get:function(){return this.Vh.every(function(z){return z.OH;});},enumerable:!1,configurable:!0}});x.prototype.Mvb=function(){var z,A,B,C,D,F;return c.__generator(this,function(G){switch(G.label){case 0:if(!this.ws.zVa)return [3,2];z=c.__read(this.ws.lY(),1);A=z[0];B=A.v.H3a && (null === (F=this.$o.ZN) || void 0 === F?void 0:F.G) || 0;C=A.z7 || A.Lb;D=C.add(f.L.Na(B + 1E3));return [4,u.Jg.ou(D)];case 1:return (G.Ua(),this.j$a(A),[3,0]);case 2:return [2];}});};Object.defineProperties(x.prototype,{TYb:{get:function(){var z;return !(null === (z=this.lrb) || void 0 === z || !z.xr.value);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{yQb:{get:function(){return this.h1?f.L.max.apply(f.L,c.__spreadArray([],c.__read(this.Vh.map(function(z){var A;return null === (A=z.Jub) || void 0 === A?void 0:A.B4a;}).filter(k.Dsa)),!1)):void 0;},enumerable:!1,configurable:!0}});x.prototype.OC=function(z){this.Vh.forEach(function(A){A.OC(z);});};x.prototype.pVb=function(){var z;this.cp.mf();z=this.Vh.filter(function(A){return A.ROb;}).map(function(A){return A.mediaType;});this.VH(z);this.resume(z);};x.prototype.UVb=function(z){var A,B,C;z=z.kb;A=this.Ep();B=A.indexOf(z);if(-1 !== B && !A.slice(0,B).some(function(D){return !D.Zh;})){C=z.Kk;C && C.greaterThan(this.BJ.value) && (z.Zh && B < A.length - 1 && (C=f.L.max(C,A[B + 1].Kk || f.L.JTb)),this.BJ.set(C));}};x.prototype.EFb=function(z){(0,t.assert)(-1 === this.ws.lY().indexOf(z),("Branch ").concat(z.v.id," is already in the collection, cannot re-queue"));z.events.on("branchEdited",this.Xga);z.events.on("requestComplete",this.Zga);z.Kk && this.Ep().every(function(A){return A.Zh;}) && this.BJ.set(z.Kk);this.ws.enqueue(z);this.cp.state === u.Dk.complete && this.cp.mf();z.v.aY && this.ws.AF();this.h1 || this.pHb(z);};x.prototype.YV=function(z){this.Vh.forEach(function(A){A.YV(z);});};x.prototype.vY=function(z){var A,B,C,D;A=this;B=!1;C=this.Vh.map(function(F){return F.mediaType;});this.ya.C1a().some(function(F){return F.aa;}) || (C=C.filter(function(F){return F !== m.u.Ga;}));D=(0,k.Gq)(C,z);D.forEach(function(F){var G;G=A.hg.sourceBuffers;G=(0,k.tc)(G,function(E){return E.mediaType === F;});(0,t.assert)(G);A.hg.removeSourceBuffer(G);G=A.u5(F);(0,t.assert)(G);G.reset();G.Oa();(0,k.H2)(A.Vh,G);(0,k.H2)(D,F);B=!0;});z=(0,k.Gq)(z,C);if(!this.VR(this.hg,z))throw (this.wE("error creating source buffers","NFErr_MC_StreamingInitFailure"),this.hg.error);z.forEach(function(F){var G;G=A.hg.sourceBuffers;G=(0,k.tc)(G,function(E){return E.mediaType === F;});(0,t.assert)(G);G=A.oWa(A.hg,G);A.Vh.push(G);B=!0;});B && this.EPa();};x.prototype.reset=function(){this.Vh.forEach(function(z){z.reset();});this.h1=!1;this.RPa.removeAllListeners();this.WA();};x.prototype.Rva=function(z){this.HN([z]);};x.prototype.HN=function(z){var A;A=this;z.forEach(function(B){B=A.u5(B);null === B || void 0 === B?void 0:B.reset(!1,z);});};x.prototype.WA=function(){var z;z=this;this.ws.lY().forEach(function(A){A.events.zr("branchEdited",z.Xga);A.events.zr("requestComplete",z.Zga);});this.ws.clear();this.cp.mf();};x.prototype.N9=function(){var z;z=this;this.ws.lY().filter(function(A){return A.bK;}).forEach(function(A){return z.j$a(A);});};x.prototype.resume=function(z){this.Vh.forEach(function(A){void 0 !== z && -1 === z.indexOf(A.mediaType) || A.resume();});};x.prototype.VH=function(z){this.Vh.forEach(function(A){return (void 0 === z || -1 !== z.indexOf(A.mediaType)) && A.stop();});};x.prototype.AX=function(){this.Vh.forEach(function(z){return z.AX();});};x.prototype.oh=function(z){var A,B,C;this.T.trace("attached-player: onUnderflow");A=this.C4a;if(this.$o.YK && A.Xm && A.ma.aa){B=A.Zq();if(B && 0 < B.length && (B=B.reduce(function(D,F){(F=F.KKb()) && D.push(F);return D;},[]),B.length)){B=f.L.max.apply(f.L,c.__spreadArray([],c.__read(B),!1));C=(0,n.z0a)(A.ma.X);B=B.add(f.L.Na(C));z=this.ya.bG(z);(0,t.assert)(z.Gl.G <= B.G);A=this.ya.wp({J:A.ma.J,Gl:B});(0,t.assert)(A);A={type:"fragmentsMissing",l7a:A,gic:B};this.ib.emit(A.type,A);}}};x.prototype.GLb=function(){return this.ws.getIterator();};x.prototype.aKb=function(){return this.Ep()[0];};x.prototype.Ep=function(){return this.ws.lY();};x.prototype.VR=function(z,A){var B,C;B=!0;C=z.sourceBuffers;A.forEach(function(D){(0,k.tc)(C,function(F){return F.mediaType === D;}) || z.addSourceBuffer(D) || (B=!1);});B || this.T.warn("Error adding sourceBuffer:",z.error);return B;};x.prototype.BBb=function(){var z,A;z=this;this.OJ("createMediaSourceStart");if(this.$o.Vna)A=this.$o.Vna();else (A=new d.platform.MediaSource(this.Z.Z),A.uf || (A.uf=d.platform.MediaSource.uf));if(1 !== A.readyState)this.wE("exception in init","NFErr_MC_StreamingInitFailure");else {this.OJ("createMediaSourceEnd");this.hg=A;if(!this.VR(A,this.Bg))throw (this.wE("error creating source buffers","NFErr_MC_StreamingInitFailure"),A.error);this.CPa={};this.ya.Ce(new w.oCa(this.CPa,this.W));this.Vh=A.sourceBuffers.filter(function(B){return 0 <= z.Bg.indexOf(B.mediaType);}).map(function(B){return z.oWa(A,B);});}};x.prototype.oWa=function(z,A){var B,C,D,F;B=this;z=new p.LBa(A.mediaType,z,A,this.W,this.Z,this.yd);z.addListener("error",function(G){return B.wE(G.errorstr);});z.addListener("logdata",function(G){return B.ib.emit("logdata",G);});z.addListener("managerdebugevent",function(G){B.ib.emit("managerdebugevent",G);});F=null === (C=this.mR) || void 0 === C?void 0:C.get(A.mediaType);C=new g.NAa(z,A.mediaType,this,this.W,this.T,this.Z,this.$o,this.yd,this.jl,this.iz,F);if(A.mediaType === m.u.Y)C.on("drmNeeded",function(G){return B.ib.emit("drmNeeded",G);});F || (null === (D=C.zC) || void 0 === D?void 0:D.mtb(new y.hca(this.CPa[A.mediaType]={},this.T,this.Z,z,this.Z.events,this.$o,this.yd)));return C;};x.prototype.j$a=function(z){var A;(0,t.assert)(z.bK,"Attempted to prune branch that has not been fully appended");this.ws.remove(z);z.events.removeListener("branchEdited",this.Xga);z.events.removeListener("requestComplete",this.Zga);z.Df("pruned");(null === (A=this.W.iTa) || void 0 === A?0:A.branchPruned) && this.ib.emit("requestGarbageCollection",{time:d.platform.time.xa(),type:"requestGarbageCollection"});};x.prototype.Oa=function(){this.Tga.clear();this.Rfa.clear();this.Vh.forEach(function(z){return z.Oa();});this.$o.Vna || this.hg.$s();this.WA();this.cp.Oa();this.Dn.clear();};x.prototype.bi=function(z){return this.Vh.every(function(A){return A.bi(z);});};x.prototype.UM=function(){this.Vh.forEach(function(z){return z.jWa();});this.ER=new v.yfa(this.T,this.ya);};x.prototype.mna=function(){return {QZb:this.Ep(),HXb:this.Vh};};x.prototype.pHb=function(z){var A;A=this;this.h1=!0;z.Gd.forEach(function(B){var C;C=A.u5(B.mediaType);if(void 0 !== C)A.RPa.once(B.Qma,function(D){return C.rHb(D);});});if(z.Ka)this.eYa();else z.events.once("branchNormalized",function(){return A.eYa();});};x.prototype.eYa=function(){var z;z=this.aKb();z && ((0,t.assert)(z.Ab),this.ib.emit("ptsChanged",{initialTimestamp:z.Ab,forcedTimestamp:void 0}));};x.prototype.u5=function(z){return (0,k.tc)(this.Vh,function(A){return A.mediaType === z;});};x.prototype.kLb=function(){return -1 !== this.Bg.indexOf(m.u.Y)?m.u.Y:m.u.fa;};x.prototype.OJ=function(z){z={type:"startEvent",event:z,time:d.platform.time.xa()};this.ib.emit(z.type,z);};x.prototype.wE=function(z,A){this.ya.lf(z,void 0,A);};x.prototype.EPa=function(){var z;z=this;this.Tga && this.Tga.clear();this.Tga=f.rq.Bgb(this.Vh.map(function(A){return A.xr;}),function(A){return A.every(function(B){return B;});},function(A){return z.sA.set(A);});this.Rfa && this.Rfa.clear();this.Rfa=new f.aea(this.Vh.map(function(A){return A.r7;}),function(A){return f.L.min.apply(f.L,c.__spreadArray([],c.__read(A),!1));},function(A){z.pA.set(A);},f.L.Na(-Infinity));};return x;})();b.bBa=r;},56405:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.hca=void 0;c=a(5163);l=a(57055);f=a(62558);k=a(49730);d=0;r=(function(g){function n(h,m,p,q,u,t,w,v){m=g.call(this,("cdnList").concat(d++),m,p,q,u,t,w,"cdnList",v) || this;m.kg=h;m.Cb();return m;}c.__extends(n,g);n.prototype.Cb=function(){var h;h=this;this.kR=new l.ze();this.kR.on(this.sb.Z,"skipped",function(m){h.Yu && ((null === m || void 0 === m?0:m.PYb) && h.DS(m.PYb),h.Yu=void 0);});this.kR.on(this.sb.Z,"paused",function(){h.Yu && h.sb.Nd && h.DS(h.sb.Kd);});this.kR.on(this.sb.Z,"underflow",function(){h.Yu && h.sb.Nd && h.DS(h.sb.Kd);});};n.prototype.hv=function(h,m,p){this.kR.clear();g.prototype.hv.call(this,h,m,p);this.Cb();};n.prototype.close=function(){k.K && this.console.trace("close");g.prototype.close.call(this);this.kR.clear();};n.prototype.j4b=function(h,m){var p;p=this;this.Yu && this.DS(h);return this.qZa(m).map(function(q){return p.kg[q];});};n.prototype.Z$a=function(h){var m;m=this;this.qZa(h).forEach(function(p){delete m.kg[p];});};n.prototype.qZa=function(h){var m;m=this;return Object.keys(this.kg).filter(function(p){return m.kg[p].P === ("").concat(h);});};n.prototype.xr=function(h){var m,p,q;m=h.stream;p=h.Qc;q=h.Ab;h=h.Lb;(0,f.assert)(void 0 !== q);(0,f.assert)(void 0 !== h);k.K && this.console.trace(("Media appended ").concat(q.mb(),"-").concat(h.mb()));this.Tha({stream:m,Qc:p},q,h);};n.prototype.i7=function(h,m){return h.stream === m.stream && h.Qc === m.Qc;};n.prototype.SJb=function(h){var m,p;p=h.Go;h=p.Qc;p=null === (m=p.stream.ma.X.VA) || void 0 === m?void 0:m.Tp;return ("").concat(h,"::").concat(p);};n.prototype.Ila=function(h,m){k.K && this.console.trace(("Presenting event for ( ").concat(h.Go.stream.id,", ").concat(h.Go.Qc," )") + (" at ").concat(m.mb()));this.Yu?this.DS(m):this.OQ=m;this.Yu=h;};n.prototype.DS=function(h){var m,p,q,u,t,w,v,y,x;(0,f.assert)(this.Yu);if(null === (m=this.Mka) || void 0 === m?0:m.lessThan(h))h=this.Mka;t=this.Yu;m=this.kg;w=t.Go;v=w.stream;w=w.Qc;y=null === (p=v.rV) || void 0 === p?void 0:p.Lm;p=h.qa(this.OQ || t.timestamp).G;if(void 0 !== w && void 0 !== y){x=null === (q=v.ma.X.VA) || void 0 === q?void 0:q.Tp;q=v.track.P;t=this.SJb(t);m=(u=(m[t] || (m[t]={Fm:w,Tp:x,P:q,wF:{}})).wF)[y] || (u[y]={bitrate:v.bitrate,Vb:y,mediaType:v.mediaType,totalTime:0,xb:v.xb});m.totalTime=Math.max(m.totalTime + p,0);}this.OQ=h;};n.prototype.clone=function(h,m){m=void 0 === m?{}:m;h=new (m.yjc || n)(h,this.jWb,this.sb,this.E2,this.events,this.$o,this.qc,m.priority);this.nyb(h);h.Yu=this.Yu;h.OQ=this.OQ;k.K && h.console.trace("Cloning",{uec:h.Cj.length});return h;};n.prototype.reset=function(){g.prototype.reset.call(this);this.OQ=void 0;};n.prototype.j7=function(h){return ("(").concat(h.stream.Gb,", ").concat(h.Qc,")");};return n;})(a(1168).u0);b.hca=r;},91829:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wEa=void 0;c=a(5163);l=a(49730);f=a(7881);r=(function(){function k(d,g,n){this.qc=d;this.sTb=g;this.T=n;}Object.defineProperties(k.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});k.prototype.waitUntil=function(d){var g;d=(0,f.jba)(this.qc,d,!0);g=d.promise;this.isb=d.Mf;return g;};k.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,n;return c.__generator(this,function(h){switch(h.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.Sma)return [3,2];n=g.Ab.qa(this.sTb);l.K && this.T.trace(("[").concat(g.mediaType,"] JIT: waiting until playertime >= ").concat(n.G),("to append next request ").concat(g.toString()));return [4,this.waitUntil(n)];case 1:(h.Ua(),l.K && this.T.trace(("[").concat(g.mediaType,"] JIT: now appending request ").concat(g.toString())),h.label=2);case 2:return [2,d];}});});};k.prototype.reset=function(){var d;null === (d=this.isb) || void 0 === d?void 0:d.Oa();};return k;})();b.wEa=r;},37096:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hHa=void 0;c=a(5163);l=a(36418);f=a(42866);r=(function(){function k(d){this.T=d;}Object.defineProperties(k.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});k.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,n,h,m,p,q,u,t,w,v,y,x,z,A;return c.__generator(this,function(){d.done || (g=d.value.value,g.stream.aa && (n=g.BLb(),n instanceof ArrayBuffer && (h=new l.qq(this.T,g.stream,n,["moof"],!0,{Pta:!0}),m=h.parse(),m.Tv && (p=h.Qm("moof"),q=p.Qm("traf"),u=q.Qm("trun"),t=q.Qm("tfdt"),w=g.stream.Rt,v=u.sd,y=t.WE,x=m.Ja.N,z=new f.L(y,x),A=this.Cq?z.qa(this.Cq.xvb):void 0,this.T.trace(("Live Request Logger: processing request [").concat(g.mediaType,"]"),{baseMediaDecodeTime:y,timescale:x,baseMediaDecodeMs:z.G,ptsOffsetMs:w.G,mediaTimestampMs:z.qa(w).G,offsetFromPriorMs:null === A || void 0 === A?void 0:A.G,sampleCount:v,url:g.url}),this.Cq={xvb:z}))));return [2,d];});});};k.prototype.reset=function(){this.Cq=void 0;};return k;})();b.hHa=r;},54037:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ma=void 0;c=a(5163);l=a(42866);f=a(57055);k=a(12043);d=a(49730);g=a(27364);n=a(97810);h=a(62558);r=(function(){function m(p,q,u){var t;t=this;this.sb=p;this.Z=q;this.pending=new Map();this.listeners=new f.ze();this.Bsa=!1;this.NMb=function(w){t.Oab(!0,function(){d.K && t.T.debug("cancelling playback ending");w.cancel();});};this.listeners.addListener(q,"playbackEnding",this.NMb);this.T=(0,n.Jh)(k.platform,u,"SEAMLESSMANAGER");d.K && this.T.debug("construct");}m.prototype.Oa=function(){d.K && this.T.debug("destruct");this.pending.clear();this.listeners.clear();};m.prototype.M_b=function(p){this.jbb=p;};m.prototype.v9b=function(p){var q;0 === this.pending.size && ((0,h.assert)(void 0 === this.KK,"SeamlessManager: No pending transitions, but a wait is deferred"),this.KK=new l.Sz());(0,h.assert)(this.KK,"SeamlessManager: deferred is undefined");(0,h.assert)(!this.pending.has(p.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + p.mediaType);this.pending.set(p.mediaType,p);d.K && this.T.trace(("got new transition [").concat(p.mediaType,"] --\x3e ").concat(p.to.stream.id));if(this.pending.size === this.sb.Bg.length && !this.Bsa){q=this.FPb();if(q.vua)return (d.K && this.T.trace(("seamless transition possible at ").concat(p.timestamp.mb())),this.KK.resolve(),this.reset(),Promise.resolve());d.K && this.T.trace(("starting non-seamless transition at ").concat(p.timestamp.mb()));this.B4b(q.info);}return this.KK.promise;};m.prototype.M0b=function(p){d.K && this.T.trace(("reset media [").concat(p,"]"));this.pending.delete(p);0 === this.pending.size && this.reset();};m.prototype.reset=function(){d.K && this.T.debug("resetting");this.Bsa=!1;this.KK=void 0;this.pending.clear();};m.prototype.FPb=function(){var p,q,u,t,y,x,z,A,B,C,D,F,G,E,I;t={vua:!0};try{for(var w=c.__values(this.pending.entries()),v=w.next();!v.done;v=w.next()){y=c.__read(v.value,2);x=y[0];z=y[1];if(z.from){A=z.from.stream;B=z.to.stream;if(A.track === B.track)d.K && this.T.debug("Seamless deemed possible due to same track",{mediaType:x});else {C=A.Um();D=B.Um();F=void 0;G=this.sb.Zk(z.timestamp);F=z.from.I && 0 > this.sb.r7.value.G?{I:z.from.I,offset:l.L.Na(0)}:this.sb.Zk(z.Q9a);E=this.Z.rUa({mediaType:x,CZa:z.CZa,from:C,to:D,dIb:F,D6b:G});if(E.rUa)d.K && this.T.debug("Seamless deemed possible",{mediaType:x,from:C,to:D,dIb:F,D6b:G});else {d.K && this.T.debug("Non-seamless transition; details:",{reason:E.reason,mediaType:x,from:C,to:D});I=t.vua?[]:t.info.H$a;E.reason && (z.reason="string" !== typeof E.reason?E.reason:void 0,I.push(E.reason));t={vua:!1,info:{xDb:null !== (q=z.to.I) && void 0 !== q?q:"unk",r4b:null !== (u=z.from.I) && void 0 !== u?u:"unk",PXb:z.timestamp,H$a:I}};}}}}}catch(L){var M;M={error:L};}finally{try{v && !v.done && (p=w.return) && p.call(w);}finally{if(M)throw M.error;}}return t;};m.prototype.B4b=function(p){var q;null === (q=this.jbb) || void 0 === q?void 0:q.itb(p);this.Bsa=!0;this.sb.xr.value?(d.K && this.T.trace("Signaling EOS for upcoming restart"),this.sb.AX()):(d.K && this.T.trace("Signaling immediate restart"),this.Oab(!1));};m.prototype.Oab=function(p,q){var u,t,w,v,y,x,B,C,D;w=this;if(this.pending.size){d.K && this.T.trace("playback ending, restarting player");v={};y=(u={},u[g.u.fa]=void 0,u[g.u.Y]=void 0,u[g.u.Ga]=void 0,u);u=void 0;x=[];try{for(var z=c.__values(this.pending.entries()),A=z.next();!A.done;A=z.next()){B=c.__read(A.value,2);C=B[0];D=B[1];v[C]=D.to.stream.Um();u={to:{I:D.to.I,offset:D.timestamp}};D.reason && x.push(D.reason);D.from.I && (y[C]=D.from.I,u.from={I:D.from.I,offset:D.Q9a});}}catch(G){var F;F={error:G};}finally{try{A && !A.done && (t=z.return) && t.call(z);}finally{if(F)throw F.error;}}null === q || void 0 === q?void 0:q();this.sb.C4b(u,p,x);d.K && this.T.debug("Restarting player",v);this.Z.mf(v,y).then(function(){var G,E;null === (G=w.KK) || void 0 === G?void 0:G.resolve();d.K && w.T.debug("Restart completed");null === (E=w.jbb) || void 0 === E?void 0:E.jtb();w.reset();});}};return m;})();b.$Ma=r;},77029:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aNa=void 0;c=a(5163);l=a(49730);r=(function(){function f(k,d,g){this.iz=k;this.Be=d;this.T=g;this.G1=!0;}Object.defineProperties(f.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});f.prototype.process=function(k){var d;return c.__awaiter(this,void 0,void 0,function(){var g;return c.__generator(this,function(n){switch(n.label){case 0:if(k.done)return [3,3];g=k.value.value;if(!this.Cq || !g.xv || g.stream.ma === this.Cq.stream.ma || this.Cq.Ab === g.Ab && this.Cq.y0b === g.index)return [3,2];l.K && this.T.trace(("Seamless Throttler: Waiting on request [").concat(g.mediaType,"]"),g.index,"in",g.v.id);return [4,this.iz.v9b({mediaType:g.mediaType,CZa:this.G1,to:{stream:g.stream,I:g.v.id},from:{stream:this.Cq.stream,I:this.Cq.I},timestamp:g.Ab,Q9a:null === (d=this.Cq) || void 0 === d?void 0:d.Ab})];case 1:(n.Ua(),n.label=2);case 2:(this.G1=!1,this.Cq={y0b:g.index,stream:g.stream,Ab:g.Ab,I:g.v.id},n.label=3);case 3:return [2,k];}});});};f.prototype.HVb=function(k,d){void 0 === k && (k=[]);void 0 === d && (d=[]);l.K && this.T.trace(("Seamless Throttler: onMediaSourceReset() ").concat(d));this.G1 || (this.G1=-1 !== d.indexOf(this.Be));(null === k || void 0 === k?0:k.length) && k.length !== d.length && (this.Cq=void 0);};f.prototype.reset=function(){};return f;})();b.aNa=r;},1918:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.TJa=void 0;c=a(5163);l=a(49730);f=a(62558);k=a(7881);r=(function(){function d(g,n,h,m){var p;p=this;this.qc=g;this.EWb=n;this.Fta=h;this.T=m;g.sa.on("stopStart",function(){return p.myb();});l.K && this.T.trace(("PacingThrottler: pacingFactory=").concat(n,", pacingThreshold=").concat(h.mb()));}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.myb=function(){var g,n;n=this.qc.sa;this.wK=n.ji?n.currentTime:void 0;this.$R=this.vT=void 0;l.K && this.T.trace(("PacingThrottler: clock reset ").concat(null === (g=this.wK) || void 0 === g?void 0:g.G));};d.prototype.waitUntil=function(g){var n;g=(0,k.jba)(this.qc,g,!0);n=g.promise;this.u9b=g.Mf;return n;};d.prototype.process=function(g){return c.__awaiter(this,void 0,void 0,function(){var n,h,m,p;return c.__generator(this,function(q){switch(q.label){case 0:if(g.done)return [3,11];n=g.value.value;(0,f.assert)(n.Ab);h=this.qc.sa;if(!this.vT || !this.$R)return [3,10];if(!this.$R.greaterThan(this.Fta))return [3,8];if(!this.wK)return [3,5];m=n.Ab.qa(this.wK).qa(this.Fta);p=this.wK.add(m.ih(this.EWb));if(!p.lessThan(n.Ab))return [3,3];if(!p.greaterThan(h.currentTime))return [3,2];l.K && this.T.trace(("PacingThrottler: waiting until ").concat(p.mb()," for mediaRequest @") + ("").concat(n.Ab.mb(),", ") + ("current time ").concat(h.currentTime.mb(),", ") + ("clock start time ").concat(this.wK.mb(),", ") + ("distance ").concat(m.mb()));return [4,this.waitUntil(p)];case 1:(q.Ua(),q.label=2);case 2:return [3,4];case 3:(l.K && this.T.warn("PacingThrottler: invalid schedule time " + ("").concat(p.mb()," for mediaRequest ") + ("@").concat(n.Ab.mb(),", ") + ("current time ").concat(h.currentTime.mb(),", ") + ("clock start time ").concat(this.wK.mb(),", ") + ("distance ").concat(m.mb())),q.label=4);case 4:return [3,7];case 5:m=n.Ab.qa(this.vT);if(!m.greaterThan(this.Fta))return [3,7];l.K && this.T.trace(("PacingThrottler: (buffering) waiting until ").concat(this.vT.G,"ms") + (" for mediaRequest @").concat(n.Ab.G,"ms, ") + ("current time ").concat(h.currentTime.G));return [4,this.waitUntil(this.vT)];case 6:(q.Ua(),q.label=7);case 7:return [3,9];case 8:(this.$R=this.$R.add(n.Ld),q.label=9);case 9:return [3,11];case 10:(this.vT=n.Ab,this.$R=n.Ld,q.label=11);case 11:return [2,g];}});});};d.prototype.reset=function(){var g;null === (g=this.u9b) || void 0 === g?void 0:g.Oa();};return d;})();b.TJa=r;},14895:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.tea=void 0;c=a(5163);l=a(42866);f=a(62558);k=a(49730);d=a(95971);r=(function(g){function n(h){var m;m=g.call(this) || this;m.ya=h;m.mR=new Map();m.Ya=[];m.MQ=new d.Q0({ji:!1,currentTime:function(){return m.Nd?m.Kd:l.L.Jp;},speed:1});return m;}c.__extends(n,g);Object.defineProperties(n.prototype,{sa:{get:function(){return this.MQ;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yd:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jl:{get:function(){return this.ER;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$v:{get:function(){return this.mR;},enumerable:!1,configurable:!0}});n.prototype.Q2=function(h,m){var p;p=!this.ya;p && (this.ya=h,this.cga=(null === m || void 0 === m?0:m.Nd)?m.Kd:void 0,this.ER=null === m || void 0 === m?void 0:m.jl,this.mR=m?m.$v:new Map(),null === m || void 0 === m?void 0:m.UM());return p;};n.prototype.UM=function(){this.mR=this.ER=void 0;};n.prototype.WA=function(){this.Ya=[];this.cga=void 0;};n.prototype.lla=function(h){k.K && (0,f.assert)(this.ya === h);this.ya=void 0;this.WA();};n.prototype.Wla=function(){for(var h,m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}(h=this.Ya).push.apply(h,c.__spreadArray([],c.__read(m),!1));};n.prototype.OF=function(){return this.cga?this.cga:g.prototype.OF.call(this);};n.prototype.LU=function(){return !1;};n.prototype.OC=function(){};n.prototype.VH=function(){};n.prototype.N9=function(){this.Ya=this.Ya.filter(function(h){return h.bK?(h.Df("pruned"),!1):!0;});};n.prototype.Oa=function(){g.prototype.Oa.call(this);this.$v.forEach(function(h){return h.close();});};return n;})(a(72938).Iea);b.tea=r;},72938:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Iea=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(12043);d=a(62558);g=a(27364);r=a(88801);n=a(49730);h=a(97810);m=r.Wv.bla;a=(function(){function p(){this.aN=[];this.sA=new f.rq(!1);this.pA=new f.rq(f.L.Na(-Infinity));this.BJ=new f.rq(f.L.Na(-Infinity));this.events=new l.EventEmitter();this.T=new k.platform.Console("ASEJS","media|asejs");}Object.defineProperties(p.prototype,{console:{get:function(){return this.T;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yd:{get:function(){return this.Xu;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{D4a:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jl:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{$v:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{playbackRate:{get:function(){return this.GL();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{USa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xr:{get:function(){return this.sA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{r7:{get:function(){return this.pA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Kk:{get:function(){return this.BJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Nd:{get:function(){return this.Hp;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Kd:{get:function(){return this.OF();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yg:{get:function(){var q,u;q=this.Kd;u=this.Zk(q,!1);n.K && (0,d.assert)(u,("Could not find current branch for ").concat(q.G));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rOb:{get:function(){return this.Ya[0];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{kr:{get:function(){return this.Hp?this.Ya[this.Ya.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Zy:{get:function(){var q,u;q=this.Kd;u=this.HT(q);(0,d.assert)(u,("Could not find presenting branch for ").concat(q.G));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hp:{get:function(){return 0 < this.Ya.length;},enumerable:!1,configurable:!0}});p.prototype.Rbb=function(){};p.prototype.Qbb=function(){};p.prototype.bi=function(){return !1;};p.prototype.v6=function(){return 0 < this.Ya.length;};p.prototype.Zn=function(){(0,d.assert)(0 < this.Ya.length,"Could not find presenting branch. Player has no branches.");return this.Zy;};p.prototype.L1a=function(q){return -1 !== this.Ya.indexOf(q);};p.prototype.Q2=function(){return void 0 !== this.ya?!1:!0;};p.prototype.UM=function(){};p.prototype.Oa=function(){};p.prototype.GB=function(q){var u,t,w;u=this.Ya.filter(function(v){return v.v.id === q.I;});if(0 !== u.length){t=this.OF();w=new f.L(Infinity,1);u.forEach(function(v){v=v.Dr.add(q.offset);t.LK(v).lessThan(t.LK(w)) && (w=v);});return w;}};p.prototype.mU=function(q){var u,t,w,v,y,x,z,A,B,C;return c.__generator(this,function(D){switch(D.label){case 0:u=this.Ya.filter(function(F){return F.v.id === q.I;});if(0 === u.length)return [2,void 0];t=this.OF();D.label=1;case 1:(D.Rj.push([1,6,7,8]),w=c.__values(u),v=w.next(),D.label=2);case 2:if(v.done)return [3,5];y=v.value;x=y.Dr.add(q.offset);z=t.LK(x);return [4,{Yp:x,LK:z}];case 3:(D.Ua(),D.label=4);case 4:return (v=w.next(),[3,2]);case 5:return [3,8];case 6:return (A=D.Ua(),B={error:A},[3,8]);case 7:try{v && !v.done && (C=w.return) && C.call(w);}finally{if(B)throw B.error;}return [7];case 8:return [2];}});};p.prototype.Zk=function(q,u){var t,w,v;void 0 === u && (u=!1);t=this.HT(q,u);if(t){w=t.v;u=w.id;v=w.duration;q=f.L.min(q.qa(w.me.add(t.ve)),v || f.L.Jp);return {I:u,offset:q};}};p.prototype.vY=function(){};p.prototype.reset=function(){this.WA();};p.prototype.Rva=function(){};p.prototype.HN=function(){};Object.defineProperties(p.prototype,{OH:{get:function(){return !1;},enumerable:!1,configurable:!0}});p.prototype.pause=function(q){void 0 === q && (q=g.ZP);this.aN=null === q || void 0 === q?void 0:q.reduce(function(u,t){-1 === u.indexOf(t) && u.push(t);return u;},this.aN);};p.prototype.resume=function(q){var u;u=this;void 0 === q && (q=g.ZP);q.forEach(function(t){t=u.aN.indexOf(t);-1 !== t && u.aN.splice(t,1);});};p.prototype.Bya=function(q){var u;(0,d.assert)(this.ya);(0,d.assert)(q !== this);this.VH();u=q.Q2(this.ya,this);u && (this.N9(),q.pause(this.aN),q.Wla.apply(q,c.__spreadArray([],c.__read(this.Ya),!1)),this.lla(this.ya));return u;};p.prototype.OF=function(){return this.k0a();};p.prototype.k0a=function(){var q,u;n.K && (0,d.assert)(this.Hp,"Attempted to get initial time before any branches were queued");u=c.__read(this.Ya,1)[0];n.K && (0,d.assert)(u);return null !== (q=u.Ab) && void 0 !== q?q:u.wy;};p.prototype.GL=function(){return 1;};p.prototype.TF=function(){};p.prototype.HT=function(q,u){var t;void 0 === u && (u=!1);if(this.Hp){t=this.k0a();return q.lessThan(t)?this.Ya[0]:(0,h.Jma)(this.Ya,q) || (u?this.kr:void 0);}};p.prototype.hJb=function(){var q,u,v,y,x,z,A,B;u={};try{for(var t=c.__values(this.Ya),w=t.next();!w.done;w=t.next()){v=w.value;y=void 0;x=void 0;z=v.tL();for(y in z){A=y;B=z[A];B && (u[A]=(null !== (x=u[A]) && void 0 !== x?x:0) + B);}if(!v.Zh)break;}}catch(D){var C;C={error:D};}finally{try{w && !w.done && (q=t.return) && q.call(t);}finally{if(C)throw C.error;}}return u;};c.__decorate([m.return.Og(),m.return.O8],p.prototype,"D4a",null);c.__decorate([m.return.Og()],p.prototype,"yg",null);c.__decorate([m.return.$ia(),m.return.cm],p.prototype,"Zn",null);c.__decorate([c.__param(0,m.Og())],p.prototype,"GB",null);c.__decorate([c.__param(0,m.Og())],p.prototype,"mU",null);c.__decorate([m.return.Og()],p.prototype,"Zk",null);return p;})();b.Iea=a;},13353:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vLa=void 0;c=a(57055);l=a(42866);f=a(27364);r=a(55011);a=(function(){function k(d){this.Z=d;this.Iga=!1;this.GQa=new c.ze();this.K_b();}k.prototype.K_b=function(){var d,g;d=this;g=this.GQa;g.on(this.Z,"paused",function(){return d.d9();});g.on(this.Z,"playing",function(){return d.d9(!0);});g.on(this.Z,"underflow",function(){return d.d9();});g.on(this.Z,"skipped",function(){return d.aW();});g.on(this.Z,"clockAdjusted",function(){return d.XV();});g.on(this.Z,"playbackRateChanged",function(){return d.NVb();});};Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.ARa || this.Z.Dd || l.L.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ji:{get:function(){return this.Iga;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){var d;return null !== (d=this.Z.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});k.prototype.d9=function(d){void 0 === d && (d=!1);d !== this.Iga && (this.ARa=(this.Iga=d)?void 0:this.Z.Dd);this.emit("stopStart",{type:"stopStart"});};k.prototype.aW=function(){this.ARa=void 0;this.XV(f.Qz.RH);};k.prototype.XV=function(d){void 0 === d && (d=f.Qz.Btb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};k.prototype.NVb=function(){this.emit("speedChanged",{type:"speedChanged"});};k.prototype.Oa=function(){this.d9();this.GQa.clear();};return k;})();b.vLa=a;(0,r.xk)(c.EventEmitter,a);},1168:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.u0=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(12043);d=a(97810);g=a(49730);n=a(7881);h=f.L.Na(1E3);r=(function(){function m(p,q,u,t,w,v,y,x,z,A){var B,C;this.XHb=p;this.jWb=q;this.E2=t;this.events=w;this.$o=v;this.Feb=x;this.priority=z;this.Cj=[];this.console=(0,d.Jh)(k.platform,q,("PresentationTracker [").concat(this.XHb,"] [").concat(this.Feb,"]"));this.Rta=h.add(f.L.Na(null !== (C=null === (B=v.ZN) || void 0 === B?void 0:B.G) && void 0 !== C?C:0));this.listeners=new l.ze();this.mua=new l.ze();this.xx=!0;this.uR=!A;this.LBb(y);this.$bb(u,y,t);}m.prototype.$bb=function(p,q,u){var t;t=this;this.E2=u;this.listeners.clear();this.mua.clear();this.sb=p;this.qc=q;this.mua.on(p.Z,"skipped",this.aW.bind(this));this.listeners.on(u,"requestAppended",function(w){return t.xr(w.request);});this.events=p.events;this.TK.CUa(q);this.IW.CUa(q);};m.prototype.LBb=function(p){var q;q=this;this.TK=p.Vx(function(){return q.CEb();},"Presentation Emit",this.priority);this.IW=p.Vx(function(){return q.EZb();},"Presentation Prune");};m.prototype.aW=function(){this.trace(("skipped, scheduler clock ").concat(this.qc.sa.currentTime.mb()));this.uR=this.xx=!0;this.TK.mf();};m.prototype.CEb=function(){var p,q,u;return c.__generator(this,function(t){switch(t.label){case 0:(g.K && this.console.trace("Starting emit job",this.xx),this.iH=this.oUb(this.xx),p=this.n7a(),t.label=1);case 1:if(!p)return [3,3];this.trace(("queuing task for ").concat(this.j7(p.Go)) + (" at player time ").concat(p.timestamp.mb()) + (" scheduler clock is ").concat(this.qc.sa.currentTime.mb()));return [4,n.Jg.ou(p.timestamp)];case 2:t.Ua();this.trace(("executing task for ").concat(this.j7(p.Go)) + (" for player time ").concat(p.timestamp.mb()) + (", scheduler clock: ").concat(this.qc.sa.currentTime.mb()) + (", actual player time: ").concat(this.sb.Kd) + (", first item: ").concat(this.xx));q=this.uR?this.sb.Kd:p.timestamp;u=this.xx;this.uR=this.xx=!1;this.LWa=p;this.iH++;this.Mka=(p=this.n7a())?p.timestamp:this.uG;try{this.Ila(this.LWa,q,u);}catch(w){this.console.error(("Error in ").concat(this.Feb," emit, continuing"),w);}q=null === p || void 0 === p?void 0:p.timestamp;return [3,1];case 3:return (g.K && this.console.trace("Ending emit job"),[2]);}});};m.prototype.rta=function(){this.xx=!0;};m.prototype.n7a=function(){if(void 0 !== this.iH)return this.Cj[this.iH];};m.prototype.oUb=function(p){var q,u,w;void 0 === p && (p=!1);for(var t=p?0:null !== (q=this.iH) && void 0 !== q?q:0;t < this.Cj.length;t++){q=this.Cj[t];w=f.L.Na(null !== (u=this.$o.NXb) && void 0 !== u?u:0);if(q.timestamp.greaterThan(this.sb.Kd.add(w)))return p && 0 < t?t - 1:t;}return Math.max(this.Cj.length - 1,0);};m.prototype.EZb=function(){var p,q;return c.__generator(this,function(u){switch(u.label){case 0:if(!(1 < this.Cj.length))return [3,2];p=c.__read(this.Cj,2);q=p[1];this.trace(("queuing pruning task for ").concat(q.Go) + (" at player time ").concat(this.Rta.add(q.timestamp).mb()) + (" scheduler clock is ").concat(this.qc.sa.currentTime.mb()));return [4,n.Jg.ou(this.Rta.add(q.timestamp))];case 1:return (u.Ua(),this.trace(("executing pruning task for ").concat(q.Go) + (" at player time ").concat(this.Rta.add(q.timestamp).mb()) + (" scheduler clock is ").concat(this.qc.sa.currentTime.mb())),this.Cj.shift(),this.iH && this.iH--,[3,0]);case 2:return [2];}});};m.prototype.hv=function(p,q,u){this.$bb(p,q,u);};m.prototype.reset=function(){this.Cj=[];g.K && this.trace("reset");this.uR=this.xx=!0;this.uG=void 0;this.iH=0;this.IW.mf();this.TK.mf();};m.prototype.close=function(){g.K && this.trace("close()");this.uR=this.xx=!0;this.mua.clear();this.TK.Oa();this.IW.Oa();this.listeners.clear();this.Cj=[];};m.prototype.bi=function(p){var q;g.K && this.trace(("canSkip() ").concat(p));if(0 === this.Cj.length)return (g.K && this.trace("canSkip false, no media sequence"),!1);q=this.Cj[0];return q.timestamp.greaterThan(p)?(g.K && this.trace(("canSkip false, before earliest item at ").concat(q.timestamp)),!1):void 0 === this.uG || this.uG.lessThan(p)?(g.K && this.trace(("canSkip false, later than last appended at ").concat(this.uG)),!1):!0;};m.prototype.trace=function(p){g.K && this.console.trace(p);};m.prototype.Tha=function(p,q,u){var t;u && (this.uG=u);t=this.Cj.length?this.Cj[this.Cj.length - 1]:void 0;if(void 0 === t || !this.i7(t.Go,p))return (this.Cj.push({Go:p,timestamp:q}),this.TK.state === n.Dk.complete && this.TK.mf(),this.IW.state === n.Dk.complete && this.IW.mf(),!0);t === this.LWa && (this.Mka=u);return !1;};m.prototype.i7=function(p,q){return p === q;};m.prototype.nyb=function(p){p.Cj=c.__spreadArray([],c.__read(this.Cj),!1);p.uG=this.uG;};m.prototype.Z0a=function(){var p,q,u,v;if(this.sb.Nd){q=this.sb.Kd;u=void 0;try{for(var t=c.__values(this.Cj),w=t.next();!w.done;w=t.next()){v=w.value;if(v.timestamp.Fy(q))u=v;else break;}}catch(x){var y;y={error:x};}finally{try{w && !w.done && (p=t.return) && p.call(t);}finally{if(y)throw y.error;}}return null === u || void 0 === u?void 0:u.Go;}};return m;})();b.u0=r;},55759:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.iMa=void 0;c=a(5163);l=a(42866);f=a(27364);k=a(83241);d=a(16962);r=(function(){function g(n,h,m,p,q,u,t,w){this.mediaType=n;this.console=h;this.sb=m;this.E2=p;this.Tn=q;this.kua=u;this.qc=t;this.BA=[];this.mediaType === f.u.Y && this.BA.push(new d.kNa(n,h,m,p,q,u,t,w,2));this.BA.push(new k.S0(n,h,m,p,q,u,t,"stream",1,null === w || void 0 === w?void 0:w.z2a()));}g.prototype.hv=function(n,h,m){this.sb=n;this.qc=h;this.E2=m;this.$C.forEach(function(p){return p.hv(n,h,m);});};g.prototype.mtb=function(n){this.BA.push(n);};g.prototype.Ima=function(n){return (0,l.tc)(this.BA,function(h){return h instanceof n;});};g.prototype.reset=function(){this.BA.forEach(function(n){return n.reset();});};g.prototype.close=function(){this.BA.forEach(function(n){return n.close();});};g.prototype.bi=function(n){return c.__read(this.BA,1)[0].bi(n);};Object.defineProperties(g.prototype,{$C:{get:function(){return this.BA;},enumerable:!1,configurable:!0}});g.prototype.rta=function(){this.$C.forEach(function(n){return n.rta();});};return g;})();b.iMa=r;},16962:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.kNa=void 0;c=a(5163);l=a(42866);f=a(49730);k=a(62558);r=(function(d){function g(n,h,m,p,q,u,t,w,v){n=d.call(this,n,h,m,p,q,u,t,"segment",v,null === w || void 0 === w?void 0:w.z2a()) || this;n.jl=w;return n;}c.__extends(g,d);g.prototype.xr=function(n){var h,m,p,q,u,t,w,v,y,x;u=n.Ab;t=n.Lb;w=n.Ka;v=n.bitrate;y=n.xb;(0,k.assert)(void 0 !== u);x=null === (h=this.sb.Zk(u)) || void 0 === h?void 0:h.I;(0,k.assert)(x,"missing segment id");this.x7=n={I:x,sHb:n.xv,Ka:w,dgb:v,xb:y,RYb:null === (m=this.x7) || void 0 === m?void 0:m.dgb,SYb:null === (p=this.x7) || void 0 === p?void 0:p.xb,Ed:null === (q=n.stream.ma.X) || void 0 === q?void 0:q.Ed};this.Tha(n,u,t) && f.K && this.trace(("segment ").concat(x," @ ").concat(u.G,"ms"));};g.prototype.i7=function(n,h){return n.I === h.I && !h.sHb;};g.prototype.Ila=function(n,h,m){var p,q,u,t,w,v;p=n.Go;q=p.I;u=p.dgb;t=p.RYb;w=p.xb;p=p.SYb;v=this.sb.Zk(h);(0,k.assert)(void 0 !== v);f.K && this.trace(("emitSegmentPresentingEvent @ ").concat(n.timestamp.G,"ms for segment ").concat(q));v.I !== q && (f.K && this.console.warn("player position:",v,"not equal to trackedElement:",q),v={I:q,offset:l.L.Ha});n={type:"segmentPresenting",playerTimestamp:h,position:v,seek:m,playbackContextId:n.Go.Ed};if(this.jl){if(q=this.jl.Wna(q))(q.destvbitrate=u,q.destvmaf=w,q.srcvbitrate=t,q.srcvmaf=p);n.metrics=q;}f.K && this.trace(("segmentPresenting: ").concat(JSON.stringify(n)));this.events.emit(n.type,n);};g.prototype.reset=function(){d.prototype.reset.call(this);this.x7=void 0;};g.prototype.close=function(){d.prototype.close.call(this);this.x7=void 0;};g.prototype.j7=function(n){return n.I;};return g;})(a(1168).u0);b.kNa=r;},83241:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.S0=void 0;c=a(5163);l=a(49730);f=a(62558);r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.xr=function(g){var n,h,m;n=g.stream;h=g.Ab;m=g.Lb;g=g.Ka;(0,f.assert)(void 0 !== h,"playerStartTimestamp undefined at media append");(0,f.assert)(void 0 !== g,"contentStartTimestamp undefined at media append");this.Tha({stream:n,Ka:g},h,m) && l.K && this.trace(("stream ").concat(n.id,", ").concat(n.bitrate,"kbit/s @ ").concat(h.G,"ms"));};d.prototype.i7=function(g,n){return g.stream === n.stream;};d.prototype.Ila=function(g,n){var h,m,p,q;p=g.Go.stream;q=this.sb.Zk(n);(0,f.assert)(void 0 !== q);l.K && this.trace(("emitStreamPresentingEvent @ ").concat(g.timestamp.G,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:n,position:q,trackIndex:null === (h=null === p || void 0 === p?void 0:p.track) || void 0 === h?void 0:h.JE,streamIndex:null === p || void 0 === p?void 0:p.pw,stream:p,manifest:null === (m=p.ma) || void 0 === m?void 0:m.X,contentStartTimestamp:g.Go.Ka});};d.prototype.j7=function(g){return ("").concat(g.stream.Gb,"@").concat(g.Ka.mb());};return d;})(a(1168).u0);b.S0=r;},8190:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.yfa=void 0;c=a(42866);l=a(12043);f=a(27364);r=(function(){function k(d,g){this.T=d;this.oj=g;}k.prototype.haa=function(d,g,n,h,m,p){var q,u;void 0 === m && (m=!1);void 0 === p && (p=void 0);q=d.v;u=this.Hpb(q);this.DE={startTime:l.platform.time.xa(),t4b:d,s4b:n.G,D4:g,$d:this.mKb(h,g),R6b:this.hMb(h,m),c_b:p,aDb:m,nf:h,PUa:u,mUb:this.LKb(q,n)};};k.prototype.z2a=function(){return !!this.DE;};Object.defineProperties(k.prototype,{D4:{get:function(){var d;return null === (d=this.DE) || void 0 === d?void 0:d.D4;},enumerable:!1,configurable:!0}});k.prototype.Wna=function(d){var g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M;if(this.DE && 0 !== Object.keys(this.DE.PUa).length && d === this.DE.D4){w=this.DE;v=w.PUa;y=w.mUb;x=w.aDb;z=w.nf;A=w.t4b;B=w.s4b;C=w.startTime;D=w.$d;F=w.R6b;w=w.c_b;this.DE=void 0;G=this.sga(d).bja;E=this.FIb(A.v.id,d,v);G=this.uQa(E.weight,G);I={};for(M in v){M !== d && (I[M]=v[M].details);}v=l.platform.time.xa() - C;C=z?0:v;M={offset:c.L.Na(this.LLb(A,B,z,x)),I:A.v.id};B={offset:c.L.Na(B),I:A.v.id};y={segment:d,destPosition:{I:d,offset:c.L.Ha},srcsegment:A.v.id,srcTransitionPosition:M,srcStartPosition:B,srcsegmentduration:A.nY.G,srcoffset:M.offset.G,seamlessRequested:z,atRequest:E,atTransition:G,discard:I,transitionType:D,transitionTypeAtRequest:F,delayToTransition:this.oJb(v,z,x),durationOfTransition:C,nextExitPositionAtRequest:y};w && (y.reasonCodes=w);x=null !== (n=null === (g=this.oj.ca.O[d]) || void 0 === g?void 0:g.type) && void 0 !== n?n:"content";g=null !== (m=null === (h=this.oj.ca.O[A.v.id]) || void 0 === h?void 0:h.type) && void 0 !== m?m:"content";d=null !== (q=null === (p=this.oj.ca.O[d]) || void 0 === p?void 0:p.J) && void 0 !== q?q:void 0;p=null !== (t=null === (u=this.oj.ca.O[A.v.id]) || void 0 === u?void 0:u.J) && void 0 !== t?t:void 0;d && p && d !== p && (y.auxMidType=x,y.auxSrcmidType=g,y.auxMid=d,y.auxSrcmid=p);return y;}};k.prototype.FIb=function(d,g,n){var h,m,p;p={};(n=n[g])?p=n.details:((0,c.assert)(this.oj),p.weight=null === (m=null === (h=this.oj.ca.O[d].next) || void 0 === h?void 0:h[g]) || void 0 === m?void 0:m.weight);return p;};k.prototype.oJb=function(d,g,n){var h;n || (h=g?d:0);return h;};k.prototype.LKb=function(d,g){var n,h,m;h=d.me.add(g);null === (n=d.gw) || void 0 === n?void 0:n.some(function(p){h.lessThan(p.Ka) && (m=p.Ka.G);});return m;};k.prototype.LLb=function(d,g,n,h){return n || h?d.nY.G:g;};k.prototype.mKb=function(d,g){return d?"seamless":this.sga(g).M1a?"reset":"long";};k.prototype.hMb=function(d,g){return d || g?"lazy":"immediate";};k.prototype.Hpb=function(d){var g,n;g=this;n={};d.Sy.forEach(function(h){var m,p;m=d.pUb[h];p=g.sga(h).bja;n[h]={details:g.uQa(m,p)};});return n;};k.prototype.sga=function(d){var g,n;d=this.oj.IT(d);g=0 < d.length?d[0]:void 0;d=null === g || void 0 === g?void 0:g.tL();if(!g || !d)return {M1a:!1,bja:{Yaa:0,l2:0,CY:0,LR:0}};n=g.s6(f.u.fa) && !d.l2;g=g.s6(f.u.Y) && !d.Yaa;return {M1a:!n && !g,bja:d};};k.prototype.uQa=function(d,g){return {weight:d,vbuflmsec:g.Yaa,abuflmsec:g.l2,vbuflbytes:g.CY,abuflbytes:g.LR};};return k;})();b.yfa=r;},45331:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O,H,J,N,R,T,ka,sa,ia,wa,Aa,La,Ya,ab,aa,oa,Ga,Sa,Q;function c(da){var P;P={};da.forEach(function(Y){Y.mediaType !== m.u.Ga && (P[Y.mediaType]=Y.Um());});return P;}Object.defineProperties(b,{__esModule:{value:!0}});b.Nba=void 0;l=a(5163);f=a(57055);k=a(50954);d=a(42866);g=a(42866);n=a(12043);h=a(85668);m=a(27364);p=a(9225);q=a(74029);u=a(47870);t=a(62558);w=a(14895);v=a(7881);y=a(42186);x=a(83386);z=a(13043);A=a(66709);B=a(95971);C=a(48641);D=a(34848);F=a(33285);G=l.__importDefault(a(76733));E=a(48154);I=a(88985);M=a(99384);L=a(92589);K=a(97810);O=a(93514);H=a(58726);J=a(124);N=a(90468);R=a(41054);T=a(16236);ka=a(84975);sa=a(10814);ia=a(98468);wa=a(21690);Aa=a(58730);La=a(60857);Ya=a(63037);ab=a(43603);aa=a(56844);oa=a(45609);Ga=a(22486);r=a(88801);Sa=a(36654);Q=r.Wv.bla;a=(function(){function da(P,Y,ta,Ha,Wa,$a,fb,sb,Jb,Ua){this.oj=P;this.LRa=Y;this.config=ta;this.id=Ha;this.Is=$a;this.vj=fb;this.Wxb=sb;this.Ek=Ua;this.EJ=!1;this.tJ=void 0;this.ema=[];this.wj=this.Ta=this.En=void 0;this.Stb="2.0";this.V2a=this.U1=this.vm=this.Qga=void 0;this.Xa=h.jm.CLOSED;this.qga=!0;this.J2=!1;this.dI=this.KY=this.TE=void 0;this.QTa=new f.ze();this.kB=0;this.qaa=!1;this.lOb();this.console=new n.platform.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.Xg=new F.Ju({ko:10,hn:this,source:"AsePlaygraph",console:this.console});this.events=new f.EventEmitter();this.Twa(P);this.Ya=new ka.ELa();this.ng=new oa.GLa(this.console);this.Noa=new J.QEa(this.config,d.L.Na(this.config.uM),{parent:function(bb){return bb.ZT();},next:this.NKb.bind(this)},this.events,this.console);this.raa=new u.ONa(this.console,this.events);this.oS={KB:ta.xV || Infinity};this.Z=new w.tea(this);this.yd=new v.uQ(this.Z.sa,this.console,"playgraph",1);this.pOb();this.Ye=new sa.NBa(this.console,ta,Wa,this.events,this,this.kq);this.f3=new Aa.ABa(this.yd,this.kq,this.config,this.Oj.bind(this),this.Pd,this.console);this.V8=this.Ye.V8.bind(this.Ye);this.bW=this.Ye.bW.bind(this.Ye);this.e9=this.Ye.e9.bind(this.Ye);this.N8=this.N8.bind(this);this.L8=this.L8.bind(this);this.M8=this.M8.bind(this);this.GH=this.GH.bind(this);this.Wt=new z.Yea(ta);this.hOb();this.Wt.Ce(new C.gx(this.Ye.Xg));this.Wt.Ce(new D.SKa(this.aLb.bind(this)));this.Wt.Ce(new C.gx(this.Xg));this.Wt.Ce(new E.DLa(this.Ya,this));this.Wt.Ce(new M.gHa(this));this.Wt.Ce(new L.ZNa(this.yd));this.rdb=new aa.NNa(this,this.console,Jb);this.L7=new I.EHa(this.kq,this.console,this.events);this.Cm=new Ga.ILa(this.Y9.bind(this));this.$wa((0,y.zK)(),(0,y.AK)(this.config));}Object.defineProperties(da.prototype,{parent:{get:function(){return this.En;},set:function(P){this.En=P;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{er:{get:function(){return !(this.Z instanceof w.tea);},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{Uc:{get:function(){return this.tJ;},set:function(P){this.tJ=P;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{BOb:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{ca:{get:function(){return this.oj;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{weight:{get:function(){return this.LRa;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{th:{get:function(){(0,t.assert)(this.fr,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.vm.position;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{nbb:{get:function(){(0,t.assert)(this.fr,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.bG(this.th).Gl;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{Pd:{get:function(){return this.Ye.state;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{Aj:{get:function(){return this.Ye.Aj;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{fr:{get:function(){return void 0 !== this.vm;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{yg:{get:function(){return this.Z.Nd?this.Z.yg:this.th;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{Kd:{get:function(){var P;return this.Z.Nd?this.Z.Kd:(null === (P=this.vm) || void 0 === P?void 0:P.Yp) || this.nbb;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{avb:{get:function(){return this.Mob;},enumerable:!1,configurable:!0}});Object.defineProperties(da.prototype,{fba:{get:function(){return this.esb;},enumerable:!1,configurable:!0}});da.prototype.pOb=function(){this.kq=new v.uQ(new B.Q0({ji:!0,currentTime:function(){return d.L.Na(n.platform.time.xa());},speed:1}),this.console,"wallclock");};da.prototype.hOb=function(){var P;P=this;(0,ab.bWa)({Ye:this.Ye,kq:this.kq},v.Jg.fD(d.L.Na(this.config.wW)),function(){P.Z.Nd && P.Z.Zy && (P.Ye.state.value === m.Rc.pl || P.Ye.state.value === m.Rc.Ne) && P.qE(P.Z.Zy);},"buffering");};da.prototype.lOb=function(){var P;P=this;this.Sv=function(Y){var ta,Ha,Wa;Ha=P.navigator.he(Y.position.I);if((Ha=P.Zna(Ha)) && P.Z.Nd){Wa=(0,K.Jma)(P.Z.Ya.filter(function($a){return $a.v.id === Y.position.I;}),Y.playerTimestamp,{wVa:!0});Wa && (null === (ta=P.Z.jl) || void 0 === ta?void 0:ta.haa({v:Wa.v,get nY() {return Wa.Wa.qa(Wa.v.me);}},Ha,P.yg.offset,!0,!1,void 0));}P.Cm.start();};this.YV=function(){P.vj("onDrmReady");};this.GVb=function(Y){Y=Y.newValue;P.EJ || (P.EJ=Y);};};da.prototype.open=function(){this.qga=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Xa !== h.jm.CLOSED)return !1;this.Xa=h.jm.OPEN;return !0;};da.prototype.Oa=function(){this.kq.Oa();this.yd.Oa();this.Xa !== h.jm.CLOSED && (this.Df(),this.Cm.Oa(),this.Ye.stop(),this.Xa=h.jm.CLOSED,this.er || this.Z.Oa(),this.L7.Oa());};da.prototype.yxb=function(P,Y,ta){P=(0,ia.dma)(this.Ya,this.GH.bind(this),P,Y,ta).DUa;return this.qUa(P);};da.prototype.oz=function(P,Y,ta){var Ha,Wa,$a,fb,sb,Jb,Ua;Ha=this;Wa=this.TE;$a=this.KY;fb=this.dI;this.TE=P;this.KY=Y;this.dI=ta;Y=(0,ia.dma)(this.Ya,this.GH.bind(this));sb=Y.DUa;P=Y.Nvb;Y=Y.Etb;if(0 === sb.length)return !0;if(!this.qUa(sb))return (this.TE=Wa,this.KY=$a,this.dI=fb,!1);Jb=this.yg;this.Z.HN(sb);this.Z.vY(Y);Ua=this.bG(Jb).Gl;P.forEach(function(bb){var kb;kb=bb.kb;kb.oz(bb.Gd,Jb.I === kb.v.id?Ua:void 0,void 0 !== Ha.Ya.W5(kb),sb);});this.Ye.cWb(Jb,P[0].Gd);return !0;};da.prototype.zK=function(P){return (0,y.zK)(this.config,P);};da.prototype.AK=function(P){return (0,y.AK)(this.config,P);};da.prototype.WT=function(P,Y){var ta,Ha;ta=this.navigator.he(P);Ha=this.navigator.he(Y);return {O8b:ta.eNb(Y),pS:Y !== P && this.Ya.has(Y) && this.Ya.Ep(Y)[0].Pg,K3:Ha.me.G,ysa:this.Zna(ta)};};da.prototype.Oj=function(P,Y,ta,Ha){var Wa,$a,fb,sb;Wa=this;void 0 === Ha && (Ha=!0);if(!Y)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(Ha && this.ng.get(P))ta || this.ng.set(P,Y);else {fb=this.IT(P)[0];sb=this.navigator.he(P);this.yg.I === P && fb && (null === ($a=this.Z.jl) || void 0 === $a?void 0:$a.haa({v:fb.v,get nY() {return fb.Wa.qa(fb.v.me);}},Y,this.yg.offset,Ha,ta,void 0));Ha || (P={offset:d.L.Ha,I:Y},this.vm={position:P,Pg:!0,dfb:P});ta?this.ng.D2b(sb.id,Y):this.ng.set(sb.id,Y);this.Cm.start();Ha && sb.gw && 0 < sb.gw.length && ((0,t.assert)(fb),fb.Laa(sb.gw) && this.IT(Y).forEach(function(Jb){return Wa.vw(fb,Jb);}));Ha || this.Ye.c9(this.th);}};da.prototype.qUa=function(P){var Y,ta;if(0 === P.length)return !0;if(this.Z.OH && this.Z.r7.value.qa(this.Z.Kd).lessThan(d.L.Na(5E3)))return !1;P=this.Z.Ya;if(!P.length)return !0;ta=null === (Y=P[0]) || void 0 === Y?void 0:Y.ma.J;return !P.some(function(Ha){return Ha.ma.J !== ta;});};da.prototype.vw=function(P,Y){var ta;ta=this;P=P.Lb.qa(Y.v.me);Y.vw(P);this.Ya.cJb(Y).forEach(function(Ha){return ta.vw(Y,Ha);});};da.prototype.dj=function(P){this.navigator.dj(P);this.Cm.start();};da.prototype.$wa=function(P,Y){this.Mob=P;this.esb=Y;this.state === h.jm.rl && this.vj("setStreamFilters");};da.prototype.Rsb=function(P){(0,t.assert)(-1 === this.ema.indexOf(P),"Attempted to add the same evaluation hook twice");this.ema.push(P);};da.prototype.Z2b=function(P){this.Is.j0b(P);};da.prototype.LC=function(P,Y){this.C$(P,Y);};da.prototype.C$=function(P,Y,ta){var Ha,Wa,$a,fb,sb;$a=this.ca;fb=(0,H.cgb)($a,P);if(fb.eM){sb=this.y1b($a,P,Y);if(void 0 === sb)this.lf(("Invalid seekPosition after sanitization to ").concat(P.I) + ("(").concat(P.offset.G,"ms)") + (", reason: ").concat(fb.reason),null === (Ha=$a.O[P.I]) || void 0 === Ha?void 0:Ha.J);else if(void 0 === this.TE || void 0 === this.KY)this.lf("No track selectors available");else if((Ha=!(this.er && this.Z.Hp) && (0,H.F1a)(null === (Wa=this.vm) || void 0 === Wa?void 0:Wa.dfb,sb),this.events.emit("seeking",{type:"seeking",position:P,duplicate:Ha}),!Ha)){this.U1=ta;this.fr?(this.zya(sb),this.ZUa(P)):this.Ya.empty && ta && (ta=this.Z.TF()) && (this.zya(sb,{I:ta.v.id,offset:ta.ve}),this.ZUa(P));P=this.p0a();try{this.Df(!0);this.Yxb();this.vm={position:sb,dfb:sb,Pg:!1,Yp:Y};this.V2a=Y?Y.qa(this.nbb):d.L.Ha;this.Ye.c9();this.Xa=h.jm.rl;this.Cm.start();}finally{P.release();}}}else this.lf(("Invalid seekPosition to ").concat(null === P || void 0 === P?void 0:P.I) + ("(").concat(P.offset.G,"ms)") + (", reason: ").concat(fb.reason),null === (sb=$a.O[P.I]) || void 0 === sb?void 0:sb.J);};da.prototype.zya=function(P,Y,ta,Ha){var Wa,$a,fb;void 0 === ta && (ta=!1);fb=this.navigator.he(null !== (Wa=null === Y || void 0 === Y?void 0:Y.I) && void 0 !== Wa?Wa:this.yg.I);null === ($a=this.Z.jl) || void 0 === $a?void 0:$a.haa({v:fb,nY:fb.duration},P.I,Y?Y.offset:this.yg.offset,!1,ta,Ha);};da.prototype.ZUa=function(P){var Y,ta;if((null === (Y=this.Z.TF()) || void 0 === Y?void 0:Y.v.id) === P.I){if((this.ng.Zxb(P.I),!this.ng.get(P.I) && this.Z.Hp)){P=this.Z.Ya;ta=this.Z.TF();ta && (P=(0,g.tc)(P,function(Ha){return Ha.parent === ta;})) && this.ng.set(ta.v.id,null === P || void 0 === P?void 0:P.v.id);}}else this.ng.Rja();};da.prototype.p0a=function(){var P,Y;P=this;Y=this.Ya.filter(function(ta){return ta.v.J !== k.sq;}).map(function(ta){return P.Is.wo(ta.v.J).Ey;});return new x.X_(function(){Y.forEach(function(ta){return ta.release();});},this.console).Ms();};da.prototype.Df=function(P){var Y,ta,Ha;Ha=this.C1a();this.Ya.reset();if(!P && (this.ng.Rja(),Ha.length))try{for(var Wa=l.__values(Ha),$a=Wa.next();!$a.done;$a=Wa.next()){$a.value.X$a();}}catch(sb){var fb;fb={error:sb};}finally{try{$a && !$a.done && (Y=Wa.return) && Y.call(Wa);}finally{if(fb)throw fb.error;}}this.yd.mf();this.Z.reset();this.vm=void 0;this.f3.reset();null === (ta=this.QTa) || void 0 === ta?void 0:ta.clear();this.Xa === h.jm.rl && (this.Xa=h.jm.OPEN);};da.prototype.IT=function(P){return this.Ya.Ep(P);};da.prototype.oh=function(P){this.Ye.oh(P);(0,t.assert)(this.Z.kr,"Must have an appended branch on underflow");this.Z.USa && this.Ye.Aj && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),P=this.Xn(this.Kd),this.Ye.Dm("complete",P.yO,P.zO));this.f3.wya(this.Z.kr,this.Kd);this.vj("onUnderflow");this.events.emit("underflow");};da.prototype.Ce=function(P){this.Wt.Ce(P);};da.prototype.hv=function(P){this.Ce(new A.FMa(P));this.Ye.PVb();return this.Hub(P);};da.prototype.Hub=function(P){var Y;Y=this.Z;if(!this.Z.Bya(P))return (this.lf("player in use"),!1);this.Z=P;this.yd.O2(this.Z.sa);this.Z.events.on("segmentPresenting",this.Sv);this.Z.events.on("drmReady",this.YV);this.Z.xr.addListener(this.GVb);P=this.CKb();0 < P.length && this.Z.vY(P);this.events.emit("playerChanged",{type:"playerChanged",old:Y,"new":this.Z});return !0;};da.prototype.bG=function(P){var Y,ta;Y=P.offset;ta=this.navigator.he(P.I);P=ta.J;Y=ta.me.add(Y);return {J:P,Gl:Y};};da.prototype.Zk=function(P,Y){var ta,Ha,Wa;Wa=this.Z.Zk(P);if(void 0 !== Wa)return Wa;if(null === (Ha=null === (ta=this.vm) || void 0 === ta?void 0:ta.Yp) || void 0 === Ha?0:Ha.equal(P))return this.U1 || this.th;ta=this.Z.kr;return (0,H.Zk)(P,{ya:this,sOb:ta && ({id:ta.v.id,S1b:ta.Dr})},Y);};da.prototype.GB=function(P,Y){void 0 === Y && (Y=!1);P=this.mU(P,Y).next();if(!P.done)return (P=P.value,null === P || void 0 === P?void 0:P.Yp);};da.prototype.mU=function(P,Y){var ta,Ha,Wa,$a,fb,sb,Jb,Ua,bb,kb,rb,qb,yb;void 0 === Y && (Y=!1);return l.__generator(this,function(Ab){switch(Ab.label){case 0:(ta=this.Z.mU(P),Ha=ta.next(),Ab.label=1);case 1:return Ha.done?[3,3]:[4,Ha.value];case 2:return (Ab.Ua(),Ha=ta.next(),[3,1]);case 3:if(!Y)return [2];Wa={};$a=this.yg;this.er && this.Z.Nd && (Jb=this.Z.kr) && ($a={offset:d.L.Ha,I:Jb.v.id},fb=Jb.Lb.qa(this.Z.Kd),sb=Jb.v);fb || (sb=this.navigator.he($a.I),fb=sb.me.add($a.offset).qa(sb.Ff));(0,t.assert)(sb,"Current segment should be defined by here");Ua=this.Kd;if(sb.v.Eb && sb.id !== P.I)return [3,6];if(sb.id !== P.I)return [3,5];bb=P.offset.qa($a.offset);return [4,{LK:bb,Yp:Ua.add(bb)}];case 4:(Ab.Ua(),Ab.label=5);case 5:return [2];case 6:(kb=this.navigator.he(sb.v.Eb),rb=this.navigator.l4a(kb),qb=rb.next(),Ab.label=7);case 7:if(qb.done)return [3,11];yb=qb.value;if(Wa[yb.id])return [3,11];Wa[yb.id]=!0;if(yb.id !== P.I)return [3,9];bb=P.offset.add(fb);return [4,{LK:bb,Yp:Ua.add(bb)}];case 8:return (Ab.Ua(),[2]);case 9:(fb=fb.add(yb.duration),Ab.label=10);case 10:return (qb=rb.next(),[3,7]);case 11:return [2];}});};da.prototype.dbb=function(P){return (0,H.kwa)(this.ca,P);};da.prototype.wp=function(P){return (0,O.wp)(this.ca,P.J,P.Gl);};da.prototype.y1b=function(P,Y,ta){var Ha,Wa;Ha=(0,H.kwa)(P,Y);Wa=d.L.Na(1E4);if(!Ha || !ta || ta.greaterThan(Wa))return Ha;P=Y.offset.add(d.L.Na(P.O[Y.I].ta));ta=ta.qa(P);if(ta.hi(d.L.Ha))return Ha;Wa=d.L.max(d.L.Ha,P.qa(Wa)).add(ta);if(Wa.hi(d.L.Ha))return Ha;Wa=Ha.offset.add(Wa);return {I:Ha.I,offset:Wa};};da.prototype.ht=function(P,Y){var ta;P="string" === typeof P?{J:this.ca.O[P].J,Gl:d.L.Na(Y)}:P;if(P.J !== k.sq){Y=this.Is.wo(P.J);try{return null === (ta=Y.ma) || void 0 === ta?void 0:ta.ht(this.config,P.Gl.G);}finally{Y.Ey.release();}}};da.prototype.T5=function(){return (0,La.p_a)(this.Ya,this.S6.bind(this));};da.prototype.S6=function(P){P=this.Ya.W5(P);return void 0 === P || P.Zh && this.S6(P);};da.prototype.S5=function(){return this.oS.KB;};da.prototype.CJb=function(P){return (0,Ya.o1a)(this.Ya,P);};da.prototype.Xn=function(P){var ta,Ha,Wa,$a;function Y(fb){return fb?Math.max(fb - P.G,0):0;}ta=this;this.Ya.FF(function(fb){var sb,Jb,Ua;sb=fb.xL(m.u.fa);Jb=fb.xL(m.u.Y);Ua=fb.xL(m.u.Ga);if(fb.v.aY || !ta.Ya.Soa(fb) || !fb.Zh){if(!Ha || sb < Ha)Ha=sb;if(!Wa || Jb < Wa)Wa=Jb;if(!$a || Ua < $a)$a=Ua;}return fb.Zh;});return {yO:Y(Ha),zO:Y(Wa),zeb:Y($a)};};da.prototype.MF=function(){var P,Y,ta,Ha;ta=this.fr?this.Xn(this.Kd):{yO:0,zO:0,zeb:0};Ha=G.default.instance().get();return {totalabuflmsecs:ta.yO,totalvbuflmsecs:ta.zO,totaltbuflmsecs:ta.zeb,abuflbytes:0,vbuflbytes:0,tbuflbytes:0,currentBandwidth:null !== (Y=Number(0 < Ha.confidence) && (null === (P=Ha.nb) || void 0 === P?void 0:P.Ca)) && void 0 !== Y?Y:0};};da.prototype.LL=function(){var P,Y,ta,Ha,Wa,$a,fb,sb;P=this;if(this.jr())return (this.Xg.Os({isStreamingFailureReported:!0}),[]);ta=this.Ya.size;this.Xg.Os({branchCount:ta});if(!this.fr || 0 === ta)return [];Ha=this.Kd;Wa=this.yg;$a=[];ta=this.navigator.he(this.yg.I);fb=ta.duration;sb=this.ng.get(ta.id)?1:null !== (Y=ta.gq) && void 0 !== Y?Y:1;Y=this.Ya.reduce(function(Jb,Ua,bb){var kb,rb,qb,Lb,Sb,Xb,Ib;qb=Ua.R5();try{for(var yb=l.__values(qb),Ab=yb.next();!Ab.done;Ab=yb.next()){Lb=Ab.value;if(!Lb.$m()){Sb=("p").concat(P.id,"-").concat(bb,"-").concat(null === (rb=Ua.Ab) || void 0 === rb?void 0:rb.G);Xb=P.ULb(Lb);Ib=new Sa.VLa(P,Lb,Sb,sb,fb.G,Xb.G,Ha.G,Wa);Jb.push(Ib);}!Lb.hr() && P.Xg.enabled && $a.push({segmentId:Lb.I,isDoneStreaming:Lb.$m(),isNormalized:Lb.Pg(),needsHeaderRequest:Lb.track.MV});}}catch(Pb){var Nb;Nb={error:Pb};}finally{try{Ab && !Ab.done && (kb=yb.return) && kb.call(yb);}finally{if(Nb)throw Nb.error;}}return Jb;},[]);this.Xg.Os({nonStreamables:$a});return Y;};da.prototype.ULb=function(P){var Y;Y=P.ZT();if(this.config.G4 && Y && this.navigator.aNb(Y.kb.v,P.I))return P.Kk;for(;Y && !Y.Sta;){P=Y;Y=Y.ZT();}return P.Kk;};da.prototype.NKb=function(P){var Y;if(!P.kb.Qd){Y=P.kb.v.v.Eb;if(Y)return (Y=l.__read(this.Ya.Ep(Y),1)[0],null === Y || void 0 === Y?void 0:Y.VF(P.mediaType));}};da.prototype.dWb=function(P){var Y,ta;if(!this.raa.jr()){Y=void 0;ta=this.Z.yg;ta && (Y=this.navigator.he(ta.I).J);this.lf("BufferingStateTracker: Temporary failure while buffering",Y,"NFErr_MC_StreamingFailure",null === P || void 0 === P?void 0:P.Uf,null === P || void 0 === P?void 0:P.Ym,null === P || void 0 === P?void 0:P.Vi);}};da.prototype.lf=function(P,Y,ta,Ha,Wa,$a,fb){void 0 === fb && (fb=!1);"string" === typeof P?this.raa.lf(P,ta,{networkErrorCode:Ha,httpCode:Wa,nativeCode:$a,viewableId:Y,temporaryFailure:fb}):this.raa.q0b(P);return !0;};da.prototype.Hya=function(P,Y){Y=this.P5(Y,P);this.events.emit("logdata",{type:"logdata",target:P,fields:Y});};da.prototype.P5=function(P,Y){void 0 !== P && this.L7.DQb(P);Y=this.Wt.gi(P,Y);P === z.kc.ei && (P=this.MF(),Y.vbuflmsec=P.totalvbuflmsecs,Y.abuflmsec=P.totalabuflmsecs,Y.vbuflbytes=P.vbuflbytes,Y.abuflbytes=P.abuflbytes);return Y;};da.prototype.kfb=function(P){this.oS=P;this.vj("updateBudget");};da.prototype.jr=function(){return this.raa.jr();};da.prototype.Efb=function(P){P !== this.weight && (this.LRa=P,this.events.emit("weightUpdated"));};da.prototype.ku=function(P){var Y,ta,Ha,Wa,$a,fb,Ua,bb,kb,rb,qb,yb,Ab,Lb,Sb,Xb;Ha=(0,T.iUa)(this.ca,P);Wa=Ha.Vt;$a=Ha.txb;fb=Ha.r7b;if([Ha.WR,Wa,$a].every(function(Nb){return !Nb.length;}))return (this.Twa(P),this.Cm.start(),{ia:!0,reason:m.xq.Pmb});if(0 === $a.length && 0 === fb.length && this.er && this.Z.Nd)return {ia:!1,reason:m.xq.Ylb};if(this.Z.Ya.some(function(Nb){return -1 < Wa.indexOf(Nb.v.id);}))return {ia:!1,reason:m.xq.Mnb};if(this.fr && !this.Z.Nd && -1 < Wa.indexOf(this.th.I))return {ia:!1,reason:m.xq.olb};if(this.fr)try{for(var sb=l.__values($a),Jb=sb.next();!Jb.done;Jb=sb.next()){Ua=Jb.value;bb=this.ca.O[Ua];kb=bb.ta;rb=bb.va;qb=bb.J;yb=P.O[Ua];Ab=yb.va;Lb=yb.ta;Sb=yb.J;if(this.yg.I === Ua && Ab !== rb){if(!Ab)return {ia:!1,reason:m.xq.Nnb};Xb=d.L.Na(Ab - Lb);if(null === (ta=this.yg.offset) || void 0 === ta?0:ta.greaterThan(Xb))return {ia:!1,reason:m.xq.Zgb};}if(kb !== Lb)return {ia:!1,reason:m.xq.$jb};if(qb !== Sb)return {ia:!1,reason:m.xq.akb};}}catch(Nb){var Ib;Ib={error:Nb};}finally{try{Jb && !Jb.done && (Y=sb.return) && Y.call(sb);}finally{if(Ib)throw Ib.error;}}this.Twa(P);this.Cm.start();return {ia:!0,reason:m.xq.Omb};};da.prototype.zB=function(P){P=this.IT(P);P=0 < P.length?P[0]:void 0;if((P=null === P || void 0 === P?void 0:P.Zq()) && 0 !== P.length)return d.L.min.apply(d.L,l.__spreadArray([],l.__read(P.map(function(Y){return Y.zB();})),!1));};da.prototype.Twa=function(P){var Y;Y={type:"playgraphUpdating",kVb:this.oj,gUb:P};this.oj=P;this.navigator?this.navigator.update(P):this.navigator=new R.NLa(P);this.yMb=(0,T.OVa)(this.navigator);this.l8b();this.events.emit("playgraphUpdating",Y);};da.prototype.l8b=function(){var P,Y,ta,Ha,Wa;ta=this.Z && this.er && this.Z.Nd?this.yg:void 0;if(ta){Ha=this.navigator.he(ta.I);ta=null === (P=this.Z.jl) || void 0 === P?void 0:P.D4;if((P=this.Zna(Ha)) && P !== ta && this.Z.Hp){Wa=this.Z.Zy;null === (Y=this.Z.jl) || void 0 === Y?void 0:Y.haa({v:Wa.v,get nY() {return Wa.Wa.qa(Wa.v.me);}},P,this.yg.offset,!0,!1,void 0);}}};da.prototype.cW=function(P,Y){this.kab(P);P.gL.addListener("criticalNetworkError",this.V8);P.gL.addListener("temporaryNetworkError",this.bW);P.gL.addListener("updatingLastSuccessEvent",this.e9);P.events.addListener("logdata",this.N8);P.events.addListener("liveEventTimesUpdated",this.L8);P.events.addListener("liveLoggingInfoUpdated",this.M8);P.aa && P.dZb();this.Xa === h.jm.rl && Y && this.gbb();};da.prototype.sta=function(P){0 === this.Ya.filter(function(Y){return Y.Xm && Y.ma === P;}).length && this.kab(P);};da.prototype.kab=function(P){P.gL.removeListener("criticalNetworkError",this.V8);P.gL.removeListener("temporaryNetworkError",this.bW);P.gL.removeListener("updatingLastSuccessEvent",this.e9);P.events.removeListener("logdata",this.N8);P.events.removeListener("liveEventTimesUpdated",this.L8);P.events.removeListener("liveLoggingInfoUpdated",this.M8);};da.prototype.$Ra=function(P){var Y;(0,t.assert)(P.Pg,"expected branch to be normalized on addBranchToPlayer");this.Z.Hp || (null === (Y=this.vm) || void 0 === Y?0:Y.Pg) || this.oHb(P);this.Ye.bza(P.Gd);this.Z.Hp && (Y=this.Z.kr) && this.ng.clear(Y.v.id);this.Z.Wla(P);this.f3.wya(P,this.Kd);};da.prototype.oHb=function(P){(0,t.assert)(P.Ka,"Normalized branch should have a defined content start timestamp");(0,t.assert)(this.vm,"AsePlaygraph should have a seek position on first branch normalization");(0,t.assert)(!this.vm.Pg,"Seek position should not already be normalized on first branch normalization");this.vm=l.__assign(l.__assign({},this.vm),{position:{I:P.v.id,offset:P.Ka.qa(P.v.me)},Pg:!0});this.Ye.w2b(this.vm.position,P.Gd.filter(function(Y){return Y.mediaType === m.u.fa;})[0]);};da.prototype.Yxb=function(){var P;this.f3.reset();this.Z.WA();this.vm=void 0;null === (P=this.QTa) || void 0 === P?void 0:P.clear();};da.prototype.f7=function(P,Y,ta){Y=this.rdb.axb(Y,P.hk.mediaType,1 > ta || !P.hk.kb.Qd && !this.S6(P.hk.kb));1 === ta && "global" === (0,m.gva)(Y.reason) && this.Ye.BVb(P.hk.mediaType,this.Xn(this.Kd));return Y;};da.prototype.sG=function(P){var Y,ta,Ha,Wa,$a,fb,sb,Jb,Ua,bb,kb,rb,qb,yb;Y=this;$a=P.hk;P=$a.mediaType;fb=this.Noa.X1b(this.Pd.value,this.Kd,$a.TC,$a.sdb,this.Z.playbackRate,$a,P === m.u.fa?this.avb:this.fba,this.J2);sb=fb.stream;Jb=fb.DX;Ua=fb.CU;bb=fb.$t;kb=fb.Kt;rb=fb.reason;qb=fb.SGb;fb=fb.Y1b;if(!sb)return {Hh:!1,reason:rb || "selectLocationsAndStream"};if(this.Pd.value === m.Rc.rl && $a.kb && $a.kb.ma.Ol && !$a.kb.ma.zV && !this.Z.LU($a.kb.ma.J)){rb=$a.TC.G - this.Kd.G;if(!$a.kb.ma.Cp && rb > this.config.T5a)return {Hh:!1,reason:"maxBufferingCompleteBufferInMs"};if(!sb.ii && sb.mediaType === m.u.Y && rb >= this.config.Fra)return {Hh:!1,reason:"maxFastPlayBufferInMs"};}rb=m.u.Y;if(null === (ta=$a.kb) || void 0 === ta?0:ta.Gd.every(function(Ab){return Ab.mediaType === m.u.fa;}))rb=m.u.fa;this.Ye.Aj && P === rb && this.Ye.L2b($a.Bo.$1b,sb.bitrate,Ua);this.E2b($a.kb.v,Jb);ta=null === (Ha=$a.kb.Sr) || void 0 === Ha?void 0:Ha.G;Ha=$a.Reb(sb,kb,bb);if(Ha.Hh){this.qga && (this.OJ("firstDriveStreaming"),this.qga=!1);if(0 < this.kB){yb=null === (Wa=$a.kb.Sr) || void 0 === Wa?void 0:Wa.G;ta && yb && (this.kB-=ta - yb,0 >= this.kB && this.gbb());}this.events.emit("requestIssued",{type:"requestIssued",mediaType:P,result:fb,streamList:qb});}else "exceedsLiveEdge" === Ha.reason && (null === (yb=this.Qga) || void 0 === yb?void 0:yb.Oa(),this.Qga=this.kq.bB(v.Jg.fD(sb.Tm().Ld),function(){Y.Qga=void 0;Y.vj("liveEdgeRetry");}));return Ha;};da.prototype.S2b=function(P){this.config.enableCprVideo=P;};da.prototype.E2b=function(P,Y){var ta;ta=this;Y.forEach(function(Ha){Ha.ma.Obb(Ha,P,function(){var Wa,$a;(0,t.assert)(ta.fr,"Speculative header callback after streaming is cancelled");Wa=ta.Kd.G;$a=Wa + ta.config.l8;return {kf:[],Pd:ta.Ye.state.value,ro:$a,uk:$a,Lk:Wa};});});};da.prototype.gbb=function(){var P;P=this;this.Cm.iba(Ga.ED.Mw,function(){return P.Cm.start();});};da.prototype.Y9=function(){var P,Y,ta,Ha,Wa;P=this;if(this.Xa === h.jm.rl){Y=this.yg;ta=this.Z.Ya;Ha=this.Ya.mMb();Wa=l.__read(ta,1)[0];Y=Wa?this.navigator.he(Wa.v.id):this.navigator.he(Y.I);ta=ta.map(function($a){return {id:$a.v.id,duration:$a.Lb.qa($a.Ab).G};});Ha=(0,N.Y9)(this.console,this.yMb,Y,Ha,this.ng,ta,d.L.Na(this.config.Lvb),this.config.isa,d.L.Na(this.config.Zia));ta=Ha.Ova;this.kB=Ha.kB || 0;Ha=this.ema.reduce(function($a,fb){return fb($a);},ta);this.Ya.G7b(Ha,function($a,fb){var sb,Jb;Jb=P.navigator.he($a);$a=$a === P.th.I?P.th.offset:$a === (null === (sb=P.U1) || void 0 === sb?void 0:sb.I)?P.U1.offset:d.L.Ha;sb=Jb.me.add($a);return P.d7b(Jb,sb,fb);}).Vt.forEach(function($a){$a.Df("aborted");});this.S$a();this.IUa();this.Cm.iba(Ga.ED.Mw,function(){var $a;(null === ($a=P.Ya.root()) || void 0 === $a?0:$a.Xm) && P.vj("reevaluateBranches");P.Cm.FV(Ga.ED.nQ);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};da.prototype.C1a=function(){return (0,g.tia)(this.Ya.filter(function(P){return P.Xm;}).map(function(P){return P.ma;}));};da.prototype.S$a=function(){var P,Y;P=this;if(this.Xa === h.jm.rl){if(!this.Z.kr){Y=l.__read(this.Ya.Ep(this.th.I),1)[0];(null === Y || void 0 === Y?0:Y.Pg) && this.$Ra(Y);}if(this.Z.kr)for(;;){Y=this.e0a(this.Z.kr.v);if(!Y)break;Y=l.__read(this.Ya.Ep(Y).filter(function(ta){return ta.parent === P.Z.kr;}),1)[0];if(!Y)break;if(null === Y || void 0 === Y || !Y.Pg)break;else if(this.Z.L1a(Y))break;this.$Ra(Y);}}};da.prototype.Zna=function(P){var Y,ta,Ha,Wa;if(this.Z.Hp){Y=this.Z.Zy;ta=!1;Ha=this.Z.Ya.filter(function($a){ta || (ta=$a === Y);return ta;});Wa=(0,g.Bm)(Ha,function($a){return $a.v.id === P.id;});if(Ha=Ha[Wa + 1])return Ha.v.id;}return this.e0a(P);};da.prototype.e0a=function(P){var Y;Y=this.ng.get(P.id);if(void 0 !== Y)return Y;P=this.navigator.uJb(P);if(1 === P.length)return P[0].id;};da.prototype.IUa=function(){var P;P=this.Ya.empty || 0 !== this.uIb();P || this.qaa?P && this.qaa && (this.qaa=!1):(this.Ye.Aj && (P=this.Xn(this.Kd),this.Ye.Dm("complete",P.yO,P.zO)),this.Lqb(),this.qaa=!0);};da.prototype.uIb=function(){return this.Ya.filter(function(P){return !P.Zh;}).length;};da.prototype.qE=function(P){this.S6(P) && this.Ye.Kja(this.Kd,this.Z.playbackRate,P,{Jja:this.Noa.Jja.bind(this.Noa,this.rdb)});};da.prototype.rVb=function(P,Y){var ta,Ha;ta=this;if(Y.didNormalizeSegment){Ha=wa.fNa.vMb(P);(0,t.assert)(Ha,"Segment should be normalized");Promise.resolve().then(function(){return ta.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:P.v.id,normalizedStart:Y.segmentContentStart,normalizedEnd:Y.branchContentEnd,viewableContentEnd:Ha.ogb,viewableEarliestContentEnd:Ha.pgb,media:c(P.Gd)});});}Promise.resolve().then(function(){ta.S$a();});this.vj("branchNormalized");};da.prototype.sVb=function(){this.IUa();};da.prototype.qVb=function(){this.Cm.start();};da.prototype.VBb=function(P,Y){var ta;ta=this;return new p.CBa(P.J,this.Is.wo.bind(this.Is),function(Ha,Wa,$a){ta.state !== h.jm.CLOSED && (ta.cW(Wa,$a),ta.Cm.iba(Ga.ED.nQ,function(){Ha.Qd || ta.Kqb(Ha,Wa,Y);}));},this.sta.bind(this));};da.prototype.d7b=function(P,Y,ta){var Ha,Wa;if(this.Wxb(P,Y))throw Error("Not implemented");Ha=this.VBb(P,!ta);Wa=ta?ta.Lb.qa(Y):this.V2a || d.L.Ha;P=(0,q.NVa)({config:this.config,console:this.console,v:P,events:this.events,GH:this.GH,Zm:Y,ve:Wa,mt:this.fCb.bind(this),Pd:this.Pd,yd:this.yd,xI:Ha,UTa:this.Ek,rua:this.Ya});this.j5b(P,!!ta);return P;};da.prototype.fCb=function(){return this.Kd.G;};da.prototype.j5b=function(P,Y){var ta,Ha;ta=this;Ha=new f.ze();Ha.addListener(P.events,"needsRequest",function(){var Wa;Wa=ta.Ya.root();Wa && !Wa.Xm || ta.vj("branchNeedsHeader");});Ha.addListener(P.events,"branchNormalized",this.rVb.bind(this,P));Ha.addListener(P.events,"lastRequestIssued",this.qVb.bind(this,P));Ha.addListener(P.events,"branchStreamingComplete",this.sVb.bind(this,P));Ha.addListener(P.events,"checkBufferingProgress",this.qE.bind(this,P));Ha.addListener(P.events,"branchDestroyed",function(Wa){Ha.clear();ta.Ya.contains(P) && (ta.Ya.Z_b(P),ta.Cm.start());"aborted" === Wa.reason && (ta.Z.L1a(P) || ta.Cm.iba(Ga.ED.Mw,function(){return ta.Jqb(P.v.id);}));});Ha.addListener(P.events,"liveMissingSegment",function(Wa){ta.events.emit("liveMissingSegment",Wa);});Y || (this.OJ("createDlTracksStart"),P.events.once("requestQueuesCreated",function(){ta.OJ("createDlTracksEnd");}));};da.prototype.aLb=function(P){if(this.Z.Nd)return this.Z.Zy.Sd(P);};da.prototype.GH=function(P,Y,ta,Ha){Y=[[m.u.fa,Y || this.TE,"audio_tracks"],[m.u.Y,ta || this.KY,"video_tracks"]].map(function(Wa){var $a,fb;$a=l.__read(Wa,3);fb=$a[0];Wa=$a[1];$a=$a[2];if(P.X && ((0,t.assert)(Wa,("Expected mediaType ").concat(fb," track selector to be defined")),fb=P.X[$a],Wa=Wa.UN(P.X,fb),void 0 !== Wa))return P.getTrackById(fb[Wa].CO);}).filter(g.Dsa);ta=Ha || this.dI;P.X && ta && (Ha=P.X.timedtexttracks,ta=ta.UN(P.X,Ha),void 0 !== ta && 0 <= ta && (Ha=P.getTrackById(Ha[ta].id)) && Y.push(Ha));return Y;};da.prototype.CKb=function(){var P;P=new Set();this.Ya.map(function(Y){return Y.Gd;}).forEach(function(Y){return Y.forEach(function(ta){return P.add(ta.mediaType);});});return Array.from(P).sort();};da.prototype.N8=function(P){this.events.emit("logdata",P);};da.prototype.L8=function(P){var Y,ta,Ha,Wa;Y=this;ta=P.ma;Ha=P.startTime;Wa=P.endTime;this.Ya.filter(function($a){return $a.Xm && $a.ma === ta;}).forEach(function($a){$a={type:"liveEventTimesUpdated",I:$a.v.id,startTime:Ha,endTime:Wa};Y.events.emit($a.type,$a);});};da.prototype.M8=function(P){var Y,ta,Ha,Wa;Y=this;ta=P.ma;Ha=P.mediaType;Wa=P.info;this.Ya.filter(function($a){return $a.Xm && $a.ma === ta;}).forEach(function($a){$a={type:"liveLoggingInfoUpdated",I:$a.v.id,mediaType:Ha,info:Wa};Y.events.emit($a.type,$a);});};da.prototype.Kqb=function(P,Y,ta){(0,t.assert)(P.Gd.length,"Branch should have tracks defined");P={type:"segmentStarting",segmentId:P.v.id,contentOffset:P.ve.G,maxBitrates:{audio:Y.sM[m.u.fa],video:Y.sM[m.u.Y]},media:c(P.Gd),initial:ta};this.events.emit(P.type,P);};da.prototype.Jqb=function(P){P={type:"segmentAborted",segmentId:P};this.events.emit(P.type,P);};da.prototype.Lqb=function(){var P;P={type:"streamerEnd",time:n.platform.time.xa()};this.events.emit(P.type,P);};da.prototype.OJ=function(P){P={type:"startEvent",event:P,time:n.platform.time.xa()};this.events.emit(P.type,P);};l.__decorate([Q.return.Og()],da.prototype,"th",null);l.__decorate([(0,F.Pb)({methodName:"checkCanSetTracks",return:!0})],da.prototype,"yxb",null);l.__decorate([(0,F.Pb)({methodName:"setTracks",return:!0})],da.prototype,"oz",null);l.__decorate([(0,F.Pb)({methodName:"setNextSegment",kp:!0})],da.prototype,"Oj",null);l.__decorate([(0,F.Pb)({methodName:"seekStreaming"}),l.__param(0,Q.Og())],da.prototype,"LC",null);l.__decorate([(0,F.Pb)({methodName:"seekStreamingWithEntryPoint"}),l.__param(0,Q.Og()),l.__param(2,Q.Og()),l.__param(2,Q.O8)],da.prototype,"C$",null);l.__decorate([Q.return.tka(),l.__param(0,Q.Og())],da.prototype,"bG",null);l.__decorate([Q.return.Og()],da.prototype,"Zk",null);l.__decorate([l.__param(0,Q.Og())],da.prototype,"GB",null);l.__decorate([l.__param(0,Q.Og())],da.prototype,"mU",null);l.__decorate([Q.return.Og(),l.__param(0,Q.Og())],da.prototype,"dbb",null);l.__decorate([Q.return.Og(),l.__param(0,Q.tka())],da.prototype,"wp",null);l.__decorate([l.__param(0,Q.tka()),l.__param(0,Q.I())],da.prototype,"ht",null);l.__decorate([(0,F.Pb)({methodName:"getStreamables",bk:!0})],da.prototype,"LL",null);l.__decorate([(0,F.Pb)({methodName:"updatePlaygraphMap",return:!0})],da.prototype,"ku",null);return da;})();b.Nba=a;},93867:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Xza=b.SRa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(42866);g=a(12043);n=a(27364);h=a(93514);m=a(7881);p=a(49730);q=a(97810);b.SRa=["AD_BREAK_UNAVAILABLE"];u=(function(){function t(w,v){this.J=w;this.Tc=v;this.YW=!1;this.k2=new f.AbortController();}t.isEqual=function(w,v){return v.J === w.J && v.Tc === w.Tc;};return t;})();r=(function(){function t(w,v,y,x,z,A){var B;B=this;this.Is=w;this.ya=y;this.Agb=x;this.config=z;this.console=A;this.items=[];this.events=new l.EventEmitter();v.events.addListener("adBreakComplete",function(){B.meb=B.Agb.sa.currentTime;});this.console=(0,q.Jh)(g.platform,A,"AdBreakHydrator");}t.prototype.E1b=function(w){c.__awaiter(this,void 0,void 0,function(){var v,y,x,z,A;A=this;return c.__generator(this,function(B){switch(B.label){case 0:v=w.map(function(C){return new u(C.J,C.Tc);});y=(0,d.pVa)(this.items,v,u.isEqual);this.items=y.result;y.tva.forEach(function(C){var D;null === (D=C.k2) || void 0 === D?void 0:D.abort();});p.K && this.console.log("Evaluated schedule",{rec:y.vtb.length,tva:y.tva.length,O9a:y.O9a.length,dic:y.result.length});x=this.items.filter(function(C){return !C.YW;}).map(function(C){return A.Mj(C);});if(!(0,n.ao)(this.ya.Pd.value))return [3,5];z=this.items.map(function(C){return A.Is.wo(C.J).Ey;});B.label=1;case 1:return (B.Rj.push([1,,3,4]),[4,Promise.race(x)]);case 2:return (B.Ua(),[3,4]);case 3:return (z.forEach(function(C){return C.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(x)];case 6:(B.Ua(),B.label=7);case 7:return [2];}});});};t.prototype.Mj=function(w){var v;return c.__awaiter(this,void 0,void 0,function(){var y,x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:(p.K && this.console.log("Start scheduling for adbreak",{dkc:w.J,Lec:w.Tc.rj}),null === (v=w.k2) || void 0 === v?void 0:v.abort(),y=new f.AbortController(),w.k2=y,x=(0,h.wp)(this.ya.ca,w.J,w.Tc.Pv),z=(0,f.xia)(y.signal),C.label=1);case 1:return (C.Rj.push([1,,5,6]),[4,Promise.race([this.kta(y.signal).then(function(){return "rebuffer";}),Promise.all([this.r9b(z),this.t9b(x,z)]).then(function(){return "gatesPassed";}),z.then(function(){return "cleanup";})])]);case 2:A=C.Ua();p.K && this.console.log("Schedule completed for reason",A);if(y.aborted)return [3,4];p.K && this.console.log("Making Item Fetch",{Mec:w.Tc.rj,pr:w.Tc.Pv.G});w.YW=!0;return [4,this.NZb(w.Tc.So.eh,w.J,y.signal)];case 3:(C.Ua(),C.label=4);case 4:return [3,6];case 5:return (w.k2 === y && (B=this.items.indexOf(w),-1 !== B && (p.K && this.console.log(("Removing item ").concat(B,", ").concat(this.items.length - 1," left")),this.items.splice(B,1))),[7]);case 6:return [2];}});});};t.prototype.kta=function(w){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,k.rq.z9b([this.ya.Pd],function(v){v=c.__read(v,1)[0];return (0,n.ao)(v);},w)];});});};t.prototype.r9b=function(w){var v;v=this;return this.meb && this.config.r2a?new Promise(function(y){var x,z;x=v.meb.add(k.L.Na(v.config.r2a));z=v.Agb.bB(m.Jg.ou(x),y,"hydratorWaitTask");w.then(function(){return z.Oa();});}):Promise.resolve();};t.prototype.t9b=function(w,v){var y,x;y=this;if(!this.config.e6a)return Promise.resolve();x=k.L.Na(this.config.e6a);return new Promise(function(z){var A,B;A=y.ya.GB(w,!0);B=y.ya.yd.bB(m.Jg.ou(A.qa(x)),z,"waitJitHydrateAdBreak");v.then(function(){return B.Oa();});});};t.prototype.NZb=function(w,v,y){var x,z,A,B,C,D;return c.__awaiter(this,void 0,void 0,function(){var F,G,E,I,M,L,K,O,H,J;return c.__generator(this,function(N){switch(N.label){case 0:(F=this.Is.wo(v),G=F.Ey,N.label=1);case 1:return (N.Rj.push([1,4,5,6]),[4,F.Gz]);case 2:return (N.Ua(),[4,this.Is.iw({eh:w,J:v})]);case 3:return (E=N.Ua(),y.aborted || (I=E.m2,M=E.Bia,p.K && this.console.log("Hydrated response " + ("with ").concat(null === (x=E.m2.Xe) || void 0 === x?void 0:x.length," ads")),this.events.emit("adBreakHydrated",{type:"adBreakHydrated",eh:w,m2:I,Bia:M})),[3,6]);case 4:L=N.Ua();if(!y.aborted){if(K=null === (z=L.$la) || void 0 === z?void 0:z.context)if((O=null !== (A=K.type) && void 0 !== A?A:K.type,H=null !== (B=K.error) && void 0 !== B?B:K.error,"adBreakHydration" === O && (J=null !== (D=null !== (C=H.edgeCode) && void 0 !== C?C:H.code) && void 0 !== D?D:H.code,-1 !== b.SRa.indexOf(J))))return (p.K && this.console.log("AdBreak hydration failed with recoverable error, playback can continue. Hydration will be attempted again if user revisits the adBreak location. " + ("code: ").concat(J,", ") + ("parentViewableId: ").concat(v,", ") + ("adBreakToken: ").concat(w)),this.events.emit("adBreakHydrationSkipped",{type:"adBreakHydrationSkipped",eh:w,xd:v}),[2]);this.events.emit("adBreakHydrationFailed",{type:"adBreakHydrationFailed",eh:w,error:L});}return [3,6];case 5:return (G.release(),[7]);case 6:return [2];}});});};return t;})();b.Xza=r;},22474:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Yza=void 0;c=a(5163);l=a(12043);f=a(40376);r=(function(){function k(d,g,n,h,m){this.ya=d;this.yd=g;this.events=n;this.Tc=h;this.console=m;this.hp=0;h.X2 && l.platform.ping && l.platform.ping(h.X2);}Object.defineProperties(k.prototype,{Qya:{get:function(){return this.hp;},enumerable:!1,configurable:!0}});k.prototype.Usa=function(d,g,n,h,m){this.dv && (this.dv.Oa(),this.dv=void 0);this.dv=new f.tNa(this.ya,this.yd,this.events,this.Tc,d,g,n,h,m,this.console);};k.prototype.T8=function(d){this.dv && (this.dv.Oa(),this.dv=void 0);try{this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.Tc.Fha.complete),{Og:d,KE:this.Tc.iu,rj:this.Tc.rj}));this.Tc.Xoa=!0;}catch(g){this.console.error("Impression error event",g);this.hp++;}};k.prototype.Ll=function(){var d;return {ad:null === (d=this.dv) || void 0 === d?void 0:d.Ll(),errors:this.hp};};return k;})();b.Yza=r;},3005:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p){return null === p || void 0 === p?void 0:p.de.map(function(q){return q.Xe;}).map(function(q){return null === q || void 0 === q?void 0:q.map(function(u){return u.id;});}).reduce(function(q,u){return null === u || void 0 === u?void 0:u.concat(q);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.Zza=void 0;l=a(5163);f=a(57055);k=a(50954);d=a(42866);g=a(49730);n=a(62558);h=a(9630);m=a(12445);r=(function(){function p(q,u,t,w){this.config=q;this.console=u;this.Ta=t;this.Kc=w;this.ev={};this.w7=!1;this.events=new f.EventEmitter();this.Ta.Rsb(this.XFb.bind(this));}Object.defineProperties(p.prototype,{AOb:{get:function(){return this.Ta.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{de:{get:function(){return this.Kn.OR;},enumerable:!1,configurable:!0}});p.prototype.Cb=function(q,u,t){this.Kn=new h.qAa(q,u);this.QR=new m.nAa(this.Kn,this.console,this.Ta,this.Kc);this.WJ=t;};p.prototype.PL=function(){var q;q=this;return !!(0,d.tc)(Object.keys(this.de),function(u){return 0 < q.de[u].length;});};p.prototype.c9=function(q){var u,t,w;u=this.Kc.Ag;(0,n.assert)(u,"Could not get graph location service");if(0 < this.Kn.eza){t=this.aB(this.Kc.ca);u=u.agb(this.Kc.ca,t);this.Kn.reset();}w=this.QR.VSa(q,u,t);q=w.th;u=w.qB;this.F4a=w.C9;g.K && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(q)));w=(t || this.Ta.ca).O[q.I];this.w7=!!w.type && -1 < ["ad","padding"].indexOf(w.type);return {th:q,qB:u,B8:t};};p.prototype.cW=function(q,u){var t,w;t=this.h_a(q);w=this.ev[q.P];this.ev[q.P]=t;if(w=w !== t && (null === w || void 0 === w?void 0:w.de.length) !== (null === t || void 0 === t?void 0:t.de.length)){if(null === t || void 0 === t?0:t.de)(this.Kn.s2b(q.P,t.de),this.QR.ccb(),g.K && this.console.trace("Received ad metadata for",{ma:q.P,Jsb:c(t)}));if(u && this.V1a(u)){if(this.xcb(u))return l.__assign({DSa:w},this.tfb(u,"viewableReceived"));g.K && this.console.trace(("ads::onViewableReceived: should NOT consider preroll on seek:\n                        seekPosition (unchanged): ").concat(u,",\n                        didAppendData: ").concat(this.Ta.EJ,",\n                        enablePrerollForInitialSeek ").concat(this.Ta.config.I4));}}return {DSa:w,fza:u};};p.prototype.Ssa=function(q,u,t){var w;w=this.h_a(q);(0,n.assert)(w,("adMetadata for viewable ").concat(q.J," should exist if an adBreak hydration was requested"));this.ev[q.P]=w;this.Kn.Ssa(q.P,u);this.QR.ccb();g.K && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{ma:q.P,Jsb:c(w)});if(t)return this.tfb(t,"adBreakHydration");};p.prototype.Tsa=function(q,u){this.Kn.Tsa(q,u);};p.prototype.GPb=function(){return !this.Ta.Z.Hp && this.Ta.Aj;};p.prototype.tfb=function(q,u){var t,w,v,y,x;g.K && this.console.trace(("ads::updatePendingSeekPosition: ").concat(JSON.stringify(q)));t=this.Kc.Ag;(0,n.assert)(t,"Could not get graph location service");w=this.aB(this.Kc.ca);t=t.agb(this.Kc.ca,w);v=this.QR.VSa(q,t,w);y=v.th;v=v.qB;this.w7=!1;x=w.O[y.I];x || (x=this.Ta.ca.O[y.I]);this.w7=!!x.type && -1 < ["ad","padding"].indexOf(x.type);t=null === t || void 0 === t?void 0:t.Tr(y);g.K && this.console.trace(("ads::updatePendingSeekPosition: should consider preroll on seek:\n            original seekPosition: ").concat(q,",\n            updated seekPosition: ").concat(t,",\n            entryPoint: ").concat(JSON.stringify(v),",\n            didAppendData: ").concat(this.Ta.EJ,",\n            enablePrerollForInitialSeek ").concat(this.Ta.config.I4,",\n            reason: ").concat(u));return {fza:t,qB:v,B8:w};};p.prototype.aB=function(q){var u,t,w;u=this;t=q;w=Object.keys(q.O).map(function(v){return ("").concat(q.O[v].J);});Object.keys(this.ev).forEach(function(v){var y,x;if(-1 !== w.indexOf(v)){y=u.ev[v];if(y){x=y.de.map(function(z,A){z=u.de[v][A];return z.dr || z.Xe.reduce(function(B,C,D){return C.NU?l.__spreadArray(l.__spreadArray([],l.__read(B),!1),[D],!1):B;},[]);});y=(0,k.$Va)(parseInt(v),y,x,u.config.Gta);t=(0,k.Vra)(t,y);}}});return t;};p.prototype.V1a=function(q){return !!this.ev[this.Kc.ca.O[q.I].J];};p.prototype.h_a=function(q){if(q.zm && (q=q.zm,q.de.length))return q;};p.prototype.zla=function(q){this.Kn.zla(q);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:q});};p.prototype.hxa=function(q,u,t){var w;return this.QR.hxa(q,u,t,null === (w=this.AOb) || void 0 === w?void 0:w.xe);};p.prototype.XFb=function(q){var u,t,w,v,y,x,z;u=this;if(!this.PL())return q;t=!0;w=[];v=[];x=this.Ta.BOb.ca;q.FF(function(A,B){var C,D,F,G;if(!(B || !A.v.H3a || u.GPb() && u.xcb(u.Ta.th)))return (u.console.trace("Hydration: Not checking root segment"),!0);D=x.O[A.v.id];(0,n.assert)(D,"Hydration: Segment must be present in innermost playgraph");F=D.J;if(D.type && -1 < ["ad","padding"].indexOf(D.type))t=!1;else if(D.cc){G=u.Ta.ca.O[D.cc];G && G.J !== D.J && (u.console.trace("Hydration: segment evaluated is a custom ident, get viewableId from equivalent segment. " + ("custom ident viewableId: ").concat(D.J,", ") + ("main content viewableId: ").concat(G.J)),F=G.J);}if((D=u.Kn.g_a(F,D.ta)) && !D.dr)if(D.pUa && !D.Wf){if(D.$N)u.console.trace("Hydration: Ignore skippable unhydrated ad break");else if((G=null === (C=null === B || void 0 === B?void 0:B.kb) || void 0 === C?void 0:C.duration,u.w7 && G && 5E3 > G))u.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {w.push(A);if(t && 0 === v.length || y === B)(v.push({J:F,Tc:D}),y=B);return !1;}}else t=!1;return !0;});w.forEach(function(A){return q.remove(A);});this.WJ.E1b(v);if(this.config.Q_b && q.root){z=x.O[q.root.v.id];(z=this.Kn.g_a(z.J,z.ta)) && z.$N && (z.$N=!1);}return q;};p.prototype.xcb=function(q){var u,t,w;t=this.Ta.EJ;(w=0 === q.offset.G) || (t?(t=this.F4a,w=null === (u=this.Ta.Z.TF()) || void 0 === u?void 0:u.v.id,q=t && t.fIb === w && t.to.I === q.I && t.to.offset.G === q.offset.G?this.F4a.UMb:!0):q=this.Ta.config.I4,w=q);return w;};return p;})();b.Zza=r;},43003:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$za=void 0;c=a(42866);r=(function(){function l(f,k){this.Ns=f;this.We=k;}l.prototype.Poa=function(f){var k;k=this;return this.Ns.Z.Ya.some(function(d){return d.v.v.J === f && d.LSa;})?!1:(0,c.tc)(Object.keys(this.We.ev),function(d){if(d=k.We.ev[d])return (0,c.tc)(d.de,function(g){return g.Xe && (0,c.tc)(g.Xe,function(n){return n.id === f;});});})?(this.We.zla(f),!0):!1;};return l;})();b.$za=r;},2976:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bAa=void 0;c=a(57055);l=a(13043);r=(function(){function f(k,d,g){var n;n=this;this.We=d;this.Dn=new c.ze();this.po="adHydratorAudit";this.fd="adHydratorAuditor";this.enabled=!0;this.Dn.on(k.events,"adBreakPresenting",function(h){n.state.WRa.push(h.presentingInfo.Tc.YJ.k2b);});this.Dn.on(g.events,"adBreakHydrated",function(){n.state.URa++;});this.Dn.on(g.events,"adBreakHydrationFailed",function(){n.state.TRa++;});this.Dn.on(g.events,"adBreakHydrationSkipped",function(){n.state.XRa++;});this.state={URa:0,TRa:0,XRa:0,WRa:[]};}f.prototype.gi=function(k){k=k.mi;if(this.We.PL() && k === l.kc.ei)return {adBreaksPresentedSequence:this.state.WRa,adBreaksHydratedCount:this.state.URa,adBreaksFailedHydratedCount:this.state.TRa,adBreaksSkippedCount:this.state.XRa};};f.prototype.Oa=function(){this.Dn.clear();};return f;})();b.bAa=r;},66814:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cAa=void 0;c=a(57055);l=a(13043);r=(function(){function f(k,d,g){var h;function n(m){var p,q;(p=h.state.Iha)[q=m.event] || (p[q]=0);h.state.Iha[m.event]++;}h=this;this.We=d;this.ppa=g;this.Dn=new c.ze();this.po="adImpressionAudit";this.fd="adImpressionAuditor";this.enabled=!0;this.Dn.on(k.events,"adPresenting",function(){return h.state.ESa++;});this.Dn.on(k.events,"adBreakPresenting",function(){return h.state.VRa++;});this.Dn.on(g.events,"adEvent",n);this.Dn.on(g.events,"adBreakEvent",n);this.state={VRa:0,Iha:{},ESa:0};}f.prototype.gi=function(k){k=k.mi;if(this.We.PL() && k === l.kc.ei)return {presented:{breaks:this.state.VRa,ads:this.state.ESa},events:this.state.Iha,logger:this.ppa.Ll()};};f.prototype.Oa=function(){this.Dn.clear();};return f;})();b.cAa=r;},71168:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fAa=void 0;c=a(57055);l=a(12043);f=a(97810);k=a(62558);d=a(49730);g=a(22474);r=(function(){function n(h,m,p,q){this.Ta=m;this.yd=p;this.hp=0;this.events=new c.EventEmitter();this.console=(0,f.Jh)(l.platform,q,"IMPRESSION");h.events.addListener("adBreakPresenting",this.U8.bind(this));h.events.addListener("adBreakComplete",this.T8.bind(this));h.events.addListener("adPresenting",this.Usa.bind(this));}Object.defineProperties(n.prototype,{yU:{get:function(){return !!this.wl;},enumerable:!1,configurable:!0}});n.prototype.U8=function(h){this.wl && (d.K && this.console.warn("Unexpected back-to-back ad breaks"),this.wl.T8(h.Pm.position),this.hp+=this.wl.Qya,this.wl=void 0);(0,k.assert)(h.Pm.Tc,"Ad break must be defined for ad break presenting");this.wl=new g.Yza(this.Ta,this.yd,this.events,h.Pm.Tc,this.console);};n.prototype.T8=function(h){var m,p,q;q=h.Pm.Tc || (null === (m=this.wl) || void 0 === m?void 0:m.Tc);d.K && this.console.trace(("adBreakComplete event, ").concat(this.wl?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.rj," is ") + ("").concat(q.Xe.length?"not ":"","empty, ") + ("has ").concat(q.dr?"":"not ","played"):"no ad break"));if(0 === (null === (p=h.Pm.Tc) || void 0 === p?void 0:p.Xe.length))((0,k.assert)(!this.wl,"Received ad break complete for empty ad break during ad break"),h.Pm.Tc.V2b(),this.U8(h));else if(!this.wl)return;this.wl.T8(h.Pm.position);this.hp+=this.wl.Qya;this.wl=void 0;};n.prototype.Usa=function(h){var m,p,q;(0,k.assert)(this.wl,"Expect to be in ad break when ad presenting is received");(0,k.assert)(this.wl.Tc === h.Pm.Tc,"Expect to be in correct ad break when ad presenting is received");p=this.Ta.IT(h.Pm.position.I)[0];q=h.Pm.Yp;this.wl.Usa(h.Pm.bf,null === p || void 0 === p?void 0:p.ma,h.Pm.position.I,q,null !== (m=null === p || void 0 === p?void 0:p.Ab) && void 0 !== m?m:q);};n.prototype.Ll=function(){var h;return {"break":null === (h=this.wl) || void 0 === h?void 0:h.Ll(),errors:this.hp};};return n;})();b.fAa=r;},53997:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.gAa=void 0;c=a(3005);l=a(83981);f=a(53875);k=a(71168);d=a(43003);g=a(66814);n=a(93867);h=a(2976);r=(function(){function m(p,q,u,t,w,v){this.o2=v;this.sPa=new c.Zza(q,p,u,t);this.irb=new l.oAa(u,t,this.We);this.sE=new f.uLa(this,u,p);this.Cga=new k.fAa(this.sE,u,u.yd,p);this.rPa=new n.Xza(w,this.sE,t,t.kq,q,p);u.Wt.Ce(new g.cAa(this.sE,this.We,this.Cga));u.Wt.Ce(new h.bAa(this.sE,this.We,this.rPa));this.sPa.Cb(this.Cga.events,this.sE.events,this.WJ);this.Fob=new d.$za(u,this.We);}Object.defineProperties(m.prototype,{We:{get:function(){return this.sPa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jN:{get:function(){return this.irb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{n9a:{get:function(){return this.sE;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ppa:{get:function(){return this.Cga;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Hsb:{get:function(){return this.Fob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{WJ:{get:function(){return this.rPa;},enumerable:!1,configurable:!0}});m.prototype.bi=function(p){return this.sE.bi(p);};return m;})();b.gAa=r;},78085:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.FS=void 0;c=a(5163);l=a(50164);f=a(46250);k=a(45894);d=a(88801);g=a(81134);b.FS=function(n,h,m){var p,q,u,t,w;p=c.__assign({Rca:f.Qca},n).Rca;q=h.vW[5];u=(0,k.lta)(function(){return w;});q.gSa(u.wo);n=new l.Yda();t={Ag:void 0,Kc:void 0,Ta:void 0,Npa:n,O4a:"ads"};t.Ag=new p(function(){return t.Kc.ca;},n,h.vW[2],"Ads:");w=new g.lAa(t,u.Adb,d.Wv.awa.NN,q);p=h.jia;h.jia=c.__spreadArray(c.__spreadArray([],c.__read(p),!1),[w],!1);t.Ta=m(h);t.Kc=d.Wv.Pua(t.Ta,w,function(){return t;},p);w.Cb();n.Cb(t.Ta);n.X9();return t.Kc;};},81134:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.lAa=void 0;c=a(5163);l=a(57055);f=a(49730);k=a(23710);d=a(33285);g=a(62558);r=a(61341);n=a(83386);h=a(53997);a=(function(m){function p(q,u,t,w){q=m.call(this,q,u,t,"AdsPlaygraphHost") || this;q.Is=w;q.tJ=void 0;q.jua=new l.ze();q.m5a=new n.Xea();q.o2=new l.EventEmitter();return q;}c.__extends(p,m);Object.defineProperties(p.prototype,{Kc:{get:function(){return this.ap.Kc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ns:{get:function(){var q;q=this.aB(this.Kc.ca);if(q !== this.Kc.ca)return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Uc:{get:function(){return this.tJ;},enumerable:!1,configurable:!0}});p.prototype.Cb=function(){var q;q=this;m.prototype.Cb.call(this);this.ap.Ta.Ce(new k.mAa(this.ap));this.tJ=new h.gAa(this.T,this.W,this.Ta,this.Kc,this.Is,this.o2);this.ap.Ta.Uc=this.tJ;this.Uc.WJ.events.on("adBreakHydrated",function(u){return q.T9a(u);});this.Uc.WJ.events.on("adBreakHydrationFailed",function(u){return q.lf(u.error);});this.Uc.WJ.events.on("adBreakHydrationSkipped",function(u){return q.cZb(u);});};p.prototype.CC=function(q){var u,t,w,v,y;w=m.prototype.CC.call(this,q);if(w){(0,g.assert)(this.Uc,"missing manager");q=this.Uc.We.cW(q,null === (u=this.RL) || void 0 === u?void 0:u.th);u=q.fza;v=q.qB;y=q.B8;q.DSa && this.oN(y,u,null === (t=this.RL) || void 0 === t?void 0:t.Yp,v);}return w;};p.prototype.T9a=function(q){var u,t,w;w=q.Bia;q=w.FNb(q.m2,q.eh);(0,g.assert)(this.Uc,"missing manager");q && ((w=this.Uc.We.Ssa(w,q,null === (u=this.RL) || void 0 === u?void 0:u.th))?(u=w.qB,this.oN(w.B8,w.fza,null === (t=this.RL) || void 0 === t?void 0:t.Yp,u)):this.oN());};p.prototype.cZb=function(q){this.Uc.We.Tsa(q.xd.toString(),q.eh);this.oN();};p.prototype.lf=function(q,u,t,w,v,y,x){var z,A;void 0 === x && (x=!1);z=!1;A=!1;u && !x && (z=this.Uc.Hsb.Poa(u));z?this.oN():A=this.ap.Ta.lf(q,u,t,w,v,y,x);return A;};p.prototype.LC=function(q,u){var t,w,v,y,x;t=this;this.Xwa(q,u);w=this.Kc.yd.sa;this.jua.clear();this.jua.addListener(w,"stopStart",function(){w.ji && (t.RL=void 0,t.jua.clear());});if(this.Uc.We.V1a(q)){f.K && this.T.trace(("ads::seekStreaming: ").concat(JSON.stringify(q)));v=this.Uc.We.c9(q);y=v.th;x=v.qB;if(v=v.B8)(f.K && this.T.trace("ads::seekStreaming: ads playgraph was updated"),this.oN(v,q,u));f.K && this.T.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(y),", ") + ("playerTimestamp: ").concat(u,", ") + ("entryPoint: ").concat(JSON.stringify(x)));this.Ta.C$(y,u,x);}else this.Ta.LC(q,u);};p.prototype.oN=function(q,u,t,w){var v;v=this;this.m5a.lia || this.m5a.Fgb(function(){v.nva(q,v.Kc.ca,u,t,w);v.o2.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.aB=function(q){return this.Uc.We.aB(q);};p.prototype.Df=function(q){m.prototype.Df.call(this,q);this.RL=void 0;};p.prototype.Xwa=function(q,u){this.RL={th:q,Yp:u};};c.__decorate([(0,d.Pb)({methodName:"ads::processViewableResponse"})],p.prototype,"CC",null);c.__decorate([(0,d.Pb)({methodName:"ads::processAdBreakHydrationResponse"})],p.prototype,"T9a",null);c.__decorate([(0,d.Pb)({methodName:"ads::reportStreamingFailure"})],p.prototype,"lf",null);c.__decorate([(0,d.Pb)({methodName:"ads::seekStreaming"})],p.prototype,"LC",null);c.__decorate([(0,d.Pb)({methodName:"ads::cancelStreaming"})],p.prototype,"Df",null);return p;})(r.Kea);b.lAa=a;},12445:function(r,b,a){var l,f,k,d;function c(g,n){var h;h=n && g.O[n];if(h)return "content" !== h.type?c(g,h.Eb):n;}Object.defineProperties(b,{__esModule:{value:!0}});b.nAa=void 0;l=a(42866);f=a(49730);k=a(62558);d=a(83981);r=(function(){function g(n,h,m,p){this.Kn=n;this.console=h;this.Ta=m;this.Kc=p;}g.prototype.ccb=function(){this.Q1=void 0;};g.prototype.VSa=function(n,h,m){var p,q,u,t,w,v,y,x,z;void 0 === m && (m=this.Ta.ca);q=this.Kn.OR[this.Kc.ca.O[n.I].J];u=h.iB(n);t=u;w=m.O[u.I];if(0 === u.offset.G)v=this.joa(m,q,u);else {"padding" === w.type && (u={I:w.Eb,offset:l.L.Ha});y=null === (p=this.Ta.Z.TF()) || void 0 === p?void 0:p.v.id;if(y)x=y;else (p=c(m,m.xe),this.Ta.Z.Hp || !this.Ta.Aj || this.Ta.EJ || p !== u.I?x=p:v=this.joa(m,q,h.iB({I:n.I,offset:l.L.Ha})));!v && x && (f.K && this.console.trace(("ads::seekStreaming: seek from segment ").concat(x)),v=this.iLb(x,u,m));}if(v)if(v.I){t={I:v.I,offset:l.L.Ha};z=u;}else this.Q1=v.Tc;n={UMb:!!v,fIb:x,to:u};return z || "ad" !== w.type?{th:t,qB:z,C9:n}:{th:u,qB:u,C9:n};};g.prototype.hxa=function(n,h,m,p){if(this.Q1)return (h=this.Q1,this.Q1=void 0,h);if((n=this.Kn.OR[n]) && n.length)if(m && h.I === p && h.offset.equal(l.L.Ha)){if((h=n[0],0 === h.Pv.G && 0 === h.Xe.length && !h.dr && !h.Xoa))return h;}else if(!m)return this.Dna(h.I,n);};g.prototype.iLb=function(n,h,m){var p,q,u,w;f.K && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(n," to ").concat(JSON.stringify(h)));if(m){q=this.Kn.OR[this.Kc.ca.O[m.O[h.I].cc].J];m=m.O;u=null === (p=m[n]) || void 0 === p?void 0:p.Eb;u || (u=this.Ta.ca.O[n].Eb);for(var t=p=void 0;u;){n=m[u];if("content" === n.type && ("content" === p || void 0 === p) && q){w=this.Dna(u,q);w && (t={Tc:w});}if(u === h.I)return (h=t && !t.I || p && "content" !== p?t:void 0,f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(h)),h);"ad" === n.type && "ad" !== p && (f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(u)),p=(0,d.LF)(u),(0,k.assert)(p,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),t={I:u,Tc:q[null === p || void 0 === p?void 0:p.rj]});p=n.type;u=n.Eb;}}f.K && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};g.prototype.joa=function(n,h,m){var p,q;p=n.O;m=m.I;q=p[m].type;if("padding" === q)return this.joa(n,h,{I:p[m].Eb,offset:l.L.Ha});f.K && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",m);if("ad" === q)return (n=(0,d.LF)(m),(0,k.assert)(n,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),{I:m,Tc:h[null === n || void 0 === n?void 0:n.rj]});if("content" === q){if(h=this.Dna(m,h))return {Tc:h};}else f.K && (0,k.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");};g.prototype.Dna=function(n,h){n=(0,d.H_a)(n);(0,k.assert)(n,"Should have contentInfo from segment name");if(0 < n.RVa && (h=h[n.RVa - 1],0 === h.Xe.length && !h.dr && !h.Xoa))return h;};return g;})();b.nAa=r;},83981:function(r,b,a){var l,f,k;function c(d){var g;g=(/^.+:ad\-(\d+)\-(\d+)$/).exec(d);if(g)return {n2:parseInt(g[2]),rj:parseInt(g[1]),qG:!1};if(d=(/^.+:pad((end)|(start))-(\d+)$/).exec(d))return {rj:parseInt(d[4]),qG:!0,lW:d[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.H_a=b.LF=b.oAa=void 0;l=a(42866);f=a(25850);k=a(88873);r=(function(){function d(g,n,h){this.Ns=g;this.Kc=n;this.We=h;}d.prototype.AIb=function(g){for(var n,h,m=c(null === g || void 0 === g?void 0:g.I),p=this.Ns.ca,q,u=p.O[g.I],t=u,w=[g.I],v=this.Kc.ca.O[t.cc].J;t && t.cc === u.cc && t.J !== v;){w.push(t.Eb);t=p.O[t.Eb];}w.pop();p=null !== (q=w.pop()) && void 0 !== q?q:g.I;q=c(p);g=this.Ns.ca.O[g.I];p=this.Ns.ca.O[p];g=(null !== (n=g.va) && void 0 !== n?n:Infinity) - g.ta;n=(null !== (h=p.va) && void 0 !== h?h:Infinity) - p.ta;return {start:(null === m || void 0 === m?0:m.qG)?new k.Kba(f.DI.start,g):void 0,end:(null === q || void 0 === q?0:q.qG)?new k.Kba(f.DI.end,n):void 0};};Object.defineProperties(d.prototype,{Yy:{get:function(){if(this.Ns.Z.Nd)return this.xIb(this.Ns.Z.yg);},enumerable:!1,configurable:!0}});d.prototype.xIb=function(g){var n,h,m;h=c(g.I);if(h){m=null === (n=this.Kc.Ag) || void 0 === n?void 0:n.Tr(g);n=this.We.de[this.Kc.ca.O[m.I].J][h.rj];m=this.AIb(g);m=new k.CAa(n,m.start,m.end);for(var p=this.Ns.ca,q=p.O[g.I],u=q,t=-g.offset.G,w=this.Kc.ca.O[u.cc].J;u && u.cc === q.cc && u.J !== w;){t+=u.va - u.ta;u=p.O[u.Eb];}p=l.L.Na(t);q=p.qa(m.jT.duration);h.qG && ("end" === h.lW?q=l.L.Ha:(u=m.faa.duration.qa(g.offset),q=q.qa(u)));m={Tc:m,progress:{Csb:n.duration.qa(q),Esb:1 - Math.max(0,q.G) / n.duration.G,Fsb:m.duration.qa(p),Gsb:1 - Math.max(0,p.G) / m.duration.G},position:g,index:h.rj};p=this.Ns.ca.O[g.I];p=p.va - p.ta;g=g.offset.G / p;h.qG?m.D8a={GWb:g,Ita:h.lW,i9:l.L.Na(p)}:m.HA={bf:n.Xe[h.n2],YRa:g,index:h.n2};return m;}};d.prototype.zIb=function(g,n){var h,m;h=g.I;m=this.uMb(g);if(h=c(h))return (g=this.We.de[m][h.rj],h.qG?{Tc:g,lW:h.lW}:{Tc:g,bf:g.Xe[h.n2]});if(g=this.We.hxa(m,g,n))return {Tc:g};};d.prototype.LF=function(g){return c(g);};d.prototype.uMb=function(g){var n,h;h=this.Kc;g=null === (n=h.Ag) || void 0 === n?void 0:n.Tr(g);return h.ca.O[g.I].J;};return d;})();b.oAa=r;b.LF=c;b.H_a=function(d){if(d=(/^.+-(\d+)$/).exec(d))return {RVa:parseInt(d[1])};};},9630:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qAa=void 0;c=a(42866);l=a(62558);f=a(88873);r=(function(){function k(d,g){var n;n=this;this.eza=0;this.Ku={};this.Eob=1;d.on("adEvent",function(h){return n.mVb(h);});g.on("adBreakPresenting",function(h){return n.U8(h);});}Object.defineProperties(k.prototype,{OR:{get:function(){return this.Ku;},enumerable:!1,configurable:!0}});k.prototype.s2b=function(d,g){this.Ku[d]=g.map(function(n,h){return new f.DAa(n,h);});};k.prototype.Ssa=function(d,g){var n;n=this;this.Ku[d].some(function(h){if(h.So.eh === g.eh)return (h.ENb(g,n.Eob++),!0);});};k.prototype.Tsa=function(d,g){this.Ku[d].some(function(n){if(n.So.eh === g)return n.$N=!0;});};k.prototype.reset=function(){this.eza=0;};k.prototype.mVb=function(d){var g;g=this;"adComplete" === d.event && Object.keys(this.Ku).some(function(n){var h,m,p;n=null !== (h=(p=g.Ku)[n]) && void 0 !== h?h:p[n]=[];(0,l.assert)(void 0 !== d.rj,"complete event should have an adBreakIndex");return null === (m=n[d.rj].Xe) || void 0 === m?void 0:m.some(function(q){return q.id == d.X.P?(q.dr=!0,g.eza++,!0):!1;});});};k.prototype.U8=function(d){var g;g=this;Object.keys(this.Ku).forEach(function(n){var h,m;(null !== (h=(m=g.Ku)[n]) && void 0 !== h?h:m[n]=[]).forEach(function(p){p !== d.Pm.Tc && p.dDb();});});};k.prototype.zla=function(d){var g;g=this;Object.keys(this.Ku).forEach(function(n){g.Ku[n].forEach(function(h){h.Xe.forEach(function(m){m.id == d && (m.NU=!0);});});});};k.prototype.g_a=function(d,g){return (d=this.OR[d]) && (0,c.tc)(d,function(n){return n.Pv.G === g;});};return k;})();b.qAa=r;},67979:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.CAa=b.Kba=b.DAa=void 0;c=a(42866);l=a(92128);f=a(31372);r=(function(){function d(g,n,h){var m;void 0 === h && (h=NaN);this.So=g;this.rj=n;this.uRa=h;this.$N=this.cQa=this.dQa=this.vga=!1;this.aE=(null === (m=g.Xe) || void 0 === m?void 0:m.map(function(p){return new f.Gba(p);})) || [];}Object.defineProperties(d.prototype,{Pv:{get:function(){return this.So.Pv;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{iu:{get:function(){return this.So.iu;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{X2:{get:function(){return this.So.X2;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{k2b:{get:function(){return this.uRa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Fha:{get:function(){return this.So.Fha;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Xe:{get:function(){return this.aE;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return !this.aE.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Xe.reduce(function(g,n){return g.add(n.endTime.qa(n.startTime));},c.L.Ha);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nPb:{get:function(){return this.dr || !this.pUa && !this.cQa?this.aE.every(function(g){return g.dr;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dr:{get:function(){return this.aE.length?this.aE.every(function(g){return g.dr;}):this.vga;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pUa:{get:function(){return !this.Wf && !!this.So.eh;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Wf:{get:function(){return !!this.So.Xe;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Xoa:{get:function(){return this.dQa;},set:function(g){g && (this.dQa=!0);},enumerable:!1,configurable:!0}});d.prototype.V2b=function(){this.Xe.length || (this.vga=!0);};d.prototype.ENb=function(g,n){var h;this.So=g;this.aE=(null === (h=this.So.Xe) || void 0 === h?void 0:h.map(function(m){return new f.Gba(m);})) || [];this.cQa=!0;this.uRa=n;this.$N=!1;};d.prototype.dDb=function(){this.So.eh && (this.vga=this.dr,this.So.Xe=void 0,this.aE=[],this.$N=!1);};return d;})();b.DAa=r;k=(function(){function d(g,n){this.Ita=g;this.qpb=n;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.L.Na(this.qpb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{Nsa:{get:function(){return this.Nqb || (this.Nqb=new d(l.DI.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{PUb:{get:function(){return this.Mqb || (this.Mqb=new d(l.DI.end,0));},enumerable:!1,configurable:!0}});return d;})();b.Kba=k;r=(function(){function d(g,n,h){this.YJ=g;this.zRa=n || k.Nsa;this.tpb=h || k.Nsa;}Object.defineProperties(d.prototype,{faa:{get:function(){return this.zRa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jT:{get:function(){return this.tpb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fNb:{get:function(){return this.zRa !== k.Nsa || this.jT !== k.PUb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.YJ.duration.add(this.faa.duration).add(this.jT.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{i9:{get:function(){return this.faa.duration.add(this.jT.duration);},enumerable:!1,configurable:!0}});return d;})();b.CAa=r;},31372:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Gba=void 0;c=a(42866);r=(function(){function l(f){this.bf=f;this.NU=this.dr=!1;}Object.defineProperties(l.prototype,{id:{get:function(){return this.bf.id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{startTime:{get:function(){return c.L.Na(this.bf.ta);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{endTime:{get:function(){return c.L.Na(this.bf.va);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{FA:{get:function(){return this.bf.FA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Caa:{get:function(){return this.bf.Caa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yt:{get:function(){return this.bf.yt;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{pO:{get:function(){return this.bf.pO;},enumerable:!1,configurable:!0}});return l;})();b.Gba=r;},88873:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(31372),b);r.__exportStar(a(67979),b);r.__exportStar(a(63755),b);},53875:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.uLa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(12043);d=a(49730);g=a(97810);n=a(62558);r=(function(){function h(m,p,q){var u;u=this;this.Uc=m;this.Ta=p;this.lga=new l.ze();this.Dga=!1;this.T=(0,g.Jh)(k.platform,q,"PLAYERADMANAGER");this.events=new l.EventEmitter();this.Ta.events.on("playerChanged",this.o9a.bind(this));this.o9a();this.Uc.o2.on("adPlaygraphUpdated",function(t){return u.events.emit("adPlaygraphUpdated",t);});this.We.events.on("adSegmentDropped",function(t){u.nVb(t);});}Object.defineProperties(h.prototype,{yU:{get:function(){return this.Dga;},enumerable:!1,configurable:!0}});h.prototype.bi=function(m){var p;if(!this.Ta.er)return (d.K && this.T.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Ta.Z;if(!p.HT(m))return (d.K && this.T.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",m),!1);d.K && this.T.trace(("PlayerAdManager.canSkip(): ").concat(p.Kd.mb()," -> ").concat(m.mb()));m=m.greaterThan(p.Kd)?(0,g.Bma)(p.Ya,p.Kd,m):(0,g.Bma)(p.Ya,m,p.Kd);p=!m.some(function(q){return "content" !== q.v.v.type;});d.K && this.T.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(m.map(function(q){return ("").concat(q.v.id," ").concat(q.v.v.type," ").concat(q.Ab.G,"..").concat(q.Ab.G);})));return p;};Object.defineProperties(h.prototype,{We:{get:function(){return this.Uc.We;},enumerable:!1,configurable:!0}});h.prototype.o9a=function(){var m,p;m=this;this.T.trace("Player changed",this.Ta.er);this.lga.clear();if(this.Ta.er){p=this.Ta.Z;this.lga.addListener(p.events,"segmentPresenting",function(q){return m.Sv(q);});this.lga.addListener(p.events,"playbackEnding",function(q){return m.hta(q);});}};h.prototype.Sv=function(m){var p,q,u,t,w;p=this.jN.zIb(m.position,!!m.seek);if(p){q=p.Tc;u=p.bf;d.K && this.T.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(u));t=this.jN.Yy;w={Yp:m.playerTimestamp,position:m.position,Tc:q};this.yU || (q.Xe.length?this.Dsb(t,w):q.Wf || u?this.GA(m.playerTimestamp,m.position,q):d.K && this.T.trace("Passed an unhydrated ad break; assume it was skipped intentionally"));u && this.xl(t,w,u);}!this.yU || p && "end" !== p.lW || this.GA(m.playerTimestamp,m.position);this.yU && !p && this.RRa(m.position);};h.prototype.hta=function(m){this.yU && this.ePb(m.position) && (this.GA(m.playerTimestamp,m.position),this.RRa(m.position));};h.prototype.Dsb=function(m,p){(0,n.assert)(m,"Should have presenting info for event corresponding to ad break");d.K && this.T.trace("Emitting adBreakPresenting");this.Dga=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:m,Pm:p});};h.prototype.xl=function(m,p,q){d.K && this.T.trace("Emitting adPresenting");(0,n.assert)(m,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:m,Pm:c.__assign(c.__assign({},p),{bf:q})});};h.prototype.GA=function(m,p,q){d.K && this.T.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",Pm:{Yp:m,position:p,Tc:q}});};h.prototype.RRa=function(m){this.Dga=!1;d.K && this.T.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:m}});};h.prototype.jna=function(m){var p,q,u,t;p=this;q={cub:[],result:{}};u=this.We.ev;t=Object.keys(u).filter(function(w){return u[w];});if(null === m || void 0 === m?0:m.rgb)t=t.filter(function(w){var v;return -1 !== (null === (v=m.rgb) || void 0 === v?void 0:v.indexOf(w));});q.cub=t;t.forEach(function(w){var v,y,x;y=null === (v=u[w]) || void 0 === v?void 0:v.de;if(y){v=p.MGb(w,y);x=p.We.de[w];q.result[("").concat(w)]=v.map(function(z,A){return c.__assign(c.__assign({},z),{hasCompletedPlayback:x[A].nPb});});}});return q;};Object.defineProperties(h.prototype,{jN:{get:function(){return this.Uc.jN;},enumerable:!1,configurable:!0}});h.prototype.MGb=function(m,p){var q,u;q=[];u=[];this.We.de[m].forEach(function(t){return t.Xe.forEach(function(w){w.NU && -1 === u.indexOf(w.id) && u.push(w.id);});});p.forEach(function(t){var w,v;t=c.__assign({},t);v=null === (w=t.ads) || void 0 === w?void 0:w.filter(function(y){return -1 === u.indexOf(y.id);});t.ads=v;q.push(t);});return q;};h.prototype.nVb=function(m){var p,q,u,t;p=this;q=m.adId;u=this.We.ev;m=Object.keys(u).filter(function(w){return u[w];});t=this.Ta.ca.O;m.forEach(function(w){var v,y;null === (y=null === (v=u[w]) || void 0 === v?void 0:v.de) || void 0 === y?void 0:y.forEach(function(x,z){var A;null === (A=x.Xe) || void 0 === A?void 0:A.forEach(function(B,C){B.id === q && (B=(0,f.tc)(Object.keys(t),function(D){D=p.jN.LF(D);return !D || D.qG?!1:C === D.n2 && z === D.rj;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:x.iu,reason:"network_error",sev:"error",segmentId:B});});});});};h.prototype.ePb=function(m){var p;p=this.Ta.navigator;return (m=p.he(m.I)) && !p.XMb(m);};return h;})();b.uLa=r;},40376:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.tNa=void 0;c=a(5163);l=a(42866);f=a(42866);k=a(12043);d=a(27364);g=a(49730);n=a(56405);h=a(62558);m=a(7881);r=(function(){function p(q,u,t,w,v,y,x,z,A,B){var C;C=this;this.ya=q;this.yd=u;this.events=t;this.Tc=w;this.bf=v;this.Kha=y;this.p2=x;this.Asb=z;this.RR=A;this.console=B;this.am=k.platform.time.now();this.$C=new Map();this.hp=0;(0,h.assert)(y.X,"Presenting ad should have a manifest");this.ZRa=u.Vx(function(){return C.L6b();},"impressionLogging");this.ya.Z.$v.forEach(function(D,F){(D=D.Ima(n.hca)) && C.$C.set(F,D);});}Object.defineProperties(p.prototype,{Qya:{get:function(){return this.hp;},enumerable:!1,configurable:!0}});p.prototype.Oa=function(){this.ZRa.Oa();};p.prototype.L6b=function(){var q,u,t,w,v,y,x,z,A,B,C,D,F,G,E;return c.__generator(this,function(I){switch(I.label){case 0:(g.K && this.console.trace("AdImpressionLogger: starting at",this.RR.mb()),q=this.bf,this.$Ua(),u=0,t=this.RR,w=this.RR.add(q.endTime),v=this.Asb,I.label=1);case 1:(I.Rj.push([1,,12,13]),(0,h.assert)(null === (F=q.FA) || void 0 === F?void 0:F.start,"Start event info should be defined"),this.emit(q.FA.start,u,t,!1),(0,h.assert)(q.Caa,"Timed event info should be defined"),I.label=2);case 2:(I.Rj.push([2,7,8,9]),y=c.__values(q.Caa),x=y.next(),I.label=3);case 3:if(x.done)return [3,6];z=x.value;t=this.RR.add(l.L.Na(z.lya));g.K && this.console.trace(("AdImpressionLogger[").concat(this.p2,"]: waiting for ").concat(z.lya,"ms timed event") + (" at ").concat(t.mb()));return [4,m.Jg.ou(t)];case 4:(I.Ua(),v=t,this.emit(z,z.lya,t,!1),I.label=5);case 5:return (x=y.next(),[3,3]);case 6:return [3,9];case 7:return (A=I.Ua(),C={error:A},[3,9]);case 8:try{x && !x.done && (D=y.return) && D.call(y);}finally{if(C)throw C.error;}return [7];case 9:if(!w.greaterThan(t))return [3,11];t=w;g.K && this.console.trace(("AdImpressionLogger[").concat(this.p2,"]: waiting for end of ad at ").concat(t.mb()));return [4,m.Jg.ou(t)];case 10:(I.Ua(),v=t,I.label=11);case 11:return [3,13];case 12:this.ya.Z.Nd && (v=this.ya.Z.Kd);if(v.hi(w))((0,h.assert)(null === (G=q.FA) || void 0 === G?void 0:G.complete,"Complete event should be defined"),this.emit(q.FA.complete,q.endTime.G,w,!0));else if(null === (E=q.FA) || void 0 === E?0:E.stop)(B=v.qa(this.RR).G,this.emit(q.FA.stop,B,v,!0));this.$Ua();return [7];case 13:return [2];}});};p.prototype.emit=function(q,u,t,w){g.K && this.console.trace(("AdImpressionLogger[").concat(this.p2,"]: emitting ").concat(q.event," event at ").concat(u,"ms") + (" for player time ").concat(t.mb()));u={I:this.p2,offset:l.L.Na(u)};t=this.eoa(t);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},q),{Og:u,Vv:t,X:this.Kha.X,am:this.am,jjc:w?k.platform.time.now():-1,KE:this.Tc.iu,rj:this.Tc.rj,pO:this.bf.pO,yt:this.bf.yt}));}catch(v){this.console.error("Impression error event",v);this.hp++;}};p.prototype.eoa=function(q){var u,t,w;u=this.Kha.X.P;t=c.__read(this.U0a(q,this.$C.get(d.u.fa),u),2);w=t[0];t=t[1];q=c.__read(this.U0a(q,this.$C.get(d.u.Y),u),2);return {audio:w,video:q[0],text:[],total:Math.max(t,q[1])};};p.prototype.U0a=function(q,u,t){q=(null === u || void 0 === u?void 0:u.j4b(q,t)) || [];q=(0,f.flatten)(q.map(function(w){return Object.keys(w.wF).map(function(v){v=w.wF[v];return {Vb:v.Vb,duration:v.totalTime,Fm:w.Fm};});}));u=q.reduce(function(w,v){return w + v.duration;},0);g.K && this.console.trace("Getting playtime journal",{P:t,uic:q.length,totalTime:u});return [q,u];};p.prototype.$Ua=function(){var q,u,t;t=this.Kha.X.P;null === (q=this.$C.get(d.u.fa)) || void 0 === q?void 0:q.Z$a(t);null === (u=this.$C.get(d.u.Y)) || void 0 === u?void 0:u.Z$a(t);};p.prototype.Ll=function(){return {ad:this.ZRa.Ll(),errors:this.hp};};return p;})();b.tNa=r;},18679:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.FS=void 0;c=a(5163);l=a(50164);f=a(46250);k=a(88801);d=a(45894);b.FS=function(g,n,h){var m,p,q,u,t;m=n.vW;p=n.jia;g=c.__assign({Rca:f.Qca},g).Rca;q=m[5];m=(0,d.lta)(function(){return t;});q.gSa(m.wo);h=h(n);q=new l.Yda();q.Cb(h);u={Ag:void 0,Kc:void 0,Ta:h,Npa:q,O4a:"content"};u.Ag=new g(function(){return u.Kc.ca;},q,n.vW[2]);t=new d.HCa(u,m.Adb,k.Wv.awa.NN);u.Kc=k.Wv.Pua(h,t,function(){return u;},p);t.Cb();return u.Kc;};},45894:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.lta=b.HCa=void 0;c=a(5163);l=a(50954);f=a(53405);k=a(33285);d=a(62558);r=(function(g){function n(h,m,p,q){void 0 === q && (q="CphAsePlaygraph");q=g.call(this,h,m,p,q) || this;q.ap=h;q.g8a=m;q.Yab=p;h.Ta.Ce(new f.ICa(q));return q;}c.__extends(n,g);n.prototype.CC=function(h){var m,p;m=g.prototype.CC.call(this,h);if(m){p=h.X.Hm;p && !this.k1 && (this.aga.Os({applyingContentPlaygraph:!0}),this.k1=p,this.Rpb=this.Xyb(h.X),this.nva());}return m;};Object.defineProperties(n.prototype,{T1a:{get:function(){return this.Rpb;},enumerable:!1,configurable:!0}});n.prototype.aB=function(h){if(this.k1)return (h=c.__assign(c.__assign({},h),{O:c.__assign({},h.O)}),(0,l.Vra)(h,this.k1.ca));};n.prototype.Xyb=function(h){var m,p;m=h.op;p=h.IB;return !(!m || !m.some(function(q){return q.IB !== p;}));};Object.defineProperties(n.prototype,{Hm:{get:function(){var h;return null === (h=this.k1) || void 0 === h?void 0:h.ca;},enumerable:!1,configurable:!0}});c.__decorate([(0,k.Pb)({methodName:"processViewableResponse"})],n.prototype,"CC",null);return n;})(a(61341).Kea);b.HCa=r;b.lta=function(g){var n;n=[];return {wo:function(h,m){var p,q,u,t,w,v,y;u=h.J;t=h.XW;w=g();if(w.Lia && w.Lia !== u){v=null === (p=null === t || void 0 === t?void 0:t.Bf) || void 0 === p?void 0:p.$b;p=null === (q=null === t || void 0 === t?void 0:t.Bf) || void 0 === q?void 0:q.xd;q=w.$b;t=w.Lia;(0,d.assert)(t,"did not receive parent viewable id");t={Bf:{$b:null !== v && void 0 !== v?v:q,xd:null !== p && void 0 !== p?p:t}};}w.Ta.console.trace("In wrapped request viewable",u,t);y=m(c.__assign(c.__assign({},h),{XW:t}));n.forEach(function(x){return x({J:u,Gz:y.Gz});});return y;},Adb:function(h){n.push(h);}};};},96855:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ska=void 0;c=a(88801);l=a(31503);b.ska=function(f,k){var d;f=k(f);d=new l.yLa(f,c.Wv.awa.NN);return c.Wv.Pua(f,d,function(){return d.Qua;});};},19332:function(r,b,a){var l,f,k,d;function c(g,n){return n && !Array.isArray(n) && -1 === n.OYa.indexOf(g)?n.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.Bka=void 0;l=a(5163);r=a(57055);f=a(91795);k=a(28445);d=(function(g){function n(h,m){var p;p=g.call(this) || this;p.dSb=h;p.c3a=m;p.mga={};return p;}l.__extends(n,g);n.prototype.emit=function(h){for(var m=[],p=1;p < arguments.length;p++){m[p - 1]=arguments[p];}return g.prototype.emit.call(this,h,this.dSb(h,m[0]));};n.prototype.subscribe=function(h){var m,p;m=this;if(!this.listeners(h).length){p=function(){for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}return m.emit.apply(m,l.__spreadArray([h],l.__read(q),!1));};this.mga[h]=p;this.c3a.addListener(h,p);}};n.prototype.addListener=function(h,m){this.subscribe(h);g.prototype.addListener.call(this,h,m);return this;};n.prototype.removeListener=function(h,m){g.prototype.removeListener.call(this,h,m);m=this.mga[h];!this.listeners(h).length && m && (this.c3a.removeListener(h,m),this.mga[h]=void 0);return this;};n.prototype.on=function(h,m){this.addListener(h,m);return this;};n.prototype.zr=function(h,m){this.removeListener(h,m);return this;};n.prototype.once=function(h,m){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(h,p);m.apply(void 0,l.__spreadArray([],l.__read(u),!1));}q=this;this.addListener(h,p);return this;};n.prototype.G9=function(h,m){this.subscribe(h);g.prototype.G9.call(this,h,m);};n.prototype.K9a=function(h,m){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(h,p);m.apply(void 0,l.__spreadArray([],l.__read(u),!1));}q=this;this.G9(h,p);};return n;})(r.EventEmitter);b.Bka=function(g,n,h,m){return new d(function(p,q){var u;u=c(p,m["*"]);p=m[p] || [];u=u.concat(p).filter(function(t){return "object" === typeof t;});p=l.__read(p.filter(function(t){return "function" === typeof t;}),1)[0];return u.length?(0,k.p$)(g,q,h,{rules:u,cm:!1,hia:!0},f.Bu.Tya,p):q;},n);};},46250:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Qca=void 0;c=a(5163);l=a(50954);f=a(42866);k=a(12043);d=a(33285);g=a(58726);n=a(62558);h=a(89847);m=a(49730);p=a(59322);r=(function(){function q(u,t,w,v){var x,z;function y(A,B){return A.I === B.I && A.offset.equal(B.offset);}x=this;this.En=u;this.j1=t;this.config=w;this.console=new k.platform.Console("GRAPHLOCATIONSERVICE");this.Xg=new d.Ju({hn:this,source:(v || "") + "GraphLocation",console:this.console});(0,p.pva)(this,"d",new p.Ada(w,y));(0,p.pva)(this,"u",new p.Ada(w,y));"temp" !== v && (null === (z=this.j1.events) || void 0 === z?void 0:z.on("updated",function(){(0,p.y_a)(x).forEach(function(A){return A.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.En();},enumerable:!1,configurable:!0}});q.prototype.agb=function(u,t){return new q(function(){return u;},{SV:t,Sya:t},this.config,"temp");};q.prototype.iB=function(u){var t,w,v;m.K && this.console.trace("downConverting",u);t=this.parent;w=this.j1;v=w.SV;if(t === w.Sya)return u;if(v.O[u.I])return (t.O[u.I] || m.K && this.console.warn("Received a down converted position unexpectedly",u,Error().stack),u);w=(0,g.Qja)(u,t);u=(0,l.bgb)(t,v,{offset:w.v3.G,v:u.I});u={offset:w.Rn.add(f.L.Na(u.offset)),I:u.v};m.K && this.console.trace("downConverting ret:",u);return u;};q.prototype.Tr=function(u){var t,w,v;m.K && this.console.trace("upConverting",u);t=this.parent;w=this.j1;v=w.SV;if(t === w.Sya)return u;if(t.O[u.I])return (v.O[u.I] || m.K && this.console.warn("Received a up converted position unexpectedly",u,Error().stack),u);w=(0,g.Qja)(u,v);u=(0,l.tVa)(t,v,{offset:w.v3.G,v:u.I});u={offset:w.Rn.add(f.L.Na(u.offset)),I:u.v};m.K && this.console.trace("upConverting ret:",u);return u;};q.prototype.kKb=function(u){var t;t=(0,l.F_a)(this.parent,this.j1.SV,{v:u.I,offset:u.offset.G});t=(0,h.z4a)(t);(0,n.assert)(t,("Could not find any segments in the path of ").concat(u));return t;};c.__decorate([(0,d.Pb)({methodName:"downConvertPosition",bk:!0,kp:!0,return:!0}),(0,p.nja)("d")],q.prototype,"iB",null);c.__decorate([(0,d.Pb)({methodName:"upConvertPosition",bk:!0,kp:!0,return:!0}),(0,p.nja)("u")],q.prototype,"Tr",null);return q;})();b.Qca=r;},88801:function(r,b,a){var k,d,g,n,h,m,p,q,u;function c(t,w){var v,y,x,z;if((v=t.Kc.ca.O[w]) && v.cc && t.Kc.Uc){v=t.Ta;for(var A={offset:d.L.Ha,I:w};v.parent;){v=v.parent;A=v.Ag.Tr(A);}v=v.ca.O[A.I];v=v.J;(w=(0,p.LF)(w)) && (z=null === (x=null === (y=t.Kc.Uc.We.de[v]) || void 0 === y?void 0:y[w.rj]) || void 0 === x?void 0:x.iu);}return z;}function l(t,w,v,y){var x;return w === h.Bu.XS?(w=d.L.Ha,(null === y || void 0 === y?void 0:y.ajc) === u.end && (w=d.L.Na(null !== (x=v.Kc.ca.O[t].va) && void 0 !== x?x:0),(0,g.assert)(0 < w.G,"EndTime must be non null")),v.Ag.iB({offset:w,I:t}).I):v.Ag.Tr({offset:d.L.Ha,I:t}).I;}function f(t,w,v){return w === h.Bu.Tya?v.Ag.Tr(t):v.Ag.iB(t);}Object.defineProperties(b,{__esModule:{value:!0}});b.Wv=void 0;k=a(5163);d=a(42866);g=a(62558);r=a(93079);n=a(74251);h=a(91795);m=a(93514);p=a(83981);q=a(36479);a=(0,n.Xab)();a=(0,r.aUa)()({K5a:"combinedPlaygraph",NN:{Og:a()({map:f,Ix:q.Q3a}),Nd:a()({map:function(t,w,v,y){var x;x=(null === y || void 0 === y?0:y.yo)?(0,q.M5)(t,y.yo):t.position;w=f(x,w,v);t=(0,q.B3)(t,null === y || void 0 === y?void 0:y.yo);(null === y || void 0 === y?0:y.yo)?(0,q.Vbb)(t,y.yo,w):t.position=w;return t;},Ix:function(t,w,v){return (null === v || void 0 === v?0:v.yo)?(0,q.M5)(t,v.yo):(0,q.Nd)(t);}}),Dza:a()({map:function(t,w,v,y){var x;if(w === h.Bu.XS)return null !== (x=t.inner) && void 0 !== x?x:t;w=(0,q.B3)(t,null === y || void 0 === y?void 0:y.yo);null !== y && void 0 !== y && y.yo || (w.inner=t,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).hkb && (w.gctag=void 0));return w;},Ix:function(t,w,v){return (null === v || void 0 === v?0:v.yo)?"object" === typeof (0,q.M5)(t,v.yo):"object" === typeof t;}}),I:a()({map:l,Ix:q.U3a}),oX:a()({map:function(t,w,v,y){var x,z;z=null !== (x=t.I) && void 0 !== x?x:t.segmentId;w=l(z,w,v,y);return t.I?k.__assign(k.__assign({},t),{I:w}):k.__assign(k.__assign({},t),{segmentId:w});},Ix:q.X1a}),tka:a()({map:function(t,w,v){w === h.Bu.XS?(t=(0,m.wp)(v.Kc.ca,t.J,t.Gl,{kbb:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in ux playgraph"),t=v.Ag.iB(t),w=t.I,t=t.offset,w=v.Ta.ca.O[w],v=w.J,w=w.ta,t=d.L.Na(w).add(t)):(t=(0,m.wp)(v.Ta.ca,t.J,t.Gl,{kbb:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in combined playgraph"),t=v.Ag.Tr(t),w=t.I,t=t.offset,w=v.Kc.ca.O[w],v=w.J,w=w.ta,t=d.L.Na(w).add(t));return {Gl:t,J:v};},Ix:q.y3a}),$ia:a()({Ix:q.v3a,map:function(t,w,v){var y,x,z,A,B;if(w === h.Bu.XS){w={I:t.v.id,offset:d.L.Ha};z=v.Ag.iB(w);w=v.Ta.ca.O[z.I];v=v.Kc.ca.O[t.v.id];A=w.va;B=w.ta;A=null !== (y=A && A - B) && void 0 !== y?y:0;v=t.ve.add(d.L.Na(w.ta - v.ta));return {ve:v,eH:t.Dr.add(d.L.Na(A)),Dr:t.Dr,v:{id:z.I,me:d.L.Na(w.ta),Ff:d.L.Na(null !== (x=w.va) && void 0 !== x?x:0)}};}w={I:t.v.id,offset:d.L.Ha};x=v.Ag.Tr(w);B=v.Npa.SV;w=B.O[t.v.id];z=v.Kc.ca.O[x.I];y=d.L.Na(null !== (A=z.va && z.va - z.ta) && void 0 !== A?A:0);z.va && Infinity !== z.va || (A=v.Ag.kKb(x),B=B.O[A],B.va && (y=v.Ag.Tr({I:A,offset:d.L.Na(B.va - B.ta)}).offset));A=t.Dr.qa(x.offset);B=A.add(y);v=t.ve.add(d.L.Na(z.ta - w.ta));t=d.L.Na(z.ta);w=y.add(t);return {ve:v,eH:B,Dr:A,v:{id:x.I,me:t,Ff:w}};}}),hvb:a()({Ix:function(t){return "segmentPresenting" === t.type;},map:function(t,w,v){var y;t=(0,q.B3)(t);if((w=t.metrics) && void 0 === w.adBreakLocationMs){y=c(v,w.destPosition.I);void 0 !== y && (w.adBreakLocationMs=y);y=c(v,w.srcStartPosition.I);void 0 !== y && (w.srcadBreakLocationMs=y);}return t;}})}});(function(t){t[t.Iec=0]="beginning";t[t.end=1]="end";})(u || (u={}));b.Wv=a;},32837:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.p9a=void 0;b.p9a={"*":{OYa:["logdata"],rules:[{Jj:function(a){return a.Dza;}}]},segmentPresenting:[{Jj:function(a){return a.Dza;},config:{yo:["metrics"]}},{Jj:function(a){return a.Nd;}},{Jj:function(a){return a.Nd;},config:{yo:["metrics","srcStartPosition"]}},{Jj:function(a){return a.Nd;},config:{yo:["metrics","srcTransitionPosition"]}},{Jj:function(a){return a.Nd;},config:{yo:["metrics","destPosition"]}},{Jj:function(a){return a.hvb;}}],streamPresenting:[{Jj:function(a){return a.Nd;}}],segmentAppended:[{Jj:function(a){return a.oX;}}]};},31503:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yLa=void 0;c=a(5163);l=a(12043);f=a(33285);k=a(97810);d=a(19332);g=a(32837);r=(function(){function n(h,m){var p;p=this;this.EU=h;this.events=(0,d.Bka)(function(){return p.Qua;},this.EU.events,m,g.p9a);this.Wpb=(0,k.Jh)(l.platform,this.EU.console,"PLAYERHOST");new f.Ju({ko:10,hn:this,source:"PlayerHost",console:this.Wpb});}n.prototype.Vja=function(){this.Qua=void 0;};n.prototype.Vwa=function(h){this.Qua=h;};c.__decorate([(0,f.Pb)({methodName:"clearProxyPlaygraphContext"})],n.prototype,"Vja",null);c.__decorate([(0,f.Pb)({methodName:"setProxyPlaygraphContext"})],n.prototype,"Vwa",null);return n;})();b.yLa=r;},43247:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.r9a=void 0;b.r9a={"*":{OYa:["logdata"],rules:[{Jj:function(a){return a.Dza;}}]},locationSelected:[{Jj:function(a){return a.oX;}}],segmentComplete:[{Jj:function(a){return a.oX;}}],segmentStarting:[{Jj:function(a){return a.oX;}}],serverSwitch:[{Jj:function(a){return a.oX;}}],streamSelected:[{Jj:function(a){return a.Nd;}}]};},61341:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Kea=void 0;c=a(5163);l=a(42866);f=a(42866);k=a(48641);d=a(33285);g=a(27364);n=a(62558);h=a(49730);m=a(57206);p=a(69287);q=a(19332);u=a(43247);r=(function(){function t(w,v,y,x){var z;void 0 === x && (x="CphAsePlaygraph");z=this;this.ap=w;this.g8a=v;this.Yab=y;this.K6b=x;this.Upb=new m.Tea();this.g8a(function(A){var B;B=A.Gz;return c.__awaiter(z,void 0,void 0,function(){var C;return c.__generator(this,function(D){switch(D.label){case 0:return [4,B];case 1:return (C=D.Ua(),this.CC(C),[2]);}});});});}Object.defineProperties(t.prototype,{Ta:{get:function(){return this.ap.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{wj:{get:function(){return this.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ca:{get:function(){return this.oj;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{parent:{get:function(){return this.En;},set:function(w){this.En=w;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ag:{get:function(){return this.ap.Ag;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{T:{get:function(){return this.Ta.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{W:{get:function(){return this.Ta.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{T1a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.Cb=function(){var w,v,y;w=this;v=this.ap;this.aga=new d.Ju({ko:10,hn:this,source:this.K6b,console:this.T});this.events=(0,q.Bka)(function(){return v;},v.Ta.events,this.Yab,u.r9a);this.oj=v.Ta.ca;y=v.Ag;v.Ta.Ce(new k.gx(this.aga));v.Ta.Ce(new k.gx(v.Ag.Xg));v.Ta.Ce(new p.gCa(("").concat(v.O4a,"::gls"),y));v.Ta.events.on("playgraphUpdating",function(){w.ap.Npa.X9();});v.Ta.parent=v.Kc;};t.prototype.hv=function(w){var v,y;y=null !== (v=this.Z) && void 0 !== v?v:this.Ta.Z;this.Z=w;w.Vwa && w.Vwa(this.ap);(v=this.ap.Ta.hv(w.EU || w))?(this.Z=w,y !== w && y.Vja && y.Vja()):this.Z=y;return v;};t.prototype.nva=function(w,v,y,x,z){(w=w || this.aB(v || this.oj)) && this.JVb(w,this.T1a,y,x,z);};t.prototype.JVb=function(w,v,y,x,z){var A,B,C,D,F,G,E;A=this.ap.Kc;B=A.Z;D=A.ca;if(C=y?y:A.er && B.Nd?B.yg:A.fr?A.th:void 0){F=this.Ta.ca.O[C.I];F && F.cc && (C=this.Ag.Tr(C));}A.config.q9b && v && B.OC(!0);v=A.p0a();h.K && this.T.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(D)));h.K && this.T.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(w)));this.Upb.set(w,!0);D=this.Ta.ku(w);try{if(!D.ia || C && !B.Nd && !A.fr || y && z)if(((0,n.assert)(!B.sa.ji,"Player is not paused:" + g.xq[D.reason]),A.Df(!0),this.Ta.ku(w),C)){G=this.Ag.iB(C);E=w.O[G.I];"padding" === (null === E || void 0 === E?void 0:E.type) && (G={I:E.Eb,offset:l.L.Ha});this.Xwa(C,x);this.Ta.C$(G,x,z);B.resume();}}finally{v.release();}};t.prototype.ku=function(w){var y,x;function v(){y.oj=w;}y=this;x=this.aB(w) || w;try{return (this.Ta.events.K9a("playgraphUpdating",v),this.Ta.ku(x));}finally{this.Ta.events.removeListener("playgraphUpdating",v);}};Object.defineProperties(t.prototype,{$b:{get:function(){return this.wPa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Lia:{get:function(){var w,v,y,x;w=this;y=Object.keys(this.Ta.ca.O);if(y=(0,f.tc)(y,function(z){return !!w.Ta.ca.O[z].cc;})){y=this.Ta.ca.O[y].cc;x=this.ca.O[y];return null !== (v=null === x || void 0 === x?void 0:x.J) && void 0 !== v?v:Number(y.split(":")[0]);}},enumerable:!1,configurable:!0}});t.prototype.CC=function(w){var v,y,x,z;y=w.X;x=y.$b;y=y.Hm;z=null !== (v=this.W.mma) && void 0 !== v?v:[];if(y && z.some(function(A){return A == w.P;}))return (v=("").concat(w.P," was excluded from content playgraph"),this.aga.Os(v),h.K && this.T.trace(v),!1);x && !this.wPa && (this.wPa=x);return !0;};t.prototype.Df=function(w){this.Ta.Df(w);};t.prototype.Xwa=function(){};c.__decorate([(0,d.Pb)({methodName:"attachPlayer"})],t.prototype,"hv",null);c.__decorate([(0,d.Pb)({methodName:"reevaluateInnerPlaygraph"})],t.prototype,"nva",null);c.__decorate([(0,d.Pb)({methodName:"processViewableResponse"})],t.prototype,"CC",null);c.__decorate([(0,d.Pb)({methodName:"cancelStreaming"})],t.prototype,"Df",null);return t;})();b.Kea=r;},36479:function(r,b,a){var l;function c(f,k){var d,g;d=l.__assign({},f);g=l.__read(k || [],1)[0];g && f[g] && (f=f[g],"object" === typeof f?(k=k.concat(),k.shift(),d[g]=c(f,k)):d[g]=f);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.Vbb=b.B3=b.M5=b.v3a=b.y3a=b.U3a=b.X1a=b.Q3a=b.Nd=void 0;l=a(5163);b.Nd=function(f){return !(null === f || void 0 === f || !f.position);};b.Q3a=function(f){return !(null === f || void 0 === f || !f.I) && !(null === f || void 0 === f || !f.offset);};b.X1a=function(f){return !(null === f || void 0 === f || !f.I) || !(null === f || void 0 === f || !f.segmentId);};b.U3a=function(f,k){return "string" === typeof f && !(!k.Kc.ca.O[f] && !k.Ta.ca.O[f]);};b.y3a=function(f){return !(null === f || void 0 === f || !f.J) && !(null === f || void 0 === f || !f.Gl);};b.v3a=function(f){return !(null === f || void 0 === f || !f.ve);};b.M5=function(f,k){var d;d=f;k.forEach(function(g){d=null === d || void 0 === d?void 0:d[g];});return d;};b.B3=c;b.Vbb=function(f,k,d){for(var g=0;g < k.length - 1 && f;g++){f=f[k[g]];}return f?(f[k[k.length - 1]]=d,!0):!1;};},58730:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ABa=void 0;c=a(57055);l=a(42866);f=a(12043);k=a(97810);d=a(7881);g=a(49730);n=a(27364);r=(function(){function h(m,p,q,u,t,w){this.qc=m;this.kq=p;this.config=q;this.oVb=u;this.Pd=t;this.console=w;this.kga=new c.ze();this.console=(0,k.Jh)(f.platform,w,"BranchDecisionMaker");}h.UIb=function(m){var p;return null !== (p=m.Lb) && void 0 !== p?p:m.eH;};h.PJb=function(m){var p,q;p=m.v;q=m.JM;return p.Eb?p.Eb:q.length?q[0]:m.Sy[0];};h.prototype.wya=function(m,p){var q,u,t,w;q=this;t=m.v;g.K && this.console.trace(("tracking ").concat(m.v.id));this.reset();if(t.aY || 1 >= t.Sy.length && (null === (u=t.gw) || void 0 === u || !u.length))g.K && this.console.trace(("").concat(m.v.id," does not need tracking"));else {w=this.Bwb(m);u=w.swa;p=p.lessThan(w.TNb);g.K && this.console.trace(("tracking ").concat(m.v.id),{I:t.id,qfc:p,Uic:null === u || void 0 === u?void 0:u.G});this.D1b(t,p?u:void 0);if(p)this.kga.on(m.events,"branchEdited",function(){q.wya(m,q.qc.sa.currentTime);});}};h.prototype.YUa=function(){var m;null === (m=this.YWa) || void 0 === m?void 0:m.Oa();this.YWa=void 0;};h.prototype.reset=function(){this.YUa();this.kga.clear();};h.prototype.Bwb=function(m){var p,q;m=h.UIb(m);p=l.L.Na(this.config.s8);q=l.L.Na(this.config.ETb + this.config.r8);p=m.qa(p);return {TNb:(0,n.ao)(this.Pd.value)?m.qa(q):p,swa:p};};h.prototype.D1b=function(m,p){var q;q=this;this.YUa();this.YWa=p?this.qc.bB(d.Jg.ou(p),function(){return q.z5a(m);},"scheduled branch decision"):this.kq.bB(d.Jg.w9b,function(){return q.z5a(m);},"immediate branch decision");};h.prototype.z5a=function(m){var p;this.kga.clear();p=h.PJb(m);g.K && this.console.trace(("BranchDecisionMaker making decision for ").concat(m.id,", decision is ").concat(p));this.oVb(m.id,p,!0);};return h;})();b.ABa=r;},10814:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.NBa=void 0;c=a(5163);l=a(42866);f=a(12043);k=a(27364);d=a(62558);g=a(33285);n=a(7881);r=(function(){function h(m,p,q,u,t,w,v){var y;void 0 === v && (v=500);y=this;this.T=m;this.config=p;this.Jc=q;this.events=u;this.Zla=t;this.qc=w;this.cwb=v;this.Cua=this.oua=this.eja=0;this.g8=[];this.hL={qv:0};this.state=new l.rq(k.Rc.ss);this.Xg=new g.Ju({ko:10,hn:this,source:"BufferStateTracker",ySa:function(){return {isBuffering:y.Aj,alwaysRunUnderflowTimer:y.config.cK};}});}Object.defineProperties(h.prototype,{qv:{get:function(){return this.hL.qv;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Aj:{get:function(){return (0,k.ao)(this.state.value);},enumerable:!1,configurable:!0}});h.prototype.bza=function(m){var p;p=this;Array.isArray(m) || (m=[m]);m.forEach(function(q){q.mediaType === k.u.fa && (p.WTa=c.__assign(c.__assign({},p.WTa),{audio:{trackId:q.trackId,trackIndex:q.pI}}));});};h.prototype.PVb=function(){this.config.jYb && (this.oua=f.platform.time.xa());};h.prototype.c9=function(m){this.set(k.Rc.ss);this.yxa(m,k.Rc.Ne);};h.prototype.V8=function(){this.hL.qv++;};h.prototype.bW=function(m){this.config.cK || void 0 === this.Cy && this.Aj && this.Gka();this.Cy={Ym:m.httpCode,Uf:m.errorCode,Vi:m.nativeCode};};h.prototype.e9=function(){this.Cy=void 0;this.config.cK || this.q4();};h.prototype.oh=function(m){this.Aj || (this.yxa(m,k.Rc.pl),this.Aj && (this.Cy || this.config.cK) && this.Gka());};h.prototype.cWb=function(m,p){this.state.value !== k.Rc.Ne && this.yxa(m,k.Rc.U0);this.bza(p);};h.prototype.BVb=function(m,p){var q;q=this;this.config.awb && this.Aj && (-1 === this.g8.indexOf(m) && this.g8.push(m),2 === this.g8.length && Promise.resolve().then(function(){q.Aj && void 0 !== q.nw && q.Dm("memoryLimit",p.yO,p.zO);}));};h.prototype.w2b=function(m,p){(0,d.assert)(this.state.value === k.Rc.Ne && void 0 === this.nw);this.nw=m;p && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:p.trackId,trackIndex:p.pI}),this.bza(p));};h.prototype.L2b=function(m,p,q){(0,d.assert)(this.Aj);this.Hpa=null !== m && void 0 !== m?m:this.Hpa;this.BU=null !== p && void 0 !== p?p:this.BU;this.CU=q || this.CU;};h.prototype.Dm=function(m,p,q){var u;(0,d.assert)(this.Aj && void 0 !== this.nw && void 0 === this.j3 && void 0 === this.Xaa && void 0 === this.i2);this.j3=m;this.Xaa=p;this.i2=q;this.rp=100;this.Uja();this.q4();null === (u=this.Lja) || void 0 === u?void 0:u.Oa();this.state.value === k.Rc.pl && (this.Cua=f.platform.time.xa());this.xEb();this.set(k.Rc.rl);this.i2=this.Xaa=this.j3=this.CU=this.BU=this.Hpa=this.nw=void 0;};h.prototype.stop=function(){var m;this.set(k.Rc.ss);this.Uja();this.q4();null === (m=this.Lja) || void 0 === m?void 0:m.Oa();};h.prototype.Kja=function(m,p,q,u){var t,w,v,y,x,z,A,B,C,D;t=this;(0,d.assert)(this.Aj);null === (w=this.Lja) || void 0 === w?void 0:w.Oa();if(this.state.value === k.Rc.pl && f.platform.time.xa() < this.Cua + this.config.O6a){x=this.config.O6a - (f.platform.time.xa() - this.Cua);this.Lja=this.qc.bB(n.Jg.fD(l.L.Na(x)),function(){t.Kja(m,p,q,u);});}else {w=q.VF(k.u.fa);z=q.VF(k.u.Y);A=f.platform.time.xa() - Math.max(this.eja,this.oua);if(w || z){B=function(F){return F?F.hr() || F.$m()?u.Jja(t.state.value,m,A >= t.config.wW,p,F,t.qv):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};C=B(w);B=B(z);D=function(F){var G;return {reason:F.reason,complete:F.complete,bl:null !== (G=F.RA) && void 0 !== G?G:0};};this.Xg.Os({as:D(C),vs:D(B),bt:A});D=z?B:C;D.a9b=z && B.RA || 0;D.Mub=w && C.RA || 0;C.complete && B.complete?(D.complete=!0,this.Dm(null !== (x=D.reason) && void 0 !== x?x:"unknown",null !== (v=D.a9b) && void 0 !== v?v:0,null !== (y=D.Mub) && void 0 !== y?y:0)):(D.complete=!1,this.Awb(D),this.Xg.Os({bp:this.rp}));}}};h.prototype.Awb=function(m){var p,q,u;u=m.progress;m.mra?u=(f.platform.time.xa() - Math.max(this.eja,this.oua)) / this.config.wW:u || (u=(null !== (p=m.RA) && void 0 !== p?p:0) / this.config.yr);m=Math.min(Math.max(Math.round(100 * u),null !== (q=this.rp) && void 0 !== q?q:0),99);m != this.rp && (this.rp=m);};h.prototype.yxa=function(m,p){(0,d.assert)(p === k.Rc.Ne || void 0 !== m);this.nw=m;this.rp=0;this.I8=void 0;this.hL.qv=0;this.g8=[];m=this.state.value === k.Rc.Ne || this.state.value === k.Rc.pl;this.eja=f.platform.time.xa();this.set(p);m || (this.zEb(),this.k3b());};h.prototype.set=function(m){this.state.set(m);};h.prototype.zEb=function(){(0,d.assert)(this.events && void 0 !== this.rp);this.I8=this.rp;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:f.platform.time.xa(),percentage:this.rp});};h.prototype.k3b=function(){var m;m=this;this.Uja();this.xUb=this.qc.iWa(function(){return m.yEb();},l.L.Na(this.cwb),"buffering-notification");};h.prototype.Uja=function(){var m;null === (m=this.xUb) || void 0 === m?void 0:m.Oa();};h.prototype.yEb=function(){this.Aj && this.events && void 0 !== this.rp && this.rp !== this.I8 && this.events.emit("buffering",{type:"buffering",time:f.platform.time.xa(),percentage:this.rp}) && (this.I8=this.rp);};h.prototype.xEb=function(){(0,d.assert)(this.events && this.nw && void 0 !== this.j3 && void 0 !== this.i2 && void 0 !== this.Xaa);this.I8=this.rp;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:f.platform.time.xa(),actualStartPosition:this.nw,reason:this.j3,aBufferLevelMs:this.i2,vBufferLevelMs:this.Xaa,selector:this.Hpa,initBitrate:this.BU,initSelReason:this.CU},this.WTa));};h.prototype.Gka=function(){var m;m=this;this.config.Kfb && (!this.Az || this.Az.state !== n.Dk.complete && this.Az.state !== n.Dk.rF?void 0 === this.Az && (this.Az=this.qc.Vx(function(){return m.$eb();},"underflow")):this.Az.mf());};h.prototype.q4=function(){this.Az && (this.Az.state !== n.Dk.rF && this.Az.Oa(),this.Az=void 0);};h.prototype.$eb=function(){var m,p,q;return c.__generator(this,function(u){switch(u.label){case 0:return (m=this.config.Q7,this.T.trace(("BufferingStateTracker: starting underflow timer: ").concat(m,"ms")),[4,n.Jg.fD(l.L.Na(m))]);case 1:(u.Ua(),u.label=2);case 2:if(!this.Aj)return [3,4];p=this.Jc.rQb || 0;q=f.platform.time.xa() - p;if(q >= m)return (this.T.trace(("Forcing streaming failure, ").concat(q,"ms since data received")),this.Zla.dWb(this.Cy),[2]);this.T.trace(("BufferingStateTracker: network activity, wait ").concat(m - q,"ms"));return [4,n.Jg.fD(l.L.Na(m - q))];case 3:return (u.Ua(),[3,2]);case 4:return [2];}});};c.__decorate([(0,g.Pb)({methodName:"onTemporaryNetworkError",bk:!0})],h.prototype,"bW",null);c.__decorate([(0,g.Pb)({methodName:"onUnderflow",bk:!0})],h.prototype,"oh",null);c.__decorate([(0,g.Pb)({methodName:"bufferingComplete",bk:!0})],h.prototype,"Dm",null);c.__decorate([(0,g.Pb)({methodName:"stop",bk:!0})],h.prototype,"stop",null);c.__decorate([(0,g.Pb)({methodName:"checkStreamingBufferingComplete",bk:!0})],h.prototype,"Kja",null);c.__decorate([(0,g.Pb)({methodName:"createUnderflowTask",bk:!0})],h.prototype,"Gka",null);c.__decorate([(0,g.Pb)({methodName:"destroyUnderflowTask",bk:!0})],h.prototype,"q4",null);c.__decorate([(0,g.Pb)({methodName:"onUnderflowTimeout",bk:!0})],h.prototype,"$eb",null);return h;})();b.NBa=r;},43603:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bWa=void 0;c=a(5163);l=a(27364);b.bWa=function(f){var n,h;function k(m){(0,l.ao)(m.newValue) && !(0,l.ao)(m.oldValue)?(null === h || void 0 === h?void 0:h.Oa(),h=n.bB.apply(n,c.__spreadArray([],c.__read(d),!1))):null === h || void 0 === h?void 0:h.Oa();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=f.Ye;n=f.kq;g.state.addListener(k);k({oldValue:l.Rc.ss,newValue:g.state.value});};},98468:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dma=void 0;c=a(42866);b.dma=function(l,f,k,d,g){var n,h;n=[];h=[];l=l.gm.values.filter(function(m){return m.Xm;}).map(function(m){var p,q;p=f(m.ma,k,d,g);q=p.map(function(u){return u.mediaType;});n=(0,c.dK)(n,q);q=(0,c.Gq)(p,m.Gd).map(function(u){return u.mediaType;});h=(0,c.dK)(h,q);q=(0,c.Gq)(m.Gd,p).map(function(u){return u.mediaType;});h=(0,c.dK)(h,q);return {kb:m,Gd:p};});return {DUa:h,Nvb:l,Etb:n};};},58726:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.kwa=b.Qja=b.Zk=b.F1a=b.cgb=void 0;c=a(42866);l=a(62558);f=a(49730);b.cgb=function(d,g){d=d.O[g.I];if(void 0 === d)return {eM:!1,reason:("Segment ").concat(g.I," was not found")};if(0 > g.offset.G)return {eM:!1,reason:("Offset ").concat(g.offset.G," was negative")};if(void 0 === d.va || null === d.va || Infinity === d.va)return {eM:!0};d=d.va - d.ta;return g.offset.G >= d?{eM:!1,reason:("Offset ").concat(g.offset.G," was greater than segment duration ").concat(d)}:{eM:!0};};k=c.L.Na(100);b.F1a=function(d,g){if(d === g)return !0;if(d && g && d.I === g.I){if(d.offset === g.offset)return !0;d=c.L.abs(d.offset.qa(g.offset));if(k.greaterThan(d))return !0;}return !1;};b.Zk=function(d,g,n){var h,m,p,q;m=g.ya;g=g.sOb;void 0 === n && (n={});p=m.ca;m=m.navigator;p=m.he(null !== (h=null === g || void 0 === g?void 0:g.id) && void 0 !== h?h:p.xe);h=(null === g || void 0 === g?void 0:g.S1b) || p.me;if(h.greaterThan(d))return n.h4b?{offset:d.qa(h),I:p.id}:void 0;m=m.l4a(p);for(p=m.next();!p.done;){g=p.value;p=g.Ff.qa(g.me);q=h;h=q.add(p);if(h.greaterThan(d))return (d=d.qa(q),f.K && (0,l.assert)(d.hi(c.L.Ha) && d.lessThan(p)),{I:g.id,offset:d});p=m.next();if(p.done && n.i4b)return {I:g.id,offset:d.qa(q)};}};b.Qja=function(d,g){g=g.O[d.I];return d.offset.lessThan(c.L.Ha)?{v3:c.L.Ha,Rn:d.offset}:g.va && (g=c.L.Na(g.va - g.ta),g.isFinite() && d.offset.greaterThan(g))?{v3:g,Rn:d.offset.qa(g)}:{v3:d.offset,Rn:c.L.Ha};};b.kwa=function(d,g){d=d.O[g.I];if(void 0 !== d)return null === d.va || void 0 === d.va?{I:g.I,offset:c.L.max(c.L.Ha,g.offset)}:{I:g.I,offset:c.L.max(c.L.Ha,c.L.min(g.offset,c.L.Na(d.va - d.ta)))};};},124:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.QEa=void 0;r=a(5163);c=a(12043);l=a(27364);f=r.__importDefault(a(76733));k=a(74377);d=a(62558);g=a(17329);a=(function(){function n(h,m,p,q,u){this.config=h;this.a4b=m;this.navigator=p;this.events=q;this.console=u;h=(0,k.X0a)(this.config);this.N$=h.N$.bind(h);this.gxa=h.gxa.bind(h);this.lna=h.lna.bind(h);this.Joa=h.Joa.bind(h);this.F9a=[h.xua.bind(h),h.yW.bind(h)];}n.prototype.X1b=function(h,m,p,q,u,t,w,v){var y,x,z,A,B,C,D,F;y=[];if(!this.U8a(t.track,t.track.aa?t.track.nKb(q):void 0))return {stream:A,DX:y,reason:"locationSelectionFailure"};x=t.Bo;q=x.uh;z=t.q5;A=q.fo;B=this.gMb(t,m,h,p,w);C=B.first;if(0 === C.length && (null === w || void 0 === w?0:w.oUa))return {stream:void 0,DX:y,reason:"allStreamsFiltered"};A && !A.track.equals(t.track) && (A=this.dHb(A,C));D=t.mediaType;if((w=D === l.u.fa) && A && !this.G3b(q,A))return (this.config.G1a && this.N$(A.bitrate),{stream:A,DX:y});h=(0,l.pua)(h);m=this.CBb(h,m,u,t,!!v);u=this.F9a[D];v=w?this.Joa():this.lna();t=x.tbb(m,B,v,u,t.M3a(),t.track.ma.ey,z);if(!t)return {stream:A,DX:y,reason:"streamSelectionFailure"};x={ug:t.ug,zW:t.zW};if(t.reason){F=t.reason;this.Exb(D,C,p);}this.BEb(D,t,C);A=t.Fd || C[0];p=A.bitrate;w?this.config.G1a && this.N$(p):this.gxa(p);q.Zwa(A);y=C.filter(function(G){var E;return G !== A && G.rz && !G.aa && !(null === (E=G.Ja) || void 0 === E?0:E.length);});return {stream:A,DX:y,CU:F,$t:x,Kt:t.Kt,SGb:C,Y1b:t};};n.prototype.Jja=function(h,m,p,q,u,t,w){var v,y,x;if(!(0,l.ao)(m))return {complete:!0,reason:"playing"};if(!t.L9a)return {complete:!1,reason:"unknown"};if(t.wWb)return ((0,d.assert)(t.r8a),t.r8a);v=t.Bo;y=v.uh;p=this.s_a(t,p);x=y.fo;y=p.Fl - p.Dd;if(y < this.config.yr || void 0 === x)return {complete:!1,RA:y,reason:"preBuf"};if(t.mediaType === l.u.fa)return {complete:!0,RA:y,reason:"audio"};if(h=h.LUa(t.mediaType))return {complete:!0,RA:y,reason:h};this.U8a(t.track);h=new g.W0();h.t2([x]);v.E9a(h,(0,l.pua)(m),p,this.F9a[t.mediaType]);m=v.s3(p,m,u,x,{qv:w});if(!m.complete && q)return {complete:!0,reason:"prebufferTimeLimit",RA:y};m.RA=y;return m;};n.prototype.zj=function(h,m,p,q){return q?q.zj(h.track.oe,m,p.qa(h.kb.ve),h.Pg()):h.track.oe;};n.prototype.gMb=function(h,m,p,q,u){var t;t=new g.W0();t.t2(this.zj(h,p,q,u));m=h.kb.Lb.qa(m);for(m=this.config.Lra - m.G;0 < m;){h=this.navigator.next(h);if(null === h || void 0 === h || !h.Pg)break;t.t2(this.zj(h,p,q,u));m-=h.kb.v.duration.G;}return t;};n.prototype.BEb=function(h,m,p){this.events.emit("streamSelection",{type:"streamSelection",mediaType:h,result:m,streamList:p});};n.prototype.AEb=function(h,m,p,q){h={type:"maxVideoBitrateChanged",time:c.platform.time.xa(),streaming:q,maxvb_old:h,maxvb:m,reason:p};this.events.emit(h.type,h);};n.prototype.dHb=function(h,m){var p;p=m[0];m.filter(function(q){return q.Gv;}).every(function(q){return q.bitrate <= h.bitrate?p=q:!1;});return p;};n.prototype.G3b=function(h,m){return 0 < this.config.WX.length?!0:(h=h.iM) && h === m.location?!1:!0;};n.prototype.U8a=function(h,m){return h.ma.Uk.zfb(h.ma.J,h.oe,m);};n.prototype.s_a=function(h,m){var B;for(var p,q=m.qa(this.a4b),u=[],t=h,w=m,v,y,x=0,z=0,A=!0;t;){B=t.d0a(q);if(!A && !t.Zh)break;0 < B.Ja.length && (w=B.Ja[0].Ab,void 0 === v && (v=B.Ja[B.Ja.length - 1].Lb,y=B.m9 >= B.Ja.length?v:B.Ja[B.m9].Ab),u=B.Ja.concat(u),x+=0 < B.Br?B.Br:0,z+=B.zN);t=this.navigator.parent(t);A=!1;}return {bF:c.platform.UT()[h.mediaType],gb:Math.floor(w.G),Dd:m.G,qn:Math.floor(null !== (p=null === v || void 0 === v?void 0:v.G) && void 0 !== p?p:m.G),Fl:Math.floor(y?y.G:m.G),Eo:u.reduce(function(C,D){return C + D.wa;},0),Br:x,zN:z,igc:u.length,Ja:u};};n.prototype.CBb=function(h,m,p,q,u){var t,w,v;t=this.s_a(q,m);w=q.mediaType === l.u.Y?this.config.pza:this.config.Fia;v=f.default.instance();return {state:h,UB:h === l.Tb.Oe,Fe:q.Ov,playbackRate:p,buffer:t,y4:w,eT:u,$j:null === v || void 0 === v?void 0:v.$j,mediaType:q.mediaType,Dd:m.G,iva:0};};n.prototype.Exb=function(h,m,p){var t,w;if(h === l.u.Y){h="manifest";for(var q=0,u=m.length - 1;0 <= u;--u){t=m[u];w=t.bitrate;if(t.zy){q=Math.max(q,w);break;}else this.config.saa && !t.Dp?h="bc":t.Kp?t.my && (h="hf"):h="av";}this.m6a !== q && (this.AEb(this.m6a,q,h,p),this.m6a=q);}};return n;})();b.QEa=a;},16567:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.EIa=void 0;c=a(5163);l=a(49730);f=a(2663);k=a(27364);d=a(33285);r=(function(){function g(n,h,m){this.Hna=n;this.RJb=h;this.T=m;this.Xg=new d.Ju({hn:this,console:m,source:"MemoryDeadlockProtector",ko:5});}g.prototype.WHb=function(n){var h,m,p,q;p=n.config;q=p.yr + (null !== (m=null === (h=p.ZN) || void 0 === h?void 0:h.G) && void 0 !== m?m:0);h=this.ZMb(q,n);l.K && this.T.debug(("MDP: has prebuf: ").concat(h));return h?{r4:!0}:(m=this.Owb(p),h=m.vWb,m=m.L8b,h && m?(l.K && this.T.debug(("MDP: utilizing ").concat(Math.round(100 * m),"%")),m >= p.bTb?this.Hab(n,h):{r4:!0}):{r4:!1});};g.prototype.Hab=function(n,h){var m,p,q,u,t,v,z,A;this.Xg.Os({o:h});u=n.Z;n=n.Ya;t=u.Ya;u=u.kr;for(var w=0;w < t.length;w++){if(!t[w].Zh){u=t[w];t=t.slice(0,w + 1);break;}}w=!1;v=[{mediaType:k.u.fa,Hx:0},{mediaType:k.u.Y,Hx:0},{mediaType:k.u.Ga,Hx:0}];if(null === u || void 0 === u || !u.Zh){n=n.map(function(C){return C;}).filter(function(C){return -1 === t.indexOf(C);}).sort(function(C,D){return (0,f.uja)(C) - (0,f.uja)(D);});try{for(var y=c.__values(n),x=y.next();!x.done;x=y.next()){z=x.value;A=z.tL();v[k.u.fa].Hx+=null !== (p=A.LR) && void 0 !== p?p:0;v[k.u.Y].Hx+=null !== (q=A.CY) && void 0 !== q?q:0;l.K && this.T.debug(("Resetting discontiguous branch ").concat(z.v.id),A);z.reset();if(w=v.every(function(C){return C.Hx >= h[C.mediaType].Hx;}))break;}}catch(C){var B;B={error:C};}finally{try{x && !x.done && (m=y.return) && m.call(y);}finally{if(B)throw B.error;}}}return {r4:w,mgc:v};};g.prototype.Owb=function(n){var h,m,p,q,u;h=[k.u.fa,k.u.Y,k.u.Ga];if(!n.cTb)return {};m=this.RJb();p=this.Hna().total;q=n.aTb;u=0;n=h.map(function(t){var w;w=m[t] - p[t] * q;u=Math.max(0 < p[t]?m[t] / p[t]:0,u);return {Hx:Math.max(0,w),mediaType:t};});return {L8b:u,vWb:n};};g.prototype.ZMb=function(n,h){var m,p,q;m=this;p=!1;h=h.er?h.Z:void 0;if(null === h || void 0 === h?0:h.rOb){p=h.Zy.Zq().map(function(u){return u.mediaType;});q=h.hJb();p=p.every(function(u){var t,w;if(u === k.u.fa)u=null !== (t=q.l2) && void 0 !== t?t:0;else if(u === k.u.Y)u=null !== (w=q.Yaa) && void 0 !== w?w:0;else return (l.K && m.T.trace("hasEnoughBuffer ignoring mediaType:",u),!0);return u >= n;});}return p;};c.__decorate([(0,d.Pb)({methodName:"resetDiscontiguousBranches",return:!0,bk:!0})],g.prototype,"Hab",null);return g;})();b.EIa=r;},50164:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Yda=void 0;c=a(5163);l=a(57055);f=a(49730);k=a(62558);r=(function(){function d(){this.events=new l.EventEmitter();}d.prototype.Cb=function(g){var n;n=this;this.ya=g;this.ya.events.on("segmentNormalized",function(){n.X9();});this.X9();};Object.defineProperties(d.prototype,{SV:{get:function(){return this.Gqb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Sya:{get:function(){(0,k.assert)(this.ya,"Must be initialized");return this.ya.ca;},enumerable:!1,configurable:!0}});d.prototype.X9=function(){var g,n,h;g=this;if(this.ya){n={};h=this.ya.ca;this.Gqb=c.__assign(c.__assign({},h),{O:new Proxy(h.O,{get:function(m,p){var q;if(n[p])return n[p];m=h.O[p];if(!m)return m;q=g.gLb(p);q?(q=q.kub(),n[p]=c.__assign(c.__assign(c.__assign({},q),m),{ta:q.ta,va:q.va})):n[p]=h.O[p];return n[p];}})});this.events.emit("updated");}};d.prototype.gLb=function(g){var n;f.K && (0,k.assert)(this.ya,"Must be initialized");n=this.ya.navigator;return n.W1a(g)?n.he(g):void 0;};return d;})();b.Yda=r;},84975:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ELa=void 0;c=a(42866);l=a(97810);f=a(62558);k=a(29960);r=(function(){function d(){this.Ya=new l.SIa();this.gm=new k.$0();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.Ya.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.Ya.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g;g=this.Ya.values();this.Ya.clear();this.gm.clear();g.forEach(function(n){return n.Df();});};d.prototype.Ep=function(g){return this.Ya.get(g);};d.prototype.has=function(g){return this.Ya.has(g);};d.prototype.root=function(){return this.gm.root;};d.prototype.contains=function(g){var n;n=g.v.id;if(this.has(n))return -1 !== this.Ep(n).indexOf(g);};d.prototype.FF=function(g){this.gm.FF(g);};d.prototype.W5=function(g){return this.gm.parent(g);};d.prototype.cJb=function(g){return this.gm.children(g);};d.prototype.Soa=function(g){return this.gm.Soa(g);};d.prototype.Z_b=function(g){var n;if(this.Ya.delete(g.v.id,g)){n=this.gm.children(g);this.gm.root === g?0 === n.length?this.gm.clear():((0,f.assert)(1 === n.length,"cannot remove the root branch with multiple successors"),this.gm.k0b(n[0])):((0,f.assert)(0 === n.length,"cannot remove non-root branch with successors"),this.gm.remove(g));}};d.prototype.forEach=function(g){var n;n=this;this.Ya.forEach(function(h,m){return g(h,m,n);});};d.prototype.reduce=function(g,n){var h;h=this;return this.Ya.reduce(function(m,p,q){return g(m,p,q,h);},n);};d.prototype.map=function(g){var n;n=this;return this.Ya.map(function(h,m){return g(h,m,n);});};d.prototype.filter=function(g){var n;n=this;return this.Ya.filter(function(h,m){return g(h,m,n);});};d.prototype.mMb=function(){var g;g={};this.forEach(function(n,h){var m;(n=n.Sr) && (null !== (m=g[h]) && void 0 !== m?m:g[h]=[]).push(n.G);});return g;};d.prototype.G7b=function(g,n){var h,m,p;h=this;g=this.ABb(g,n);m=g.CDb(this.gm);n=m.WR;p=m.Vt;m=m.oab;this.gm.clear();this.gm=g;n.forEach(function(q){return h.Ya.set(q.v.id,q);});n.forEach(function(q){return q.Cb();});p.forEach(function(q){return h.Ya.delete(q.v.id,q);});return {Vt:p,oab:m};};d.prototype.ABb=function(g,n){var h,m,p;h=this;m=new Map();p=new k.$0();g.FF(function(q,u){var t,w;if(u){t=m.get(u);if(!t)return !0;}w=(0,c.tc)(h.Ep(q.v.id),function(v){return h.gm.parent(v) === t || !u;}) || n(q.v.id,t);w.kf=q.kf;m.set(q,w);p.add(w,t);(null === w || void 0 === w?0:w.Xm) && w.update(q.v);return !0;});return p;};return d;})();b.ELa=r;},45609:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GLa=void 0;r=(function(){function a(c){this.console=c;this.Rja();}a.prototype.get=function(c){return this.JK[c] || this.ng[c];};a.prototype.set=function(c,l){void 0 === this.ng[c] && (this.ng[c]=l);};a.prototype.D2b=function(c,l){void 0 === this.get(c) && (this.JK[c]=l);};a.prototype.clear=function(c){this.JK[c]=void 0;this.ng[c]=void 0;};a.prototype.Zxb=function(c){var l;this.ng=(l={},l[c]=this.ng[c],l);this.JK={};};a.prototype.Rja=function(){this.ng={};this.JK={};};a.prototype.toJSON=function(){return {ng:this.ng,JK:this.JK};};return a;})();b.GLa=r;},16236:function(r,b,a){var f,k,d;function c(g,n){var h,m;h=Object.keys(g);if(h.some(function(p){var q,u,t,w;return (null === (q=g[p]) || void 0 === q?void 0:q.$d) !== (null === (u=n[p]) || void 0 === u?void 0:u.$d) || (null === (t=g[p]) || void 0 === t?void 0:t.weight) !== (null === (w=n[p]) || void 0 === w?void 0:w.weight);}))return !0;m=Object.keys(n);return 0 !== f.__spreadArray(f.__spreadArray([],f.__read((0,d.Gq)(h,m)),!1),f.__read((0,d.Gq)(m,h)),!1).length?!0:!1;}function l(g,n){return g.some(function(h,m){var p;return 0 !== (0,d.Gq)(h,null !== (p=n[m]) && void 0 !== p?p:[]).length;}) || g.length !== n.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.iUa=b.OVa=void 0;f=a(5163);k=a(42866);d=a(42866);b.OVa=function(g){return new k.tDa(function(n){return Object.keys(n.v.next || ({})).map(function(h){var m,p,q;h=g.he(h);q=null !== (p=null === (m=n.Ff) || void 0 === m?void 0:m.qa(n.me).G) && void 0 !== p?p:Infinity;return {X8b:h,weight:q};});});};b.iUa=function(g,n){var h,m,p,q,u,t;h=Object.keys(g.O);m=Object.keys(n.O);p=m.filter(function(w){return -1 === h.indexOf(w);});q=h.filter(function(w){return -1 === m.indexOf(w);});u=h.filter(function(w){var v;if(-1 === m.indexOf(w))v=!1;else (v=g.O[w],w=n.O[w],v=v.Eb !== w.Eb || v.va !== w.va || v.ta !== w.ta || v.$d !== w.$d || v.J !== w.J || l(v.Tq || [],w.Tq || []) || c(v.next || ({}),w.next || ({}))?!0:!1);return v;});t=(0,d.Gq)(h,f.__spreadArray(f.__spreadArray(f.__spreadArray([],f.__read(u),!1),f.__read(p),!1),f.__read(q),!1));return {WR:p,Vt:q,txb:u,r7b:t};};},22486:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ILa=b.ED=void 0;c=a(5163);l=a(62558);(function(k){k[k.wu=0]="CREATED";k[k.dfa=1]="STARTED";k[k.nQ=2]="REQUEST_ISSUED";k[k.Mw=3]="EVALUATED";k[k.RCa=4]="DESTRUCTED";})(f=b.ED || (b.ED={}));r=(function(){function k(d){this.ON=d;this.Xa=f.wu;this.QC={};this.IX={};}Object.defineProperties(k.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});k.prototype.start=function(){var d;d=this;this.Xa !== f.dfa && (this.FV(f.dfa),[f.Mw,f.nQ].forEach(function(g){var n;n=new Promise(function(h){(0,l.assert)(d.IX && d.QC,"state promises should be defined");d.IX[g]=h;d.QC[g]=n;});}),this.ON(),this.FV(f.Mw));};k.prototype.FV=function(d){this.Xa=d;this.IX && (d=this.IX[d],null === d || void 0 === d?void 0:d());};k.prototype.Oa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Xa !== f.dfa)return [3,2];(0,l.assert)(this.QC,"state resolves should be defined");return [4,this.QC[f.Mw]];case 1:(d.Ua(),d.label=2);case 2:return (this.IX=this.QC=void 0,this.Xa=f.RCa,[2]);}});});};k.prototype.iba=function(d,g){c.__awaiter(this,void 0,void 0,function(){var n;return c.__generator(this,function(h){switch(h.label){case 0:if(this.Xa === f.RCa)return [2];if(this.Xa === f.Mw)return [3,6];(0,l.assert)(this.QC,"state promises should be defined");n=d;switch(n){case f.Mw:return [3,1];case f.nQ:return [3,3];}return [3,5];case 1:return [4,this.QC[f.Mw]];case 2:return (h.Ua(),[3,6]);case 3:return [4,this.QC[f.nQ]];case 4:return (h.Ua(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return k;})();b.ILa=r;},41054:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.NLa=void 0;c=a(5163);l=a(61978);r=(function(){function f(k){this.oj=k;this.O={};}Object.defineProperties(f.prototype,{ca:{get:function(){return this.oj;},enumerable:!1,configurable:!0}});f.prototype.W1a=function(k){return !!this.ca.O[k];};f.prototype.he=function(k){var d;d=this.O[k];if(void 0 === d){d=this.ca.O[k];if(void 0 === d)throw Error(("Segment not found (").concat(k,")"));d=new l.SLa(k,d,this.ca.$d);this.O[k]=d;}return d;};f.prototype.XMb=function(k){return !(!k.v.next || !Object.keys(k.v.next).length);};f.prototype.uJb=function(k){var d;d=this;return k.v.next?Object.keys(k.v.next).map(function(g){return d.he(g);}):[];};f.prototype.l4a=function(k){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,k];case 1:(g.Ua(),d=k,g.label=2);case 2:if(!d.v.Eb)return [3,4];d=this.he(d.v.Eb);return [4,d];case 3:return (g.Ua(),[3,2]);case 4:return [2];}});};f.prototype.aNb=function(k,d){return (0,l.D3a)(k.f6(d));};f.prototype.dj=function(k){var d;d=this;Object.keys(k).forEach(function(g){var n;return null === (n=d.he(g)) || void 0 === n?void 0:n.dj(k[g]);});};f.prototype.update=function(k){var d;d=this;this.oj=k;Object.keys(this.O).forEach(function(g){var n;n=d.oj.O[g];n && d.O[g].update(n) || delete d.O[g];});};return f;})();b.NLa=r;},61978:function(r,b,a){var l,f,k;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.SLa=b.F0=b.D3a=void 0;l=a(5163);f=a(42866);k=a(62558);b.D3a=c;r=(function(){function d(g,n,h){this.region=g;this.Ka=n;this.Wa=h;}d.prototype.toJSON=function(){return {region:this.region,gb:this.Ka.Yv,df:this.Wa.Yv};};return d;})();b.F0=r;r=(function(){function d(g,n,h){var m;m=this;this.id=g;this.Ki=n;this.JQa=!1;this.f6=function(p){var q,u,t,w;return (null === (q=m.gw) || void 0 === q?0:q.length)?"immediate":null !== (w=null === (t=null === (u=m.v.next) || void 0 === u?void 0:u[p]) || void 0 === t?void 0:t.$d) && void 0 !== w?w:m.$d;};this.zOb(n);this.a3a(n,h);this.Z2a();(0,k.assert)(this.Y1.lessThan(this.w1),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{v:{get:function(){return this.Ki;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{J:{get:function(){return this.v.J;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Pp:{get:function(){return this.JQa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{me:{get:function(){return this.Y1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ff:{get:function(){return this.w1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.w1.qa(this.Y1);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aY:{get:function(){return this.Sy.length?!this.v.Eb && 0 === this.JM.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{H3a:{get:function(){return !this.v.type || "content" === this.v.type;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pUb:{get:function(){return this.tA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Sy:{get:function(){var g;return Object.keys((null === (g=this.v) || void 0 === g?void 0:g.next) || ({}));},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{JM:{get:function(){var g;g=this;return this.Sy.filter(function(n){return !!g.tA[n];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Txa:{get:function(){var g;return null !== (g=this.CRa) && void 0 !== g?g:this.CRa=this.Vwb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{taa:{get:function(){var g;return null !== (g=this.DRa) && void 0 !== g?g:this.DRa=this.Wwb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gq:{get:function(){return this.v.weight?this.v.weight / (this.v.weight + this.taa):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$d:{get:function(){var g;return (null === (g=this.gw) || void 0 === g?0:g.length)?"immediate":this.f2;},enumerable:!1,configurable:!0}});d.prototype.zOb=function(g){var n;this.Y1=new f.L(g.ta,1E3);this.w1=void 0 !== g.va && null !== g.va?new f.L(g.va,1E3):f.L.Jp;this.f2=null !== (n=this.Ki.$d) && void 0 !== n?n:this.f2;};d.prototype.a3a=function(g,n){var h,m,p;this.f2=null !== (p=null !== (m=null !== (h=g.$d) && void 0 !== h?h:n) && void 0 !== m?m:this.f2) && void 0 !== p?p:"lazy";};d.prototype.normalize=function(g,n,h){this.Y1=g.$c(n.N);this.w1=n;this.gw=h;this.JQa=!0;this.Dgb();};d.prototype.update=function(g){(0,k.assert)(g.J === this.Ki.J,"Cannot change the viewable id of a segment");(0,k.assert)(g.ta === this.Ki.ta,"Cannot change the start time of a segment");(0,k.assert)(g.type === this.Ki.type,"Cannot change the type of a segment");if(g.va !== this.Ki.va)return !1;g.$d !== this.Ki.$d && this.a3a(g);this.Ki=g;return !0;};d.prototype.M_a=function(){var g;return this.JM.length?null !== (g=this.JM.map(this.f6).reduce(function(n,h){return n === h?h:void 0;})) && void 0 !== g?g:this.$d:this.$d;};d.prototype.dj=function(g){this.Z2a(g);};d.prototype.Lwb=function(g){var n,h;if(this.Txa){n=(this.tA[g] || 0) / this.Txa;if(void 0 === this.v.weight || 0 === this.taa)return {nf:n};h=this.gq;return 1 !== h && c(this.f6(g)) && this.tA[g]?{nf:h * n,JB:this.tA[g] / this.taa * (1 - h)}:{nf:h * n};}return {nf:(null === (n=this.v.next) || void 0 === n?0:n[g])?1 / this.Sy.length:0};};d.prototype.eNb=function(g){return -1 < this.Sy.indexOf(g);};d.prototype.kub=function(){return this.Pp?l.__assign(l.__assign({},this.v),{ta:this.me.G,va:this.Ff.G}):this.v;};d.prototype.Z2a=function(g){var n;if(void 0 === this.v.next)this.tA={};else {n=this.v.next;this.tA=Object.keys(n).reduce(function(h,m){var p;p=g?g[m] || 0:n[m].weight;void 0 !== p && null !== p && 0 <= p && (h[m]=p);return h;},{});}this.Dgb();};d.prototype.Vwb=function(){var g;g=this;return this.JM.reduce(function(n,h){return n + g.tA[h];},0);};d.prototype.Wwb=function(){var g;g=this;return this.JM.filter(function(n){return c(g.f6(n));}).reduce(function(n,h){return n + g.tA[h];},0);};d.prototype.Dgb=function(){this.DRa=this.CRa=void 0;};return d;})();b.SLa=r;},36654:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VLa=void 0;r=(function(){function a(c,l,f,k,d,g,n,h){var m,p;this.ca=c;this.hk=l;this.groupId=f;this.$y=k;this.jH=d;this.ro=g;this.Lk=n;f=null !== (p=null === (m=this.hk.kb.Ab) || void 0 === m?void 0:m.G) && void 0 !== p?p:l.kb.wy.G;this.gq=c.ng.get(l.I)?1:this.hk.kb.v.gq;this.kH=h.offset.G;this.kO=Math.max(this.uk - f,0);}Object.defineProperties(a.prototype,{identifier:{get:function(){return this.hk.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mediaType:{get:function(){return this.hk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{kf:{get:function(){return this.hk.kf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pd:{get:function(){return this.ca.Pd.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{uk:{get:function(){return this.hk.TC.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nL:{get:function(){return this.hk.mL.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{dt:{get:function(){return this.hk.kb.Ld.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hr:{get:function(){return this.hk.hr();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$m:{get:function(){return this.hk.$m();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{li:{get:function(){return this.hk.li;},enumerable:!1,configurable:!0}});a.prototype.f7=function(c,l){return this.ca.f7(this,c,l);};a.prototype.sG=function(){return this.ca.sG(this);};a.prototype.toJSON=function(){return {mediaType:this.mediaType,st:this.st,kf:this.kf,Pd:this.Pd,ro:this.ro,uk:this.uk,Lk:this.Lk,nL:this.nL,kH:this.kH,$y:this.$y,jH:this.jH,gq:this.gq,dt:this.dt,kO:this.kO,groupId:this.groupId,hr:this.hr,$m:this.$m,li:this.li,identifier:this.identifier,ca:"playgraph Object",hk:this.hk};};return a;})();b.VLa=r;},90468:function(r,b,a){var l,f,k;function c(d,g,n,h,m){var p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O,H;v=d.console;y=d.y7b;x=d.ng;z=d.J0b;A=d.PDb;B=d.isa;C=d.Zia;d=d.tWb;D=m || ({complete:!0,Sr:0});F=D.root;G=D.complete;E=D.ysb;I=D.Bab;I=void 0 === I?0:I;D=D.Sr;M=I < z.length && z[I].id === g.id;L=I < z.length?z[I].id:h && x.get(h.id);K=m && h && L !== g.id?void 0 !== L?{nf:0}:h.Lwb(g.id):{nf:1};x=K.nf;K=K.JB;O=void 0 === K?0:K;K=(x + O) * (null !== (p=null === m || void 0 === m?void 0:m.VYb) && void 0 !== p?p:1);k && v.trace(("reevaluateBranches: visiting ").concat(g.id,", ") + ("distance: ").concat(n,", ") + ("probability: ").concat(K,", ") + ("predecessor: ").concat(null === h || void 0 === h?void 0:h.id,", ") + ("decision: ").concat(L,", ") + ("predecessorComplete: ").concat(G,", ") + ("isOnRequiredPath: ").concat(M,", ") + ("requiredPathIndex: ").concat(I,", ") + ("activeDistance: ").concat(E,", ") + ("seamless ").concat(x,", ") + ("immediate ").concat(O,", ") + ("predecessor sum of: successor weights=").concat(null === h || void 0 === h?void 0:h.Txa,", ") + ("immediate weights= ").concat(null === h || void 0 === h?void 0:h.taa));p=null !== (u=null === (q=y[g.id]) || void 0 === q?void 0:q.shift()) && void 0 !== u?u:g.duration.G;q=0 === p;if(!M){if(0 === K)return {gba:!1,z2:!0};if(!G && 0 === O && D > C)return (d.kB=Math.min(d.kB || Infinity,D - C),{gba:!1,z2:!0});if(!q && n >= A && 1 > K || !1 === F && K < B)return {gba:!1,z2:!0};}if(I < z.length){(0,l.assert)(z[I].id === g.id,"");H={duration:z[I].duration};}m=(null === m || void 0 === m?void 0:m.kf) || [];h && 1 > x && (0 === O?m=m.concat([{nf:x}]):(z=(null === (w=null === (t=h.v.Tq) || void 0 === t?void 0:t[0]) || void 0 === w?void 0:w[0]) || 0,t=Math.max(0,h.duration.G - z),k && v.trace(("reevaluateBranches: immediate: ").concat(h.duration.G,", ").concat(z,", ").concat(t)),m=m.concat([{nf:x,JB:O,duration:t}])));t=d.Ova.uZa(function(J){return J.v === h;});d.Ova.add({v:g,kf:m,kb:H},t);n=G?n + g.duration.G:E;k && v.trace(("reevaluateBranches: added ").concat(g.id,", visiting successors, ") + ("active distance: ").concat(n," ") + ("probabilities: ").concat(JSON.stringify(m)));return {gba:!0,z2:M,state:{root:!h,complete:q,VYb:K,kf:m,ysb:n,Bab:I + 1,Sr:D + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.J6b=b.p9b=b.Y9=void 0;l=a(62558);r=a(49730);f=a(29960);k=r.K && !1;b.Y9=function(d,g,n,h,m,p,q,u,t){var w,v,y,x;v={Ova:new f.$0()};y=(null === (w=n.Ff) || void 0 === w?void 0:w.qa(n.me).G) || 0;0 < p.length && (0,l.assert)(n.id === p[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");k && d.trace(("reevaluateBranches: starting at ").concat(n.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));x={console:d,y7b:h,ng:m,J0b:p,PDb:q.G + y,isa:u,Zia:t.G,tWb:v};g.o9b(n,function(z,A,B,C){return c(x,z,A,B,C);});return v;};b.p9b=c;b.J6b=function(d,g,n){var h;h=(0,f.P9a)(g,function(m){return ("").concat(m.v.id);});n(("requiredBranches(").concat(d,")"),h.replace(/\n/g,"<>"));n(("requiredBranches(").concat(d,")"),g.values.map(function(m){var p;return ("").concat(m.v.id,"::").concat(null === (p=g.parent(m)) || void 0 === p?void 0:p.v.id);}).join(", "));};},86315:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.JMa=void 0;c=a(19114);r=(function(){function l(f,k){this.Eva=k;this.$W=[];this.$W.push(f);}l.prototype.wo=function(f,k){return c.lP.O6({J:f,XW:k},this.$W);};l.prototype.iw=function(f){return this.Eva(f);};l.prototype.j0b=function(f){this.$W.pop();this.$W.push(f);};l.prototype.gSa=function(f){this.$W.unshift(f);};return l;})();b.JMa=r;},21690:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fNa=void 0;c=a(5163);l=a(42866);f=a(62558);b.fNa=(function(){function k(){}k.vMb=function(d){var g,n,h;if(d.Pg){h=c.__read(d.Gd,2);d=h[0];h=h[1];if(d.aa || (null === h || void 0 === h?0:h.aa))return {ogb:l.L.Jp,pgb:l.L.Jp};d=null === (g=d.Fo) || void 0 === g?void 0:g.Ff;g=null === (n=null === h || void 0 === h?void 0:h.Fo) || void 0 === n?void 0:n.Ff;(0,f.assert)(d);n=g?l.L.min(d,g):d;return {ogb:d,pgb:n};}};return k;})();},63037:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.o1a=void 0;b.o1a=function(a,c){return a.reduce(function(l,f){return l + f.E5(c).G;},0);};},60857:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.p_a=void 0;c=a(92523);b.p_a=function(l,f){return l.reduce(function(k,d){var g;g=f(d);d.Zq().forEach(function(n){return k.Sha(n.mediaType,n.KA,!g);});return k;},new c.MLa());};},56844:function(r,b,a){var l,f;function c(k,d){return Object.keys(k.fH).map(function(g){return k.fH[g];}).filter(function(g){return void 0 === g.st || 1 === g.st;}).reduce(function(g,n){return g + n.Oq[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.NNa=void 0;l=a(27364);f=a(49730);r=(function(){function k(d,g,n){this.ca=d;this.console=g;this.Hna=n;}k.prototype.axb=function(d,g,n){var h,m,p,q;h=n && this.ca.config.G8b;m=this.ca.config.xY || h;p=this.Hna();if(h){h=d.global;h=(q={},q[l.u.fa]=h[l.u.fa] - c(d,l.u.fa),q[l.u.Y]=h[l.u.Y] - c(d,l.u.Y),q[l.u.Ga]=h[l.u.Ga] - c(d,l.u.Ga),q);}q=h;p=this.LUa(g) || this.Jxb(d) || this.Hxb(d,p,q) || this.Ixb(d,p,q,g);q=(0,l.gva)(p);if(p && (!q || m))return (f.K && this.console.log(("canIssueRequest ").concat(this.ca.id," [").concat(g,"] static limit: ") + ("").concat(n,", usage: ").concat(JSON.stringify(d),", failed ").concat(p)),{result:!1,reason:p});f.K && this.console.log(("canIssueRequest ").concat(this.ca.id," [").concat(g,"] static limit: ") + ("").concat(n,", usage: ").concat(JSON.stringify(d),", success ").concat(p));return {result:!0,reason:p};};k.prototype.LUa=function(d){var g;g=this.ca.config.HG;if(this.ca.CJb(d) >= (g || Infinity))return "mediaDurationLimit";};k.prototype.Jxb=function(d){return d.fH[this.ca.id].total.total > (this.ca.S5() || Infinity)?"playgraphMemoryLimit":void 0;};k.prototype.Hxb=function(d,g,n){d=d.global;return n?n[l.u.fa] + n[l.u.Y] > (g.Gxa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};k.prototype.Ixb=function(d,g,n,h){var m;m=d.global;return n?(f.K && this.console.log(("checkRequestByMediaTypeMemory [").concat(h,"]:") + (" using static limit ").concat(g.Gxa[h],", usage: ").concat(n) + (" (global: ").concat(m[h]," ") + (" - certain contiguous: ").concat(c(d,h),")")),n[h] > (g.Gxa[h] || Infinity)?h === l.u.Y?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):m[h] > (g.total[h] || Infinity)?h === l.u.Y?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return k;})();b.NNa=r;},31192:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Nz=void 0;c=a(27364);l=a(53265);f=a(58648);r=(function(){var T5l;T5l=2;function k(d){var X2X,g;X2X=2;for(;X2X !== 9;){switch(X2X){case 4:var J07="1SIYbZ";J07+="rNJC";J07+="p";J07+="9";this.xua=function(n,h,m){var E48;E48=2;for(;E48 !== 5;){switch(E48){case 2:n=g.Vm(n,m);return g.config.ETa?(h=(0,l.P4)(g.config.DTa,h.Fl - h.Dd,1),{lower:n * (1 - h),upper:void 0}):{lower:n * g.config.cY / 100,upper:void 0};break;}}};J07;X2X=9;break;case 2:g=this;this.config=d;this.lgb=this.T2=null;X2X=4;break;}}}for(;T5l !== 6;){switch(T5l){case 8:k.prototype.Joa=function(){var Y1I;Y1I=2;for(;Y1I !== 1;){switch(Y1I){case 2:return this.lgb;break;}}};return k;break;case 5:k.prototype.Vm=function(d,g){var I7u,n,h,m;I7u=2;for(;I7u !== 5;){switch(I7u){case 2:return this.kxa(g)?(null === (n=d.vt) || void 0 === n?void 0:n.Ca) || (null === (h=d.nb) || void 0 === h?void 0:h.Ca) || 0:(null === (m=d.nb) || void 0 === m?void 0:m.Ca) || 0;break;}}};k.prototype.N$=function(d){var S75;S75=2;for(;S75 !== 1;){switch(S75){case 2:this.T2=d;S75=1;break;}}};k.prototype.lna=function(){var O8r;O8r=2;for(;O8r !== 1;){switch(O8r){case 2:return this.T2;break;case 4:return this.T2;break;}}};k.prototype.gxa=function(d){var w1U;w1U=2;for(;w1U !== 1;){switch(w1U){case 2:this.lgb=d;w1U=1;break;}}};T5l=8;break;case 2:k.prototype.CXa=function(d,g){var N6q,n;N6q=2;for(;N6q !== 4;){switch(N6q){case 2:n=null === this.T2?d * (100 - this.config.cY) / 100:(0,f.qia)(d,this.T2);this.config.Mqa && g?(d=(0,f.qia)(d,g),d=Math.max(d,n)):d=n;return d;break;}}};k.prototype.kxa=function(d){var l$5;l$5=2;for(;l$5 !== 1;){switch(l$5){case 2:return this.config.pYa && (d === c.Tb.rs || d === c.Tb.Ne);break;}}};T5l=5;break;}}})();b.Nz=r;},61038:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.CCa=void 0;c=a(5163);l=a(27364);r=a(31192);f=a(29472);a=(function(k){var e0_;e0_=2;function d(g){var S_2,n;S_2=2;for(;S_2 !== 9;){switch(S_2){case 2:var M34="1SIYb";M34+="Z";M34+="rNJC";M34+="p9";n=k.call(this,g) || this;n.yW=function(h,m,p,q){var o7k,s3g;o7k=2;for(;o7k !== 11;){switch(o7k){case 1:return n.cSb.yW(h,m,p,q);break;case 2:o7k=n.kxa(p)?1:5;break;case 4:var I1l="del";I1l+="i";I1l+="v";I1l+="erytime-c";I1l+="i";m=h[I1l];o7k=3;break;case 6:o7k=p === l.Tb.Ne?8:14;break;case 7:return {lower:(null === m || void 0 === m?void 0:m.low) || h.nb.Ca,upper:(null === m || void 0 === m?void 0:m.high) || q};break;case 13:o7k=12;break;case 3:q=n.config.hza * h.nb.Ca;o7k=9;break;case 14:o7k=7;break;case 12:var N7D="through";N7D+="put-c";N7D+="i";m=h[N7D];o7k=3;break;case 5:var k_S="d";k_S+="e";k_S+="liv";k_S+="erytime";k_S+="-ci";s3g=n.config.Pja;o7k=s3g === k_S?4:13;break;case 9:o7k=p === l.Tb.rs?8:6;break;case 8:return {lower:(null === m || void 0 === m?void 0:m.initial) || h.nb.Ca,upper:(null === m || void 0 === m?void 0:m.high) || q};break;}}};n.cSb=new f.Lda(g);M34;S_2=3;break;case 3:return n;break;case 12:return n;break;}}}for(;e0_ !== 5;){switch(e0_){case 2:c.__extends(d,k);return d;break;}}})(r.Nz);b.CCa=a;},74377:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.X0a=b.Nz=void 0;c=a(29472);l=a(19661);f=a(47896);k=a(61038);d=a(31192);Object.defineProperties(b,{Nz:{enumerable:!0,get:function(){return d.Nz;}}});b.X0a=function(g){switch(g.Ara){case "manifold":return new c.Lda(g);case "stddev":return new f.HNa(g);case "ci":return new k.CCa(g);default:return new l.qNa(g);}};},29472:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Lda=void 0;c=a(5163);r=a(12043);l=c.__importStar(a(53265));a=a(31192);f=l.uK;k=l.UUa;d=l.P4;g=l.MYa;n=l.ebb;new r.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){var j7z;function m(p){var L7E,q;L7E=2;for(;L7E !== 13;){switch(L7E){case 5:Array.isArray(p.Rs.curves) && (q.OWa=k(p.Rs.curves[0],0,0,1),q.NWa=k(p.Rs.curves[1],0,0,1));q.tvb=f(p.Rs.threshold || 6E3,1,1E5);q.qvb=f(p.Rs.gamma || 1,.1,10);q.filter=p.Rs.filter;L7E=8;break;case 2:q=h.call(this,p) || this;q.yW=function(u,t,w,v){var z7Y,y,x,z;z7Y=2;for(;z7Y !== 14;){switch(z7Y){case 8:void 0 !== u && (x=g(q.rUb,u),t=Math.min(t * x,1));A9tfv.J3t(10);v=q.CXa(A9tfv.L_B(1,z,t),v);z7Y=6;break;case 6:return {lower:v,upper:v * q.config.hza};break;case 2:z=q.Vm(u,w);w=q.kxa(w)?z:(null === (y=u[q.filter]) || void 0 === y?void 0:y.Ca) || z;z7Y=5;break;case 5:y=Math.pow(Math.max(1 - w / q.tvb,0),q.qvb);w=t.Fl - t.Dd;q.W3b?(t=d(q.OWa,w,1),w=d(q.NWa,w,1),t=t * y + w * (1 - y)):t=d(n(q.OWa,q.NWa,y),w,1);u=q.q7a && (null === (x=u[q.q7a]) || void 0 === x?void 0:x.zsa);z7Y=8;break;}}};L7E=5;break;case 8:var k5D="1SIYbZ";k5D+="r";k5D+="NJCp";k5D+="9";q.W3b=!!p.Rs.simpleScaling;p.Rs.niqrfilter && p.Rs.niqrcurve && (q.q7a=p.Rs.niqrfilter,q.rUb=k(p.Rs.niqrcurve,1,0,4));k5D;return q;break;}}}j7z=2;for(;j7z !== 5;){switch(j7z){case 2:c.__extends(m,h);return m;break;case 3:c.__extends(m,h);return m;break;}}})(a.Nz);b.Lda=a;},19661:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qNa=void 0;c=a(5163);r=a(12043);l=a(31192);f=a(58648);new r.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){var U1g;U1g=2;function d(g){var R8n,n;R8n=2;for(;R8n !== 3;){switch(R8n){case 2:var a7t="1SI";a7t+="YbZ";a7t+="rNJCp";a7t+="9";n=k.call(this,g) || this;n.yW=function(h,m,p,q){var C14,u;C14=2;for(;C14 !== 9;){switch(C14){case 4:q=n.CXa(m,q);return {lower:q,upper:q * n.config.hza};break;case 2:u=n.Vm(h,p);h=n.O3b(h,p);m=u?u * (100 - n.NIb(m,h)) / 100 | 0:0;C14=4;break;}}};a7t;R8n=4;break;case 4:return n;break;}}}for(;U1g !== 3;){switch(U1g){case 2:c.__extends(d,k);d.prototype.NIb=function(g,n){var M6k,h,m;M6k=2;for(;M6k !== 3;){switch(M6k){case 2:(h=this.config,m=n?h.nka:h.Qia);n=n?h.oka:h.Sia;Array.isArray(n) && (m=(0,f.LYa)(n,g.Fl - g.Dd,h.Ria));return m;break;}}};U1g=5;break;case 5:d.prototype.O3b=function(g,n){var J1e;J1e=2;for(;J1e !== 5;){switch(J1e){case 9:return this.config.Zxa || g > this.config.pka;break;case 1:return this.config.Zxa && g < this.config.pka;break;case 2:g=this.Vm(g,n);J1e=1;break;}}};return d;break;}}})(l.Nz);b.qNa=a;},47896:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.HNa=void 0;c=a(5163);r=a(31192);r=(function(l){var l$s;l$s=2;for(;l$s !== 5;){switch(l$s){case 2:c.__extends(f,l);return f;break;}}function f(k){var p8i,d;p8i=2;for(;p8i !== 3;){switch(p8i){case 4:return d;break;case 2:var R36="1SIYbZrNJ";R36+="Cp";R36+="9";d=l.call(this,k) || this;d.yW=function(g){var X7D,n,j6D;X7D=2;for(;X7D !== 10;){switch(X7D){case 13:return (n=Math.sqrt(g.Jm.LO || 0),{lower:g.nb.Ca + d.config.Hxa * n,upper:g.nb.Ca + d.config.Ixa * n});break;case 2:n={lower:g.nb.Ca,upper:void 0};X7D=1;break;case 12:var x72="a";x72+="v";x72+="e";x72+="r";x72+="agetp";X7D=j6D === x72?8:11;break;case 9:return {lower:8 / (g.Jm.Ca + d.config.Hxa * n),upper:8 / (g.Jm.Ca - d.config.Ixa * n)};break;case 7:n=Math.sqrt(g.Jm.LO || 0);X7D=6;break;case 6:return {lower:g.Jm.hK + d.config.Hxa * n,upper:g.Jm.hK + d.config.Ixa * n};break;case 1:var w9K="d";w9K+="eliverytim";w9K+="e";j6D=d.config.N4b;X7D=j6D === w9K?5:12;break;case 5:X7D=!g.Jm || !g.Jm.Ca?4:3;break;case 4:return n;break;case 11:var a30="e";a30+="w";a30+="m";a30+="a";X7D=j6D === a30?14:4;break;case 3:n=Math.sqrt(g.Jm.Ke || 0);X7D=9;break;case 8:X7D=!g.Jm || !g.Jm.hK?4:7;break;case 14:X7D=g.Jm && g.Jm.LO?13:4;break;}}};R36;p8i=4;break;}}}})(r.Nz);b.HNa=r;},58648:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qia=b.xua=b.LYa=void 0;c=a(53265);b.LYa=function(l,f,k){var d,g,n;d=0;if(k){l.some(function(h){var m;m=h.b;h=h.m;if(f <= m)return (d=n && m !== g?n + (h - n) / (m - g) * (f - g):h,!0);g=m;d=n=h;return !1;});}else l.some(function(h){d=h.m;return f <= h.b;});return d;};b.xua=function(l,f,k){var d;f=(null === (d=f.nb) || void 0 === d?void 0:d.Ca) || 0;return l.ETa?(l=(0,c.P4)(l.DTa,k.Fl - k.Dd,1),f * (1 - l)):f * l.cY / 100;};b.qia=function(l,f){return l < 2 * f?l / 2:l - f;};},89221:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MCa=b.PCa=void 0;c=a(42186);l=a(45363);b.PCa=625E3;r=(function(){function f(k){this.config=k;}f.prototype.sja=function(k){var d,g,n,h,m;d=this.config.ela;g=this.config.Fhc || this.config.dla;n=0 < k.E1a.KB;h=n?g * b.PCa / 1E3:this.config.xV || Infinity;m=n?Math.floor(k.E1a.KB / h):d;return {al:k.F9b.sort(function(p,q){return p.priority - q.priority;}).slice(0,d).map(function(p,q){var u;u=p.key.config;return {f4a:{KB:q > m - 1?0:h},Ad:p,B9:1,zi:u,odb:{audio:[(0,c.zK)(u),new l.ofa()],video:[(0,c.AK)(u),new l.ofa()]}};})};};return f;})();b.MCa=r;},31779:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hDa=void 0;c=a(5163);l=a(50954);f=a(35408);r=(function(){function k(){}k.prototype.I5a=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,n,h,m,p;return c.__generator(this,function(q){switch(q.label){case 0:g=d.Ad.key;if(!(0,f.SU)(g))return [3,2];n=g.J;h=d.Ad.Me.Rm(n);return [4,Promise.resolve(h.jq)];case 1:return (m=q.Ua(),p=m.X,p.up?[2,(0,l.t3)(p.up,{config:m.config})]:[2,(0,l.aaa)(n,"ps0")]);case 2:return [2,g.ca];}});});};return k;})();b.hDa=r;},65288:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.$La=void 0;c=a(49730);l=a(44602);b.$La=(function(){function f(){}f.l0b=function(k,d,g,n){k.events.once("seeking",function(h){var m,p;m=h.position;p=g.length;h.duplicate || (g.b$(function(q){return "segmentNormalized" !== q.Sq;}),c.K && n.log(("Discarding ").concat(p - g.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,l.m6)(d)) + (" due to seek to ").concat((0,l.m6)(m))));c.K && n.log(("Replaying ").concat(g.length," events from prefetched playgraph") + ("for seek postition ").concat((0,l.m6)(m)));g.Ava();g.Oa();});};return f;})();},30570:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B;Object.defineProperties(b,{__esModule:{value:!0}});b.bMa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(12043);g=a(27364);n=a(97810);h=a(19114);m=a(62558);p=a(89873);q=a(49730);u=a(42186);t=a(35303);w=a(49789);v=a(31779);y=a(33201);x=a(89221);z=a(35408);A=a(65288);B=a(10670);r=(function(){function C(D,F,G,E,I){void 0 === E && (E=new y.iDa());void 0 === I && (I=new v.hDa());this.FYa=D;this.config=F;this.P$a=E;this.al=[];this.H9a=[];this.Aw=[];this.Lf={j4a:0,k4a:0,g4a:0,jja:0,h4a:0,i4a:0,kja:0};this.events=new l.EventEmitter();this.T=(0,n.Jh)(d.platform,G,"PREFETCH");this.Zha(new x.MCa(F));this.Zha(new B.mNa(F));this.Kbb({KB:F.pYb});this.Uwa(I);this.oOb();}Object.defineProperties(C.prototype,{qYb:{get:function(){return this.al.map(function(D){return D.context;});},enumerable:!1,configurable:!0}});C.prototype.ecb=function(D){q.K && (0,m.assert)(D,"Reconciliation strategy is undefined");this.P$a=D;return this;};C.prototype.Zha=function(D){this.H9a.unshift(D);return this;};C.prototype.mcb=function(D){q.K && this.T.debug("Wish list changed",{eic:D.length});this.Aw=D;this.Mua();};C.prototype.reset=function(D){var F,I,M,L,K,O;void 0 === D && (D=this.config);if(D.yYb)try{for(var G=c.__values(this.al),E=G.next();!E.done;E=G.next()){I=E.value;M=I.ca;L=I.m7;K=I.context;if(M){M.Df();L.b$(function(J){return "segmentNormalized" !== J.Sq;});O=(0,z.Z5)(K.Ad,M.ca);M.LC(O);}}}catch(J){var H;H={error:J};}finally{try{E && !E.done && (F=G.return) && F.call(G);}finally{if(H)throw H.error;}}else this.mcb([]);};C.prototype.Kbb=function(D){q.K && this.T.debug("Budget changed",{kVb:this.oS,gUb:D});this.oS=D;this.Mua();};C.prototype.Vxb=function(D,F){var G,E,I,M;q.K && this.T.debug("Looking for playgraph to claim");if(D=this.P$a.tZa(this.al,{ca:D,zi:F})){E=this.Aw.indexOf(D.context.Ad);q.K && this.T.debug(("Claiming item: ").concat((0,z.Wm)(D.context.Ad.key)),{x2:d.platform.time.xa() - D.kya,buffer:null === (G=D.ca) || void 0 === G?void 0:G.Xn(f.L.Ha)});this.PK(D.context,{uqa:!!D.ca});if(D.ca){G=D.ca;I=D.CN;M=G.th;A.$La.l0b(G,M,D.m7,this.T);I.A1b(G.GB(M) || f.L.Ha,E);G.kfb({KB:this.config.xV || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:D.context.Ad,videoBytesBuffered:D.ca.MF().CY,audioBytesBuffered:D.ca.MF().LR});}}F.Itb || this.reset(F);return null === D || void 0 === D?void 0:D.ca;};C.prototype.Uxb=function(){};C.prototype.getStats=function(){var D;D=d.platform.time.xa();return {wishListLength:this.Aw.length,prefetchList:this.qYb.length,contents:this.al.map(function(F){var G,E,I,M,L;if(F.ca){L=(0,z.Z5)(F.context.Ad,F.ca.ca);L=F.ca.GB(L);L=F.ca.Xn(L || f.L.Ha);}return {id:(0,z.Wm)(F.context.Ad.key),buffer:L,pId:null === (G=F.ca) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:F.context.f4a.KB},weight:F.context.B9,age:D - F.kya,timeOpened:D - (null !== (E=F.q6b) && void 0 !== E?E:0),state:g.Rc[null !== (M=null === (I=F.ca) || void 0 === I?void 0:I.Pd.value) && void 0 !== M?M:g.Rc.ss]};}),aggregated:{itemsRequested:this.Lf.j4a,itemsStarted:this.Lf.k4a,itemsClaimed:this.Lf.g4a,bytesClaimed:this.Lf.jja,itemsCompleted:this.Lf.h4a,itemsDiscarded:this.Lf.i4a,bytesDiscarded:this.Lf.kja}};};C.prototype.PK=function(D,F){var G;void 0 === F && (F={});c.__awaiter(this,void 0,void 0,function(){var E,I,M,L,K,O;return c.__generator(this,function(H){switch(H.label){case 0:E=c.__assign({uqa:!1,p4a:!1},F);I=E.uqa;M=E.p4a;L=(0,k.tc)(this.al,function(J){return J.context === D;});if(!L)return [3,3];this.al.splice(this.al.indexOf(L),1);M || (K=this.Aw.length,this.Aw=this.Aw.filter(function(J){return J !== D.Ad;}),q.K && this.T.info("Dropping items from wishlist",K - this.Aw.length),this.Aw.length >= K && q.K && this.T.warn("Unable to filter out wishlist item",this.Aw.map(function(J){return J.key;}),D.Ad.key));q.K && this.T.debug("Dropping playgraph",{x2:d.platform.time.xa() - L.kya,buffer:null === (G=L.ca) || void 0 === G?void 0:G.Xn(f.L.Ha),J:(0,z.Wm)(D.Ad.key),Gic:!I,Xfc:!M});L.tB.clear();if(I)return [3,2];O=this.fz(L);return L.ca?[4,O]:[3,2];case 1:(H.Ua(),H.label=2);case 2:(this.Mua(),H.label=3);case 3:return [2];}});});};C.prototype.Uwa=function(D){(0,m.assert)(D,"Playgraph resolver is undefined");this.sua=D;return this;};C.prototype.oOb=function(){var D;D=this;this.events.on("prefetchComplete",function(){return D.Lf.h4a++;});this.events.on("prefetchStarted",function(){return D.Lf.k4a++;});this.events.on("itemQueued",function(){return D.Lf.j4a++;});this.events.on("itemClaimed",function(F){var G,E;D.Lf.g4a++;D.Lf.jja+=(null !== (G=F.b9b) && void 0 !== G?G:0) + (null !== (E=F.Oub) && void 0 !== E?E:0);});this.events.on("itemDropped",function(F){var G,E;D.Lf.i4a++;D.Lf.kja+=(null !== (G=F.b9b) && void 0 !== G?G:0) + (null !== (E=F.Oub) && void 0 !== E?E:0);});};C.prototype.Mua=function(){var D,F,G,E,I,M;D=this;F=h.lP.O6({F9b:this.Aw,E1a:this.oS},this.H9a.map(function(L){return L.sja.bind(L);})).al;G=(0,k.Gq)(F,this.al,function(L,K){return (0,z.isEqual)(L.Ad.key,K.context.Ad.key);});E=(0,k.Gq)(this.al,F,function(L,K){return (0,z.isEqual)(L.context.Ad.key,K.Ad.key);});I=(0,k.Gq)(this.al,E);q.K && this.T.debug(("Re-evaluated prefetch items. new:").concat(G.length,", evict: ").concat(E.length,", update: ").concat(G.length));E=E.map(function(L){var K;K=L.context.Ad.key;q.K && D.T.debug("Releasing playgraph",(0,z.Wm)(K));return D.fz(L).then(function(){D.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:L.context.Ad});});});M=I.map(function(L){return c.__awaiter(D,void 0,void 0,function(){var K,O;return c.__generator(this,function(H){switch(H.label){case 0:(K=(0,k.tc)(F,function(J){return (0,z.isEqual)(J.Ad.key,L.context.Ad.key);}),(0,m.assert)(K,"Couldn't find the requested item context"),L.context=K,H.label=1);case 1:return (H.Rj.push([1,3,,4]),[4,L.A9]);case 2:return (O=H.Ua(),[3,4]);case 3:return (H.Ua(),[2]);case 4:return ((0,k.tc)(this.al,function(J){return J === L;}) && (this.aTa(L.context,O),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:L.context.Ad})),[2]);}});});});G=G.map(function(L){var K;K=D.EBb(L);D.events.emit("itemQueued",{type:"itemQueued",wishListItem:L.Ad});return K;});this.al=c.__spreadArray(c.__spreadArray([],c.__read(I),!1),c.__read(G),!1);I=G.map(function(L){return L.A9.catch(function(){});});I=E.concat(M).concat(I);Promise.all(I);};C.prototype.fz=function(D){var F;F=this;return D.A9.then(function(G){return c.__awaiter(F,void 0,void 0,function(){var E;return c.__generator(this,function(I){switch(I.label){case 0:return (q.K && this.T.debug("Removing prefetch playgraph",{size:G.Xn(f.L.Ha)}),D.tB.clear(),[4,this.FYa()]);case 1:return (E=I.Ua(),E.fz(G),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:D.context.Ad,videoBytesBuffered:G.MF().CY,audioBytesBuffered:G.MF().LR}),[2]);}});});},function(){});};C.prototype.S3=function(D){return c.__awaiter(this,void 0,void 0,function(){var F,G,E,I,M,L,K;K=this;return c.__generator(this,function(O){switch(O.label){case 0:return (F=D.context,G=(0,z.Wm)(F.Ad.key),q.K && this.T.debug("Creating playgraph",G),[4,this.sua.I5a(F)]);case 1:return (E=O.Ua(),[4,F.Ad.Me.Rm(G).jq]);case 2:return (I=O.Ua(),I.X.Hm?(this.PK(F,{uqa:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(G) + " is not supported with prefetching")]):[4,this.FYa()]);case 3:return (M=O.Ua(),L=M.UR(E,F.B9,F.zi,F.Ad.Me,!1),D.tB.addListener(L.events,"error",function(H){q.K && K.T.debug("Prefetch playgraph resulted in error",H.Vfc);K.PK(F);}),[2,L]);}});});};C.prototype.fWb=function(D,F){return c.__awaiter(this,void 0,void 0,function(){var G,E,I,M;return c.__generator(this,function(L){switch(L.label){case 0:return (G=D.context,E=(0,z.Wm)(G.Ad.key),I=G.Ad.Me.Rm(E),[4,I.jq]);case 1:return (M=L.Ua(),this.aTa(G,F),this.fub(G,F,!!M.Cp),F.open(),F.oz({UN:function(K,O){var H;H=K.recommendedMedia;return H?(0,k.Bm)(O,function(J){return J.new_track_id === H.np;}):(0,k.Bm)(O,function(J){return J.track_id === K.defaultTrackOrderList[0].audioTrackId;});}},{UN:function(K,O){var H;H=K.recommendedMedia;return H?(0,k.Bm)(O,function(J){return J.new_track_id === H.MO;}):(0,k.Bm)(O,function(J){return J.track_id === K.defaultTrackOrderList[0].videoTrackId;});}}),F.LC((0,z.Z5)(G.Ad,F.ca)),this.N_b(D,I),I.Uq && (q.K && this.T.warn("Viewable churn encountered during prefetcher (expired on initialization)",E),this.PK(D.context)),[2]);}});});};C.prototype.N_b=function(D,F){var E;function G(I){q.K && E.T.debug(("Viewable ").concat(I?"superseded":"expired"),(0,z.Wm)(D.context.Ad.key));D.shc=!0;E.PK(D.context,{p4a:!I});}E=this;F.events && (D.tB.addListener(F.events,"viewableEvicted",function(){G(!0);}),D.tB.addListener(F.events,"viewableExpired",function(){G(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:D.context.Ad});};C.prototype.aTa=function(D,F){F.Efb(D.B9);F.kfb(D.f4a);};C.prototype.fub=function(D,F,G){var E;E=D.odb;D=E.audio;E=E.video;G && E.push(new w.UP(this.T,F.config));F.$wa(new u.Iu(D,!0),new u.Iu(E,!0));};C.prototype.EBb=function(D){var F,G,E;F=this;G=new p.aMa();E={context:D,kya:d.platform.time.xa(),tB:new l.ze(),CN:G};E.A9=this.S3(E).then(function(I){return c.__awaiter(F,void 0,void 0,function(){var M,L;L=this;return c.__generator(this,function(K){switch(K.label){case 0:for(M=I;M.Ta;){M=M.Ta;}I.Ce(G);G.Iub(I);E.m7=new t.tEa(M.events,{J3b:function(O){var H;H=O.Sq;switch(H){case "buffering":return !1;case "bufferingStarted":E.m7.b$(function(J){return "bufferingComplete" === J.Sq || "updateStreamingPts" === J.Sq;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":E.m7.b$(function(J){return J.Sq === H;});default:return !0;}}});M.events.on("bufferingComplete",function(){L.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:D.Ad});});return [4,this.fWb(E,I)];case 1:return (K.Ua(),E.q6b=d.platform.time.xa(),E.ca=I,[2,I]);}});});});E.A9.catch(function(I){q.K && F.T.error("Exception occurred creating playgraph",I);F.PK(E.context);});return E;};return C;})();b.bMa=r;},33201:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.iDa=void 0;c=a(5163);l=a(62558);f=a(35408);r=(function(){function k(){}k.Wm=function(d){var g,n;g=d.O;d=d.xe;n=g[d].J;Object.keys(g).forEach(function(h){return (0,l.assert)(g[h].J === n);});return g[d].J;};k.prototype.tZa=function(d,g){var n;n=Object.keys(g.ca.O).length;return c.__read(d.filter(function(h){var m;return k.Wm(g.ca) === (0,f.Wm)(h.context.Ad.key) && (1 === n || n === Object.keys((null === (m=h.ca) || void 0 === m?void 0:m.ca.O) || ({})).length);}),1)[0];};return k;})();b.iDa=r;},10670:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mNa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.sja=function(c,l){var f,k;f=this;c=l(c);k=c.al.map(function(d){return d.Ad.priority;}).sort();c.al.forEach(function(d){d.B9=f.config.sYb / (2 << k.lastIndexOf(d.Ad.priority));});return c;};return a;})();b.mNa=r;},45363:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ofa=void 0;c=a(27364);r=(function(){function l(){}l.prototype.zj=function(f,k){return k === c.Rc.rl?[]:f;};return l;})();b.ofa=r;},35408:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Z5=b.Wm=b.isEqual=b.SU=void 0;c=a(42866);l=a(93514);b.SU=function(f){return !!f.J;};b.isEqual=function(f,k){var d,g;d=(0,b.SU)(f);g=(0,b.SU)(k);return d === g?d?f.J === k.J:f.ca === k.ca:!1;};b.Wm=function(f){if((0,b.SU)(f))return f.J;f=f.ca;return f.O[f.xe].J;};b.Z5=function(f,k){var d;return f.d3?f.d3 instanceof c.L?(f=(0,l.wp)(k,(0,b.Wm)(f.key),f.d3),(null === f || void 0 === f?0:f.offset.greaterThan(c.L.Ha))?f:{offset:c.L.Ha,I:null !== (d=null === f || void 0 === f?void 0:f.I) && void 0 !== d?d:k.xe}):f.d3:{offset:c.L.Ha,I:k.xe};};},83386:function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.X_=b.Xea=void 0;a=(function(){function l(){var f;f=this;this.sR=[];this.g0b=function(k){k=f.sR.indexOf(k);0 <= k && f.sR.splice(k,1);};}Object.defineProperties(l.prototype,{lia:{get:function(){return 0 !== this.sR.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{O7a:{get:function(){return this.sR.length;},enumerable:!1,configurable:!0}});l.prototype.add=function(){var f;f=new c(this.g0b);this.sR.push(f);return f;};l.prototype.Fgb=function(f){var k;k=this.add();try{Promise.resolve(f()).then(function(d){k.release();return d;},function(d){k.release();return Promise.reject(d);});}catch(d){k.release();Promise.reject(d);}};return l;})();b.Xea=a;c=(function(){function l(f){this.urb=f;}l.prototype.release=function(){this.urb(this);};return l;})();r=(function(){function l(f,k){this.TVb=f;this.console=k;this.counter=new a();}l.prototype.Ms=function(){var f,k;f=this;this.console.trace("Acquiring lease, total count",this.counter.O7a + 1);k=this.counter.add();return {release:function(){k.release();f.console.trace("Releasing lease, total count",f.counter.O7a);f.TVb(function(){return !f.counter.lia;});}};};return l;})();b.X_=r;},9551:function(r){function b(c,l){this.drb=c.cN && c.cN.enabled;this.b2=void 0;this.rqb=l;this.nha=[];this.zha=[];this.bha=[];c=c.jRa || [];l=c.map(function(f){return f.Bfc;});l.unshift(0);this.jrb=c;this.krb=l;this.eha=[];this.dh=[];}function a(c,l){var m,p,q,u;for(var f=[],k=[],d=0;d < c.length;d++){for(var g=c[d],n=[],h=0;h < g.length;h++){m=g[h] - (k[h] || 0);p=l && l[h];q=n;u=q.push;1 <= p && (p=Math.pow(10,p || 0),m=Math.round(m * p) / p);u.call(q,m);}f.push(n);k=g;}return f;}b.prototype.reset=function(c){this.b2=void 0;this.nha=[];this.zha=[];this.bha=[];this.eha=[];c && (this.dh=[]);};b.prototype.add=function(c,l){var f,k,d,g;f=l.filter(function(n){return n.zy || n === c.Fd;});k=f.map(function(n){return n.bitrate;});l=c.Fd;f=f.indexOf(l);d=this.b2;if(d && (d.length !== k.length || d.some(function(n,h){return n !== k[h];}))){g=this.I_a();g && (this.dh.push(g),this.reset(!1));}void 0 === d && (this.b2=k);this.nha.push([f,c.Rr,c.qn,c.YTa,c.ewb,c.zW,c.YUb,c.ug,c.$j,c.Vs,c.VC - c.Rr,c.QXb]);void 0 !== c.Kt && this.bha.push([c.Rr,c.Kt.qz,c.Kt.Rx,c.Kt.dz]);f=l && l.Ja;this.drb && void 0 !== f && (d=f.gy(c.Vs),-1 != d && (f=f.get(d),d=f.duration,l=f.xb || l.xb,void 0 !== l && this.zha.push({gb:f.gb,duration:d,xb:l})));(l=c.mYb) && l.length && (l=l.slice(0),l.unshift(c.Rr),this.eha.push(l));};b.prototype.I_a=function(){var c,l;c=a(this.nha);if(0 !== c.length){c={dltype:this.rqb,bitrates:this.b2,seltrace:c,vmaftrace:this.zha,paceratetrace:a(this.bha)};l=a(this.eha,this.krb);l && l.length && (c.predtrace={config:this.jrb,data:l});return c;}};b.prototype.get=function(){var c,l;c=this.I_a();l=this.dh;c && l.push(c);if(0 !== l.length)return l;};r.exports=b;},23710:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mAa=void 0;c=a(50954);l=a(83981);f=a(13043);r=(function(){function k(d){this.context=d;this.fd="ad-playgraph";this.enabled=!0;}k.prototype.gi=function(d){var g,n,h,m,p,q,u;g=d.mi;d=d.dC;if(g === f.kc.Pj || g === f.kc.hm || g === f.kc.ei || d === f.Ph.Yt || void 0 === g && void 0 === d){d=this.context;g=d.Kc;n=d.Ta;d=n.Z;h=d.Nd?d.yg:n.fr?n.th:void 0;m=g.Ns;p=void 0;q="content";d=void 0;if(h){n=n.ca.O[h.I];u=n.cc;u && (g=g.ca.O[u],g.J != n.J && (p=n.J,q=n.type,d=this.yIb(h.I,g.J)));}g={adPlaygraph:m?c.Jea.decode(m):void 0,adMid:p,auxMid:p,auxMidType:q,manifestHasAds:!!m};void 0 !== d && (g.adBreakLocationMs=d);return g;}};k.prototype.yIb=function(d,g){var n,h,m,p;if(d=(0,l.LF)(d))p=null === (m=null === (h=null === (n=this.context.Kc.Uc) || void 0 === n?void 0:n.We.de[g]) || void 0 === h?void 0:h[d.rj]) || void 0 === m?void 0:m.iu;return p;};return k;})();b.mAa=r;},42842:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.RAa=void 0;r=a(5163);c=a(57055);l=a(42866);f=a(42866);k=r.__importDefault(a(89956));d=r.__importDefault(a(9551));g=a(13043);n=a(88985);a=(function(){function h(m){var p,q;p=this;this.ca=m;this.Sq="aseReport";this.rS=l.L.Jp;this.events=new c.EventEmitter();this.bka=n.G0.LCa;this.$ga=!1;this.BRa=0;if(0 === Math.floor(1E6 * Math.random()) % m.config.cS || m.config.ggc){this.rS=l.L.Na(m.config.Aia);this.GSb=m.config.oub;this.ca.J2=!0;q=[];q[k.default.mm.Y]=new d.default(m.config,k.default.mm.Y);q[k.default.mm.fa]=new d.default(m.config,k.default.mm.fa);q[k.default.mm.Ga]=new d.default(m.config,k.default.mm.Ga);this.rha=q;this.ca.events.on("openComplete",function(){return p.open();});}}h.prototype.open=function(){this.ca.J2 && !this.$ga && (this.$ga=!0,this.ca.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.ca.events.on("requestIssued",this.pta.bind(this)));};h.prototype.pta=function(m){m.result && m.streamList && (this.rha[m.mediaType].add(m.result,m.streamList),++this.BRa >= this.GSb && this.events.emit("collectionRequested"));};h.prototype.TLb=function(){var m;m=(0,f.flatten)(this.rha.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.rha.forEach(function(p){return p.reset(!0);});this.BRa=0;return m;};h.prototype.yf=function(m){var p,q;p=m.mi;q=m.wyb;m=m.w3a || q || p === g.kc.ei;return this.ca.J2 && this.$ga && m && (m=this.TLb()) && m.length?{U$:!0,event:{type:"asereport",strmsel:m}}:{U$:!1};};return h;})();b.RAa=a;},69287:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gCa=void 0;c=a(59322);l=a(49730);f=a(13043);r=(function(){function k(d,g){this.q4b=d;this.hn=g;}Object.defineProperties(k.prototype,{po:{get:function(){return ("cache-").concat(this.q4b);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fd:{get:function(){return this.po;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});k.prototype.gi=function(d){var g,n,h;g=d.mi;d=d.dC;if(g === f.kc.Pj || g === f.kc.hm || g === f.kc.ei || void 0 === g && void 0 === d){n=(0,c.v_a)(this.hn);g=Object.keys(n).filter(function(m){return n[m].isEnabled;});if(g.length){h={};g.forEach(function(m){h[m]={hit:n[m].lja,idx:n[m].eUa};});return {Pec:h};}}};return k;})();b.gCa=r;},53412:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oCa=void 0;c=a(42866);l=a(27364);f=a(13043);r=(function(){function k(d,g){this.kg=d;this.config=g;this.fd="CdnListTracker";}Object.defineProperties(k.prototype,{enabled:{get:function(){return this.config.mxb;},enumerable:!1,configurable:!0}});k.prototype.gi=function(d){var g;g=this;if(d.mi === f.kc.ei)return {cdndldist:JSON.stringify((0,c.cTa)(Object.keys(this.kg).map(function(n){var h;h=g.kg[n];return Object.keys(h).map(function(m){var p;p=h[m];return {cdnid:p.Fm,pbcid:p.Tp,dls:Object.keys(p.wF).map(function(q){var u,t;q=p.wF[q];t=q.mediaType === l.u.fa?"adlid":"dlid";return (u={tm:q.totalTime,bitrate:q.bitrate},u[t]=q.Vb,u.vf=q.xb,u);})};});})))};};return k;})();b.oCa=r;},53405:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ICa=void 0;c=a(13043);r=(function(){function l(f){this.Hm=f;this.fd="content-playgraph";this.enabled=!0;}l.prototype.gi=function(f){var k,d;k=f.mi;f=f.dC;if(k === c.kc.Pj || k === c.kc.hm || k === c.kc.ei || void 0 === k && void 0 === f){f=this.Hm.Ta;d=f.Z;k=void 0;(d.Nd?d.yg:f.fr && f.th) && this.Hm.Hm && (d=d.yg,f=this.Hm.Ag.Tr(d),d=this.Hm.Ta.ca.O[d.I].J,this.Hm.ca.O[f.I].J != d && (k=d));return {contentPlaygraph:this.Hm.Hm,auxMid:k};}};return l;})();b.ICa=r;},33285:function(r,b,a){var l,f,k,d;function c(g,n,h){var m,p,t;n=l.__assign({},null === (p=null === g || void 0 === g?void 0:g.context) || void 0 === p?void 0:p.call(g,{R7a:n,kp:h}));if((null === g || void 0 === g?0:g.kp) && h)if(!0 === g.kp)n.args=h;else {p={};n.args=p;try{for(var q=l.__values(g.kp),u=q.next();!u.done;u=q.next()){t=u.value;p[t]=h[t];}}catch(v){var w;w={error:v};}finally{try{u && !u.done && (m=q.return) && m.call(q);}finally{if(w)throw w.error;}}}return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.Ju=b.Hoa=b.Pb=void 0;l=a(5163);f=a(12043);k=a(42866);d=a(49730);b.Pb=function(g){return function(n,h,m){var p;p=m.value;m.value=function(){var q,u,t,w,v,y;u=(0,b.Hoa)(this);if(u)(t=c(g,this,arguments),w=null !== (q=null === g || void 0 === g?void 0:g.methodName) && void 0 !== q?q:String(h),v=u.uSa(w,t,null === g || void 0 === g?void 0:g.bk,null === g || void 0 === g?void 0:g.Ngc));q=null === u || void 0 === u?void 0:u.Lka;u && (u.Lka=v);try{y=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,k.jqa)(y) && (y=y.then(function(z){v && (null === g || void 0 === g?0:g.return) && (v.data.resolve=z);return z;},function(z){v && (v.data.reject=("").concat(z));return Promise.reject(z);}));return y;}catch(z){var x;x=z;throw z;}finally{u && (u.Lka=q);v && (v.data || (v.data={}),x?(v.data.error=("").concat(x),null === u || void 0 === u?void 0:u.Pyb(v)):(null === g || void 0 === g?0:g.return) && !(0,k.jqa)(y) && (v.data.lRet=y));}};};};b.Hoa=function(g){if(null === g || void 0 === g?0:g.Jfa)return g.Jfa;};r=(function(){function g(n){this.Mp=[];this.F1=!1;this.zga={};this.W=l.__assign({ko:10},n);Object.defineProperties(n.hn,{Jfa:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.W.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.F1;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bQb:{get:function(){return l.__spreadArray([],l.__read(this.Mp),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{rNb:{get:function(){return this.zga;},enumerable:!1,configurable:!0}});g.prototype.Os=function(n){var h,m;if(!this.F1){m=null === (h=(0,b.Hoa)(this.W.hn)) || void 0 === h?void 0:h.Lka;m && (m.data=l.__assign(l.__assign({},m.data),n));}};g.prototype.uSa=function(n,h,m,p){var q,u,t,w;if(!this.F1){t=!1;w=null === (u=(q=this.W).ySa) || void 0 === u?void 0:u.call(q,this.W.hn);q=c({},this.W.hn);h=l.__assign(l.__assign(l.__assign({},w),q),h);w=0 < Object.keys(h).length;h={methodName:n,data:w?h:void 0,time:f.platform.time.xa()};p && this.zga[n]++;m && this.Mp.length && (m=this.Mp[this.Mp.length - 1],m.methodName === n && (m.data=m.data || ({}),m.data.dedup=m.data.dedup || ({hitCount:1}),m.data.dedup.hitCount++,m.data.dedup.lJournal=h,t=!0));this.Qyb(h);t || this.Mp.push(h);this.Mp.length > this.W.ko && this.Mp.shift();return h;}};g.prototype.Qyb=function(n){var h;d.K && (null === (h=this.W.console) || void 0 === h?void 0:h.trace(("").concat(this.W.source,"::").concat(n.methodName),n.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.W,n);};g.prototype.Pyb=function(n){var h;d.K && (null === (h=this.W.console) || void 0 === h?void 0:h.error(("").concat(this.W.source,"::").concat(n.methodName),n.data));};g.prototype.Oa=function(){Object.defineProperties(this.W.hn,{Jfa:{enumerable:!1,value:null,configurable:!0}});this.F1=!0;this.clear();};g.prototype.clear=function(){this.Mp=[];this.zga={};};return g;})();b.Ju=r;},83275:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iEa=void 0;c=a(13043);r=(function(){function l(f){this.Jc=f;}Object.defineProperties(l.prototype,{fd:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.gi=function(f){var k;if(f.mi === c.kc.ei && this.Jc){f={};k=this.Jc.get();k && k.avtp && k.avtp.Ca && (f.avtp=k.avtp.Ca,f.dltm=k.avtp.EXa);k && k.initialThroughput && k.initialThroughput.Ca && (f.initial_avtp=k.initialThroughput.Ca);k && k.cdnavtp && (f.cdnavtp=k.cdnavtp,f.activecdnavtp=k.activecdnavtp);if(k=this.Jc.coa())(k.bytesRequestedPacingVideo && (f.bytesRequestedPacingVideo=k.bytesRequestedPacingVideo,f.estimatedBytesPacedVideo=k.estimatedBytesPacedVideo,f.bytestotalVideo=k.bytestotalVideo,f.pacedAvtpVideo=k.pacedAvtpVideo),k.bytesRequestedPacingAudio && (f.bytesRequestedPacingAudio=k.bytesRequestedPacingAudio,f.estimatedBytesPacedAudio=k.estimatedBytesPacedAudio,f.bytestotalAudio=k.bytestotalAudio,f.pacedAvtpAudio=k.pacedAvtpAudio),k.pacedAvtp && (f.pacedAvtp=k.pacedAvtp));this.Jc.flush();if(k=this.Jc.GJb())for(var d in k){k.hasOwnProperty(d) && (f["ne" + d]=Number(k[d]).toFixed(6));}return f;}};return l;})();b.iEa=r;},64048:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lEa=void 0;c=a(13043);r=(function(){function l(f){this.L4=f;this.po="engine";this.enabled=!0;}Object.defineProperties(l.prototype,{fd:{get:function(){return this.po;},enumerable:!1,configurable:!0}});l.prototype.gi=function(f){var k;k=f.mi;f=f.dC;if(k === c.kc.Pj || k === c.kc.hm || k === c.kc.ei || void 0 === k && void 0 === f)return (k=this.L4.TXb.map(function(d){var g;g=d.ca;return {id:g.id,weight:g.weight,relativeWeight:d.OW};}),{prefetcher:this.L4.Zv.getStats(),playgraphs:k,viewables:this.L4.l9b,players:this.L4.RXb.length});};return l;})();b.lEa=r;},10711:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.fHa=void 0;c=a(57055);l=a(42866);f=a(27364);k=a(88985);d=a(13043);r=(function(){function g(n){this.ca=n;this.Sq="liveReport";this.rS=l.L.Jp;this.events=new c.EventEmitter();this.bka=k.G0.DNa;this.SQ=!1;this.trace=[];this.Aeb=1;0 < n.config.$4a && 0 < n.config.Qqa && (this.rS=l.L.Na(n.config.Qqa),this.Aeb=Math.max(Math.floor(n.config.$4a / n.config.Qqa),1),this.SQ=!0);}g.prototype.uyb=function(){var n,h,m,p;h=this.ca.Z;if(h.Nd){m=h.Zy;p=m.ma;if(p.aa){if(m=null === (n=m.Sd(f.u.Y)) || void 0 === n?void 0:n.fo)(n=m.Tm(),p=p.bu,h=n.Nia + h.Kd.G,n=this.ca.MF(),this.trace.push([p,h,n.totalabuflmsecs,n.totalvbuflmsecs]));}else this.SQ=!1;}};g.prototype.yf=function(n){var h;h=n.w3a;n=n.mi;this.SQ && (h || n === d.kc.Pj) && this.uyb();return this.trace.length === this.Aeb || 0 < this.trace.length && n === d.kc.ei?(h=this.trace,this.trace=[],{U$:!0,event:{type:"livereport",samplinginterval:this.rS.G,trace:h}}):{U$:!1};};return g;})();b.fHa=r;},99384:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gHa=void 0;c=a(60328);l=a(83241);f=a(13043);r=(function(){function k(d){this.ya=d;this.enabled=!0;}Object.defineProperties(k.prototype,{fd:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});k.prototype.gi=function(d){var g,n,h,m,p,q,u,t;d=d.dC;if(d === f.Ph.Pr || d === f.Ph.HU || d === f.Ph.by || d === f.Ph.Yt || d === f.Ph.JX || d === f.Ph.Lx || d === f.Ph.TW){q=this.ya.Z;if(q.Nd){u=q.Zy;t=u.ma;u=null === (g=u.Sd(c.u.Y)) || void 0 === g?void 0:g.fo;if(t.aa && u){g=u.Tm();t={encodingpipelinetime:t.bu,devicepts:g.Nia + q.Kd.G};(u=null === (n=q.$v.get(c.u.Y)) || void 0 === n?void 0:n.Ima(l.S0)) && (t.vbitrate=null === (h=u.Z0a()) || void 0 === h?void 0:h.stream.bitrate);(n=null === (m=q.$v.get(c.u.fa)) || void 0 === m?void 0:m.Ima(l.S0)) && (t.abitrate=null === (p=n.Z0a()) || void 0 === p?void 0:p.stream.bitrate);d === f.Ph.Pr && (t.presentationtimeoffset=g.Rt.G);if(d === f.Ph.Pr || d === f.Ph.Yt)t.targetbufferduration=this.ya.config.BG;return t;}}}};return k;})();b.gHa=r;},88985:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EHa=b.G0=void 0;c=a(57055);l=a(13043);(function(k){k[k.LCa=1]="Creation";k[k.DNa=2]="StartPlayback";})(f=b.G0 || (b.G0={}));r=(function(){function k(d,g,n){this.qc=d;this.T=g;this.events=n;this.uH=[];this.Tk=new c.ze();}k.prototype.Ce=function(d){var g;g={CN:d,pja:void 0};this.uH.push(g);d.bka === f.LCa && this.hbb(g);this.Tk.on(d.events,"collectionRequested",this.xVb.bind(this,g));};k.prototype.Oa=function(){this.Tk.clear();};k.prototype.DQb=function(d){var g,n;g=this;n={mi:d};this.uH.forEach(function(h){g.Iya(h.CN,n);d === l.kc.Pj && h.CN.bka === f.DNa && g.hbb(h);});};k.prototype.xVb=function(d){var g;this.Iya(d.CN,{wyb:!0});null === (g=d.pja) || void 0 === g?void 0:g.mf();};k.prototype.hbb=function(d){var g,n,h,m;g=this;h=d.CN;m=this.qc.iWa(function(){g.Iya(h,{w3a:!0});},h.rS,h.Sq);null === (n=d.pja) || void 0 === n?void 0:n.Oa();d.pja=m;};k.prototype.Iya=function(d,g){var n;try{n=d.yf(g);n.U$ && this.events.emit(d.Sq,n.event);}catch(h){this.T.error(("Error generating event for ").concat(d.Sq),h);}};return k;})();b.EHa=r;},34848:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SKa=void 0;c=a(27364);l=a(13043);r=(function(){function f(k){this.Sd=k;}Object.defineProperties(f.prototype,{fd:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.gi=function(k){var d,g,n;k=k.mi;if(k === l.kc.hm || k === l.kc.ei){k={};d=this.Sd(c.u.Y);g=this.Sd(c.u.fa);n=this.Sd(c.u.Ga);d && (k.videoPipelineSummary=this.Vxa(d));g && (k.audioPipelineSummary=this.Vxa(g));n && (k.textPipelineSummary=this.Vxa(n));return k;}};f.prototype.Vxa=function(k){var d,g,n,h,m;m=k.Ie.Ja;m={actualStartPlayerTimestamp:null === (d=m.Ab) || void 0 === d?void 0:d.G,actualPartialPlayerTimestamp:m.O8a,completePlayerTimestamp:null === (g=k.Kk) || void 0 === g?void 0:g.G,segmentId:k.I,contentStartMs:null === (n=k.Ka) || void 0 === n?void 0:n.G,contentEndMs:null === (h=k.Wa) || void 0 === h?void 0:h.G,streamingPlayerMs:k.TC.G,isStreamable:k.hr(),isNormalized:k.Pg(),isDoneStreaming:k.$m(),trackNeedsHeaderRequest:k.track.MV,completedRequests:m.AVa,activeRequests:k.Ie.$j,unsentRequests:k.Ie.bD,bytes:{current:m.wa,received:m.f_b,partial:m.Br,completed:m.F3,unsent:m.x7b}};k.Z4a && (m.liveMissingFragments=k.Z4a);return m;};return f;})();b.SKa=r;},48154:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.DLa=void 0;c=a(5163);l=a(49730);f=a(97810);k=a(13043);d=a(66709);r=(function(){function g(n,h){var m;m=this;this.rua=n;this.ya=h;this.s9a=new f.Uh();h.events.on("branchesReevaluated",function(){m.s9a.push(n.size);});}Object.defineProperties(g.prototype,{fd:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{po:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});g.prototype.gi=function(n){var h;n=n.mi;if(n === k.kc.hm || n === k.kc.ei){h={branchCountStats:this.s9a.toJSON(),decisions:this.ya.ng.toJSON(),player:this.ya.Z.Hp?this.ya.Z.Ya.map(function(m){return m.v.id;}):[]};this.rua.forEach(function(m,p){var q,u;u=(0,d.sna)(m);h[p]=c.__assign({probabilities:m.kf.map(function(t){return {duration:t.duration,immediate:t.JB,seamless:t.nf};}),parent:null === (q=m.parent) || void 0 === q?void 0:q.v.id,normalized:m.Pg,hasViewable:m.Xm,headerRequested:m.Xm && m.ma.e2a},u);});return h;}};return g;})();b.DLa=r;},89873:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aMa=void 0;c=a(12043);l=a(13043);r=(function(){function f(){this.creationTime=c.platform.time.xa();this.Ac={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}f.prototype.Iub=function(k){this.ca=k;};f.prototype.A1b=function(k,d){var g;k=null === (g=this.ca) || void 0 === g?void 0:g.Xn(k);this.Ac={isPrefetchItem:!0,prefetchedVideoMs:k.zO,prefetchedAudioMs:k.yO,prefetchClaimDurationMs:c.platform.time.xa() - this.creationTime,prefetchRank:d};};Object.defineProperties(f.prototype,{fd:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.gi=function(k){if(k.mi === l.kc.Pj)return this.Ac;};return f;})();b.aMa=r;},13043:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Yea=b.Ph=b.kc=void 0;c=a(5163);l=a(42866);f=a(18998);(function(k){k[k.Pj=0]="startPlayback";k[k.ei=1]="endPlayback";k[k.hm=2]="underflow";})(b.kc || (b.kc={}));b.Ph={Pr:"startplay",Oy:"midplay",by:"endplay",HU:"intrplay",Lx:"chgstrm",gN:"playbackaborted",TW:"renderstrmswitch",HC:"repos",Yt:"resumeplay",JX:"statechanged",QE:"aseReport"};r=(function(){function k(d){this.config=d;this.uH=[];}k.prototype.Ce=function(d){var g,n;n=c.__read(this.config.mub.filter(function(h){return h.fd === d.fd;}),1)[0];this.config.HEb && (null !== (g=null === n || void 0 === n?void 0:n.enabled) && void 0 !== g?g:d.enabled)?this.uH.push(d):d.Oa && d.Oa();};k.prototype.vLb=function(d){return (0,l.tc)(this.uH,function(g){return g.fd === d.fd;});};k.prototype.gi=function(d,g){var n,h,m,u,t;h={};m=[];try{for(var p=c.__values(this.uH),q=p.next();!q.done;q=p.next()){u=q.value;try{t=u.gi({mi:d,dC:g});t && (u.po?h[u.po]=t:h=c.__assign(c.__assign({},h),t));}catch(v){m.push(Error(("").concat(u.fd,"::").concat(v)));}}}catch(v){var w;w={error:v};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(w)throw w.error;}}m.length && (h["rpt-error"]=f.Eba.stringify(new f.Eba("Reporting error",m)));return h;};return k;})();b.Yea=r;},66709:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.r_a=b.O0a=b.sna=b.FMa=void 0;c=a(5163);l=a(49730);f=a(13043);r=(function(){function k(d){this.sb=d;}Object.defineProperties(k.prototype,{fd:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{po:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});k.prototype.gi=function(d){var g,n,p;d=d.mi;if(d === f.kc.ei || d === f.kc.hm)if(d=this.sb.mna()){n={};try{for(var h=c.__values(d.HXb),m=h.next();!m.done;m=h.next()){p=m.value;n[p.mediaType]=this.fSb(p);}}catch(u){var q;q={error:u};}finally{try{m && !m.done && (g=h.return) && g.call(h);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.r_a)(d.QZb),playerIterator:n,driftStats:this.sb.zza};}};k.prototype.fSb=function(d){return null === d || void 0 === d?void 0:d.m0a();};return k;})();b.FMa=r;b.sna=function(k){var d,g;if(k){d=k.v;g={};k.Zq().forEach(function(n){g[n.mediaType]=(0,b.O0a)(n);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:k.Qd,RM:g};}return k;};b.O0a=function(k){var d,g,n;if(k && k.Ie)return c.__assign(c.__assign({},k.Ie.a1a()),{unsentRequests:k.Ie.bD,lastFragmentContentEndPts:null === (d=k.ff) || void 0 === d?void 0:d.Wa.G,trackAttributes:null === (g=k.track) || void 0 === g?void 0:g.Um(),bitrate:null === (n=k.ff) || void 0 === n?void 0:n.bitrate});};b.r_a=function(k){return k.map(function(d){return (0,b.sna)(d);});};},46059:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KMa=void 0;c=a(13043);r=(function(){function l(f,k){this.Jc=f;this.yab=k;}Object.defineProperties(l.prototype,{fd:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.gi=function(f){var k;k=f.mi;f=f.dC;if(k === c.kc.ei || k === c.kc.hm || void 0 === k && void 0 === f)return (k={numOutstandingRequests:this.yab.RUb,requestOpportunityDelayStats:this.yab.xab},(f=this.Jc.zsb) && f.length && (k.activeRequests=JSON.stringify(f)),k);};return l;})();b.KMa=r;},39886:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hfa=void 0;c=a(13043);r=(function(){function l(){this.po=this.fd=l.fd;this.enabled=!0;this.hX=[];this.Pab=0;}l.prototype.itb=function(f){this.hX.push(f);5 < this.hX.length && this.hX.shift();};l.prototype.jtb=function(){this.Pab++;};l.prototype.gi=function(f){var k;k=f.mi;f=f.dC;if((k === c.kc.Pj || k === c.kc.hm || k === c.kc.ei || void 0 === k && void 0 === f) && this.hX.length)return {restarts:this.hX.map(function(d){return {s:d.r4b,d:d.xDb,r:d.H$a,atMs:d.PXb.G};}),restartsCompleted:this.Pab};};l.fd="seamlessManager";return l;})();b.hfa=r;},41471:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ENa=void 0;c=a(57055);l=a(27364);f=a(13043);r=(function(){function k(d){this.IPa=!1;this.tB=new c.ze();this.tB.addListener(d.events,"streamSelection",this.pta.bind(this));}k.prototype.pta=function(d){this.IPa || (d.mediaType === l.u.fa && void 0 === this.Gpa?this.Gpa=d:d.mediaType === l.u.Y && void 0 === this.Ipa && (this.Ipa=d));};k.prototype.Oa=function(){this.Ipa=this.Gpa=void 0;this.tB.clear();this.IPa=!0;};Object.defineProperties(k.prototype,{fd:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.gi=function(d){var g,n,h,m,p,q;if(d.mi === f.kc.Pj){d=this.Ipa || this.Gpa;q=null === d || void 0 === d?void 0:d.result;q={histbw:null === (n=null === (g=null === q || void 0 === q?void 0:q.Bb) || void 0 === g?void 0:g.nb) || void 0 === n?void 0:n.Ca,histinitbw:null === (m=null === (h=null === q || void 0 === q?void 0:q.Bb) || void 0 === h?void 0:h.vt) || void 0 === m?void 0:m.Ca,histdiscbw:null === q || void 0 === q?void 0:q.py,histage:null === (p=null === q || void 0 === q?void 0:q.Bb) || void 0 === p?void 0:p.x2};g=null === d || void 0 === d?void 0:d.streamList.map(function(u){return void 0 !== u.O4?{vmaf:u.O4,streamIndex:u.pw,streamId:u.Gb}:void 0;}).filter(function(u){return void 0 !== u;});0 < (null === g || void 0 === g?void 0:g.length) && (q.vmafEstimates=g);this.Oa();return q;}this.Oa();};return k;})();b.ENa=r;},35556:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.YNa=void 0;c=a(12043);l=a(57055);f=a(49730);k=a(13043);r=(function(){function d(g){this.qc=g;this.iA=[];this.reset();}Object.defineProperties(d.prototype,{fd:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{po:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.K;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g,n;g=this;null === (n=this.ox) || void 0 === n?void 0:n.clear();this.ox=new l.ze();this.ox.on(this.qc,"clockChanged",function(){g.reset();g.FT("initial");});this.ox.on(this.qc,"stopping",function(){g.FT("stopping");});this.ox.on(this.qc.sa,"clockAdjusted",function(){g.FT("clockAdjusted");});this.ox.on(this.qc.sa,"stopStart",function(){g.FT("stopStart");});this.ox.on(this.qc.sa,"speedChanged",function(){g.FT("speedChanged");});};d.prototype.FT=function(g){this.iA.push({reason:g,audit:this.qc.Ll(),time:c.platform.time.xa()});5 < this.iA.length && this.iA.shift();};d.prototype.gi=function(g){var n;n=g.mi;g=g.dC;if(n === k.kc.Pj || n === k.kc.hm || n === k.kc.ei || void 0 === n && void 0 === g)return this.iA;};return d;})();b.YNa=r;},92589:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ZNa=void 0;c=a(49730);l=a(18653);f=a(13043);r=(function(){function k(d){var n;function g(){var h;if(d.MN){h=d.MN.OEb();n.iA.add(h.Ll());}}n=this;this.qc=d;this.iA=new Set();d.on("clockChanged",g);d.on("rootSchedulerReleasing",function(h){h.MN.Zaa && n.iA.add(h.MN.Zaa.Ll());});g();}Object.defineProperties(k.prototype,{fd:{get:function(){return "task-verbose-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{po:{get:function(){return "tsch-verbose";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return c.K;},enumerable:!1,configurable:!0}});k.prototype.gi=function(d){var g,n,h;if(d.mi === f.kc.ei){null === (n=null === (g=this.qc) || void 0 === g?void 0:g.MN.Zaa) || void 0 === n?void 0:n.Ll();this.iA.forEach(function(m){h=h?l.Dfa.reduce(h,m):m;});return h;}};return k;})();b.ZNa=r;},48641:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.gx=void 0;c=a(5163);l=a(49730);f=a(97810);k=a(13043);r=(function(){function d(g,n){this.Xg=g;this.options=c.__assign({byb:!0},n);}Object.defineProperties(d.prototype,{po:{get:function(){return ("trace-").concat(this.Xg.source);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fd:{get:function(){return this.po;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});d.prototype.gi=function(g){var n,h;n=g.mi;if(n === k.kc.ei || n === k.kc.hm){g=(0,f.bXa)(this.Xg.bQb);h=this.Xg.rNb;n === k.kc.ei && this.options.byb && this.Xg.clear();n=g;Object.keys(h).length && (n=c.__spreadArray(c.__spreadArray([],c.__read(g),!1),[h],!1));return n;}};d.prototype.Oa=function(){var g;null === (g=this.Xg) || void 0 === g?void 0:g.Oa();};return d;})();b.gx=r;},88181:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.GMa=void 0;c=a(5163);l=c.__importStar(a(17267));f=a(42866);k=a(36418);d=a(29930);g=a(2746);r=a(57196);n=a(27364);h=a(62558);m=a(89755);p=a(7881);q=a(58628);u=a(54790);t=a(38509);w=a(30923);a=(function(v){function y(x,z,A,B,C,D,F,G){var E;E=v.call(this,x) || this;E.W=z;E.T=A;E.Zo=B;E.us=C;E.Be=D;E.aoa=G;E.pe=new m.iD(E.T);E.mA=E.T.error.bind(E.T);E.Ls=E.T.warn.bind(E.T);E.zx=E.T.trace.bind(E.T);E.lRa();E.cp=null === F || void 0 === F?void 0:F.Vx(function(){return E.A0b();},"pruner");return E;}c.__extends(y,v);Object.defineProperties(y.prototype,{console:{get:function(){return this.T;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.Be;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{kb:{get:function(){return this.us;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ow:{get:function(){return 0 < this.Fva;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Cxa:{get:function(){return !this.WQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Fva:{get:function(){return this.oc.length;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bD:{get:function(){return this.oc.bD;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bK:{get:function(){return this.pe.xy;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Kk:{get:function(){return this.oc.complete.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ES:{get:function(){return this.oc.yVa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{gka:{get:function(){return this.oc.Dyb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{TC:{get:function(){return this.oc.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{g$:{get:function(){return void 0 === this.oc.Ab?0:this.oc.Lb.G - this.oc.Ab.G;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{E3:{get:function(){return {wa:this.oc.F3,G:this.oc.empty?0:Math.max(this.oc.yVa - this.oc.Ab.G,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{F3:{get:function(){return this.oc.F3;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{KA:{get:function(){return this.oc.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{aXb:{get:function(){return this.Lpb();},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Voa:{get:function(){return this.oc.length > this.oc.bD;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$j:{get:function(){return this.oc.$j;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{w4a:{get:function(){return this.jQa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ja:{get:function(){return this.oc;},enumerable:!1,configurable:!0}});y.prototype.Df=function(x){var A,B;function z(){return B.forEach(function(C){C.abort();C.Ze();});}B=this.oc;x?setTimeout(z,1):z();this.lRa();this.pe.AF();null === (A=this.cp) || void 0 === A?void 0:A.Oa();};y.prototype.reset=function(){this.Df();this.pe.Iab();};y.prototype.close=function(){this.pe.AF();};y.prototype.Ibb=function(){this.uPa=!0;};y.prototype.a1a=function(){return {endMarked:void 0 !== this.pe.count,queueCount:this.pe.count,isComplete:this.pe.xy,itemCount:this.pe.zVa,continuousEndPts:this.pe.wk().reduce(function(x,z){return z && !z.done && (z=z.value,100 > Math.abs(z.qL.G - x) || -1 === x)?z.ena.G:x;},-1),sentinelItemCount:this.pe.wk().filter(function(x){return x && x.done;}).length,processedCount:this.pe.nDb,rc:this.Fva};};y.prototype.tWa=function(x,z,A){var B,C;B=this.W;(0,h.assert)(!x.header);A.aa && A.mediaType === n.u.Ga && (C=new u.Jba(A,this.us.vz.track,x,this.oc,this.kb.v,B,this.T));C || (C=d.Hba.create(A,B,z.track,x,this.oc,this.kb.v,this.T,this.aoa));this.fv(C);return C;};y.prototype.fv=function(x){var z,A;this.oc.xt(x);(null === (z=this.cp) || void 0 === z?void 0:z.state) === p.Dk.complete && (null === (A=this.cp) || void 0 === A?void 0:A.mf());this.Uob();x.Qk && (this.WQ=!1);};y.prototype.CB=function(){return this.pe.nna();};y.prototype.GUa=function(){this.Vu === this.oc.length && this.uPa && this.pe.AF();};y.prototype.Jya=function(){var x,z,A;x=this;Promise.resolve();if(this.us.Q6(this.Be) && this.Vu !== this.oc.length){for(var B=this.W.CSb,C=0,D=[];this.Vu < this.oc.length;){if(A=this.oc.get(this.Vu)){if(A.Qy){if(this.W.iT)D.push.apply(D,this.xZb(A));else break;}else {if(this.oc.GZa && this.oc.GZa.qb < A.qb)break;if(!A.q3a())break;D.push(A);}++C;l.Rb(this.nua) || (this.nua=null === (z=A.Ab) || void 0 === z?void 0:z.G);}++this.Vu;if(!l.co(B) && C >= B)break;}D.length && (void 0 !== this.pe.count && (this.mA("tryToAtach() but requestQueue has sentinel:",this.pe.count),this.pe.Iab()),Promise.all(D.map(function(F){return x.pe.enqueue(F).then(function(){return x.AMb(F);});})),this.GUa());}};y.prototype.AMb=function(x){this.jQa=x;};y.prototype.JR=function(x){var z,A,B;z=this;A=[];if(0 !== this.oc.bD){B=this.oc.O8a;this.oc.w7b.wxa(function(C){var D;if(C.Qk || B > (null === (D=C.Ab) || void 0 === D?void 0:D.G))return !0;C.xv && (z.WQ=!1);if(!z.Kfa(C))return (z.Ls("request abort failed:",C.toString()),!0);A.unshift(C);});this.$Qa();A.length && "function" === typeof x && x(A);}};y.prototype.z0b=function(x){x.Qy=!0;x.abort();this.oc.eWb();this.Jya();};y.prototype.A0b=function(){var x,z,A,B,C,D;return c.__generator(this,function(F){switch(F.label){case 0:F.label=1;case 1:if(!this.oc.length)return [3,3];x=this.oc.get(0);z=f.L.Na(null !== (D=null === (C=this.W.ZN) || void 0 === C?void 0:C.G) && void 0 !== D?D:0);A=z.add(x.Lb);return [4,p.Jg.ou(A)];case 2:F.Ua();if(1 >= this.oc.complete.length && !x.Qk)return [3,3];(0,h.assert)(x === this.oc.get(0));x.aS || this.Kfa(x);B=this.oc.splice(0,1);0 < this.Vu && this.Vu--;this.Zo.Lsa(B);B=void 0;return [3,1];case 3:return [2];}});};y.prototype.fHb=function(x){if(this.oc.length && (x=this.oc.oZa(x)))return x;};y.prototype.osb=function(x){var z,A,B,C,D,F,G;F=x.Wa;x=this.oc.Dma(x.Ka.G);G=this.oc.get(x);(0,h.assert)(G && void 0 !== (null === (z=G.Ka) || void 0 === z?void 0:z.G) && void 0 !== (null === (A=G.Wa) || void 0 === A?void 0:A.G) && void 0 !== G.index,"expected existing request to be defined with properties");if(null === (B=G.Wa) || void 0 === B?0:B.equal(F))return (this.PRa(x),[null === (C=G.Wa) || void 0 === C?void 0:C.G,G.index + 1]);this.PRa(x - 1);return [null === (D=G.Ka) || void 0 === D?void 0:D.G,G.index];};y.prototype.un=function(x){var z,A;z=this;A=[];this.oc.forEach(function(B){var C;C=B.cza(x);1 === C?A.push(B):2 === C && z.kb.ma.lf("swapUrl failure");});return A;};y.prototype.VM=function(x){x.zt && x.q3a() && this.Jya();this.AT(x);};y.prototype.Ar=function(x,z){var A,B;x.stream.aa && x.xv && x.mediaType === n.u.fa && this.O7b(x);x.zt && !x.aS && this.Jya();(null === (A=this.cp) || void 0 === A?void 0:A.state) === p.Dk.complete && (null === (B=this.cp) || void 0 === B?void 0:B.mf());this.HF(x,z);};y.prototype.O7b=function(x){var z,A;z=k.$I.WYa(new DataView(x.xo[0]));if(void 0 !== z && x.stream.track.zVb(z)){A=x.stream.Tm();this.oc.forEach(function(B){var C;C=A.MT(B.index);B.M7b(C.Ka,C.Wa);});this.Ja.update();}};y.prototype.Lpb=function(){return this.oc.$j + this.oc.bD;};y.prototype.lRa=function(){var x,z,A;z=void 0 !== this.oc && 0 < this.oc.length;A=this.oc;this.oc=new g.HAa(this.T,this);this.Vu=0;this.pe.clear();this.jQa=void 0;this.nua=null;null === (x=this.cp) || void 0 === x?void 0:x.mf();this.uPa=this.WQ=!1;z && (x=A.map(function(B){return B;}),this.Zo.Lsa(x));};y.prototype.Uob=function(){this.WQ || (this.WQ=!0);};y.prototype.PRa=function(x){var z;for(x+=1;x < this.Fva;x++){z=this.oc.get(x);(0,h.assert)(z,"expected request to exist");this.pe.remove(z);z.aborted || (this.Kfa(z),z.Ze());}this.$Qa();};y.prototype.Kfa=function(x){return x.abort()?!0:!1;};y.prototype.$Qa=function(){var x,z,A,B;x=this;if(0 !== this.oc.length){A=[];B=0;this.oc.DZb(function(C,D){D < x.Vu && ++B;A.push(C);});this.Vu-=B;null === (z=this.cp) || void 0 === z?void 0:z.mf();this.Zo.Lsa(A);}};y.prototype.xZb=function(x){switch(this.mediaType){case n.u.fa:return this.yZb(x);case n.u.Y:return this.AZb(x);case n.u.Ga:return this.zZb(x);}};y.prototype.yZb=function(x){return w.qD.instance().KX.f$a(this.kb.ma,x.stream.If,(0,t.vna)(x.stream.profile),x.stream.bitrate,x.stream.track.no,x.Ld,this.kb.v,function(z,A){return x.Ab.add(A).$c(z).ja;},this.W,this.T);};y.prototype.AZb=function(x){var z,A,B;B=null === (z=x.stream.track.za) || void 0 === z?void 0:z.kva();(0,h.assert)(B,"Video streams must have a frame rate");return w.qD.instance().KX.h$a(this.kb.ma,"padding",x.stream.profile,B,null === (A=x.stream.track.lk) || void 0 === A?void 0:A.gv,x.stream.track.no,x.Ld,this.kb.v,function(C,D){return x.Ab.add(D).$c(C).ja;},this.T).Ja;};y.prototype.zZb=function(x){x.Yua(w.qD.instance().KX.CZb(),!0);return [x];};return y=c.__decorate([q.rL],y);})(r.hD);b.GMa=a;},36021:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.HMa=void 0;c=a(5163);l=a(12043);f=a(62558);k=a(33285);d=a(97810);r=(function(){var Q42;Q42=2;for(;Q42 !== 13;){switch(Q42){case 3:var W7Q="M";W7Q+="U";W7Q+="a";var V1l="c";V1l+="heck";V1l+="R";V1l+="equestOpportunityRunner";var r9v="H";r9v+="r";var G2Q="removeR";G2Q+="e";G2Q+="que";G2Q+="st";var k7N="f";k7N+="v";var N9w="ad";N9w+="dR";N9w+="eq";N9w+="uest";var g_f="v";g_f+="j";var P9Z="che";P9Z+="ckRequestOppor";P9Z+="tu";P9Z+="nity";g.prototype.MUa=function(n){var a6U,h,m,p;a6U=2;for(;a6U !== 9;){switch(a6U){case 5:a6U=this.oE < h && this.h7()?4:3;break;case 6:this.xab.push(m);a6U=3;break;case 2:(h=this.config.O7,m=l.platform.time.xa() - n,p=0);a6U=1;break;case 3:var o$7="requestOpportu";o$7+="ni";o$7+="tyRunnerComplete";this.Mp.uSa(o$7,{requestsIssued:p,scheduledMs:n,timeSinceScheduled:m},!0);a6U=9;break;case 4:p++;a6U=5;break;case 1:this.xab.push(m);a6U=5;break;}}};c.__decorate([(0,k.Pb)({methodName:P9Z,bk:!0,kp:!0})],g.prototype,g_f,null);c.__decorate([(0,k.Pb)({methodName:N9w,bk:!0})],g.prototype,k7N,null);c.__decorate([(0,k.Pb)({methodName:G2Q,bk:!0})],g.prototype,r9v,null);c.__decorate([(0,k.Pb)({methodName:V1l,bk:!0})],g.prototype,W7Q,null);return g;break;case 2:Object.defineProperties(g.prototype,{RUb:{get:function(){var a98;a98=2;for(;a98 !== 1;){switch(a98){case 4:return this.oE;break;case 2:return this.oE;break;}}},enumerable:!1,configurable:!0}});g.prototype.vj=function(){var P7r,h,n;P7r=2;for(;P7r !== 9;){switch(P7r){case 5:this.qwa=!0;h=l.platform.time.xa();return Promise.resolve().then(function(){var o7g;o7g=2;for(;o7g !== 5;){switch(o7g){case 2:n.qwa=!1;n.MUa(h);o7g=5;break;}}});break;case 7:n=this;P7r=2;break;case 6:P7r=-this.qwa?4:2;break;case 1:P7r=!this.qwa?5:9;break;case 2:n=this;P7r=1;break;}}};g.prototype.fv=function(n){var p19,h,m;p19=2;for(;p19 !== 3;){switch(p19){case 2:this.Mp.Os({mediaType:n.mediaType,contentStartPts:null === (h=n.Ka) || void 0 === h?void 0:h.G,contentEndPts:null === (m=n.Wa) || void 0 === m?void 0:m.G});this.oE++;p19=4;break;case 4:var S4h="More than maxAllowe";S4h+="dOutstanding";S4h+="Requests are o";S4h+="utstanding";(0,f.assert)(this.oE <= this.config.O7,S4h);p19=3;break;}}};g.prototype.Hr=function(n){var q$A,h,m;q$A=2;for(;q$A !== 9;){switch(q$A){case 2:var c$W="re";c$W+="mov";c$W+="eReq";c$W+="uest";var h5r="Rec";h5r+="eive";h5r+="d remove request when there are no requests outstandin";h5r+="g";this.Mp.Os({mediaType:n.mediaType,contentStartPts:null === (h=n.Ka) || void 0 === h?void 0:h.G,contentEndPts:null === (m=n.Wa) || void 0 === m?void 0:m.G});this.oE--;(0,f.assert)(0 <= this.oE,h5r);this.vj(c$W);q$A=9;break;}}};Q42=3;break;}}function g(n,h){var A6_,m;A6_=2;for(;A6_ !== 14;){switch(A6_){case 2:m=this;this.h7=n;this.config=h;A6_=4;break;case 4:var Q2R="1S";Q2R+="IYbZ";Q2R+="rN";Q2R+="JCp9";var h4e="medi";h4e+="a";h4e+="|as";h4e+="ejs";var C1_="ASEJ";C1_+="S";C1_+="_REQUEST_PACER";this.oE=0;this.console=new l.platform.Console(C1_,h4e);this.qwa=!1;Q2R;A6_=7;break;case 7:var I0H="R";I0H+="equestPa";I0H+="c";I0H+="er";this.Mp=new k.Ju({hn:this,source:I0H,ySa:function(){var L40;L40=2;for(;L40 !== 1;){switch(L40){case 4:return {numOutstanding:m.oE};break;case 2:return {numOutstanding:m.oE};break;}}},ko:10});this.xab=new d.Uh();A6_=14;break;}}}})();b.HMa=r;},39266:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ANa=void 0;c=a(42866);l=a(81883);f=a(27364);r=(function(){function k(d,g){this.tk=d;this.console=g;this.M1=Infinity;this.DPa=0;this.Urb=!1;}k.prototype.XGb=function(d,g,n,h,m){var p;if(this.tk){p=d.Ja;if(p){if(n === f.u.Y)(n=p.gy(Math.ceil(this.tk * d.za.Yv),void 0,!0),p=d.Yn(n),d=p.Ld.ih(d.za),p.Bi({start:0,end:this.tk - n * d}),this.M1=this.tk);else {void 0 !== h.Scb?(g=h.Scb,n=g * d.za.G):(n=(0,l.Xna)(h,m) + Math.ceil(h.Yub * d.za.Yv),c.L.Na(n).ih(d.za),n=g + n,g=Math.ceil(n / d.za.Yv));n=p.gy(n,void 0,!0);for(m=h=0;m < n;++m){p=d.Yn(m);h+=p.Ld.ih(d.za);}h=g - h;p=d.Yn(n);p.Bi({end:h});this.M1=g;}p.L5a();return p;}}};k.prototype.$Mb=function(){return this.DPa >= this.M1;};k.prototype.dOb=function(d,g){this.zv(d,g);};k.prototype.FFb=function(d,g,n){d.Iic=this.zv(g,n);};k.prototype.zv=function(d,g){return d.Ld.ih(g.za);};k.prototype.s3=function(){if(!this.$Mb())return !1;if(this.Urb)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.DPa," >= ").concat(this.M1));return !0;};return k;})();b.ANa=r;},96331:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.WSa=void 0;b.WSa=function(a,c,l){var f,k;f=!0;l.forEach(function(d){var g;if(f && a === d.profile){g=d.ranges;f=void 0 === g?c >= d.min && c <= d.max:g.some(function(n){return c >= n.min && c <= n.max;});!f && d.disallowed && d.disallowed.some(function(n){if(n.stream.bitrate === c)return (k=n.disallowedBy,!0);});}});return {inRange:f,t4:k};};},85770:function(r,b,a){var l;function c(f,k){k=Math.max(f,k);return isNaN(k)?f || -Infinity:k;}Object.defineProperties(b,{__esModule:{value:!0}});b.FAa=void 0;l=a(27364);r=(function(){function f(k){this.config=k;this.iva=0;this.state=l.Rc.ss;this.R6a=c(k.csa,k.j8);this.jsa=c(k.MG,k.GV);}f.prototype.zj=function(k,d){var g;g=this;if(d !== this.state){this.state=d;if(d === l.Rc.Ne || d === l.Rc.U0)return k;d === l.Rc.pl && this.e_b();}return k.filter(function(n){return !(void 0 !== n.xb && n.xb < g.jsa || (void 0 === n.xb || 0 > g.jsa) && n.bitrate < g.R6a);});};f.prototype.e_b=function(){++this.iva;this.jsa=c(this.config.MG,this.config.GV - this.config.rTb * this.iva);this.R6a=this.config.csa || -Infinity;};return f;})();b.FAa=r;},65364:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.TAa=void 0;c=a(42866);r=(function(){function l(f){this.config=f;}l.prototype.z3b=function(f){return f % 100 + 1 <= this.config.Yta;};l.prototype.zj=function(f){var k,d,g,n,h,m,p,q,u,t,w;p=Number(null === (k=f[0]) || void 0 === k?void 0:k.P);if(!(this.config.J4 && this.z3b(p) && 0 < this.config.k$.length))return f;k=f.length;q=null !== (d=f[k - 1].dX) && void 0 !== d?d:0;if(d=(0,c.tc)(this.config.k$,function(v){return v.Kic >= q && v.Lab <= q;})){for(p=0;p < k;p++){u=f[Math.max(p - 1,0)];t=f[p];if(!((null !== (g=t.dX) && void 0 !== g?g:0) < d.Lab || (null !== (n=u.dX) && void 0 !== n?n:0) < d.Lab)){w=null !== (h=t.xb) && void 0 !== h?h:Infinity;u=null !== (m=u.xb) && void 0 !== m?m:Infinity;if(!(u < d.Xhc || u < d.Whc && t.bitrate < d.maxBitrate || !w && t.bitrate < d.vhc))break;}}return f.slice(0,p);}return f;};return l;})();b.TAa=r;},72573:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.UAa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.zj=function(c){var l;l=this.config;return c.filter(function(f){return !(void 0 !== f.xb && (f.xb < l.MG || f.xb > l.R5a) || (void 0 === f.xb || 0 >= l.MG) && f.bitrate < l.csa || (void 0 === f.xb || Infinity === l.R5a) && f.bitrate > l.oSb);});};return a;})();b.UAa=r;},85147:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.AK=b.zK=void 0;c=a(69044);l=a(42186);b.zK=function(f,k){k && (null === f || void 0 === f?0:f.x2a) && (k=new l.Iu(k).or(l.ND));return new l.Iu(l.Sba).and(k || l.ND).or(l.yda,c.nJ.CF).or(l.zda,c.nJ.CF);};b.AK=function(f,k){k && f.x2a && (k=new l.Iu(k).or(l.ND));return new l.Iu(l.Sba).and(new l.VAa(f)).and(new l.UAa(f)).and(new l.FAa(f)).and(new l.XAa(f)).and(f.J4?new l.TAa(f):l.ND).and(k || l.ND).or(l.yda,c.nJ.CF).or(l.zda,c.nJ.CF);};},90672:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.VAa=void 0;c=a(27364);r=(function(){function l(f){this.config=f;}l.prototype.zj=function(f,k){return this.config.saa || k !== c.Rc.rl?f.filter(function(d){return d.Dp;}):f;};return l;})();b.VAa=r;},42659:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.BQ=void 0;c=a(12043);l=a(49730);f=a(96331);r=(function(){function k(d){this.console=d;this.dXa=[];this.KTa={};this.zXa=!1;}k.prototype.T$=function(d,g){this.dXa=d;void 0 !== g?this.KTa[g]=d:this.zXa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.zXa=!0);};k.prototype.zj=function(d){var g,n,h,m;g=this;if(0 === d.length)return d;h=d[0].J;if(void 0 === h)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (n=c.platform.Ws) || void 0 === n?void 0:n.call(c.platform,h);}catch(p){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + p),d);}m=this.KTa[h] || this.dXa;l.K && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(d.length," streams with ").concat(JSON.stringify(m)));d=d.filter(function(p){return (0,f.WSa)(p.profile,p.bitrate,m,g.console).inRange;});l.K && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(d.length," streams in range"));return d;};return k;})();b.BQ=r;},58771:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.XAa=void 0;r=(function(){function a(c){var l;l=this;c.jO && c.jO.enabled && c.jO.profiles && c.jO.profiles.length && "keepLowest" === c.jO.action && (this.q4a={},c.jO.profiles.forEach(function(f){return l.q4a[f]=!0;}));}a.prototype.zj=function(c){var l,f;l={};f=this.q4a;return void 0 === f?c:c.filter(function(k){return !f[k.profile] || (l[k.profile]?!1:l[k.profile]=!0);});};return a;})();b.XAa=r;},54608:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yda=b.Sba=void 0;c=a(42866);b.Sba={zj:function(l){return l.filter(function(f){return f.Kp && !f.my;});}};b.yda={zj:function(l){return (l=(0,c.tc)(l,function(f){return !!f.Kp && !f.my;}))?[l]:[];}};},42186:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(74446),b);r.__exportStar(a(90672),b);r.__exportStar(a(42659),b);r.__exportStar(a(58771),b);r.__exportStar(a(72573),b);r.__exportStar(a(85770),b);r.__exportStar(a(65364),b);r.__exportStar(a(54608),b);r.__exportStar(a(673),b);r.__exportStar(a(69044),b);r.__exportStar(a(32209),b);r.__exportStar(a(85147),b);r.__exportStar(a(49789),b);},32209:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zda=void 0;b.zda={zj:function(a){return a.length?[a[0]]:[];}};},49789:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.UP=void 0;c=a(42866);l=a(49730);r=(function(){function f(k,d){this.console=k;this.config=d;this.iza=!1;}f.prototype.zj=function(k,d,g,n){void 0 === g && (g=c.L.Ha);void 0 === n && (n=!1);l.K && this.console.trace("Filtering streams for fastplay",{iza:this.iza,Gl:g.G,chc:n});if(this.iza || g.G >= this.config.tSb || !1 === n){d=k.filter(this.iEb);if(d.length)return d;l.K && this.console.trace("No drm streams to return");}d=k.filter(this.eyb);if(d.length)return d;l.K && this.console.trace("No clear streams to return");return k;};f.prototype.iEb=function(k){return k.ii;};f.prototype.eyb=function(k){return !k.ii;};return f;})();b.UP=r;},673:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ND=void 0;b.ND={zj:function(a){return a;}};},69044:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Iu=b.nJ=void 0;c=a(673);(function(f){f[f.mN=0]="primary";f[f.CF=1]="fallback";})(l=b.nJ || (b.nJ={}));r=(function(){function f(k,d){var g,n;void 0 === d && (d=!1);n=this;this.oUa=d;this.filters=(g={},g[l.mN]=[],g[l.CF]=[],g);Array.isArray(k)?k.forEach(function(h){return n.and(h,l.mN);}):this.and(k);}f.prototype.and=function(k,d){void 0 === d && (d=l.mN);k !== c.ND && this.filters[d].push({filter:k,LVa:!0});return this;};f.prototype.or=function(k,d){void 0 === d && (d=l.mN);this.filters[d].push({filter:k,LVa:!1});return this;};f.prototype.filter=function(k){var d;d=this;[l.mN,l.CF].forEach(function(g){d.filters[g]=d.filters[g].filter(function(n){return k(g,n.filter);});});};f.prototype.zj=function(k,d,g,n){var h;h=this;return [l.mN,l.CF].reduce(function(m,p){return h.filters[p].reduce(function(q,u){u.LVa?q=u.filter.zj(q,d,g,n):0 === q.length && (q=u.filter.zj(k,d,g,n));return q;},m);},k);};return f;})();b.Iu=r;},74446:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},4399:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.MNa=b.iob=void 0;c=a(5163);r=a(12043);l=a(62558);f=a(94656);a=a(26218);k=new r.platform.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(n){d=!1;}g=(function(n){function h(m,p){p=n.call(this,m.Fo,p) || this;p.CE=m;return p;}c.__extends(h,n);Object.defineProperties(h.prototype,{wa:{get:function(){return this.CE.Hcb(this.fg);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{offset:{get:function(){return this.CE.vi(this.fg);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{msa:{get:function(){return this.CE.FM && this.CE.FM[this.fg];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sj:{get:function(){return this.CE.BIb(this.fg);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xb:{get:function(){return this.CE.zw && this.CE.zw[this.fg];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Wia:{get:function(){return 8 * this.wa / (1E3 * this.jB / this.N);},enumerable:!1,configurable:!0}});h.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.qb,contentEndTicks:this.ub,durationTicks:this.jB,timescale:this.N,startPts:this.Ka.G,endPts:this.Wa.G,duration:this.Ld.G,additionalSAPs:this.sj};};return h;})(a.pOa);b.iob=g;r=(function(){function n(h,m,p,q,u,t,w){this.PJ=128;this.Ic=m;this.Zb=p.offset;this.wm=p.sizes;this.a2=h;this.zJ=this.LQ=this.Xj=this.gp=this.pha=void 0;this.yqb=q;this.Mfa=u && u.vi;this.yha=t;this.rA=Math.min(this.Ic.length,this.wm.length);h=this.Iwb();this.pqb=h.maxBitrate;this.qqb=h.ko;this.Fo.Aq.length !== this.wm.length && k.trace("Mis-matched stream duration (" + this.Fo.Aq.length + "," + this.wm.length + ") for movie id " + w);this.Fo.v2 && !this.Mfa && k.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.Ic.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{length:{get:function(){return this.rA;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Or:{get:function(){return this.Ic.Or;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ula:{get:function(){return this.Ic.Ula;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{gb:{get:function(){return this.Ic.gb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{df:{get:function(){return this.Ic.df;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Gra:{get:function(){return this.Ic.Gra;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wr:{get:function(){return this.pqb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ko:{get:function(){return this.qqb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{za:{get:function(){return this.Ic.za;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{N:{get:function(){return this.Ic.N;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Eo:{get:function(){return this.gp || this.Tfa();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{FM:{get:function(){return this.yqb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{cia:{get:function(){return this.Mfa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zw:{get:function(){return this.yha;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Fo:{get:function(){return this.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Mr:{get:function(){return this.pha || this.epb();},enumerable:!1,configurable:!0}});n.prototype.Hcb=function(h){if(this.wm)return this.wm[h];k.error("sizesByIndex _sizes is undefined");return -1;};n.prototype.bm=function(h){return this.Ic.bm(h);};n.prototype.kT=function(h){return this.Ic.bm(h) + this.Ic.cf(h);};n.prototype.vi=function(h){var m,p,q;if(this.LQ !== h || void 0 === this.zJ){if(0 === h)return this.Zb;if(this.LQ === h - 1 && void 0 !== this.zJ)(this.zJ+=this.wm[this.LQ],++this.LQ);else {m=this.Xj || this.Rob();p=Math.floor(h / this.PJ);q=p * this.PJ;for(m=m[p];q < h;++q){m+=this.wm[q];}this.LQ=h;this.zJ=m;}}return this.zJ;};n.prototype.cf=function(h){return this.Ic.cf(h);};n.prototype.get=function(h){return new g(this,h);};n.prototype.BIb=function(h){var m,p,q,u,t;(0,l.assert)(0 <= h);m=this.Fo.v2;p=this.Fo.zSa;q=this.Mfa;if(!q || !m || !p || h >= m.length)return [];u=[];t=h === m.length - 1?p.length:m[h + 1];for(m=m[h];m < t;++m){u.push({Kj:p[m],ye:this.bm(h) + this.za.oo(p[m]).G,offset:q[m]});}return u;};n.prototype.gy=function(h,m,p){return this.Ic.gy(h,m,p);};n.prototype.Cma=function(h,m,p){return this.Ic.Cma(h,m,p);};n.prototype.N3=function(h,m){return this.Ic.N3(h,m);};n.prototype.Gwb=function(h,m,p,q,u){var t,w,v,y,x,z,A,B,C;t=!0;w=0;v=this.Ic.Aq;y=this.wm;h=Math.floor(h * this.N / 1E3);x=Math.floor(p * this.N / 1E3);z=0;A=0;B=0;if(this.Ic.Pya && this.Ic.Oya)for(w=this.Ic.Pya;w <= this.Ic.Oya;++w){z+=v[w];A+=y[w];}if(A > m)t=!1;else for(;w < this.length && (!u || w < u);){C=y[w];p=v[w];if(A + C > m){for(;1 < w - B && A + C > m && (z - v[B] >= x || A - y[B] > q);){z-=v[B];A-=y[B];++B;}if(z < h || A + C > m){t=!1;this.Ic.Pya=B;this.Ic.Oya=w;break;}}z+=p;A+=C;++w;}return t;};n.prototype.subarray=function(h,m){(0,l.assert)(void 0 === h || 0 <= h && h < this.length);(0,l.assert)(void 0 === m || m > h && m <= this.length);return new n(this.a2,this.Ic.subarray(h,m),{offset:this.vi(h),sizes:this.wm.subarray(h,m)},this.FM && this.FM.subarray(h,m),this.cia && ({vi:this.cia}),this.yha && this.yha.subarray(h,m));};n.prototype.forEach=function(h){for(var m=0;m < this.length;++m){h(this.get(m),m,this);}};n.prototype.map=function(h){for(var m=[],p=0;p < this.length;++p){m.push(h(this.get(p),p,this));}return m;};n.prototype.reduce=function(h,m){for(var p=0;p < this.length;++p){m=h(m,this.get(p),p,this);}return m;};n.prototype.toJSON=function(){return {length:this.length};};n.prototype.dump=function(){var m;k.trace("StreamFragments: " + this.length);for(var h=0;h < this.length;++h){m=this.get(h);k.trace(("StreamFragments: ").concat(h,": [").concat(m.Ka.G,"-").concat(m.Wa.G,"]") + (" @ ").concat(m.offset,", ").concat(m.wa," bytes"));}};n.prototype.Iwb=function(){var h,m,p,q,u,t,y;h=0;m=0;p=this.Ic.Y5a;q=this.Ic.Z5a;u=this.Ic.Aq;t=this.wm;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var w=0,v=this.length;w < v;++w){y=t[w];y > m && (m=y,q=w);y/=u[w];y > h && (h=y,p=w);}void 0 === this.Ic.Y5a && (this.Ic.Y5a=p);void 0 === this.Ic.Z5a && (this.Ic.Z5a=q);}else (h=t[p] / u[p],m=t[q]);return {maxBitrate:Math.floor(h * this.N / 125),ko:m};};n.prototype.Tfa=function(){for(var h=0,m=0;m < this.length;++m){h+=this.wm[m];}return this.gp=h;};n.prototype.epb=function(){return this.pha=new f.jfa(this.Ic.Aq,this.wm,this.Ic.N);};n.prototype.Rob=function(){if(!this.Xj){for(var h=d?new Float64Array(Math.ceil(this.length / this.PJ)):Array(Math.ceil(this.length / this.PJ)),m=this.Zb,p=0;p < h.length;++p){h[p]=m;for(var q=0;q < this.PJ;++q){m+=this.wm[p * this.PJ + q];}}this.Xj=h;}return this.Xj;};return n;})();b.MNa=r;(0,a.Jv)(r.prototype.bm);(0,a.Jv)(r.prototype.kT);(0,a.Jv)(r.prototype.cf);(0,a.Jv)(r.prototype.vi);(0,a.Jv)(r.prototype.Hcb);(0,a.Jv)(r.prototype.get);},90187:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qfa=void 0;c=a(42866);r=(function(){function l(f){this.En=f;this.FZa=new c.Sz();}Object.defineProperties(l.prototype,{v7:{get:function(){var f;return this.yUb || (null === (f=this.parent) || void 0 === f?void 0:f.v7);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fo:{get:function(){var f;return this.Fd || (null === (f=this.parent) || void 0 === f?void 0:f.fo);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{H4a:{get:function(){var f,k;return null !== (f=this.T4b) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.H4a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Dqa:{get:function(){var f,k;return null !== (f=this.U4b) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.Dqa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{track:{get:function(){return this.Z1b;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wgb:{get:function(){return this.FZa.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{parent:{get:function(){var f;return null === (f=this.En) || void 0 === f?void 0:f.call(this);},enumerable:!1,configurable:!0}});l.prototype.Oa=function(){this.En=void 0;};l.prototype.R2b=function(f){this.yUb=f;};l.prototype.Zwa=function(f){this.Fd=f;this.FZa.resolve();};l.prototype.c3b=function(f){this.T4b=f;};l.prototype.gcb=function(f){this.U4b=f;};l.prototype.j3b=function(f){this.Z1b=f;};return l;})();b.qfa=r;},62711:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(27364);a(95711);r=(function(){var S_y;S_y=2;for(;S_y !== 5;){switch(S_y){case 2:var U4z="1SI";U4z+="YbZrN";U4z+="JCp9";U4z;return function(l,f,k,d,g,n){var L9p=A9tfv;var S$X,w,m,p,q,u,t,v;S$X=2;for(;S$X !== 36;){switch(S$X){case 29:S$X=n > g?28:39;break;case 22:S$X=f > p * n.X4?21:35;break;case 38:0 < f && f < p && (q=Math.min(u,Math.max(n.LW * (p / f - 1),q)));return {complete:!1,GN:q,progress:h(q)};break;case 9:S$X=f <= n.nra && (0 < f || !n.lma)?8:7;break;case 30:--n;S$X=29;break;case 25:var c7l="o";c7l+="ut";c7l+="ofra";c7l+="n";c7l+="ge";return {complete:!0,reason:c7l};break;case 16:S$X=!d.Ja || !d.Ja.length?15:27;break;case 3:var w3u="ma";w3u+="x";w3u+="size";return {complete:!0,reason:w3u};break;case 23:S$X=m >= q?22:38;break;case 12:S$X=!f?11:10;break;case 15:return (f < p && (q=Math.min(u,Math.max(n.LW * (p / f - 1),q))),{complete:!1,GN:q,progress:0});break;case 21:var n_V="h";n_V+="i";n_V+="gh";n_V+="tp";return {complete:!0,reason:n_V};break;case 39:var q6u="n";q6u+="oreb";q6u+="u";q6u+="ff";return {complete:!0,reason:q6u};break;case 35:q=d.Ja.cf(g);n=Math.min(g + Math.floor(n.LW / q),d.Ja.length - 1);S$X=33;break;case 4:S$X=m >= u?3:9;break;case 24:w=d.Ja.vi(g);S$X=23;break;case 26:S$X=-1 === g?25:24;break;case 2:(m=l.Fl - l.Dd,p=f === c.Rc.pl);f=d.nb || 0;(q=0,u=Math.min(n.HG,n.kza && !p?n.gC:n.Kra));S$X=4;break;case 40:--n;S$X=29;break;case 42:return (q=Math.min(u,m + v),{complete:!1,GN:q,progress:h(q)});break;case 11:var I_s="nothr";I_s+="ou";I_s+="ghput";return {complete:!1,GN:q,reason:I_s};break;case 27:g=d.Ja.gy(l.qn);S$X=26;break;case 10:t=l.Ja.reduce(function(y,x){var Z6t;Z6t=2;for(;Z6t !== 1;){switch(Z6t){case 2:return y + (x.Lb.G > l.Dd?x.wa:0);break;}}},0);k=Math.max(k,1);p=k * d.bitrate;S$X=18;break;case 8:var j9p="l";j9p+="o";j9p+="wThr";j9p+="oug";j9p+="hput";return {complete:!1,mra:!0,reason:j9p};break;case 17:var X4v="lowLiv";X4v+="eBu";X4v+="f";X4v+="fer";var m$E="live";m$E+="Bu";m$E+="fferLevel";return f > p && m > q?{complete:!0,reason:m$E}:{complete:!1,GN:q,nb:f,bitrate:p,reason:X4v};break;case 18:S$X=d.aa?17:16;break;case 28:p=d.Ja.get(n);L9p.W5F(11);var J8E=L9p.a_S(6,2,9,9);v=J8E * v * k / f - p.Ka.G - q;S$X=43;break;case 7:L9p.W5F(12);var X8w=L9p.L_B(1,12,16,5);q=n.yr * (p?n.hva:X8w);!d.aa && n.fFb && d.Bb && d.Bb.rh && d.Bb.rh.Ca > n.gra && (q+=n.aia + d.Bb.rh.Ca * n.Vta);g && !d.aa && (q+=g.qv * n.bia);q=u?Math.min(u,q):q;S$X=12;break;case 41:v=p.offset;S$X=40;break;case 33:v=d.Ja.vi(n);L9p.J3t(12);var m3P=L9p.L_B(1,3,20,25);q=m3P * w * k / f - l.Dd;p=void 0;S$X=30;break;case 43:S$X=0 < v?42:41;break;}}function h(y){var P6o;P6o=2;for(;P6o !== 7;){switch(P6o){case 1:return 0;break;case 5:y=d.Ja.Cma(l.Dd + y,void 0,!0);P6o=4;break;case 4:P6o=void 0 === y?3:9;break;case 9:y=d.Ja.get(y.index);return (t - l.Br) / (t + (y.offset + y.wa) - w);break;case 2:P6o=!d.Ja?1:5;break;case 3:return 0;break;}}}};break;}}})();b["default"]={checkBuffering:r};},95711:function(r,b,a){function c(f,k){return f && f.Gv && (k || !1 !== f.Dp);}function l(f,k,d){return "number" === typeof f?Math.min(Math.max(f,k),d):k;}Object.defineProperties(b,{__esModule:{value:!0}});b.dUa=b.Z6a=b.f5=b.uK=b.oPb=b.LPb=b.Gi=b.T=void 0;r=a(12043);b.T=new r.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");b.Gi=(function(){function f(k){if(!(this instanceof f))return new f(k);this.Fd=k;}return f;})();b.LPb=c;b.oPb=function(f,k){return !f.slice(k + 1).some(function(d){return c(d);});};b.uK=l;b.f5=function(f,k,d){var n,h,m,p;function g(q){var u;u=f[q];return !u.Gv || d && !d(u,q)?!1:!0;}h=f.length;m=0;p=h;Array.isArray(k) && (m=l(k[0],0,h),p=l(k[1],0,h),k=null !== (n=k[2]) && void 0 !== n?n:m + 1);k=l(k,m + 1,p);for(n=k - 1;n >= m;--n){if(g(n))return n;}for(n=k + 1;n < p;++n){if(g(n))return n;}return -1;};b.Z6a=function(f,k){return Math.floor(f / (125 * k) * 1E3);};b.dUa=function(f,k){return Math.ceil(f / 1E3 * k * 125);};},35548:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.hJ=b.iQ=b.job=b.sQ=void 0;c=a(74976);Object.defineProperties(b,{sQ:{enumerable:!0,get:function(){return c.sQ;}}});l=a(17329);Object.defineProperties(b,{job:{enumerable:!0,get:function(){return l.W0;}}});f=a(75449);Object.defineProperties(b,{iQ:{enumerable:!0,get:function(){return f.iQ;}}});k=a(84585);Object.defineProperties(b,{hJ:{enumerable:!0,get:function(){return k.hJ;}}});},84585:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hJ=void 0;c=a(5163);r=(function(){function l(f,k,d){var g,n,h;this.Sp=f;"HYBRID" === f?this.QL=d:"CCSP" === f && (this.qz=null !== (g=k.qz) && void 0 !== g?g:0,this.Rx=null !== (n=k.Rx) && void 0 !== n?n:0,this.dz=null !== (h=k.dz) && void 0 !== h?h:0);}Object.defineProperties(l.prototype,{t$a:{get:function(){var f;return "HYBRID" === this.Sp?[null !== (f=this.QL.Kt) && void 0 !== f?f:0]:"CCSP" === this.Sp?[this.qz,this.Rx,this.dz]:[];},enumerable:!1,configurable:!0}});l.prototype.K6a=function(){return Math.min(this.qz,this.Rx,this.dz);};l.prototype.c7=function(){return this.t$a.some(function(f){return 0 < f;});};l.prototype.nwa=function(f){return new l(this.Sp,{qz:f * this.qz,Rx:f * this.Rx,dz:f * this.dz});};l.prototype.Dra=function(f,k,d,g){var n;n=8 * f / Math.max(d - k,1);if(!this.c7())return !1;f=this.t$a.map(function(h){return Math.abs(n - h) / h;});return Math.min.apply(Math,c.__spreadArray([],c.__read(f),!1)) < g;};return l;})();b.hJ=r;},75449:function(r,b,a){var u,t,w;function c(v){return f(v.Fd);}function l(v,y){var x,z,A,B,C;A=k(y.P_b,v.ug,null !== (z=null === (x=v.Fd.Bb) || void 0 === x?void 0:x.confidence) && void 0 !== z?z:u.Yw.HAVE_NOTHING);if(0 === A.length)return 0;a:switch(y.FWb){case "implicit":y=q(y,v.Fd);y=v.XE / y;break a;case "capacityPercentage":y=Math.max(v.Wvb / v.Vvb || 0,v.XE / y.HG);break a;default:y=0;}z=-1;for(x=0;x < A.length;x++){if(A[x].g3 >= y){z=x;break;}}if(-1 === z)return d(v,A[A.length - 1].aka);if(0 === z)return d(v,A[0].aka);B=A[z - 1].g3;x=d(v,A[z - 1].aka);C=A[z].g3;v=d(v,A[z].aka);A=Math.min((y - B) / (C - B),1);return (1 - A) * x + A * v;}function f(v){var y,x;x=null === (y=null === v || void 0 === v?void 0:v.ma) || void 0 === y?void 0:y.sM;return x?x[v.mediaType] || 0:0;}function k(v,y,x){var A;function z(B,C){return void 0 !== B && 0 < B.filter(function(D){return D === C;}).length;}A=v.filter(function(B){return z(B.y9,y);});0 === A.length && (A=v.filter(function(B){return !B.y9 || 0 === B.y9.length;}));v=A.filter(function(B){return z(B.h7a,x);});0 === v.length && (v=A.filter(function(B){return !B.h7a || 0 === B.h7a.length;}));return v.sort(function(B,C){return B.g3 - C.g3;});}function d(v,y){var x,z,A,B;if(!y || "object" !== typeof y)return 0;x=v.Fd;z=v.u8b;A=v.G6b;B={selectedFragmentBitrate:g(v.q5,x,v.Fe) * v.playbackRate,selectedPeakBitrate:(x.wr || n(x) || 0) * v.playbackRate,upswitchPeakBitrate:(z.wr || n(z) || 0) * v.playbackRate,maxPeakBitrate:(A.wr || n(A) || 0) * v.playbackRate,selectedAverageBitrate:n(x) * v.playbackRate,upswitchAverageBitrate:n(z) * v.playbackRate,maxAverageBitrate:f(x) * v.playbackRate,bufferLevelMs:v.XE,observedThroughput:h(v.Fd) || 0,averagetp:m(v.Fd) || 0,stddevtp:p(v.Fd) || 0};v=y.offset || 0;return Object.keys(B).reduce(function(C,D){return C + (y[D] || 0) * B[D];},v);}function g(v,y,x){var z;return void 0 !== x && y.Ja?(void 0 === v?null === (z=y.Ja) || void 0 === z?void 0:z.get(x).Wia:v.c0a(y,x).Wia) || y.wr || 0:y.wr || 0;}function n(v){return (null === v || void 0 === v?void 0:v.bitrate) || 0;}function h(v){var y;v=v.Bb;return (null === (y=null === v || void 0 === v?void 0:v.nb) || void 0 === y?void 0:y.Ca) || 0;}function m(v){var y;v=v.Bb;return (null === (y=null === v || void 0 === v?void 0:v.Jm) || void 0 === y?void 0:y.hK) || 0;}function p(v){var y;v=v.Bb;return Math.sqrt((null === (y=null === v || void 0 === v?void 0:v.Jm) || void 0 === y?void 0:y.LO) || 0);}function q(v,y){var x,z;x=v.R5b;x=m(y) + x * p(y);y=y.nb || 0;z=0;0 < y && (z=x / y - 1);return v.ATb + v.Q5b * Math.max(0,z);}Object.defineProperties(b,{__esModule:{value:!0}});b.$Jb=b.SKb=b.dJb=b.iQ=void 0;r=a(12043);u=a(27364);t=a(84585);new r.platform.Console("ASEJS_PACERATE_SELECTOR","media|asejs");w={maxStreamBitrate:c,"static":function(v,y){return y.ddb;},none:function(){return 0;},regression:l,epsGreedy:function(v,y){return Math.min(l(v,y) || 0,h(v.Fd));},"default":c};a=(function(){var u0k;u0k=2;for(;u0k !== 9;){switch(u0k){case 2:v.prototype.a_a=function(y,x){var D3B,z,A,B;D3B=2;for(;D3B !== 6;){switch(D3B){case 5:var n2v="H";n2v+="Y";n2v+="B";n2v+="RI";n2v+="D";D3B=n2v === this.Sp?4:7;break;case 2:A=this.W.z3;x=null === (z=x.MRb) || void 0 === z?void 0:z.wr;D3B=5;break;case 9:B=new t.hJ(this.Sp,void 0,{DNb:1,Kt:z,zja:Number(this.W.zja),RSb:this.W.FSb,Hva:Number(this.W.Hva)});D3B=8;break;case 4:z=y;this.W.z3 && (z=this.H5(y,A.bva[0],x));D3B=9;break;case 8:return B;break;case 7:var r16="C";r16+="C";r16+="SP";r16 === this.Sp && (B=new t.hJ(this.Sp,A?{qz:this.H5(y,A.bva[0],x),Rx:this.H5(y,A.bva[1],x),dz:this.H5(y,A.bva[2],x)}:{qz:0,Rx:0,dz:0},void 0));D3B=8;break;}}};v.prototype.XKb=function(y){var U$l,x,z;U$l=2;for(;U$l !== 5;){switch(U$l){case 2:var H58="s";H58+="ta";H58+="t";H58+="i";H58+="c";var q7x="C";q7x+="C";q7x+="S";q7x+="P";var Z6d="H";Z6d+="Y";Z6d+="BR";Z6d+="ID";z=null === (x=y.Fd) || void 0 === x?void 0:x.mediaType;return Z6d !== this.Sp || this.W.MEb?q7x === this.Sp && (z === u.u.fa && !this.W.KEb || z === u.u.Y && !this.W.LEb)?0:H58 === this.W.DWb?this.W.ddb:f(y.Fd):0;break;}}};v.prototype.H5=function(y,x,z){var V_u=A9tfv;var c$E;c$E=2;for(;c$E !== 3;){switch(c$E){case 4:return y < (this.W.z3.phc || 0) * (z || 0)?0:y;break;case 8:c$E=-x?2:9;break;case 1:return 0;break;case 5:V_u.J3t(13);y=Math.ceil(V_u.a_S(x,y));c$E=4;break;case 6:V_u.J3t(14);y=Math.ceil(V_u.a_S(y,x));c$E=2;break;case 2:c$E=!x?1:5;break;}}};v.prototype.YKb=function(y){var I6W,x,z,A;I6W=2;for(;I6W !== 7;){switch(I6W){case 3:return x;break;case 9:x=y.so?this.algorithm(y,this.W):this.XKb(y);return this.a_a(x,y);break;case 4:I6W=!this.Sp || !A || !z || (A=this.W.u7b) && y.Fe && 0 === y.Fe % A || y.XE < z.jC?3:9;break;case 2:(z=null === (x=y.Fd) || void 0 === x?void 0:x.mediaType,A=this.W.H4 || z === u.u.fa && this.W.E4 || z === u.u.Y && this.W.F4);x=this.a_a(0,y);z=this.W.z3;I6W=4;break;}}};return v;break;}}function v(y,x){var W5l;W5l=2;for(;W5l !== 7;){switch(W5l){case 8:var x6V="C";x6V+="C";x6V+="S";x6V+="P";this.Sp=x6V;W5l=7;break;case 9:W5l=y.F4 || y.E4 || y.Kla?8:7;break;case 3:var u4M="H";u4M+="YBRI";u4M+="D";this.Sp=u4M;W5l=7;break;case 4:W5l=y.H4?3:9;break;case 1:var W1G="def";W1G+="a";W1G+="u";W1G+="l";W1G+="t";var A$Y="1SIYb";A$Y+="ZrNJ";A$Y+="Cp9";A$Y;this.algorithm=(w[x === u.u.fa?this.W.CWb:this.W.BWb] || w[W1G]).bind(this);W5l=4;break;case 2:this.W=y;W5l=1;break;}}}})();b.iQ=a;b.dJb=k;b.SKb=h;b.$Jb=q;},71888:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);c=a(42866);l=r.__importDefault(a(77613));f=a(27364);k=r.__importDefault(a(51835));d=a(95711);a=r.__read((function(){function g(h,m){var v$d,p;v$d=2;for(;v$d !== 4;){switch(v$d){case 2:m.some(function(q){var w$Z,u;w$Z=2;for(;w$Z !== 4;){switch(w$Z){case 2:u=q.profiles;(u=u && 0 <= u.indexOf(h)) && (p=q.override);return u;break;}}});return p;break;}}}function n(h,m,p,q,u,t){var H8j;H8j=2;for(;H8j !== 1;){switch(H8j){case 2:return t && h > u.Hy && (void 0 === p || Number(m) > p || q - p > u.iV);break;}}}var r5V;r5V=2;for(;r5V !== 5;){switch(r5V){case 2:var C$5="1SI";C$5+="YbZ";C$5+="rNJ";C$5+="Cp9";C$5;return [function(h,m,p,q){var s8d,u,t;s8d=2;for(;s8d !== 9;){switch(s8d){case 4:(u={minInitAudioBitrate:h.n8,maxInitAudioBitrate:h.T7,minRequiredAudioBuffer:h.p8},(0,l.default)(t,u));s8d=3;break;case 5:s8d=(t=h && h.WX && 0 <= h.WX.indexOf(t)?g(t,h.Rdb):g(t,h.$ub))?4:3;break;case 2:(u=h,t=p.first);t=(q || t[0]).Cd;s8d=5;break;case 3:return k.default[f.Tb[f.Tb.rs]](u,m,p,q);break;}}},function(h,m,p,q){var F5e,u,t,w,B,v,y,x,z,A;F5e=2;for(;F5e !== 33;){switch(F5e){case 19:F5e=z && x < p.WDb * y * m.playbackRate?18:26;break;case 2:var Z8M="Must ";Z8M+="have at least o";Z8M+="ne selected stre";Z8M+="am";u=p.first;(0,c.assert)(q,Z8M);(t=q.Cd,w=q.aa);F5e=4;break;case 35:A=z;F5e=20;break;case 10:A=0;F5e=20;break;case 17:F5e=0 <= w?16:20;break;case 4:F5e=!(h && h.WX && 0 <= h.WX.indexOf(t))?3:9;break;case 23:F5e=(q.Ja && q.Ja.length || w) && n(B,this.Gqa,this.gM,y.qn,p,!!m.UB)?22:20;break;case 3:return new d.Gi(q);break;case 27:w--;F5e=17;break;case 25:y=m.buffer;B=y.Fl - y.Dd;F5e=23;break;case 26:F5e=z < v.length - 1 && x > p.B7b * y * m.playbackRate?25:20;break;case 9:h.Rdb.some(function(C){var i9U,D,F,G,E,I,M;i9U=2;for(;i9U !== 9;){switch(i9U){case 2:(D=C.profiles,F=D && 0 <= D.indexOf(t));i9U=1;break;case 1:i9U=F?5:3;break;case 6:i9U=F?3:6;break;case 5:(G=(C=C.iW) && C.p8 || h.p8,E=C && C.Mhc || -Infinity,I=C && C.uhc || Infinity,M=m.buffer.bF || Infinity);i9U=4;break;case 4:v=u.filter(function(L){var m9$,K;m9$=2;for(;m9$ !== 5;){switch(m9$){case 2:K=L.bitrate;return K >= E && K <= I && 0 <= D.indexOf(L.Cd) && K * G / 8 < M;break;}}});i9U=3;break;case 3:return F;break;}}});p=q;F5e=6;break;case 21:F5e=(w=v[z],w.zy && x > p.B7b * w.bitrate * m.playbackRate)?35:22;break;case 14:(y=q.bitrate,x=p=void 0);w?(p=h.dvb,x=Math.max(.1,1 - h.ceb) * Math.pow(Math.min(1,(m.buffer.Fl - m.buffer.Dd) / h.BG),h.beb),x=q.Bb?q.Bb.nb.Ca * x:0):(p=h.cvb,x=q.nb || 0);(z=(0,c.Bm)(v,function(C){var r8u;r8u=2;for(;r8u !== 1;){switch(r8u){case 2:return C.isEqual(q);break;}}}),A=z);F5e=11;break;case 6:F5e=v && 1 < v.length?14:34;break;case 18:A9tfv.J3t(3);w=A9tfv.a_S(1,z);F5e=17;break;case 11:F5e=0 > z?10:19;break;case 34:return new d.Gi(p);break;case 15:A=w;F5e=20;break;case 16:F5e=(z=v[w],z.zy && (0 === w || z.bitrate * m.playbackRate * p.WDb < x))?15:27;break;case 20:p=v[A];F5e=34;break;case 22:F5e=++z < v.length?21:20;break;}}}];break;}}})(),2);r=a[1];b["default"]={STARTING:a[0],BUFFERING:r,REBUFFERING:r,PLAYING:r,PAUSED:r};},51835:function(r,b,a){var f,k;function c(d,g,n,h){(0,f.assert)(h,"Must have at least one selected stream");return new k.Gi(h);}function l(d,g,n,h){(0,f.assert)(h,"Must have at least one selected stream");return new k.Gi(h);}Object.defineProperties(b,{__esModule:{value:!0}});f=a(42866);k=a(95711);b["default"]={STARTING:function(d,g,n){var h,m,q,u,t,w,v;h=new k.Gi();m=d.Nub || 1;n=n.first;for(var p=n.length - 1;0 <= p;--p){q=void 0;u=n[p];t=u.bitrate;w=u.nb || 0;v=!!w;u.Gv?(u=null !== (q=d.T7) && void 0 !== q?q:Infinity,q=t > u || !(t * d.p8 / 8 < (g.buffer.bF || Infinity))?!1:v?t * g.playbackRate < w / m?!0:!1:t <= d.n8?!0:!1):q=!1;if(q){h.Fd=n[p];break;}n[p].zy && (h.Fd=n[p]);}return h;},BUFFERING:c,REBUFFERING:c,PLAYING:l,PAUSED:l};},11877:function(r,b,a){var l,f,k,d;function c(g,n,h,m){g=h.first;if(l.co(m))m=g[k(g)];else if(!m.zy && (n=f(g,function(p){return p.isEqual(m);}),m=g[k(g,n)],void 0 === m))return null;return new d(m);}l=a(17267);b=a(95711);f=a(42866).Bm;k=b.f5;d=b.Gi;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},18753:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(37353);b["default"]={PLAYING:r.Zl,PAUSED:r.Zl};},37353:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Zl=void 0;r=a(5163);c=r.__importStar(a(17267));l=a(12043);f=a(42866);k=a(95711);d=r.__importDefault(a(9498));g=a(35195);b.Zl=n;(function(){var U11;U11=2;for(;U11 !== 5;){switch(U11){case 2:var u4R="1S";u4R+="I";u4R+="YbZrNJCp9";b.Zl=n=function(h,m,p,q,u,t,w){var N03,C,O,D,F,G,v,y,x,z,A,B,E,I,M,L,K;N03=2;for(;N03 !== 66;){switch(N03){case 49:K=m.Fe;N03=48;break;case 40:C.push(E.max);N03=39;break;case 60:return z;break;case 55:N03=B < y.length?77:73;break;case 13:B >= y.length && (B=y.length - 1);C=y[B].f;N03=11;break;case 19:z.Fd=x[y[A].Pic];N03=18;break;case 53:N03=K < Math.min(K + h.gvb,M.length)?52:49;break;case 43:C.push(E.jn);C.push(E.Rp);N03=41;break;case 69:v=B;N03=73;break;case 18:N03=h.kFb?17:60;break;case 71:N03=0 <= B?70:73;break;case 52:O=M.get(K);I.push({d:O.Ld.G,b:O.wa});N03=50;break;case 56:B+=1;N03=55;break;case 41:C.push(E.Cta);N03=40;break;case 17:p=z.Fd;u=[];t=m.buffer;N03=26;break;case 73:A=v;N03=20;break;case 36:N03=void 0 !== M?54:45;break;case 10:A=B;N03=20;break;case 67:B--;N03=71;break;case 31:N03=v.Bb && v.Bb.tdigest?30:39;break;case 58:v=void 0;N03=57;break;case 11:N03=C === A?10:58;break;case 47:L+=M.get(K).Ld.G;N03=46;break;case 7:return d.default.PLAYING.call(this,h,m,p,q,u,t,w);break;case 59:return d.default.PLAYING.call(this,h,m,p,q,u,t,w);break;case 70:N03=y[B].f === A?69:68;break;case 35:v=x[A];B=void 0;C=[];v.Bb && v.Bb.throughput && (B=v.Bb.throughput.Ca);N03=31;break;case 72:--B;N03=71;break;case 2:var m_x="pl";m_x+="ayer missing fragme";m_x+="ntIndex";var G7N="Must have ";G7N+="a selec";G7N+="ted stream for selectPlaying";(0,f.assert)(q,G7N);(0,f.assert)(c.Rb(m.Fe),m_x);(y=h.Y4b,x=p.first,z=new k.Gi(q),A=null !== (v=m.Fe) && void 0 !== v?v:-1);v=y[0].f;B=y[y.length - 1].f;N03=8;break;case 30:E=v.Bb.tdigest;C.push(E.min);C.push(E.Bta);C.push(E.Qp);N03=43;break;case 39:E=void 0;v.Bb && v.Bb.tputTrace && (E=v.Bb.tputTrace);(I=[],M=v.Ja,L=0);N03=36;break;case 76:v=B;N03=73;break;case 6:A9tfv.J3t(3);B=A9tfv.a_S(v,A);0 > B && (B=0);N03=13;break;case 54:K=m.Fe;N03=53;break;case 45:M=void 0;m.bwb && (M=l.platform.time.xa() - m.bwb);u.push({Fe:m.Fe,Mjc:M,Bhc:L,Fec:B,Jjc:C,Ljc:E,YTa:t,WZa:w,afc:I,hhc:q.bitrate,ihc:null !== (D=q.xb) && void 0 !== D?D:0,lfc:v.bitrate,mfc:null !== (F=v.xb) && void 0 !== F?F:0,djc:p.bitrate,ejc:null !== (G=p.xb) && void 0 !== G?G:0,W6:y});v === p && (y=!1);N03=62;break;case 62:A++;N03=21;break;case 22:A=0;N03=21;break;case 20:N03=void 0 !== A?19:59;break;case 68:N03=y[B].f < A?73:67;break;case 61:z.Cec=u;N03=60;break;case 50:K++;N03=53;break;case 8:N03=A < v || A > B?7:6;break;case 75:N03=y[B].f > A?73:74;break;case 21:N03=A < x.length?35:61;break;case 74:B++;N03=55;break;case 57:N03=C < A?56:72;break;case 26:t=t.Fl - t.Dd;w=g.mq.wWa(m.buffer.Ja);w=m.buffer.bF - w.wa;y=!0;N03=22;break;case 48:N03=K < M.length?47:45;break;case 46:K++;N03=48;break;case 77:N03=y[B].f === A?76:75;break;}}};u4R;U11=5;break;}}})();},53008:function(r,b,a){var l;function c(f,k,d){f=d.first;return new l(f[f.length - 1]);}a(17267);l=a(95711).Gi;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},96361:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(77175);b["default"]={PLAYING:r.Zl,PAUSED:r.Zl};},77175:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Zl=void 0;c=a(42866);l=a(95711);b.Zl=f;(function(){var u_I;u_I=2;for(;u_I !== 5;){switch(u_I){case 2:var I$N="1SIY";I$N+="bZrN";I$N+="JCp";I$N+="9";b.Zl=f=function(k,d,g,n){var a0K,u,t,w,q,h,m,p;a0K=2;for(;a0K !== 19;){switch(a0K){case 10:var j8H="Strea";j8H+="m has no ";j8H+="throughput st";j8H+="atistics";l.T.warn(j8H);a0K=11;break;case 13:a0K=t * d.playbackRate < u * q && w?12:11;break;case 20:return m;break;case 7:a0K=-1 < k?6:20;break;case 8:m.Fd=g[0];a0K=7;break;case 14:(u=p.Bb.nb.Ca,t=p.bitrate,w=p.HW(null !== (h=d.Fe) && void 0 !== h?h:-1));a0K=13;break;case 4:g=g.first;A9tfv.J3t(11);var D21=A9tfv.L_B(8,9,5,21);q=k.ceb * Math.pow(Math.min(D21,(d.buffer.Fl - d.buffer.Dd) / k.BG),k.beb);void 0 === this.gM || p - this.gM > k.iV?k=g.length - 1:(k=(0,c.Bm)(g,function(v){var N7$;N7$=2;for(;N7$ !== 1;){switch(N7$){case 2:return v.isEqual(n);break;case 4:return v.isEqual(n);break;}}}),k=(g.length + k) % g.length);a0K=8;break;case 11:--k;a0K=7;break;case 2:var p33="Must";p33+=" have at least one selecte";p33+="d ";p33+="stream";(0,c.assert)(n,p33);(m=new l.Gi(n),p=d.buffer.qn);a0K=4;break;case 12:m.Fd=p;a0K=20;break;case 6:a0K=(p=g[k],p.Bb && p.Bb.nb)?14:10;break;}}};I$N;u_I=5;break;}}})();},42102:function(r,b,a){var l;function c(f,k,d){return new l(d.first[0]);}a(17267);l=a(95711).Gi;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},9498:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(496);c=a(78501);a=a(17468);b["default"]={STARTING:a.rbb,BUFFERING:r.H$,REBUFFERING:r.H$,PLAYING:c.Zl,PAUSED:c.Zl};},496:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.H$=void 0;c=a(42866);l=a(95711);f=a(78501);b.H$=k;(function(){var z2Y;z2Y=2;for(;z2Y !== 5;){switch(z2Y){case 2:var k6n="1";k6n+="SIYbZr";k6n+="NJ";k6n+="Cp9";b.H$=k=function(g,n,h,m,p,q,u){var d5i;d5i=2;for(;d5i !== 1;){switch(d5i){case 2:var h9g="pl";h9g+="ayi";h9g+="n";h9g+="g";return h9g === g.dja?f.Zl.call(this,g,n,h,m,p,q,u):d.call(this,g,n,h,m);break;}}};k6n;z2Y=5;break;}}function d(g,n,h,m){var I7C,v,t,q,u,w;I7C=2;function p(y){var Y2E,x;Y2E=2;for(;Y2E !== 8;){switch(Y2E){case 5:return !1;break;case 1:Y2E=!x || (y.bitrate > u?g.t8b:1) * y.bitrate * n.playbackRate > x?5:4;break;case 9:return !0;break;case 4:var l9m="buf";l9m+="f_";l9m+="lt_h";l9m+="ist";w=l9m;v=x;Y2E=9;break;case 2:x=y.nb;Y2E=1;break;}}}for(;I7C !== 16;){switch(I7C){case 20:q=new l.Gi();q.Fd=m;h.Gb !== m.Gb && (q.reason=w,q.py=v);return q;break;case 11:v=null === m || void 0 === m?void 0:m.nb;I7C=20;break;case 10:var B_R="s";B_R+="el";B_R+="ec";B_R+="t_feasible_bu";B_R+="ffering";w=B_R;I7C=11;break;case 3:t=void 0;t=(0,c.Bm)(q,function(y){var u7W;u7W=2;for(;u7W !== 1;){switch(u7W){case 2:return y.isEqual(m);break;case 4:return y.isEqual(m);break;}}});t=Math.max(t,0);I7C=7;break;case 4:I7C=m.nb?3:20;break;case 2:var v_H="M";v_H+="ust ha";v_H+="ve at least ";v_H+="one selected stream";(0,c.assert)(m,v_H);(q=h.first,u=m.bitrate);h=m;I7C=4;break;case 7:t=Math.min(t + (g.Ntb?2:1),q.length);m=(0,c.tc)(q.slice(0,t).reverse(),p);I7C=14;break;case 14:I7C=void 0 === m?13:10;break;case 13:m=q[0];I7C=12;break;case 12:var U2i="fallback_lowest_accep";U2i+="ta";U2i+="bl";U2i+="e_stream";w=U2i;I7C=11;break;}}}})();},78501:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Dla=b.W6=b.Zl=void 0;r=a(5163);l=r.__importStar(a(17267));f=a(42866);k=a(35195);d=a(95711);g=r.__importDefault(a(22774));n=a(27364);h=a(11983);b.Zl=(c=(function(){var M7q;M7q=2;for(;M7q !== 5;){switch(M7q){case 2:var l0B="1";l0B+="SI";l0B+="YbZr";l0B+="NJCp";l0B+="9";l0B;return {W6:m,Zl:function(q,u,t,w,v,y,x){var d4p=A9tfv;var C7V,A,B,C,D,F,G,E,I,M,L,K,O,H,J,N,R,T,z;C7V=2;for(;C7V !== 15;){switch(C7V){case 8:var x9Z="Selected stream";x9Z+=" not ";x9Z+="found in stream list";(A=t.first,B=new d.Gi(),C=w,D=(0,f.Bm)(A,function(ka){var i1O;i1O=2;for(;i1O !== 1;){switch(i1O){case 2:return ka.isEqual(w);break;}}}));d4p.J3t(15);(0,f.assert)(d4p.L_B(D,0),x9Z);(F=u.buffer.gb,G=u.buffer.Dd,E=u.buffer.qn,I=u.buffer.Fl,M=u.Fe);C7V=14;break;case 14:d4p.W5F(3);v=d4p.a_S(G,I);(L=u.state === n.Tb.Oe || u.state === n.Tb.Rh?u.buffer.Br:0,K=q.uM,O=null !== (z=q.Iy) && void 0 !== z?z:1E3);t.Vma(function(ka,sa,ia){var h5H,wa;h5H=2;for(;h5H !== 5;){switch(h5H){case 2:void 0 !== ia && (ka=ka[ia],null !== (wa=ka.Ja) && void 0 !== wa && wa.length || (ka.rz=!0));h5H=5;break;}}});(J=k.mq.wWa(u.buffer.Ja),N=u.buffer.bF - J.wa);C7V=10;break;case 17:B.Fd=w || C;return B;break;case 4:var T6I="n";T6I+="um";T6I+="be";T6I+="r";var c3f="nu";c3f+="m";c3f+="be";c3f+="r";var d4F="inval";d4F+="id pl";d4F+="ayer f";d4F+="ragme";d4F+="ntIndex";(0,f.assert)(l.Rb(u.Fe),d4F);(0,f.assert)(c3f === typeof u.buffer.bF);(0,f.assert)(T6I === typeof u.y4);C7V=8;break;case 10:z=(q.uxa || x) && v >= q.Aza?A.length:D + 2;(R=(function(ka){var G9E,I4i;G9E=2;for(;G9E !== 4;){switch(G9E){case 3:G9E=5;break;case 2:var v_7="va";v_7+="ri";v_7+="a";v_7+="bl";v_7+="e";I4i=q.sxa;G9E=I4i === v_7?1:3;break;case 1:return A.slice(0,ka).map(function(sa){var z5I;z5I=2;for(;z5I !== 1;){switch(z5I){case 4:return [p(q,u.buffer.bF,sa),1];break;case 2:return [p(q,u.buffer.bF,sa),0];break;}}});break;case 5:return A.slice(0,ka).map(function(sa,ia){var x_1;x_1=2;for(;x_1 !== 1;){switch(x_1){case 2:return ia < D?[q.cpa,q.kra]:ia === D?[q.bpa,q.jra]:[q.dpa,q.lra];break;}}});break;case 13:G9E=1;break;}}})(z),T=A.slice(0,z).map(function(ka,sa){var P4K,ia;P4K=2;for(;P4K !== 5;){switch(P4K){case 2:d4p.J3t(16);ia=d4p.a_S(D,sa);return function(){var Y3F,wa,Aa,La,Ya,ab,aa,oa,Ga,Sa;Y3F=2;for(;Y3F !== 5;){switch(Y3F){case 2:a:{d4p.W5F(3);wa=Math.max(d4p.L_B(1,sa),0);Aa=R[sa][1];La=u.playbackRate;Ya=t.woa(sa,M,R[sa][0]);ab=Ya.uya;Ya=Ya.Lxa;d4p.W5F(0);Aa=t.woa(wa,d4p.L_B(M,ab),Aa);wa=Aa.uya;aa=Aa.Lxa;Aa=Ya[0].stream;oa=Aa.nb || 0;Ga=Aa.Ja && Aa.Ja.length;Sa=x?q.wGb:Ga?q.X4:q.xGb;Sa=ia?q.yma:Sa;if(H && !H.Y4 && H.nb >= oa && H.bitrate <= Aa.bitrate){ab=!1;}else {ia || Ga || (Aa.rz=!0);if(!ia || !Ga)if(Ga && !q.saa){if(oa >= Math.max(Aa.wr * La,Aa.bitrate * La * Sa) && Aa.Dp){ab=!0;break a;}}else if(oa >= Aa.bitrate * La * Sa){ab=!0;break a;}La=!q.qka || Aa === C || Aa.Ub === C.Ub && y?0:(La=Aa.Bb) && La.rh && La.rh.Ca?La.rh.Ca + q.mka * (La.rh.Ke?Math.sqrt(La.rh.Ke):0):0;(ab=m(q,A,Ya,aa,J,G + La - F,K,I - F,E - F,M,J.length,L,N,ab,wa,O,u.y4,u.playbackRate)) && ab.result && (B.qhc=ab.mV);H={Y4:ab && ab.result,nb:oa,bitrate:Aa.bitrate};ab=ab && ab.result;}}return ab;break;}}};break;}}}));(0,f.assert)(T.length === R.length);T[D]()?D + 1 < A.length && v > q.Hy && (void 0 === this.gM || this.Gqa && this.Gqa > this.gM || E - this.gM > q.iV && v > q.ora) && (w=(0,f.wia)(A.slice(D + 1,z),function(ka,sa){var i_G;i_G=2;for(;i_G !== 1;){switch(i_G){case 2:return T[D + 1 + sa]();break;}}})):w.Ja && w.Ja.length && ((w=(0,f.wia)(A.slice(0,D),function(ka,sa){var K_A;K_A=2;for(;K_A !== 1;){switch(K_A){case 2:return T[sa]();break;}}})) || (w=A[0]));C7V=17;break;case 2:var G2q="Must";G2q+=" have a ";G2q+="selected stream";(0,f.assert)(w,G2q);void 0 === u.Fe && (u.Fe=0);C7V=4;break;}}},Dla:p};break;}}function m(q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,I,M,L){var C4M,H,J,N,R,K,O,T;C4M=2;for(;C4M !== 17;){switch(C4M){case 14:return !1;break;case 4:var E1r="Firs";E1r+="t s";E1r+="t";E1r+="ream undefined";(0,f.assert)(u,E1r);C4M=3;break;case 6:C4M=!K || K < u.bitrate * L * q.apa || !N?14:13;break;case 3:K=u.nb;(H=z - y,J=v.length,N=u.Ja && u.Ja.length,R=(null === O || void 0 === O?void 0:O.Ja) && (null === O || void 0 === O?void 0:O.Ja.length));A9tfv.W5F(9);(0,f.assert)(A9tfv.L_B(J,C));q.qra && (I=Math.min(I,H));C4M=6;break;case 11:G=Math.max(0,Math.min(G,u.Ja.length - B));E=Math.max(0,Math.min(E,O.Ja.length - B - G));C4M=20;break;case 2:u=t[0].stream;O=null === (K=w[0]) || void 0 === K?void 0:K.stream;C4M=4;break;case 20:t.forEach(function(ka){var V8z,sa,ia;V8z=2;for(;V8z !== 4;){switch(V8z){case 2:(sa=ka.stream,ia=ka.blocks);ka=ka.Fe;l.Rb(ka) && sa.Ja && T.add(sa.Ja.Mr.subarray(ka,ka + ia));V8z=4;break;}}});w.forEach(function(ka){var b$W,sa,ia;b$W=2;for(;b$W !== 4;){switch(b$W){case 2:(sa=ka.stream,ia=ka.blocks);ka=ka.Fe;0 < E && l.Rb(ka) && sa.Ja && T.add(sa.Ja.Mr.subarray(ka,ka + ia));b$W=4;break;}}});return 0 < G || 0 < E?(0,g.default)({RHb:T,blocks:C + G + E,Dd:y,Fl:z,b4b:x,Br:D,qn:A,Fe:C,qHb:C + G,y4:M,WZa:F,nb:K / L,uTb:I,jC:q.jC,TPb:q.saa,IEb:!1}):K > u.wr?{result:!0,mV:0,Dp:!0}:{result:!1,mV:0,Dp:!0};break;case 13:R || (O=u);T=new h.sNa(v);C4M=11;break;}}}function p(q,u,t){var r7E,w;r7E=2;for(;r7E !== 3;){switch(r7E){case 1:return q.M6a;break;case 5:w=(t.jya || t.nb) / t.nb;return 1 >= w?q.Lra:Math.min(Math.max((q.X3b * Math.min(8 * u / t.bitrate,q.HG) - q.Iy) / (w - 1),q.M6a),q.Lra);break;case 2:r7E=!t.nb?1:5;break;case 8:r7E=+t.nb?3:7;break;}}}})(),c.Zl);b.W6=c.W6;b.Dla=c.Dla;},17468:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.hPb=b.rbb=void 0;r=a(5163);c=r.__importStar(a(17267));l=a(42866);f=a(12043);k=a(65877);r=r.__importStar(a(53265));d=a(95711);g=r.Dcb;a=(function(){function t(v,y,x){var y2M,z,A;y2M=2;for(;y2M !== 4;){switch(y2M){case 5:return z;break;case 2:(z=new d.Gi(),A=Math.max(v.Gt,v.j8));z.Fd=(0,l.tc)(x.filter(function(B){var D0W;D0W=2;for(;D0W !== 1;){switch(D0W){case 2:return B.bitrate <= v.My;break;}}}).reverse(),function(B){var V75,D,C;V75=2;for(;V75 !== 6;){switch(V75){case 5:V75=(B=B.bitrate * y.playbackRate,C)?4:8;break;case 1:V75=B.bitrate > A?5:7;break;case 4:D=m(v,B);V75=3;break;case 9:return C;break;case 2:C=B.nb;V75=1;break;case 3:var E8H="hist_buff";E8H+="t";E8H+="i";E8H+="me";h(B,C,v) <= D?(z.py=C,z.reason=E8H,C=!0):C=!1;V75=9;break;case 8:C=!1;V75=9;break;case 7:var d$P="no_historic";d$P+="al_lte_mi";d$P+="nbi";d$P+="tra";d$P+="te";var s3B="his";s3B+="t";s3B+="_tput_lt";s3B+="_m";s3B+="inbitrate";var A_Q="l";A_Q+="t_hist_lte";A_Q+="_minbitrate";C && B.bitrate * y.playbackRate <= C?(z.py=C,z.reason=A_Q,C=!0):C?(z.py=C,z.reason=s3B,C=!1):(z.reason=d$P,C=!0);V75=9;break;}}}) || x[0];y2M=5;break;}}}function m(v,y){var H9h,x,z;H9h=2;for(;H9h !== 13;){switch(H9h){case 2:H9h=v.J6?1:14;break;case 1:(x=v.J6,z=(0,l.Bm)(x,function(A){var i2n;i2n=2;for(;i2n !== 1;){switch(i2n){case 4:return y < A.r;break;case 2:return y <= A.r;break;}}}));H9h=5;break;case 14:return v.vr;break;case 5:H9h=0 === z?4:3;break;case 4:return x[0].d;break;case 8:A9tfv.J3t(3);v=x[A9tfv.a_S(1,z)];x=x[z];H9h=6;break;case 6:return Math.floor(v.d + (x.d - v.d) * (y - v.r) / (x.r - v.r));break;case 3:H9h=-1 === z?9:8;break;case 9:return x[x.length - 1].d;break;}}}function q(v,y,x){var C_K,z,A,B,C,D,F;C_K=2;for(;C_K !== 19;){switch(C_K){case 2:(z=!!v.Ht && !!v.l6a && x.every(function(G){var w9G;w9G=2;for(;w9G !== 1;){switch(w9G){case 2:return G.xb && 110 >= G.xb;break;}}}),A=null,B=x.length - 1);C_K=1;break;case 1:C_K=0 <= B && (z?x[B].xb >= v.Ht:x[B].bitrate >= v.Gt)?5:11;break;case 13:A.reason=F;C_K=12;break;case 8:C=F.Y4;F=F.reason;A.S2a=D;C_K=14;break;case 11:var O1r="fallback_no_acceptabl";O1r+="e_stre";O1r+="am";var p6L="below_minInitVideo";p6L+="Bitr";p6L+="a";p6L+="te";c.vc(A) && x[B].bitrate < v.Gt && (A=n(x[B],v),A.reason=p6L);c.vc(A) && (A=n(x[0],v),A.reason=O1r);return A;break;case 5:C=x[B];A=n(C,v);(D=h(C.bitrate * y.playbackRate,A.py,v),F=p(A.py,v));F=u(C,A.py,z,D,F,v);C_K=8;break;case 14:C_K=C?11:13;break;case 12:B--;C_K=1;break;}}}function n(v,y){var J$D,x,z,A;J$D=2;for(;J$D !== 11;){switch(J$D){case 14:var p$u="hi";p$u+="st";p$u+="_thro";p$u+="ughput";var A9j="his";A9j+="t_tdi";A9j+="ge";A9j+="st";A?(v=z.wi(y.I$ / 100) || x.Fd.nb,x.reason=A9j):x.Fd.nb && (v=x.Fd.nb,x.reason=p$u);x.py=v;return x;break;case 2:x=new d.Gi();x.Fd=v;z=x.Fd.Bb;x.Bb=z;v=0;J$D=9;break;case 7:J$D=(A=c.Rb(y.I$) && 0 <= y.I$ && 100 >= y.I$ && z)?6:14;break;case 9:z=null === z || void 0 === z?void 0:z.cj;J$D=7;break;case 6:(A=k.$Na.$Kb(z),c.Lp(A)?(z.wi=A,A=!0):A=!1);J$D=14;break;}}}var y_y;function p(v,y){var K0F=A9tfv;var Q4t,x;Q4t=2;for(;Q4t !== 9;){switch(Q4t){case 2:K0F.J3t(3);var n9O=K0F.L_B(6,100006);K0F.J3t(17);var y_6=K0F.L_B(2916,18,63,18,993);v=(0,d.uK)(v,0,n9O) / y_6;Q4t=1;break;case 1:var p6i="l";p6i+="o";p6i+="g";Q4t=0 === y.TN.lastIndexOf(p6i,0)?5:3;break;case 5:x=y.TN;Q4t=4;break;case 4:return (x=y.sbb[x]) && 2 === x.length?1E3 * (x[0] + x[1] * Math.log(1 + v)):y.vr;break;case 3:var d_4="si";d_4+="g";d_4+="m";d_4+="oid";return 0 === y.TN.lastIndexOf(d_4,0)?(x=y.TN,(x=y.sbb[x]) && 2 === x.length?1E3 * (x[0] + x[1] * g(v)):y.vr):y.vr;break;}}}y_y=2;function w(v,y,x,z){var o2$,A;o2$=2;for(;o2$ !== 7;){switch(o2$){case 4:var q43="hi";q43+="st_bitrat";q43+="e";v=new d.Gi();v.Fd=(0,l.tc)(x.slice().reverse(),function(B){var R33;R33=2;for(;R33 !== 1;){switch(R33){case 2:return B.bitrate <= A;break;}}}) || x[0];v.reason=q43;return v;break;case 5:return v.MR?q(v,y,x,z):t(v,y,x,z);break;case 1:var Q4g="n";Q4g+="u";Q4g+="mb";Q4g+="er";o2$=Q4g !== typeof A?5:4;break;case 2:var B4R="v";B4R+="b";A=f.platform.storage.get(B4R);o2$=1;break;}}}for(;y_y !== 5;){switch(y_y){case 2:var F4T="1SI";F4T+="YbZ";F4T+="rNJCp";F4T+="9";F4T;return {Frb:function(v,y,x,z){var G1i;G1i=2;for(;G1i !== 5;){switch(G1i){case 2:var e9q="his";e9q+="to";e9q+="rical";x=x.first;return x.some(function(A){var P1Q;P1Q=2;for(;P1Q !== 1;){switch(P1Q){case 2:return A.aa;break;case 4:return A.aa;break;}}})?t(v,y,x,z):e9q === v.Dpa?w(v,y,x,z):v.MR?q(v,y,x,z):t(v,y,x,z);break;}}},aqb:u};break;}}function u(v,y,x,z,A,B){var d6Z;d6Z=2;for(;d6Z !== 5;){switch(d6Z){case 2:var M4S="no_";M4S+="v";M4S+="a";M4S+="lid_Bitr";M4S+="ate";var K0d="no_va";K0d+="li";K0d+="d_VMAF";var o4J="no_valid_D";o4J+="ela";o4J+="yTarget";v=x?v.xb >= B.Ht && v.xb <= B.l6a:v.bitrate >= B.Gt && v.bitrate <= B.My;return (z=z < A && v)?{Y4:z}:{Y4:z,reason:v?o4J:x?K0d:M4S};break;}}}function h(v,y,x){var m7t;m7t=2;for(;m7t !== 5;){switch(m7t){case 2:v=(0,d.dUa)(x.yr,v * x.c8);return (0,d.Z6a)(v,y);break;}}}})();r=a.aqb;b.rbb=a.Frb;b.hPb=r;},22774:function(r,b,a){var C3c="def";C3c+="aul";C3c+="t";var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);c.__importStar(a(17267));a(42866);l=a(95711);b[C3c]=function(f){var N0h=A9tfv;var T__,F,I,M,L,K,O,H,J,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,G,E;T__=2;for(;T__ !== 50;){switch(T__){case 33:T__=w < F?32:31;break;case 53:T__=(G=Math.max(p - g,0),G < y && G < F)?52:28;break;case 3:m=[];n=Infinity;F=0;d=0;T__=6;break;case 28:N0h.J3t(18);g+=N0h.L_B(E,q,0,v);p+=B;T__=43;break;case 30:return (f && m.push(G / (A / 1E3)),c.__assign({result:!1,mV:G / (A / 1E3),Dp:!1},f && ({h3:m})));break;case 17:N0h.W5F(4);x*=N0h.a_S(1E3,A);N0h.J3t(4);y*=N0h.a_S(1E3,A);N0h.J3t(4);C*=N0h.L_B(1E3,A);T__=27;break;case 25:(I=G[1],M=k.fU(D),L=k.BL(D),K=0,O=k.fU(K),H=k.BL(K),J=B - q);T__=24;break;case 11:var q6e=" ";q6e+=">= fragmentsLength";q6e+=": ";var i3l="Streamin";i3l+="g";i3l+="Inde";i3l+="x:";i3l+=" ";q >= B && l.T.error(i3l + q + q6e + B);g+=D;0 === p && (g=0);N0h.W5F(4);g*=N0h.a_S(1E3,A);N0h.W5F(4);p*=N0h.a_S(1E3,A);T__=17;break;case 43:w-=q;T__=42;break;case 23:J--;q=M[I];T__=21;break;case 41:(w+=O[d],++d,d >= O.length && ++K < k.length && (O=k.fU(K),H=k.BL(K),d=0));T__=42;break;case 2:var I7r="1";I7r+="SIY";I7r+="b";I7r+="ZrNJCp";I7r+="9";(k=f.RHb,d=f.blocks,g=f.Dd,n=f.Fl,h=f.b4b,m=f.Br,p=f.qn,q=f.Fe,u=f.qHb,t=f.y4,w=f.WZa,v=f.nb,y=f.uTb,x=f.jC,z=f.TPb);f=f.IEb;I7r;(A=k.N,B=Math.min(k.SHb,d),C=n - g,D=8 * m / v | 0);T__=3;break;case 38:I >= M.length && ++D < k.length && (u-=M.length,M=k.fU(D),L=k.BL(D),I=0);f && m.push(G / (A / 1E3));F=G;T__=54;break;case 52:return (f && m.push(G / (A / 1E3)),c.__assign({result:!1,mV:Math.min(G,n) / (A / 1E3),Dp:!0},f && ({h3:m})));break;case 34:F=Math.max(q,t);T__=33;break;case 32:(g=h,w+=O[d],++d,d >= O.length && ++K < k.length && (O=k.fU(K),H=k.BL(K),d=0),G=H[d],h+=G);T__=33;break;case 6:G=k.BL(0)[0];N0h.J3t(19);h=N0h.a_S(G,h,A,1E3);N0h.J3t(20);v=N0h.L_B(v,8,0);N0h.J3t(4);E=N0h.L_B(1E3,A);T__=11;break;case 54:n=Math.min(G,n);T__=24;break;case 21:B=L[I];T__=35;break;case 35:T__=w < q?34:53;break;case 39:T__=I >= u && G > C?51:38;break;case 24:T__=J?23:51;break;case 27:G=c.__read(k.TKb(q),2);D=G[0];T__=25;break;case 42:T__=h < g && d < I?41:40;break;case 31:T__=!z && (G=p - g,G < x)?30:29;break;case 29:N0h.W5F(3);G=N0h.a_S(g,p);T__=28;break;case 40:++I;T__=39;break;case 51:return c.__assign({result:!0,mV:n / (A / 1E3),Dp:!0},f && ({h3:m}));break;}}};},68474:function(r,b,a){var l;function c(f,k,d){f=d.first.filter(function(g){return g.Gv;});return f.length?new l(f[Math.floor(Math.random() * f.length)]):null;}l=a(95711).Gi;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},89583:function(r,b,a){var l,f,k,d;function c(g,n,h,m){var p,q;p=h.first;n=n.buffer.qn;h="forward" === g.k1b;if(l.co(m))return (m=h?p[k(p)]:p[k(p,p.length)],this.Nga=n,new d(m));if(!m.zy){q=f(p,function(u){return u.isEqual(m);});m=k(p,q);this.Nga=n;}if(!m)return null;if(n > this.Nga + g.o6b){p=p.filter(function(u){return u.Gv;});if(!p.length)return null;g=f(p,function(u){return u.isEqual(m);});g=(p.length + g + (h?1:-1)) % p.length;this.Nga=n;return new d(p[g]);}return new d(m);}l=a(17267);b=a(95711);f=a(42866).Bm;k=b.f5;d=b.Gi;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},1614:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t){h=p=u.first;if(null === n)return (t=k(p),n=p[t].bitrate,new d(p[t]));if(!p.length)return null;t=g(p,function(w){return w.bitrate == n;});return void 0 === t?(f.log("Defaulting to first stream due to unvalid bitrate requested: " + n),new d(p[0])):new d(t);}b=a(95711);l=a(12043).platform;f=b.T;k=b.f5;d=b.Gi;g=a(42866).tc;n=null;h=null;m=null;l.oxb && (l.oxb.Bo={Cb:function(){m=h=n=null;},tbb:function(p){n=p;},xgc:function(){return {all:h,Jfb:m};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},61706:function(r,b,a){(function(){function c(g,n,h,m){var c9y,p;c9y=2;for(;c9y !== 11;){switch(c9y){case 14:--m;c9y=9;break;case 6:return (n.Fd=p,n);break;case 2:var z4F="playe";z4F+="r missing f";z4F+="r";z4F+="agmentIn";z4F+="dex";var g7s="Must have at leas";g7s+="t one selected ";g7s+="s";g7s+="tream";k(m,g7s);k(l.Rb(n.Fe),z4F);n=d(m);h=h.first;c9y=3;break;case 3:A9tfv.W5F(21);var Q3o=A9tfv.L_B(19,8,0,18,28);m=h.length - Q3o;c9y=9;break;case 7:c9y=p.Bb && p.Bb.nb && p.bitrate < p.Bb.nb.Ca - g.k6b?6:14;break;case 9:c9y=-1 < m?8:13;break;case 13:n.Fd=h[0];return n;break;case 8:p=h[m];c9y=7;break;}}}var Y6s,l,f,k,d;Y6s=2;for(;Y6s !== 8;){switch(Y6s){case 2:l=a(17267);a(89956);(f=a(95711),k=f.assert,d=f.Gi);Y6s=4;break;case 4:var z$h="1SI";z$h+="Yb";z$h+="Z";z$h+="r";z$h+="NJCp9";var F86="d";F86+="e";F86+="f";F86+="a";F86+="ult";f=a(9498)[F86];r.exports={STARTING:f.STARTING,BUFFERING:f.BUFFERING,REBUFFERING:f.REBUFFERING,PLAYING:c,PAUSED:c};z$h;Y6s=8;break;}}})();},22288:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cla=b.J$=b.vbb=void 0;r=a(27364);b.vbb=[r.Tb[r.Tb.rs],r.Tb[r.Tb.Ne],r.Tb[r.Tb.pl],r.Tb[r.Tb.Oe],r.Tb[r.Tb.Rh],"checkBuffering"];c=a(1614);b.J$={first:function(){return a(11877);},random:function(){return a(68474);},optimized:function(){return a(9498)["default"];},roundrobin:function(){return a(89583);},selectaudio:function(){return a(51835)["default"];},selectaudioadaptive:function(){return a(71888)["default"];},"default":function(){return a(9498)["default"];},lowest:function(){return a(42102);},highest:function(){return a(53008);},throughputthreshold:function(){return a(61706);},replay:function(){return a(18753)["default"];},checkdefault:function(){return a(62711)["default"];},livesimple:function(){return a(96361)["default"];},testscript:function(){return c;}};b.cla={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};},11983:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sNa=void 0;r=(function(){function a(c){this.Mr=[];this.Mr.push(c);}Object.defineProperties(a.prototype,{N:{get:function(){return this.Mr[0].N;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Mr.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{SHb:{get:function(){var c;return null !== (c=this.Fpb) && void 0 !== c?c:this.Fpb=this.Mr.reduce(function(l,f){return l + f.length;},0);},enumerable:!1,configurable:!0}});a.prototype.BL=function(c){return this.Mr[c].cf;};a.prototype.fU=function(c){return this.Mr[c].sizes;};a.prototype.add=function(c){this.Mr.push(c);};a.prototype.TKb=function(c){var f;for(var l=0;0 <= c;){f=this.Mr[l];if(c < f.length)break;l++;c-=f.length;}return [l,c];};return a;})();b.sNa=r;},94656:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jfa=void 0;c=a(5163);l=a(36418);a(62558);a(95711);r=(function(){function f(k,d,g,n){this.cf=k;this.N=g;this.length=Math.min(k.length,d.length);this.wm=d;this.ic=n;}Object.defineProperties(f.prototype,{wa:{get:function(){return void 0 !== this.ic?this.ic:this.ic=this.Tfa();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sizes:{get:function(){return this.wm;},enumerable:!1,configurable:!0}});f.prototype.subarray=function(k,d){return new f(this.cf.subarray(k,d),this.sizes.subarray(k,d),this.N);};f.prototype.concat=function(){var g,n;for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}d=[this];k=d.concat.apply(d,c.__spreadArray([],c.__read(k),!1));d=k.reduce(function(h,m){return h + m.length;},0);g=new Uint32Array(d);n=new Uint32Array(d);d=k[0].N;k.reduce(function(h,m){l.zfa.set(g,m.cf,h);l.zfa.set(n,m.sizes,h);return h + m.length;},0);return new f(g,n,d);};f.prototype.Tfa=function(){for(var k=this.sizes,d=this.length,g=0,n=0;n < d;++n){g+=k[n];}return g;};f.prototype.C3a=function(k){return void 0 === this.bsb?!1:0 < this.bsb[k];};return f;})();b.jfa=r;},74976:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t){t.forEach(function(w){return w.rz=!1;});}Object.defineProperties(b,{__esModule:{value:!0}});b.sQ=void 0;l=a(5163);f=l.__importStar(a(17267));k=a(12043);d=a(42866);g=a(27364);n=a(89659);h=l.__importDefault(a(77613));m=a(18792);p=a(22288);q=a(75449);u=a(17329);new k.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");r=(function(){function t(w,v,y,x){var x47,z,A;x47=2;for(;x47 !== 6;){switch(x47){case 2:var h6Y="1SIYbZ";h6Y+="rNJCp";h6Y+="9";z=this;this.$1b=w;this.W=v;this.uh=y;h6Y;x47=9;break;case 9:w=w || this.W.pdb;this.tPa=p.vbb.reduce(function(B,C){var g5e,D;g5e=2;for(;g5e !== 4;){switch(g5e){case 2:D=(p.J$[w] || p.J$[p.cla[C]])()[C] || p.J$[p.cla[C]]()[C];B[C]=D.bind(z);g5e=5;break;case 5:return B;break;}}},{});x && (this.B8a=new q.iQ(v,null === (A=y.track) || void 0 === A?void 0:A.mediaType));x47=6;break;}}}var V3H;V3H=2;for(;V3H !== 11;){switch(V3H){case 2:t.prototype.tbb=function(w,v,y,x,z,A,B){var U27,K,O,H,J,M9j,C,D,F,G,E,I,M,L;U27=2;for(;U27 !== 25;){switch(U27){case 11:U27=(J=y.Fd)?10:20;break;case 15:U27=M9j === g.Tb.Oe?9:27;break;case 8:void 0 !== x && this.E9a(v,w.state,w.buffer,x);(K=this.tPa[g.Tb[w.state]],O=v.C6b(),H=L?(0,m.paa)(L):void 0);y=K.call(this,E,w,O,H,x,!!z,M,y);U27=14;break;case 20:w.eT && J && (0,h.default)(this.cYb(J,F,w,G),y);return y;break;case 27:U27=M9j === g.Tb.Rh?9:26;break;case 17:(this.Oga=this.Lga=void 0,L && (w.state=g.Tb.Ne));U27=8;break;case 26:U27=M9j === g.Tb.rs?17:8;break;case 16:U27=M9j === g.Tb.pl?9:15;break;case 18:w.state=g.Tb.rs;U27=17;break;case 14:y=l.__assign(l.__assign({},y),{Fd:null === (J=y.Fd) || void 0 === J?void 0:J.Tg});y.ug=w.state;U27=11;break;case 9:U27=L?8:18;break;case 3:M9j=w.state;U27=M9j === g.Tb.Ne?9:16;break;case 10:var Y6m="p";Y6m+="la";Y6m+="y";Y6m+="i";Y6m+="ng";var Y5X="min_";Y5X+="fragm";Y5X+="ent_vmaf";(this.uh.Zwa(J),this.mSb(v.first,J,F.Fl - F.Dd),y.zW=J.nb || 0,y.Bb=J.Bb,y.reason && (J.au=y.reason,Y5X !== y.reason && (J.cjc=y.py,J.S2a=y.S2a,J.Lgc=null === (C=y.Bb) || void 0 === C?void 0:C.x2,J.Mgc=null === (D=y.Bb) || void 0 === D?void 0:D.cj)),v=this.TSb(I,J,F,w,B,z),y.Kt=v || y.Kt,L && !M && J.bitrate < L.bitrate && (this.Lga=F.qn),w.state !== g.Tb.Oe && w.state !== g.Tb.Rh?(L=(0,n.q9a)(w.state),A=this.s3(w.buffer,L,w.playbackRate,J,A),(y.Dm=A.complete)?y.Tvb=A.reason:(y.Dm=!1,y.GN=A.GN,y.mra=A.mra,y.progress=A.progress)):(y.Dm=!0,y.Tvb=Y6m));U27=20;break;case 2:(F=null === w || void 0 === w?void 0:w.buffer,G=k.platform.time.xa(),E=this.W,I=v.first);c(v.first);(M=this.SSb(E,w,v.first),L=M.gCb);M=M.uHb;U27=3;break;}}};t.prototype.s3=function(w,v,y,x,z){var f_D;f_D=2;for(;f_D !== 1;){switch(f_D){case 2:return this.tPa.checkBuffering.call(this,w,v,y,(0,m.paa)(x),z,this.W);break;}}};t.prototype.X4b=function(w,v,y){var a52;a52=2;for(;a52 !== 1;){switch(a52){case 2:f.co(v)?this.Lga=this.Oga=void 0:v.bitrate < y.bitrate && (this.Oga=w);a52=1;break;}}};t.prototype.E9a=function(w,v,y,x){var J2v,z,A,B;J2v=2;for(;J2v !== 5;){switch(J2v){case 2:z=this;w.Vma(function(C){var K4t;K4t=2;for(;K4t !== 1;){switch(K4t){case 2:z.l5(C,function(D){var V3V;V3V=2;for(;V3V !== 1;){switch(V3V){case 2:D.Gv && D.Bb && D.Bb.confidence?(A !== D.Bb && (A=D.Bb,B=x(D.Bb,y,v,D.track.ma.sM[g.u.fa])),D.nb=Math.floor(B.lower) || 1,D.jya=Math.floor(B.upper || 1) || 1):D.nb=void 0;V3V=1;break;}}});K4t=1;break;}}});J2v=5;break;}}};V3H=3;break;case 3:t.prototype.TSb=function(w,v,y,x,z,A){var D85,B;D85=2;for(;D85 !== 4;){switch(D85){case 2:D85=this.B8a?1:4;break;case 9:D85=this.B8a?0:0;break;case 1:B=(0,d.tc)(w,function(C,D){var e3K;e3K=2;for(;e3K !== 1;){switch(e3K){case 2:A9tfv.J3t(22);var f7G=A9tfv.L_B(4,4,1,0);return w[D - f7G] === v;break;}}}) || v;return this.B8a.YKb({XE:y.Fl - y.Dd,Wvb:y.Eo || 0,Vvb:y.bF || 0,Dd:y.Dd,MRb:w[0],Fd:v,u8b:B,G6b:w[w.length - 1],ug:x.state,playbackRate:x.playbackRate,Fe:x.Fe,q5:z,so:A});break;}}};t.prototype.cYb=function(w,v,y,x){var t9Z,z,A,B,C,D,F,G;t9Z=2;for(;t9Z !== 17;){switch(t9Z){case 2:(C={},D=w.Bb,F=this.W.jRa);t9Z=1;break;case 9:C.qn=v.qn;t9Z=8;break;case 20:C.Rr=x;C.VC=k.platform.time.xa();return C;break;case 8:F=y && y.Fe;w=w.Ja;C.Vs=w && void 0 !== F && !isNaN(F) && 0 <= F && F < w.length?w.bm(F):v.qn;C.YUb=D && D.nb && D.nb.Ca || 0;t9Z=13;break;case 13:C.YTa=v.Fl - v.Dd;C.ewb=v.Eo;C.QXb=null !== (B=null === (A=null === (z=k.platform.vgc) || void 0 === z?void 0:z.call(k.platform)) || void 0 === A?void 0:A[y.mediaType === g.u.Y?1:0]) && void 0 !== B?B:-1;C.$j=y && y.$j;t9Z=20;break;case 5:G=[];F.forEach(function(E){var e33,I;e33=2;for(;e33 !== 4;){switch(e33){case 2:I=E.stat;I=(E=D[E.filter]) && E[I];G.push(isNaN(I)?-1:I);e33=4;break;}}});t9Z=3;break;case 1:t9Z=D && F && 0 < F.length?5:9;break;case 3:C.mYb=G;t9Z=9;break;}}};t.prototype.SSb=function(w,v,y){var f9W,x,z,A;f9W=2;for(;f9W !== 4;){switch(f9W){case 2:(x=!1,z=(null === v || void 0 === v?void 0:v.buffer).Ja,A=z.length);(v=0 < A && v.state !== g.Tb.rs?z[A - 1].stream:this.uh.fo)?-1 === y.indexOf(v) && (v=(0,u.n1a)(y,v.bitrate,v.xb),x=!0,w.tUb && this.uh.fo && -1 !== y.indexOf(this.uh.fo) && (x=!1)):x=!0;return {gCb:v,uHb:x};break;}}};t.prototype.mSb=function(w,v,y){var O3x,x,z;O3x=2;for(;O3x !== 12;){switch(O3x){case 9:O3x=0 <= y?8:12;break;case 5:w.forEach(function(A){var V2Z;V2Z=2;for(;V2Z !== 1;){switch(V2Z){case 2:return A.rz=!A.Ja || !A.Ja.length;break;}}});O3x=12;break;case 6:O3x=w[y + 1] === v && (null === (z=w[y].Ja) || void 0 === z || !z.length)?14:13;break;case 14:w[y].rz=!0;O3x=12;break;case 4:O3x=this.W.g4b && y > this.W.l8 && !v.aa && w.every(function(A){var p0A;p0A=2;for(;p0A !== 1;){switch(p0A){case 4:return -A.rz;break;case 2:return !A.rz;break;}}})?3:12;break;case 3:A9tfv.W5F(23);var r83=A9tfv.L_B(19,8,12);y=w.length - r83;O3x=9;break;case 7:w[y].rz=!0;O3x=12;break;case 1:O3x=this.W.GEb?5:4;break;case 8:O3x=w[y - 1] === v && (null === (x=w[y].Ja) || void 0 === x || !x.length)?7:6;break;case 2:O3x=1;break;case 13:--y;O3x=9;break;}}};V3H=6;break;case 12:return t;break;case 6:t.prototype.l5=function(w,v){var x$x=A9tfv;var n1y,y;n1y=2;for(;n1y !== 3;){switch(n1y){case 1:n1y=0 <= y?5:3;break;case 7:n1y=4 > y?2:0;break;case 8:x$x.J3t(24);var g6r=x$x.L_B(1,5,1,3);y=w.length / g6r;n1y=2;break;case 5:v(w[y],y,w);n1y=4;break;case 4:--y;n1y=1;break;case 2:x$x.J3t(6);var q7D=x$x.L_B(29,12,16);y=w.length - q7D;n1y=1;break;}}};Object.defineProperties(t.prototype,{gM:{get:function(){var n4X;n4X=2;for(;n4X !== 1;){switch(n4X){case 4:return this.Lga;break;case 2:return this.Lga;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Gqa:{get:function(){var X3K;X3K=2;for(;X3K !== 1;){switch(X3K){case 4:return this.Oga;break;case 2:return this.Oga;break;}}},enumerable:!1,configurable:!0}});V3H=12;break;}}})();b.sQ=r;},17329:function(r,b,a){var l,f,k,d;function c(g,n,h){var m;m=(0,f.Bm)(g,function(p){return h && p.xb?p.xb > h:p.bitrate > n;});m=0 < m?m - 1:0 === m?0:g.length - 1;return g[m];}Object.defineProperties(b,{__esModule:{value:!0}});b.hlb=b.n1a=b.W0=void 0;l=a(5163);f=a(42866);k=a(18792);r=(function(){function g(){this.Js=[];}Object.defineProperties(g.prototype,{first:{get:function(){var n;return null === (n=this.Js[0]) || void 0 === n?void 0:n.oe;},enumerable:!1,configurable:!0}});g.prototype.t2=function(n){this.Js.push({oe:n});};g.prototype.Vma=function(n){this.Js.forEach(function(h,m){return n(h.oe,m);});};g.prototype.woa=function(n,h,m){var p,q,u,t,w,v,y;p=m;q=h;u=0;t=[];w=this.first[n];v=w.xb;y=w.bitrate;this.Js.forEach(function(x,z){var A,B;x=x.oe;0 >= p || (z=0 === z?w:c(x,y,v),x=null === (A=z.Ja) || void 0 === A?void 0:A.N3(q,p),A=null !== (B=null === x || void 0 === x?void 0:x.blocks) && void 0 !== B?B:0,u+=A,t.push({stream:z,blocks:A,Fe:q}),null === x || void 0 === x?!0:!x.PW) || (q=0,p-=x.PW);});return {Lxa:t,uya:u};};g.prototype.C6b=function(){var n,h;n=new d();h=this.Js.map(function(m){var p;p=m.oe.map(function(q){return (0,k.paa)(q);});return l.__assign(l.__assign({},m),{oe:p});});n.f3b(h);return n;};return g;})();b.W0=r;b.n1a=c;d=(function(){function g(){this.Js=[];}Object.defineProperties(g.prototype,{first:{get:function(){var n;return null === (n=this.Js[0]) || void 0 === n?void 0:n.oe;},enumerable:!1,configurable:!0}});g.prototype.t2=function(n){this.Js.push({oe:n});};g.prototype.Vma=function(n){this.Js.forEach(function(h,m){return n(h.oe,m);});};g.prototype.f3b=function(n){this.Js=l.__spreadArray([],l.__read(n),!1);};g.prototype.woa=function(n,h,m){var p,q,u,t,w,v,y;p=m;q=h;u=0;t=[];w=this.first[n];v=w.xb;y=w.bitrate;this.Js.forEach(function(x,z){var A,B;x=x.oe;0 >= p || (z=0 === z?w:c(x,y,v),x=null === (A=z.Ja) || void 0 === A?void 0:A.N3(q,p),A=null !== (B=null === x || void 0 === x?void 0:x.blocks) && void 0 !== B?B:0,u+=A,t.push({stream:z,blocks:A,Fe:q}),null === x || void 0 === x?!0:!x.PW) || (q=0,p-=x.PW);});return {Lxa:t,uya:u};};return g;})();b.hlb=d;},47870:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ONa=void 0;c=a(5163);r=(function(){function l(f,k){this.T=f;this.ib=k;this.Oxa=!1;}l.prototype.q0b=function(f){this.lf(f.message,void 0,c.__assign(c.__assign({},f.$la),{err:f.toString()}));};l.prototype.lf=function(f,k,d){void 0 === k && (k=void 0);void 0 === d && (d={});this.Oxa || (d.temporaryFailure || (this.Oxa=!0),f=c.__assign({type:"error",error:null !== k && void 0 !== k?k:"NFErr_MC_StreamingFailure",errormsg:f,temporaryFailure:!1},d),this.T.error("notifyStreamingError:",f),this.ib.emit("error",f));};l.prototype.jr=function(){return this.Oxa;};return l;})();b.ONa=r;},26218:function(r,b,a){var l,f,k,d;function c(g){return function(){for(var n=Array(this.length),h=0;h < this.length;++h){n[h]=g.call(this,h);}return n;};}Object.defineProperties(b,{__esModule:{value:!0}});b.jub=b.Jv=b.xfa=b.pOa=void 0;l=a(42866);r=a(12043);f=a(62558);k=new r.platform.Console("FRAGMENTS","media|asejs");d=(function(){function g(n,h){this.Ic=n;this.fg=h;}Object.defineProperties(g.prototype,{index:{get:function(){return this.fg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ka:{get:function(){return new l.L(this.qb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Wa:{get:function(){return new l.L(this.ub,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ld:{get:function(){return new l.L(this.jB,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qb:{get:function(){return this.Ic.X1 + this.Ic.AA[this.fg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ub:{get:function(){return this.qb + this.Ic.Aq[this.fg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jB:{get:function(){return this.Ic.Aq[this.fg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{za:{get:function(){return this.Ic.za;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{N:{get:function(){return this.Ic.N;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.qb / this.za.N,endPts:1E3 * this.ub / this.za.N,duration:1E3 * this.jB / this.za.N,index:this.index};};return g;})();b.pOa=d;a=(function(){function g(n,h,m,p){this.mediaType=n;this.length=m.cf.length;this.jb=m.N;this.Aq=m.cf;this.v2=p && p.iN;this.zSa=p && p.PN;this.HJ=h;this.Oya=this.Pya=this.wQa=void 0;this.X1=m.Or;this.AA=new Uint32Array(this.length + 1);if(this.length){for(h=n=0;h < this.length;++h){this.AA[h]=n;n+=this.Aq[h];}this.AA[h]=n;this.Nfa=Math.floor((this.df - this.gb) / this.length);}}Object.defineProperties(g.prototype,{Or:{get:function(){return this.adb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ula:{get:function(){return this.adb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gb:{get:function(){return this.bm(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{df:{get:function(){return this.bm(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ff:{get:function(){return new l.L(this.Ula,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Gra:{get:function(){return this.wQa || this.Qob();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{za:{get:function(){return this.HJ;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{N:{get:function(){return this.jb;},enumerable:!1,configurable:!0}});g.prototype.adb=function(n){return this.X1 + this.AA[n];};g.prototype.bm=function(n){return Math.floor(1E3 * (this.X1 + this.AA[n]) / this.N);};g.prototype.kT=function(n){return this.bm(n + 1);};g.prototype.cf=function(n){return this.kT(n) - this.bm(n);};g.prototype.get=function(n){return new d(this,n);};g.prototype.gy=function(n,h,m){if(0 === this.length || n < this.bm(0))return -1;n=Math.max(n,h || 0);for(var p=0,q=this.length - 1,u,t;q >= p;){if((u=p + (q - p >> 1),t=this.bm(u),n < t))q=u - 1;else if(n >= t + this.cf(u))p=u + 1;else {for(;h && u < this.length && this.bm(u) < h;){++u;}return u < this.length?u:m?this.length - 1:-1;}}return m?this.length - 1:-1;};g.prototype.Cma=function(n,h,m){n=this.gy(n,h,m);return 0 <= n?this.get(n):void 0;};g.prototype.N3=function(n,h){var m,p,q;m=Math.floor(h * this.N / 1E3);p=Math.min(n + Math.ceil(h / this.Nfa),this.length);q=this.AA[p] - this.AA[n];if(q >= m){for(;q >= m;){--p;q-=this.Aq[p];}return {blocks:Math.max(p - n + 1,0),PW:0};}for(;q < m && p <= this.length;){h-=q || 0;q+=this.Aq[p];++p;}return {blocks:Math.max(p - n - 1,0),PW:h};};g.prototype.subarray=function(n,h){(0,f.assert)(void 0 === n || 0 <= n && n < this.length);(0,f.assert)(void 0 === h || h > n && h <= this.length);return new g(this.mediaType,this.za,{N:this.N,Or:this.X1 + this.AA[n],cf:this.Aq.subarray(n,h)},this.v2 && ({iN:this.v2.subarray(n,h + 1),PN:this.zSa}));};g.prototype.forEach=function(n){for(var h=0;h < this.length;++h){n(this.get(h),h,this);}};g.prototype.map=function(n){for(var h=[],m=0;m < this.length;++m){h.push(n(this.get(m),m,this));}return h;};g.prototype.reduce=function(n,h){for(var m=0;m < this.length;++m){h=n(h,this.get(m),m,this);}return h;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Nfa};};g.prototype.dump=function(){var h;k.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Nfa + "ms");for(var n=0;n < this.length;++n){h=this.get(n);k.trace(("TrackFragments: ").concat(n,": [").concat(h.Ka.G,"-").concat(h.Wa.G,"]"));}};g.prototype.Qob=function(){for(var n=0,h=0;h < this.length;h++){n=Math.max(this.Aq[h],n);}return this.wQa=n;};return g;})();b.xfa=a;b.Jv=c;c(a.prototype.bm);c(a.prototype.kT);c(a.prototype.cf);b.jub=function(g){return ("[").concat(Array(g.length).map(function(n,h){return g[h].toString();}).join(","),"]");};},85177:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wQ=void 0;r=(function(){function a(c){this.qRa=c;}Object.defineProperties(a.prototype,{YL:{get:function(){return this.Zpb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.qRa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$0b:{get:function(){var c;c=this;return this.qRa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Zpb=!0;};a.prototype.OM=function(c,l){var f;f=this;this.result.then(function(k){f.YL?l && l(k):c(k);});return this;};return a;})();b.wQ=r;},56742:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52E3:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},62558:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){var d;if(!f){d=new l(k || "Assertion failed");a(22209).lq.T.error("Assertion failed",{value:f,message:k,stack:d.stack});throw d;}};},89659:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.q9a=void 0;c=a(27364);b.q9a=function(l){switch(l){case c.Tb.Ne:l=c.Rc.Ne;break;case c.Tb.pl:l=c.Rc.pl;break;case c.Tb.rs:case c.Tb.ss:case c.Tb.J0:l=c.Rc.ss;break;default:l=c.Rc.rl;}return l;};},19114:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lP=void 0;b.lP=(function(){function a(){}a.O6=function(c,l){var d;function f(g){return k(d++)(g,f);}function k(g){return g >= l.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(g));}:l[g];}d=0;return f(c);};return a;})();},95971:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Q0=void 0;r=a(57055);c=a(42866);a=a(55011);l=(function(){function f(k){void 0 === k && (k={ji:!1,currentTime:c.L.Ha,speed:1});this.Xa={ji:function(){return "function" === typeof k.ji?k.ji():k.ji;},currentTime:function(){return "function" === typeof k.currentTime?k.currentTime():k.currentTime;},speed:function(){return "function" === typeof k.speed?k.speed():k.speed;}};}Object.defineProperties(f.prototype,{ji:{get:function(){return this.Xa.ji();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.Xa.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){return this.Xa.speed();},enumerable:!1,configurable:!0}});return f;})();b.Q0=l;(0,a.xk)(r.EventEmitter,l);},13870:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bXa=void 0;b.bXa=function(a){return JSON.parse(JSON.stringify(a));};},91219:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ACa=void 0;c=a(5163);a(62558);r=(function(){function l(f,k){this.Zc=f;this.AJ=k;this.sx();}Object.defineProperties(l.prototype,{length:{get:function(){return this.rA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.rA;},enumerable:!1,configurable:!0}});l.prototype.gIb=function(){return this.IJ && this.IJ.get(0);};l.prototype.ovb=function(){return this.yJ && this.yJ.get(this.yJ.length - 1);};l.prototype.get=function(f){0 > f && (f+=this.length);for(var k=0;k < this.Zc.length;++k){if(this.Xj[k + 1] > f)return this.Zc[k].get(f - this.Xj[k]);}};l.prototype.push=function(f){this.Zc[this.AJ(f)].push(f);this.sx();return this.rA;};l.prototype.shift=function(){var f;if(this.IJ){f=this.IJ.shift();this.sx();return f;}};l.prototype.pop=function(){var f;if(this.yJ){f=this.yJ.pop();this.sx();return f;}};l.prototype.unshift=function(f){this.Zc[this.AJ(f)].unshift(f);this.sx();return this.rA;};l.prototype.xt=function(f){var k;k=this.AJ(f);this.Zc[k].xt(f);this.sx();};l.prototype.remove=function(f){var k;k=this.Zc.some(function(d){return d.remove(f);});k && this.sx();return k;};l.prototype.splice=function(f,k){var q,u,t,w;for(var d,g=[],n=2;n < arguments.length;n++){g[n - 2]=arguments[n];}n=[];for(var h,m=f + Math.max(0,k),p=0;p < this.Zc.length;++p){q=this.Zc[p];u=this.Xj[p];t=this.Xj[p + 1];if(f < t){w=f - u;u=Math.min(m - u,q.length);void 0 === h && 0 < w && u < q.length?Array.prototype.push.apply(n,q.splice.apply(q,c.__spreadArray([w,u - w],c.__read(g),!1))):(Array.prototype.push.apply(n,q.splice(w,u - w)),void 0 === h && (h=0 < p && 0 === w?p - 1:p));f=t;if(f >= m)break;}}if(g.length && void 0 !== h){for(m=this.AJ(g[0]);0 < h && m < h && this.Zc[h].empty;){--h;}for(;g.length && m === h;){this.Zc[h].push(g.shift());if(!g.length)break;m=this.AJ(g[0]);}for(;g.length && ++h < this.Zc.length && this.Zc[h].empty;){for(;g.length && m === h;){this.Zc[h].push(g.shift());if(!g.length)break;m=this.AJ(g[0]);}}g.length && (d=this.Zc[h]).splice.apply(d,c.__spreadArray([0,0],c.__read(g),!1));}this.sx();return n;};l.prototype.find=function(f){var k,d;k=this;return this.Zc.some(function(g,n){d=g.find(k.DA(f,n));return void 0 !== d;})?d:void 0;};l.prototype.findIndex=function(f){var d;for(var k=0;k < this.Zc.length;++k){d=this.Zc[k].findIndex(this.DA(f,k));if(-1 !== d)return d + this.Xj[k];}return -1;};l.prototype.indexOf=function(f){var d;for(var k=0;k < this.Zc.length;++k){d=this.Zc[k].indexOf(f);if(-1 !== d)return d + this.Xj[k];}return -1;};l.prototype.map=function(f){var k,d;k=this;d=this.Zc.map(function(g,n){return g.map(k.DA(f,n));});return Array.prototype.concat.apply([],d);};l.prototype.reduce=function(f,k){var d;d=this;return this.Zc.reduce(function(g,n,h){return n.reduce(d.jsb(f,h),g);},k);};l.prototype.forEach=function(f){var k;k=this;this.Zc.forEach(function(d,g){d.forEach(k.DA(f,g));});};l.prototype.l5=function(f){for(var k=this.Zc.length - 1;0 <= k;--k){this.Zc[k].l5(this.DA(f,k));}};l.prototype.some=function(f){var k;k=this;return this.Zc.some(function(d,g){return d.some(k.DA(f,g));});};l.prototype.wxa=function(f){for(var k=this.Zc.length - 1;0 <= k;--k){if(this.Zc[k].wxa(this.DA(f,k)))return !0;}return !1;};l.prototype.every=function(f){var k;k=this;return this.Zc.every(function(d,g){return d.every(k.DA(f,g));});};l.prototype.BHb=function(f,k){var m,p;function d(q){return q.reduce(function(u,t,w,v){return void 0 === t?u:void 0 === u?w:0 > f(t,v[u])?w:u;},void 0);}for(var g=this,n=this.Zc.map(function(){return 0;}),h=this.Zc.filter(function(q){return q.empty;}).length;h < this.Zc.length;){m=n.map(function(q,u){return q < g.Zc[u].length?g.Zc[u].get(q):void 0;});p=d(m);k(m[p],this.Xj[p] + n[p],this);++n[p];n[p] === this.Zc[p].length && ++h;}};l.prototype.move=function(f){return this.remove(f)?(this.xt(f),!0):!1;};l.prototype.w3b=function(){var f;if(this.Zc[1].length){f=this.Zc[1].shift();this.Zc[0].push(f);this.sx();}};l.prototype.pZa=function(f){for(var k=-1,d=0;d < this.Zc.length;++d){if((k=f(this.Zc[d]),-1 !== k)){k+=this.Xj[d];break;}}return k;};l.prototype.toJSON=function(){return this.map(function(f){return f.toJSON();});};l.prototype.sx=function(){var k;this.rA=0;this.Xj=[0];this.yJ=this.IJ=void 0;for(var f=0;f < this.Zc.length;++f){k=this.Zc[f];this.rA+=k.length;this.Xj.push(this.Xj[this.Xj.length - 1] + k.length);!this.IJ && k.length && (this.IJ=k);k.length && (this.yJ=k);}};l.prototype.DA=function(f,k){var d,g;d=this;g=this.Xj[k];return function(n,h){return f(n,g + h,d);};};l.prototype.jsb=function(f,k){var d,g;d=this;g=this.Xj[k];return function(n,h,m){return f(n,h,g + m,d);};};return l;})();b.ACa=r;},36344:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.CVa=void 0;c=a(5163);l=a(49730);f=a(62558);b.CVa=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}l.K && (0,f.assert)(k.length);return function(g,n){var h,q,u;try{for(var m=c.__values(k),p=m.next();!p.done;p=m.next()){q=p.value;u=q(g,n);if(0 !== u)return u;}}catch(w){var t;t={error:w};}finally{try{p && !p.done && (h=m.return) && h.call(m);}finally{if(t)throw t.error;}}return 0;};};},7977:function(r,b,a){function c(l,f){this.Aha=l;this.Jn=Math.floor((l + f - 1) / f);this.yh=f;this.reset();}a(62558);c.prototype.shift=function(){this.Hi.shift();this.$u.shift();};c.prototype.Lt=function(l){return this.hUa(this.Hi[l],l);};c.prototype.update=function(l,f){this.Hi[l]=(this.Hi[l] || 0) + f;};c.prototype.push=function(){this.Hi.push(0);this.$u.push(0);this.dc+=this.yh;};c.prototype.add=function(l,f,k){var d,g,n;if(null === this.dc){d=Math.max(Math.floor((k - f + this.yh - 1) / this.yh),1);for(this.dc=f;this.Hi.length < d;){this.push();}}for(;this.dc <= k;){this.push();this.Hi.length > this.Jn && this.shift();}if(null === this.Bn || f < this.Bn)this.Bn=f;if(f > this.dc - this.yh)this.update(this.Hi.length - 1,l);else if(f == k)(d=this.Hi.length - Math.max(Math.ceil((this.dc - k) / this.yh),1),0 <= d && this.update(d,l));else for(d=1;d <= this.Hi.length;++d){g=this.dc - d * this.yh;n=g + this.yh;if(!(g > k)){if(n < f)break;this.update(this.Hi.length - d,Math.round(l * (Math.min(n,k) - Math.max(g,f)) / (k - f)));}}for(;this.Hi.length > this.Jn;){this.shift();}};c.prototype.start=function(l){null === this.Bn && (this.Bn=l);null === this.dc && (this.dc=l);};c.prototype.stop=function(l){var f,k;if(null !== this.dc)if(l - this.dc > 10 * this.Aha)this.reset();else {for(;this.dc <= l;){this.push();this.Hi.length > this.Jn && this.shift();}f=this.Hi.length - Math.ceil((this.dc - this.Bn) / this.yh);k=this.Hi.length - Math.ceil((this.dc - l) / this.yh);if(0 <= k)if((0 > f && (this.Bn=this.dc - this.yh * this.Hi.length,f=0),f === k))this.$u[f]+=l - this.Bn;else if(k > f)for((this.$u[f]+=(this.dc - this.Bn) % this.yh,this.$u[k]+=this.yh - (this.dc - l) % this.yh,l=f + 1);l < k;++l){this.$u[l]=this.yh;}this.Bn=null;}};c.prototype.hUa=function(l,f){f=this.ina(f);return 0 === f?null:8 * l / f;};c.prototype.ina=function(l){var f;f=this.$u[l];null !== this.Bn && (l=this.dc - (this.Hi.length - l - 1) * this.yh,l > this.Bn && (f=l - this.Bn <= this.yh?f + (l - this.Bn):this.yh));return f;};c.prototype.get=function(l,f){var k,d;k=this.Hi.map(this.hUa,this);if("last" === l)for(l=0;l < k.length;++l){null === k[l] && (k[l]=0 < l?k[l - 1]:0);}else if("average" === l){f=1 - Math.pow(.5,1 / ((f || 2E3) / this.yh));for(l=0;l < k.length;++l){null === k[l]?k[l]=Math.floor(d || 0):d=void 0 !== d?f * k[l] + (1 - f) * d:k[l];}}return k;};c.prototype.reset=function(){this.cec || (this.Hi=[],this.$u=[],this.Bn=this.dc=null);};c.prototype.setInterval=function(l){this.Jn=Math.floor((l + this.yh - 1) / this.yh);};r.exports=c;},34039:function(r,b,a){var l;function c(f,k,d){var g,h,m;if(f === k || !d.cm && f == k)return !0;if(typeof f !== typeof k)return !1;if(f && "object" === typeof f){for(var n in f){if(!c(f[n],k[n],d))return !1;}if(!d.Dxb){h=Object.keys(f);m=Object.keys(k).filter(function(t){return 0 > h.indexOf(t);});try{for(var p=l.__values(m),q=p.next();!q.done;q=p.next()){if((n=q.value,!c(f[n],k[n],d)))return !1;}}catch(t){var u;u={error:t};}finally{try{q && !q.done && (g=p.return) && g.call(p);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.e4=void 0;l=a(5163);b.e4=function(f,k,d){void 0 === d && (d={});d=l.__assign({cm:!1,Dxb:!1},d);return c(f,k,d);};},78522:function(r,b){function a(c){var l,f;l=Math.abs(c);f=1 / (1 + l / 2);l=f * Math.exp(-l * l - 1.26551223 + f * (1.00002368 + f * (.37409196 + f * (.09678418 + f * (-.18628806 + f * (.27886807 + f * (-1.13520398 + f * (1.48851587 + f * (-.82215223 + .17087277 * f)))))))));return 0 <= c?l:2 - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.QFb=b.w2a=b.fL=void 0;b.fL=a;b.w2a=function(c){var l,f,d;if(2 <= c)return -100;if(0 >= c)return 100;l=1 > c?c:2 - c;f=Math.sqrt(-2 * Math.log(l / 2));f=-.70711 * ((2.30753 + .27061 * f) / (1 + f * (.99229 + .04481 * f)) - f);for(var k=0;2 > k;k++){d=a(f) - l;f+=d / (1.1283791670955126 * Math.exp(-(f * f)) - f * d);}return 1 > c?f:-f;};b.QFb=function(c){return 1 - a(c);};},35303:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tEa=void 0;c=a(5163);r=(function(){function f(k,d){void 0 === d && (d={});this.Tn=k;this.options=d;this.BF=[];this.kG=new l(k,this.Wsb.bind(this));}f.prototype.Wsb=function(k){for(var d,g,n,h,m,p,q=[],u=1;u < arguments.length;u++){q[u - 1]=arguments[u];}q={Sq:k,kp:q};(null !== (n=null === (g=(d=this.options).J3b) || void 0 === g?void 0:g.call(d,q,this.BF)) && void 0 !== n?n:1) && this.BF.push(q);return null !== (p=null === (m=(h=this.options).ljc) || void 0 === m?void 0:m.call(h,q)) && void 0 !== p?p:!0;};f.prototype.b$=function(k){this.BF=this.BF.filter(function(d,g){return !k(d,g);});};f.prototype.Ava=function(){var k;k=this;this.kG.Rya();this.BF.forEach(function(d){var g;(g=k.Tn).emit.apply(g,c.__spreadArray([d.Sq],c.__read(d.kp),!1));});this.kG.i3a();};Object.defineProperties(f.prototype,{length:{get:function(){return this.BF.length;},enumerable:!1,configurable:!0}});f.prototype.clear=function(){this.BF=[];};f.prototype.Oa=function(){this.clear();this.kG.Rya();this.options=void 0;};return f;})();b.tEa=r;l=(function(){function f(k,d){this.Tn=k;this.Ts=d;this.l8a=this.Tn.emit;this.mBb();this.i3a();}f.prototype.mBb=function(){var k;k=this;this.kG=function(d){for(var g,n,h=[],m=1;m < arguments.length;m++){h[m - 1]=arguments[m];}return (null === (n=k.Ts) || void 0 === n?0:n.call.apply(n,c.__spreadArray([k,d],c.__read(h),!1)))?(g=k.l8a).call.apply(g,c.__spreadArray([k.Tn,d],c.__read(h),!1)):!1;};};f.prototype.i3a=function(){this.kG && (this.Tn.emit=this.kG);};f.prototype.Rya=function(){this.Tn.emit=this.l8a;};f.prototype.Oa=function(){this.Rya();this.Ts=this.kG=void 0;};return f;})();},44797:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(78522);r=(function(){function l(f,k){this.Ca=f;this.Ke=k;}l.prototype.vUa=function(f){return .5 * (0,c.fL)(-(f - this.Ca) / Math.sqrt(2 * this.Ke));};l.prototype.Xv=function(f){return this.Ca - Math.sqrt(2 * this.Ke) * (0,c.w2a)(2 * f);};return l;})();b["default"]=r;},44602:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.m6=void 0;b.m6=function(a){return ("( ").concat(a.I,", ").concat(a.offset.mb()," )");};},93514:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wp=void 0;c=a(5163);l=a(42866);b.wp=function(f,k,d,g){var n,h,m,u,t,w;void 0 === g && (g={});m=l.L.max(d,l.L.Ha);try{for(var p=c.__values(Object.keys(f.O)),q=p.next();!q.done;q=p.next()){u=q.value;t=f.O[u];if(t.J === k){w=l.L.Na(t.ta);if(m.hi(w) && (!isFinite(null !== (h=t.va) && void 0 !== h?h:NaN) || m.lessThan(l.L.Na(t.va))))return {I:u,offset:d.qa(w)};}}}catch(y){var v;v={error:y};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(v)throw v.error;}}if(g.kbb && (t=Object.keys(f.O).map(function(y){return {key:y,v:f.O[y]};}).filter(function(y){return y.v.J === k;}).map(function(y){var x,z;x=l.L.abs(d.qa(l.L.Na(y.v.ta)));if(y.v.va && isFinite(y.v.va)){z=l.L.abs(d.qa(l.L.Na(y.v.va)));x=l.L.min(x,z);}return c.__assign(c.__assign({},y),{Rn:x});}),t.sort(function(y,x){return y.Rn.G - x.Rn.G;}),w=c.__read(t,1)[0]))return (t=w.v,g=w.key,w=l.L.Na(t.ta),{I:g,offset:d.qa(w)});};},97810:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mnb=b.NEa=void 0;r=a(5163);r.__exportStar(a(53265),b);r.__exportStar(a(99982),b);r.__exportStar(a(73151),b);r.__exportStar(a(44119),b);r.__exportStar(a(13870),b);r.__exportStar(a(34039),b);r.__exportStar(a(83886),b);r.__exportStar(a(57578),b);r.__exportStar(a(64921),b);c=r.__importDefault(a(44797));b.NEa=c.default;a=r.__importDefault(a(26208));b.mnb=a.default;},34238:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.W_=void 0;c=a(78522);r=(function(){function l(f,k){this.osa=f;this.Ke=k;0 < k?(this.v4a=k=Math.pow(f,3) / k,f=2 * k / f,500 >= f && (this.oma=Math.exp(f))):this.oma=0;}l.prototype.vUa=function(f){var k,d,g;k=this.osa;d=this.oma;if(d && 0 < f){g=Math.sqrt(this.v4a / (2 * f));k=f / k;f=(0,c.fL)(g * (k - 1));g=(0,c.fL)(g * (k + 1));return Math.max((2 - f + d * g) / 2,0);}return f < k?0:f > k?1:.5;};l.prototype.Xv=function(f,k,d){for(var g=0,n=this.osa + 5 * Math.sqrt(this.Ke),h=1,m=0;Math.abs(h) > k && d--;){m=(g + n) / 2;h=this.vUa(m);h=f - h;0 > h?n=m:g=m;}return m;};l.prototype.gxb=function(f){var k,d,g,n;k=this.osa;d=this.oma;if(d && 0 < f){g=Math.sqrt(this.v4a / (2 * f));n=f / k;f=2 - (0,c.fL)(g * (n - 1));d*=(0,c.fL)(g * (n + 1));return [Math.max((f + d) / 2,0),Math.max(k * (f - d) / 2,0)];}return f < k?[0,0]:f > k?[1,k]:[.5,k / 2];};return l;})();b.W_=r;},89847:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wk=b.z4a=void 0;b.z4a=function(a){var c,l;c=a.next();do {if(!c.done)l=c.value;c=a.next();}while(!c.done);return l;};b.wk=function(a){if(Array.isArray(a))return a;for(var c=[],l=a.next();!l.done;){c.push(l.value);l=a.next();}return c;};},64921:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vra=void 0;b.vra=function(a){var c,l,f,k,d,g;g=null === (c=a.v) || void 0 === c?void 0:c.id;return {gb:null === (l=a.Ab) || void 0 === l?void 0:l.G,duration:(null === (f=a.Lb) || void 0 === f?NaN:f.G) - (null === (k=a.Ab) || void 0 === k?NaN:k.G),offset:a.offset,wa:a.wa,bitrate:a.bitrate,profile:a.profile,He:!!a.He,I:g,Gb:a.Gb,Qc:a.Qc,location:a.location,Ti:a.Ti,Vs:null === (d=a.Ka) || void 0 === d?void 0:d.G,Mt:{kb:{v:{id:g || "unknown"}}}};};},93079:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aUa=void 0;c=a(74251);l=a(60829);b.aUa=function(){return function(f){var g,n,h,m;function k(p){m[p]=function(q){return n({rules:[{Jj:p,config:q}]},!0);};}function d(p){g[p]=function(q){return n({rules:[{Jj:p,config:q}]});};}g={};n=(0,c.map)(f.K5a);for(h in f.NN){d(h);}g.O8=n({rules:[],hia:!0});g.cm=n({rules:[],cm:!0});m={};for(h in f.NN){k(h);}m.O8=n({rules:[],hia:!0},!0);m.cm=n({rules:[],cm:!0},!0);g.return=m;return {bla:g,awa:f,Pua:function(p,q,u,t){return (0,l.rWa)(p,q,u,f.NN,f.K5a,t);}};};};},74251:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xab=b.w0a=b.map=void 0;c=a(5163);a(53110);b.map=function(l){return function(f,k){void 0 === k && (k=!1);return function(d,g,n){var h,m,p,q,u,t,w,v;u=Reflect.M0a(l,d,g) || ({});w="number" === typeof n;v=k;(t=w?null !== (m=(null !== (h=u.tb) && void 0 !== h?h:{})[n]) && void 0 !== m?m:{}:v?u.return:u.Yra) || (t={rules:[]});h=c.__assign(c.__assign(c.__assign({},t),f),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=f.rules) && void 0 !== q?q:[]),!1)});w?(u.tb || (u.tb={}),u.tb[n]=h):v?u.return=h:u.Yra=h;Reflect.i4(l,u,d,g);};};};b.w0a=function(l){return function(f,k){var d,g,n,h;f=null !== (h=null !== (g=null === (d=f.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== g?g:null === (n=null === f || void 0 === f?void 0:f.constructor) || void 0 === n?void 0:n.prototype) && void 0 !== h?h:f;for(var m;f && void 0 === m;){m=Reflect.M0a(l,f,k);f=f.__proto__;}return m;};};b.Xab=function(){return function(){return function(l){return l;};};};},60829:function(r,b,a){var d,g,n,h,m;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function l(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function f(p,q){var w;for(var u=Object.getPrototypeOf(p),t=[];u !== Object.prototype;){t=t.concat(Object.getOwnPropertyNames(u));u=Object.getPrototypeOf(u);}p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);w=Object.getPrototypeOf(q);p.forEach(function(v){Object.getOwnPropertyDescriptor(q,v) || Object.getOwnPropertyDescriptor(w,v) || q[v] || Object.defineProperty(q,v,{get:function(){},configurable:!0,enumerable:!0});});}function k(p,q,u,t){var y;for(var w=[],v=4;v < arguments.length;v++){w[v - 4]=arguments[v];}y=t();if((null === y || void 0 === y?0:y.Yra) || (null === y || void 0 === y?0:y.tb))w=w.map(function(x,z){var A;z=(0,m.v6a)(y.Yra,null === (A=y.tb) || void 0 === A?void 0:A[z]);return (0,h.p$)(q,x,u,z);});w=p.call.apply(p,d.__spreadArray([void 0],d.__read(w),!1));return (null === y || void 0 === y?0:y.return)?(0,h.p$)(q,w,u,y.return,n.Bu.Tya):w;}Object.defineProperties(b,{__esModule:{value:!0}});b.jIb=b.cDb=b.rWa=void 0;d=a(5163);g=a(74251);n=a(91795);h=a(28445);m=a(23646);b.rWa=function(p,q,u,t,w,v){var y,x;void 0 === v && (v=[]);y={};x=(0,g.w0a)(w);f(q,p);v.forEach(function(z){return f(z,p);});return new Proxy(p,{get:function(z,A){var B,C,D,F;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){F=q[A];return "function" === typeof F?F.bind(q):F;}B=y[A];if(!B && !l(y,A)){B=null !== (D=null === (C=null === z || void 0 === z?void 0:z.constructor) || void 0 === C?void 0:C.prototype) && void 0 !== D?D:z;C=null !== (F=c(B,A)) && void 0 !== F?F:c(B.__proxyCtor,A);F=l(B,A);if(null === F || void 0 === F?0:F.get)return (F=F.get,C=x.bind(null,C,A),z=k.bind(z,F.bind(z),u,t,C),Object.defineProperty(y,A,{get:z,enumerable:!0,configurable:!0}),z());F=z[A];return "function" === typeof F?(C=x.bind(null,z,A),z=k.bind(z,F.bind(z),u,t,C),y[A]=z):F;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete y[A];return !0;}});};b.cDb=f;b.jIb=k;},91795:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Bu=void 0;r=b.Bu || (b.Bu={});r[r.Tya=0]="up";r[r.XS=1]="down";},28445:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.p$=void 0;c=a(5163);l=a(62558);f=a(91795);b.p$=function(k,d,g,n,h,m){var p,q;void 0 === h && (h=f.Bu.XS);p=k();if(n && p){q=n.hia;k=n.cm;n=n.rules.map(function(u){return ["function" === typeof u.Jj?u.Jj(g):g[u.Jj],u.config];});q || (0,l.assert)(d,"Param is null");m && n.push([{map:m,Ix:function(){return !0;}},void 0]);m=n.filter(function(u){u=c.__read(u,2);return u[0].Ix(d,p,u[1]);});k && (0,l.assert)(m.length,("No rules matched for ").concat(d));if(m.length)return m.reduce(function(u,t){t=c.__read(t,2);return t[0].map(u,h,p,t[1]);},d);}return d;};},23646:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.v6a=void 0;c=a(5163);l=a(42866);b.v6a=function(f,k){var d;if(f || k){d=(null === f || void 0 === f?0:f.rules) && (null === k || void 0 === k?0:k.rules)?(0,l.dK)(f.rules,k.rules):(null === f || void 0 === f?void 0:f.rules) || (null === k || void 0 === k?void 0:k.rules);return c.__assign(c.__assign(c.__assign({},f),k),{rules:d});}};},99982:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SIa=void 0;c=a(42866);l=a(62558);r=(function(){function f(){this.data={};}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){var k;k=this;return Object.keys(this.data).reduce(function(d,g){return d + k.data[g].length;},0);},enumerable:!1,configurable:!0}});f.prototype.get=function(k){var d;return null !== (d=this.data[k]) && void 0 !== d?d:[];};f.prototype.has=function(k,d){return (k=this.data[k])?void 0 === d?!0:-1 !== k.indexOf(d):!1;};f.prototype.count=function(k){return (k=this.data[k])?k.length:0;};f.prototype.keys=function(){return Object.keys(this.data);};f.prototype.values=function(){var k;k=this;return (0,c.flatten)(this.keys().map(function(d){return k.data[d];}));};f.prototype.set=function(k,d){(this.data[k] || (this.data[k]=[])).push(d);return this;};f.prototype.clear=function(){this.data={};};f.prototype.delete=function(k,d){var g,n;g=this.data[k];if(void 0 === g)return !1;if(void 0 === d)return ((0,l.assert)(1 === arguments.length),delete this.data[k],!0);n=g.indexOf(d);if(-1 === n)return !1;1 === g.length?delete this.data[k]:g.splice(n,1);return !0;};f.prototype.forEach=function(k,d){var g;g=this;k=void 0 !== d?k.bind(d):k;this.keys().forEach(function(n){return g.data[n].forEach(function(h){return k(h,n,g);});});};f.prototype.reduce=function(k,d,g){var n,h;n=this;k=void 0 !== g?k.bind(g):k;h=d;this.forEach(function(m,p){h=k(h,m,p,n);});return h;};f.prototype.map=function(k,d){var g;g=this;k=void 0 !== d?k.bind(d):k;return (0,c.flatten)(this.keys().map(function(n){return g.data[n].map(function(h){return k(h,n,g);});}));};f.prototype.filter=function(k,d){var g;g=this;k=void 0 !== d?k.bind(d):k;return (0,c.flatten)(this.keys().map(function(n){return g.data[n].filter(function(h){return k(h,n,g);});}));};return f;})();b.SIa=r;},86786:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.d3a=void 0;c=a(5163);b.d3a=function(l,f){var n,h,m,p,q,u,t,y,x,z,A,B,C,D;for(var k,d,g=0;g < l.length;g++){n=c.__read(f,3);h=n[0];m=n[1];p=n[2];q=c.__read(l[g],3);u=q[0];n=q[1];t=q[2];if(!(h >= n)){h=[h,Math.min(n,m),u,n].filter(function(F,G,E){return E.indexOf(F) === G;}).sort(function(F,G){return F - G;});u=h.length - 1;q=Array(u);p+=t;try{for(var w=(k=void 0,c.__values([f,l[g]])),v=w.next();!v.done;v=w.next()){y=c.__read(v.value,3);x=y[0];z=y[1];A=y[2];t=z - x;for(f=0;f < u;f++){B=h[f + 1];C=Math.min(B,z) - Math.max(h[f],x);if(0 < C){D=C * A / t;p-=D;q[f]=q[f]?q[f] + D:D;}if(z <= B)break;}}}catch(F){k={error:F};}finally{try{v && !v.done && (d=w.return) && d.call(w);}finally{if(k)throw k.error;}}t=[];for(f=0;f < u;f++){A=q[f];0 < A && t.push([h[f],h[f + 1],A]);}l.splice.apply(l,c.__spreadArray([g,1],c.__read(t),!1));if(n < m)f=[n,m,p];else return;}}f && 0 < f[2] && l.splice(l.length,0,f);};},26208:function(r){function b(a){this.oqb=a;this.zE=[];this.CA=!1;this.qha=void 0;this.sm={};}b.prototype.rSa=function(a){this.zE.length === this.oqb && this.zE.shift();Array.isArray(a)?this.zE=this.zE.concat(a):this.zE.push(a);this.CA=!0;};b.prototype.eU=function(){return this.zE.length;};b.prototype.pK=function(a){var c,l,f;if(this.CA || void 0 === this.qha)(this.qha=this.zE.slice(0).sort(function(k,d){return k - d;}),this.sm={},this.CA=!1);if(void 0 === this.sm[a]){c=this.qha;l=Math.floor(a / 100 * (c.length - 1) + 1) - 1;f=(a / 100 * (c.length - 1) + 1) % 1;this.sm[a]=l === c.length - 1?c[l]:c[l] + f * (c[l + 1] - c[l]);}return this.sm[a];};r.exports=b;},57206:function(r,b){var l,f,k;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.oPa);}function c(d){return (a(d)?d:Object.defineProperties(d,{oPa:{value:{},configurable:!1,enumerable:!1}})).oPa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Tea=void 0;f=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;k=Date.now() % f;r=(function(){function d(){this.id=k=(k + 1) % f;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,n){c(g)[this.id]=n;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.Tea=r;},26973:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Gnb=void 0;c=a(12043);l=a(22209);f=["","",""];r=(function(){function k(d){this.request=d;this.complete=this.append=this.i5=this.Tqa=this.open=0;}Object.defineProperties(k.prototype,{console:{get:function(){return l.lq.Av(this.request.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gva:{get:function(){var d;return null === (d=this.request.Ld) || void 0 === d?void 0:d.G;},enumerable:!1,configurable:!0}});k.prototype.KVb=function(){this.open=c.platform.time.xa();};k.prototype.EVb=function(){this.Tqa=c.platform.time.xa();this.zx();};k.prototype.AVb=function(){this.i5=c.platform.time.xa();this.zx();};k.prototype.OM=function(){this.complete=c.platform.time.xa();this.zx();};k.prototype.zx=function(){var d;d=("RequestLedger ID: ").concat(this.request.Ti());d+=(" load-open: ").concat(this.Tqa - this.open);0 < this.i5 && (" firstbyte-load: ").concat(this.i5 - this.Tqa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.i5);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),d=this.request.mediaType,this.Gva && this.complete - this.open > this.Gva?((" duration: ").concat(this.Gva),f[d]+="X"):f[d]+=".",10 < f[d].length && (f[d]=f[d].slice(1)));};return k;})();b.Gnb=r;},12289:function(r,b,a){var l,f,k,d,g;function c(n,h){return n.time - h.time || n.priority - h.priority || n.id - h.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.zrb=b.y3=b.R$=void 0;l=a(12043);f=a(42866);k=a(49730);d=a(62558);g=(function(){function n(){var h;h=this;this.Do=new f.c0([],c);this.qya=0;this.console=new l.platform.Console("SETTIMEOUT");this.bGb=function(){var m,p;m=l.platform.time.xa();h.YX=void 0;k.K && h.console.trace(("[").concat(m,"] Wake"));try{for(;!h.Do.empty && h.Do.Lt().time <= m;){p=h.Do.pop();k.K && h.console.trace(("[").concat(l.platform.time.xa(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.Ts();}}finally{h.pwa();}};}Object.defineProperties(n,{instance:{get:function(){return n.Ds || (n.Ds=new n());},enumerable:!1,configurable:!0}});n.kha=function(){(0,d.assert)(void 0 === n.Ds || n.Ds.Do.empty,"Singleton SetTimeoutWithPriority reset with pending timers");n.Ds=void 0;};n.prototype.R$=function(h,m,p){var q,u,t;(0,d.assert)(isFinite(m) && 0 <= m);q=this.Do;u=l.platform.time.xa();t=u + m;q.push({id:++this.qya,time:t,priority:p,Ts:h});k.K && this.console.trace(("[").concat(u,"] New p").concat(p," timer ").concat(this.qya," scheduled for ").concat(t," in ").concat(m,"ms"));this.pwa();return this.qya;};n.prototype.y3=function(h){var m,p,q;m=this.Do;p=m.find(function(u){return u.id === h;});if(p){q=m.Lt().time;m.remove(p);k.K && this.console.trace(("[").concat(l.platform.time.xa(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(m.empty || m.Lt().time > q) && this.pwa();}};n.prototype.cVa=function(){this.YX && (clearTimeout(this.YX.id),k.K && this.console.trace(("[").concat(l.platform.time.xa(),"] Clearing wake timer")),this.YX=void 0);};n.prototype.pwa=function(){var h,m;m=this.Do;m.empty?this.cVa():(m=m.Lt().time,m !== (null === (h=this.YX) || void 0 === h?void 0:h.time) && (this.cVa(),h=Math.max(0,m - l.platform.time.xa()),k.K && this.console.trace(("[").concat(l.platform.time.xa(),"] Setting wake timer for ").concat(m," in ").concat(h,"ms")),this.YX={id:setTimeout(this.bGb,h),time:m}));};return n;})();b.R$=function(n,h,m){return g.instance.R$(n,h,m);};b.y3=function(n){g.instance.y3(n);};b.zrb=function(){g.kha();};},44119:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pNa=b.oNa=void 0;c=a(42866);r=(function(){function l(f){this.Qa=f;this.listeners=[];this.dW=[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});l.prototype.set=function(f){var k;this.Qa=f;k=this.dW;this.dW=[];this.listeners.forEach(function(d){return d(f);});k.forEach(function(d){return d(f);});};l.prototype.Kab=function(){this.Qa=void 0;};l.prototype.on=function(f){this.listeners=this.listeners.concat([f]);void 0 !== this.Qa && f(this.Qa);};l.prototype.once=function(f){void 0 !== this.Qa?f(this.Qa):this.dW.push(f);};l.prototype.zr=function(f){this.listeners=this.listeners.filter(function(k){return k !== f;});this.dW=this.dW.filter(function(k){return k !== f;});};return l;})();b.oNa=r;r=(function(){function l(){this.listeners=[];}l.prototype.on=function(f,k){this.listeners.push({signal:f,listener:k});f.on(k);};l.prototype.once=function(f,k){var d,g;d=this;if(void 0 === f.value){g=function(n){d.remove(f,k);k(n);};this.listeners.push({signal:f,listener:k,Hgb:g});f.once(g);}else f.once(k);};l.prototype.zr=function(f,k){var d;d=(0,c.tc)(this.listeners,function(g){return g.signal === f && g.listener === k;});void 0 !== d && f.zr(d.Hgb || d.listener);this.remove(f,k);};l.prototype.removeAllListeners=function(){this.listeners.forEach(function(f){var k;k=f.listener;return f.signal.zr(f.Hgb || k);});this.listeners=[];};l.prototype.remove=function(f,k){this.listeners=this.listeners.filter(function(d){return d.signal !== f || d.listener !== k;});};return l;})();b.pNa=r;},74037:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qQ=void 0;c=a(5163);l=a(83886);r=(function(){function f(k,d){var g;this.yPa=k;this.Jeb=d;this.Fx={other:new l.Uh(),all:new l.Uh()};try{for(var n=c.__values(k),h=n.next();!h.done;h=n.next()){this.Fx[h.value]=new l.Uh();}}catch(p){var m;m={error:p};}finally{try{h && !h.done && (g=n.return) && g.call(n);}finally{if(m)throw m.error;}}}f.Np=function(k,d){var g,n,p;if(k === d)return k;n=new f(k.yPa,k.Jeb);try{for(var h=c.__values(Object.keys(k.Fx)),m=h.next();!m.done;m=h.next()){p=m.value;n.Fx[p]=k.Fx[p].Np(d.Fx[p]);}}catch(u){var q;q={error:u};}finally{try{m && !m.done && (g=h.return) && g.call(h);}finally{if(q)throw q.error;}}return n;};f.prototype.Svb=function(k){var d,g,m;k=(null === (g=this.Jeb) || void 0 === g?void 0:g.call(this,k)) || k;try{for(var n=c.__values(this.yPa),h=n.next();!h.done;h=n.next()){m=h.value;if(k < m)return m;}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (d=n.return) && d.call(n);}finally{if(p)throw p.error;}}return "other";};f.prototype.push=function(k){var d,g;g=null !== (d=this.Svb(k)) && void 0 !== d?d:"other";this.Fx[g].push(k);this.Fx.all.push(k);};f.prototype.toJSON=function(){var k,d;k=this;d={};Object.keys(this.Fx).forEach(function(g){var n;n=k.Fx[g];n.count && (d[g]=n);});return d;};return f;})();b.qQ=r;},83886:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Uh=void 0;r=(function(){function a(c){void 0 === c && (c=!1);this.YVa=c;this.count=0;this.Ca=NaN;this.OX=0;this.max=this.min=NaN;}Object.defineProperties(a.prototype,{cw:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;this.OX+=c;1 === this.count?this.Ca=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Ca+=(c - this.Ca) / this.count);};a.prototype.toJSON=function(){return this.YVa || 0 === this.count?{count:this.count}:{min:this.min,max:this.max,average:this.Ca,count:this.count,sum:this.OX};};a.prototype.Np=function(c){var l;if(0 === this.count)return c;if(0 === c.count)return this;l=new a(this.YVa);l.count=this.count;l.Ca=this.Ca;l.OX=this.OX;l.min=Math.min(this.min,c.min);l.max=Math.max(this.max,c.max);for(var f=0;f < c.count;f++){l.push(c.Ca);}return l;};return a;})();b.Uh=r;},53595:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.R0=void 0;c=a(12043);r=(function(){function l(){}Object.defineProperties(l.prototype,{duration:{get:function(){if(void 0 !== this.endTime)return this.endTime - this.startTime;},enumerable:!1,configurable:!0}});l.prototype.start=function(){this.reset();};l.prototype.reset=function(){this.startTime=c.platform.time.xa();this.endTime=void 0;};l.prototype.stop=function(){this.endTime=c.platform.time.xa();};return l;})();b.R0=r;},7881:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(14644),b);r.__exportStar(a(22972),b);r.__exportStar(a(40945),b);r.__exportStar(a(96),b);r.__exportStar(a(19457),b);},14644:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ida=void 0;c=a(5163);l=a(42866);f=a(12043);k=a(62558);a(31549);d=a(40945);g=a(19457);r=(function(n){function h(m,p,q){p=n.call(this,p,q) || this;p.C1b=m;p.Gga=!1;p.P1=!1;p.reset();return p;}c.__extends(h,n);h.prototype.reset=function(){var m,p;if(this.Xa === d.Dk.q$ || this.Xa === d.Dk.pending)null === (p=null === (m=this.DJ) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m);n.prototype.reset.call(this);this.DJ=this.C1b();this.P1=!1;this.gR=g.Jg.fD(l.L.Ha);};h.prototype.mf=function(){this.reset();(0,k.assert)(this.Hn);this.Hn.gX(this);};h.prototype.E8=function(){return this.gR;};h.prototype.yf=function(){var m,p,q,u;try{this.Gga=!0;u=(null === (m=this.DJ) || void 0 === m?void 0:m.next()) || ({done:!0});}finally{this.Gga=!1;this.gqb=f.platform.time.xa();this.Fxb();}u.done?(this.gR=g.Jg.xza,null === (q=null === (p=this.DJ) || void 0 === p?void 0:p.return) || void 0 === q?void 0:q.call(p),this.DJ=void 0):this.gR=u.value;};h.prototype.Fxb=function(){this.P1 && this.vXa();};h.prototype.vXa=function(){var m,p;this.Gga?this.P1=!0:(this.P1=!1,null === (p=null === (m=this.DJ) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m),this.DJ=void 0);};h.prototype.Oa=function(){this.vXa();n.prototype.Oa.call(this);};h.prototype.Ll=function(){return {state:d.Dk[this.state],nextWakeup:{ms:this.gR.timestamp.G,type:g.O0[this.gR.type]},lastRunMono:this.gqb};};return h;})(d.vfa);b.ida=r;},72396:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x){var z,A,B,C,D,F,G,E,I,M,L,K;A=x.sa;B=x.Ts;C=x.zgb;D=x.em;F=x.priority;G=void 0 === F?0:F;F=x.dD;E=void 0 === F?!0:F;x=x.CTa;I=void 0 === x?!0:x;(0,n.assert)(A.ji,("Current time: ").concat(g.platform.time.xa()," cr: ").concat(A.currentTime));(0,n.assert)(A.currentTime.isFinite());x=C.qa(A.currentTime);I && (x=l(x,null !== (z=null === D || void 0 === D?void 0:D.P8) && void 0 !== z?z:0));M=Math.max(Math.ceil(x.Yv / A.speed),0);L=D || ({id:void 0,oXa:M,P8:0,kWb:M,dD:E,r3:[]});K=g.platform.time.xa();L.id=(L.dD?p.R$:setTimeout)(function(){var O,H;O=C.qa(A.currentTime);H=g.platform.time.xa() - K - M;L.r3.push({delay:H,e4b:M});O.Fy(d.L.Ha)?B():(L.P8++,c({sa:A,Ts:B,zgb:C,em:L,priority:G,dD:E,CTa:I}));},M,G);L.oXa=M;return L;}function l(x,z){return 0 < z?d.L.max(x,d.L.Na(10 * (1 << Math.min(z,6) - 1))):x;}Object.defineProperties(b,{__esModule:{value:!0}});b.$ea=b.gfa=void 0;f=a(5163);k=a(57055);d=a(42866);g=a(12043);n=a(62558);h=a(49730);m=a(36344);p=a(12289);q=a(83386);u=a(40945);t=a(19457);w=a(18653);v=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{jI:{get:function(){return this.sha;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{F8:{get:function(){return this.Eqb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{YBb:{get:function(){return this.hpb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{y$:{get:function(){return this.Drb;},enumerable:!1,configurable:!0}});x.prototype.set=function(z,A,B){this.hpb=A === y.H8?0:g.platform.time.xa();this.Eqb=z;this.Drb=A;h.K && (0,n.assert)(!this.sha,"Invalid replacement of timeout value");this.sha=B;};x.prototype.complete=function(){this.sha=void 0;this.set(d.L.Jp,y.H8);};return x;})();(function(x){x[x.H8=0]="none";x[x.EV=1]="microTask";x[x.setTimeout=2]="setTimeout";})(y=b.gfa || (b.gfa={}));r=(function(x){function z(A,B){var C;C=x.call(this) || this;C.sa=A;C.console=B;C.aR=!1;C.t1=!1;C.pj=new v();C.nT=new k.ze();C.Bh=new d.c0([],(0,m.CVa)(function(D,F){return D.xH.Jk(F.xH);},function(D,F){return D.Mf.qc.priority - F.Mf.qc.priority;},function(D,F){return F.Mf.priority - D.Mf.priority;},function(D,F){return D.Mf.id > F.Mf.id?1:D.Mf.id < F.Mf.id?-1:0;}));C.O2(A);return C;}f.__extends(z,x);z.y2b=function(A){this.config=A;};z.OJb=function(A,B){var D,F;function C(){var G,E;G=new z(A,B);E=new q.X_(function(I){I() && (G.Oa(),D.z$.delete(A));},B);return {qc:G,Iqa:E};}D=this;(0,n.assert)(this.config,"Config has not been intiialized");this.config.zUa && (this.z$.has(A) || this.z$.set(A,C()));F=this.z$.get(A) || C();return {qc:F.qc,Ey:F.Iqa.Ms()};};Object.defineProperties(z.prototype,{Zaa:{get:function(){return this.FE;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{C3b:{get:function(){return this.sa.ji;},enumerable:!1,configurable:!0}});z.prototype.OEb=function(){this.FE || (this.FE=new w.Dfa());return this.FE;};z.prototype.Ll=function(){var A;A={hasSchedule:!!this.pj.jI,schedule:this.pj.jI && ({sleepTime:this.pj.jI.oXa,originalSleepTime:this.pj.jI.kWb,clockSkewAdjustments:this.pj.jI.P8}),nextWakeup:this.pj.F8.G,timeScheduled:this.pj.YBb,scheduleType:y[this.pj.y$],numTasks:this.Bh.length,clock:{ir:this.sa.ji,ct:this.sa.currentTime.G,sp:this.sa.speed}};h.K && this.trace("audit",A);return A;};z.prototype.O2=function(A){var B;B=this;this.Nq();this.nT.clear();this.sa=A;this.nT.on(A,"stopStart",function(){return B.pH();});this.nT.on(A,"clockAdjusted",function(){return B.XV();});this.nT.on(A,"speedChanged",function(){return B.ZVb();});this.XV();this.emit("clockChanged");};z.prototype.ZVb=function(){this.Nq();this.pH();};z.prototype.Oa=function(){this.reset();this.aR && (this.t1=!0);this.nT.clear();this.nG=!0;};z.prototype.reset=function(){var A;this.Nq();A=this.Bh.wk();this.Bh.clear();A.forEach(function(B){return B.Mf.Oa();});};z.prototype.mf=function(){var A;this.Nq();A=this.Bh.wk();this.Bh.clear();A.forEach(function(B){return B.Mf.mf();});};z.prototype.XV=function(){var A,B;A=this;B=this.Bh.map(function(C){return C.Mf;});this.Nq();this.Bh.clear();B.forEach(function(C){return A.aK(C,!1);});this.pH();};z.prototype.aK=function(A,B){var C,D;void 0 === B && (B=!0);C=A.E8();D=this.seb(C);C={Mf:A,xH:D,h$:C};h.K && this.trace(("Adding task ").concat(A.name," for ").concat(D.G," from ").concat(A.qc.name) + ("/").concat(A.qc.priority));(0,n.assert)(!this.Bh.contains(C));this.Bh.push(C);B && this.pH();};z.prototype.Raa=function(A){var B,C;B=this;this.Nq();A.Vt && this.Bh.map(function(D){return D;}).filter(function(D){return -1 !== A.Vt.indexOf(D.Mf);}).forEach(function(D){return B.Bh.remove(D);});null === (C=A.WR) || void 0 === C?void 0:C.forEach(function(D){return B.aK(D,!1);});this.pH();};z.prototype.pH=function(){var A,B,C,D,F,G;A=this;h.K && this.trace("recheck schedule task count:" + this.Bh.length);if(this.C3b){if(this.aR)h.K && this.trace("already executing, bailing");else if(this.pj.y$ === y.EV)h.K && this.trace("Already scheduled on microtask, bailing");else {C=this.pj.F8;D=this.Bh.Lt();F=(null === D || void 0 === D?void 0:D.xH) || d.L.Jp;if(F.isFinite() && F.Esa(C)){if((this.Nq(!1),this.sa.currentTime.hi(F)))(this.pj.set(F,y.EV),Promise.resolve().then(function(){A.pj.y$ === y.EV && (A.pj.complete(),A.Zab({type:y.EV}));}));else {h.K && this.trace("scheduling next wake up for",{kkc:F.G,Mf:null === D || void 0 === D?void 0:D.Mf.name,H1b:null === D || void 0 === D?void 0:D.Mf.qc.name});G=c({sa:this.sa,Ts:function(){A.pj.complete();A.Zab({type:y.setTimeout,F8:F,delay:A.sa.currentTime.qa(F),eF:G.P8,r3:G.r3});},zgb:F,priority:null !== (B=null === D || void 0 === D?void 0:D.Mf.qc.priority) && void 0 !== B?B:0,dD:!!z.config.dD,CTa:!!z.config.BTa});this.pj.set(F,y.setTimeout,G);}}else F.isFinite() || this.pj.y$ !== y.setTimeout || this.Nq(!1);}}else (h.K && this.trace("should check schedule is false, stopping"),this.Nq());};z.prototype.Zab=function(A){var B,C,D,F,G;F=0;G=null === (B=this.Bh.Lt()) || void 0 === B?void 0:B.h$;try{for((this.aR=!0,null === (C=this.FE) || void 0 === C?void 0:C.J4b(A));1E4 > F++ && this.g7b();){;}}finally{this.aR=!1;null === (D=this.FE) || void 0 === D?void 0:D.CFb(F);this.Nq();1E4 < F && !this.iNb(G)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(h.K && this.trace("Next tasks",this.Bh.map(function(E){return {name:E.Mf.name,H1b:E.Mf.qc.name,lkc:E.xH.G};})),this.pH());}};z.prototype.iNb=function(A){var B,C;C=null === (B=this.Bh.Lt()) || void 0 === B?void 0:B.h$;return A && C && A.timestamp.equal(C.timestamp) && A.type === C.type?!1:!0;};z.prototype.kSb=function(){this.aR && (this.t1=!0);};z.prototype.g7b=function(){var A,B,C,D,F,G;D=(null === (A=this.Bh.Lt()) || void 0 === A?void 0:A.xH) || d.L.Jp;h.K && this.trace(("tryExecuteNextTask @").concat(this.sa.currentTime.G,", next wakeup at ").concat(D));A=this.sa.currentTime;if(A.hi(D)){F=this.Bh.pop();if(F){G=F.Mf;null === (B=this.FE) || void 0 === B?void 0:B.I4b({Mf:G,currentTime:A,F8:D});this.Pka=G;B=!1;h.K && this.trace("Running a task @" + A.G + ", scheduled for time:" + D.G + ("Name:").concat(G.name));try{G.ON();B=!0;F.h$=G.E8();F.xH=this.seb(F.h$);}catch(E){throw (this.error(("Unhandled error from a task ").concat(G.name," occurred.") + " Removing the task from future executions:" + E,{stack:E.stack}),G.Oa(),E);}finally{null === (C=this.FE) || void 0 === C?void 0:C.BFb({Mf:G,Ejc:B});this.Pka=void 0;this.t1?(G.Oa(),this.t1=!1):F.xH !== d.L.Jp && G.state === u.Dk.q$ && ((0,n.assert)(!this.Bh.contains(F)),this.Bh.push(F));}return !0;}}};z.prototype.gX=function(A){this.qH(A,!1);this.aK(A);};z.prototype.qH=function(A,B){var C;void 0 === B && (B=!0);C=this.Bh.find(function(D){return D.Mf === A;});C && this.h0b(C,B);};z.prototype.h0b=function(A,B){this.Bh.remove(A);B && this.pH();};z.prototype.Nq=function(A){var B;void 0 === A && (A=!0);this.pj.jI && (A && this.emit("stopping"),A=this.pj.jI,(A.dD?p.y3:clearTimeout)(A.id),this.pj.complete(),null === (B=this.Zaa) || void 0 === B?void 0:B.Nq());};z.prototype.seb=function(A){return A.type === t.O0.absolute?A.timestamp:A.timestamp.add(this.sa.currentTime);};z.prototype.trace=function(){for(var A,B=[],C=0;C < arguments.length;C++){B[C]=arguments[C];}null === (A=this.console) || void 0 === A?void 0:A.trace.apply(A,f.__spreadArray(["RootTaskScheduler:"],f.__read(B),!1));};z.prototype.error=function(){for(var A,B=[],C=0;C < arguments.length;C++){B[C]=arguments[C];}null === (A=this.console) || void 0 === A?void 0:A.error.apply(A,f.__spreadArray(["RootTaskScheduler:"],f.__read(B),!1));};z.config={dD:!0,zUa:!0,BTa:!0};z.z$=new WeakMap();return z;})(k.EventEmitter);b.$ea=r;},22972:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rNa=void 0;c=a(5163);l=a(40945);f=a(19457);r=(function(k){function d(g,n,h,m){void 0 === m && (m={});h=k.call(this,h) || this;h.swa=g;h.Ts=n;h.options=m;return h;}c.__extends(d,k);d.prototype.E8=function(){return this.Xa === l.Dk.pending?this.swa:f.Jg.xza;};d.prototype.yf=function(){this.Ts();};d.prototype.mf=function(){this.options.mjc?(k.prototype.reset.call(this),this.Hn.gX(this)):this.Oa();};return d;})(l.vfa);b.rNa=r;},40945:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vfa=b.Dk=void 0;c=a(19457);(function(f){f[f.pending=0]="pending";f[f.q$=1]="running";f[f.complete=2]="complete";f[f.rF=3]="destroyed";})(l=b.Dk || (b.Dk={}));r=(function(){function f(k,d){void 0 === d && (d=0);this.name=k;this.priority=d;this.Xa=l.pending;}Object.defineProperties(f.prototype,{state:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{p3a:{get:function(){return this.Xa === l.pending || this.Xa === l.q$;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{qc:{get:function(){return this.Hn;},enumerable:!1,configurable:!0}});f.prototype.Dub=function(k){var d;null === (d=this.Hn) || void 0 === d?void 0:d.qH(this);this.Hn=k;};f.prototype.ON=function(){this.Xa=l.q$;this.yf();this.E8() === c.Jg.xza && (this.Xa=l.complete,this.qc.qH(this));};f.prototype.Oa=function(){var k;this.Xa=l.rF;null === (k=this.Hn) || void 0 === k?void 0:k.qH(this);};f.prototype.CUa=function(k){this.Hn.qH(this);this.Hn=k;this.Hn.gX(this);};f.prototype.Ll=function(){};f.prototype.reset=function(){this.Xa=l.pending;};return f;})();b.vfa=r;},96:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.jba=b.uQ=void 0;c=a(5163);l=a(57055);f=a(62558);k=a(49730);d=a(89847);g=a(14644);n=a(22972);h=a(19457);m=a(72396);r=(function(p){function q(u,t,w,v){var y;void 0 === w && (w="unknown");void 0 === v && (v=0);y=p.call(this) || this;y.sa=u;y.console=t;y.name=w;y.priority=v;y.Cqb=0;y.ox=new l.ze();y.Ks=new Set();y.O2(u);return y;}c.__extends(q,p);Object.defineProperties(q.prototype,{nG:{get:function(){return void 0 === this.Hk;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{MN:{get:function(){return this.Hk;},enumerable:!1,configurable:!0}});q.prototype.BWa=function(u,t){u=new (u.bind.apply(u,c.__spreadArray([void 0],c.__read(t),!1)))();u.id=this.Cqb++;u.Dub(this);this.aK(u);return u;};q.prototype.Vx=function(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}return this.BWa(g.ida,u);};q.prototype.Ll=function(){var u,t;t=c.__assign(c.__assign({},null === (u=this.Hk) || void 0 === u?void 0:u.Ll()),{privateNumTasks:this.Ks.size});k.K && this.trace("audit",t);return t;};q.prototype.bB=function(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}return this.BWa(n.rNa,u);};q.prototype.iWa=function(u,t,w){return this.Vx(function(){return c.__generator(this,function(v){switch(v.label){case 0:return [4,h.Jg.fD(t)];case 1:return (v.Ua(),u(),[3,0]);case 2:return [2];}});},w);};q.prototype.O2=function(u){var t,w,v;t=this;this.Hk && this.Hk.Raa({Vt:(0,d.wk)(this.Ks.values())});this.W$a();w=m.$ea.OJb(u,this.console);v=w.qc;w=w.Ey;this.Hk=v;this.ox.clear();this.sa=u;this.ox.on(v,"stopping",function(){return t.emit("stopping");});this.Brb=w;this.Hk.Raa({WR:(0,d.wk)(this.Ks.values())});this.emit("clockChanged");};q.prototype.Oa=function(){var u;if(!this.nG){u=this.Hk.Pka && this.Ks.has(this.Hk.Pka);this.reset();u && this.Hk.kSb();this.W$a();}};q.prototype.W$a=function(){var u;this.Hk && this.emit("rootSchedulerReleasing",{MN:this.Hk});null === (u=this.Brb) || void 0 === u?void 0:u.release();this.Hk=void 0;};q.prototype.reset=function(){var u;if(!this.nG){u=(0,d.wk)(this.Ks.values());this.Hk.Raa({Vt:u});this.Ks.clear();u.forEach(function(t){return t.Oa();});}};q.prototype.mf=function(){var u;if(!this.nG){u=(0,d.wk)(this.Ks.values());this.Hk.Raa({Vt:u});u.forEach(function(t){return t.mf();});}};q.prototype.aK=function(u,t){void 0 === t && (t=!0);this.Ks.add(u);this.Hk.aK(u,t);};q.prototype.gX=function(u){(0,f.assert)(u.qc === this);this.nG?k.K && this.console.warn(("Task restarted after destruction ").concat(u.name," on ").concat(this.name)):(this.Ks.add(u),this.Hk.gX(u));};q.prototype.qH=function(u,t){void 0 === t && (t=!0);!this.nG && this.Ks.has(u) && (this.Ks.delete(u),this.Hk.qH(u,t));};q.prototype.trace=function(){for(var u,t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}null === (u=this.console) || void 0 === u?void 0:u.trace.apply(u,c.__spreadArray([("TaskScheduler(").concat(this.name,"):")],c.__read(t),!1));};return q;})(l.EventEmitter);b.uQ=r;b.jba=function(p,q,u){var t;t=void 0;return (u || p.sa.ji) && p.sa.currentTime.hi(q)?{promise:Promise.resolve()}:{promise:new Promise(function(w){t=p.bB(h.Jg.ou(q),w);}),Mf:t};};},19457:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Jg=b.O0=void 0;c=a(42866);(function(d){d[d.absolute=0]="absolute";d[d.U$a=1]="relative";})(l=b.O0 || (b.O0={}));k=(function(){function d(g,n){this.type=g;this.timestamp=n;}d.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(l[this.type]);};Object.defineProperties(d,{Ha:{get:function(){f || (f=new d(l.U$a,c.L.Ha));return f;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.ou=function(g){return new k(l.absolute,g);};Object.defineProperties(d,{w9b:{get:function(){return k.Ha;},enumerable:!1,configurable:!0}});d.fD=function(g){return new k(l.U$a,g);};d.xza=new k(l.absolute,c.L.Jp);return d;})();b.Jg=r;},18653:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Dfa=void 0;c=a(12043);l=a(83886);f=a(74037);k=a(53595);d=a(14644);g=a(72396);n=[100,200,400,800,1600,3200];r=(function(){function h(){this.aya=new WeakMap();this.bya=new k.R0();this.hra=new k.R0();this.c3=new k.R0();this.state={sO:c.platform.time.xa(),gI:0,A$:1,jh:{DG:new l.Uh(!0),kV:new l.Uh(),jV:new l.Uh(),xU:new l.Uh(!0),gY:new l.Uh(),eF:new l.Uh(),kX:new l.Uh(!0),tS:new f.qQ(n),uS:new f.qQ(n)},bI:{}};}h.prototype.t1a=function(m){var p;if(m.name)return ("").concat(m.qc.name,"::").concat(m.name);if(!this.aya.get(m)){p=("").concat(m.qc.name,"::'unk'::").concat(m.id,"::iterable?").concat(m instanceof d.ida);this.aya.set(m,p);}return this.aya.get(m);};h.prototype.I4b=function(m){var p;m=this.t1a(m.Mf);(p=this.state.bI)[m] || (p[m]={U4:new l.Uh(),xma:0});this.bya.start();};h.prototype.Nq=function(){this.state.jh.kX.push(1);};h.prototype.J4b=function(m){var p;p=this;m.type === g.gfa.EV?this.state.jh.xU.push(1):(this.state.jh.gY.push(m.delay.G),m.r3.forEach(function(q){p.state.jh.tS.push(q.delay);p.state.jh.uS.push(q.e4b);}),this.state.jh.eF.push(m.eF));this.hra.start();this.c3.stop();this.c3.duration && this.state.jh.jV.push(this.c3.duration);};h.prototype.CFb=function(m){this.hra.stop();this.c3.start();this.state.jh.kV.push(this.hra.duration);this.state.jh.DG.push(m);};h.prototype.BFb=function(m){m=this.t1a(m.Mf);this.bya.stop();this.state.bI[m].U4.push(this.bya.duration);};h.prototype.Ll=function(){this.state.gI=c.platform.time.xa() - this.state.sO;return this.state;};h.reduce=function(m,p){var q,u,t,w,v;if(0 === m.gI && 0 === m.jh.DG.count)return p;if(0 === p.gI && 0 === p.jh.DG.count || m === p)return m;q=m.sO < p.sO?m:p;u=q === m?p:m;t=q.jh;w=u.jh;v={};Object.keys(m.bI).concat(Object.keys(p.bI)).forEach(function(y){var x,z;if(!v[y]){x=m.bI[y];z=p.bI[y];v[y]=x && z?{U4:x.U4.Np(z.U4),xma:x.xma + z.xma}:x || z;}});return {sO:q.sO,gI:q.gI + u.gI,A$:q.A$ + u.A$,jh:{xU:t.xU.Np(w.xU),DG:t.DG.Np(w.DG),kV:t.kV.Np(w.kV),jV:t.jV.Np(w.jV),kX:t.kX.Np(w.kX),gY:t.gY.Np(w.gY),eF:t.eF.Np(w.eF),tS:f.qQ.Np(t.tS,w.tS),uS:f.qQ.Np(t.uS,w.uS)},bI:v,toJSON:function(){return {timeConstructed:this.sO,timeRunning:this.gI,schedulers:this.A$,executionStats:{immediateRuns:this.jh.xU,loopRuns:this.jh.DG,loopTime:this.jh.kV,loopBetweenTime:this.jh.jV,scheduleClears:this.jh.kX,timerRuns:this.jh.gY,callBackDelayBuckets:this.jh.tS,callBackSleepBuckets:this.jh.uS,clockSkewAdjustments:this.jh.eF},taskStats:v};}};};return h;})();b.Dfa=r;},73151:function(r,b,a){var l,f;function c(k,d,g){var n;void 0 === g && (g={});n=l.__assign(l.__assign({},f),g);return k.filter(function(h){var m;m=h.Lb;h=h.Ab;return !!h && h.Fy(d) && (!n.wVa || m.hi(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.Bma=b.TGb=b.Jma=void 0;l=a(5163);f={wVa:!1};b.Jma=function(k,d,g){void 0 === g && (g={});return c(k,d,g).pop();};b.TGb=c;b.Bma=function(k,d,g){return k.filter(function(n){var h;h=n.Lb;n=n.Ab;return !!n && !!h && (n.hi(d) && n.Fy(g) || h.hi(d) && h.Fy(g) || n.Fy(d) && h.hi(g));});};},29960:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.P9a=b.$0=void 0;a(5163);a(42866);c=a(49730);l=a(57206);f=a(62558);r=(function(){function k(){this.R=new l.Tea();}Object.defineProperties(k.prototype,{empty:{get:function(){return !this.lw;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{root:{get:function(){var d;return null === (d=this.lw) || void 0 === d?void 0:d.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{values:{get:function(){var d;d=[];this.FF(function(g){return !!d.push(g);});return d;},enumerable:!1,configurable:!0}});k.prototype.has=function(d){return !!this.R.get(d);};k.prototype.parent=function(d){var g;d=this.R.get(d);c.K && (0,f.assert)(d,"Attempted to find the parent of a node not in the tree");return null === (g=null === d || void 0 === d?void 0:d.parent) || void 0 === g?void 0:g.value;};k.prototype.children=function(d){d=this.R.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return (null === d || void 0 === d?0:d.children)?d.children.map(function(g){return g.value;}):[];};k.prototype.Soa=function(d){d=this.R.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return void 0 !== (null === d || void 0 === d?void 0:d.children) && 0 < d.children.length;};k.prototype.add=function(d,g){var n;c.K && (0,f.assert)(!this.R.get(d),"Attempted to add a value to tree that is already present");n={value:d};void 0 === this.lw?(c.K && (0,f.assert)(void 0 === g,"a parent cannot be specified when the tree is empty"),this.lw=n):(c.K && (0,f.assert)(void 0 !== g,"a parent must be specified when the tree is non-empty"),g=this.R.get(g),c.K && (0,f.assert)(g,"Parent value does not exist in tree"),this.nTa(n,g));this.R.set(d,n);return this;};k.prototype.remove=function(d){d=this.R.get(d);c.K && (0,f.assert)(d,"Attempted to remove a node not in the tree");this.removeNode(d);return this;};k.prototype.removeNode=function(d){var g;g=this;this.Uma(function(n){return g.R.delete(n);},d.value);void 0 === d.parent?this.lw=void 0:this.detach(d);};k.prototype.move=function(d,g){d=this.R.get(d);g=this.R.get(g);c.K && (0,f.assert)(d,"cannot move a value that is not in the tree");c.K && (0,f.assert)(g,"cannot move a value to a parent value not in the tree");c.K && (0,f.assert)(null === d || void 0 === d?void 0:d.parent,"cannot move the root node");c.K && (0,f.assert)(!this.QOb(d,g),"cannot move a node below itself or one of its decendants");d.parent !== g && (this.detach(d),this.nTa(d,g));return this;};k.prototype.k0b=function(d){var g,n;g=this;d=this.R.get(d);c.K && (0,f.assert)(d,"cannot replant at a value that is not in the tree");n=[];this.detach(d);this.Uma(function(h){g.R.delete(h);n.unshift(h);return !0;});this.lw=d;};k.prototype.clear=function(){this.lw && this.remove(this.lw.value);return this;};k.prototype.KZa=function(d,g){var n,h;n=this;d=this.R.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");null === (h=d.children) || void 0 === h?void 0:h.forEach(function(m){return g(m.value,n);});};k.prototype.l4b=function(d,g){var n,h;n=this;d=this.R.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");return !(null === (h=d.children) || void 0 === h || !h.some(function(m){return g(m.value,n);}));};k.prototype.FF=function(d){this.LZa(d,void 0);};k.prototype.LZa=function(d,g,n,h){var m;m=this;void 0 === h && (h=0);c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (g=null !== g && void 0 !== g?g:this.lw.value,d(g,n,this,h) && this.KZa(g,function(p){return m.LZa(d,p,g,h + 1);}));};k.prototype.Uma=function(d,g){var n;n=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (null !== g && void 0 !== g?g:g=this.lw.value,this.KZa(g,function(h){return n.Uma(d,h);}),d(g,this));};k.prototype.uZa=function(d,g){var n,h;n=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");if(!this.empty){null !== g && void 0 !== g?g:g=this.lw.value;return this.l4b(g,function(m){return !!(h=n.uZa(d,m));})?h:d(g,this)?g:void 0;}};k.prototype.CDb=function(d){var g,n,h,m;g=this;n=this.values;h=n.filter(function(p){return !d.has(p);});m=d.values.filter(function(p){return !g.has(p);});n=n.filter(function(p){return d.has(p) && g.parent(p) !== d.parent(p);});return {WR:h,Vt:m,oab:n};};k.prototype.nTa=function(d,g){d.parent=g;(g.children || (g.children=[])).push(d);};k.prototype.detach=function(d){var g;c.K && (0,f.assert)(d.parent,"cannot detach the root");c.K && (0,f.assert)(void 0 !== d.parent.children,"logic error: parent node does not have children");g=d.parent.children.indexOf(d);(0,f.assert)(0 <= g,"logic error: node does not appear in the children of its parent");d.parent.children.splice(g,1);d.parent=void 0;};k.prototype.QOb=function(d,g){for(;void 0 !== g;){if(g === d)return !0;g=g.parent;}return !1;};return k;})();b.$0=r;b.P9a=function(k,d){var g;g="";k.FF(function(n,h,m,p){g+=("").concat(Array(p + 1).join("-")).concat(d(n),"\n");return !0;});return g;};},55011:function(r,b,a){var k,d,g;function c(n){var h,m,p,t;p=Object.getOwnPropertyNames(n);for(n=Object.getPrototypeOf(n);n !== Object.prototype;){try{for(var q=(h=void 0,k.__values(Object.getOwnPropertyNames(n))),u=q.next();!u.done;u=q.next()){t=u.value;-1 === p.indexOf(t) && p.push(t);}}catch(w){h={error:w};}finally{try{u && !u.done && (m=q.return) && m.call(q);}finally{if(h)throw h.error;}}n=Object.getPrototypeOf(n);}return p;}function l(n,h,m,p,q){var u;Object.getOwnPropertyNames(n).filter(function(t){return q(t) && (m || !Object.prototype.hasOwnProperty.call(h,t)) && (p || !((t in h)));}).forEach(function(t){u=Object.getOwnPropertyDescriptor(n,t);void 0 !== u && Object.defineProperty(h,t,u);});}function f(n,h,m,p){var q,u;q=[];m || (q=Object.getOwnPropertyNames(h));p || (q=c(h));u=Object.getPrototypeOf(n);null !== u && u !== Object.prototype && f(u,h,m,p);l(n,h,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.xk=b.gzb=void 0;k=a(5163);d=a(62558);b.gzb=f;g=Object.getOwnPropertyNames(Function);b.xk=function(n,h,m,p){void 0 === m && (m=!0);void 0 === p && (p=!0);p || (0,d.assert)(!m);n.prototype?(f(n.prototype,h.prototype,m,p),l(n,h,m,p,function(q){return -1 === g.indexOf(q);})):l(n,h.prototype,m,p,function(q){return -1 === g.indexOf(q);});return h;};},53265:function(r,b,a){var p;function c(q){return Array.isArray(q)?q.reduce(function(u,t){return u + t;},0):!1;}function l(q){return Array.isArray(q) && q.length?c(q) / q.length:!1;}function f(q){var u;if(!Array.isArray(q) || 2 > q.length)return !1;u=l(q);return c(q.map(function(t){return (t - u) * (t - u);})) / (q.length - 1);}function k(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=f(q);return Math.sqrt(q);}function d(q,u){if(q.length == u.length && 1 < q.length){for(var t=q.length,w=0,v=c(q),y=c(u),x=0;x < t;x++){w+=q[x] * u[x];}return (w - v * y / t) / t;}return !1;}function g(q,u,t){return Math.max(Math.min(q,t),u);}function n(q,u){return "number" === typeof q?q:u;}function h(q){return 1 / (1 + Math.exp(-q));}function m(q,u,t){return q * t + (1 - t) * u;}Object.defineProperties(b,{__esModule:{value:!0}});b.ebb=b.scale=b.MYa=b.P4=b.Dcb=b.UUa=b.uK=b.tanh=b.R1b=b.Jh=b.jJb=b.lJb=b.MLb=b.pMb=b.MIb=b.YLb=b.xK=b.Tf=b.Lq=void 0;p=a(5163).__importStar(a(17267));b.Lq=function(q,u,t){try{q.emit(u,t);}catch(w){if(q.mA)q.mA("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",w,"Event:",t);else throw w;}};b.Tf=function(q,u){void 0 !== q && p.IWb(q).forEach(function(t){u(t[0],t[1]);});};b.xK=function(){var t;for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}q=Array.prototype.concat.apply([],q);u=q.reduce(function(w,v){return w + v.byteLength;},0);t=new Uint8Array(u);q.reduce(function(w,v){t.set(new Uint8Array(v),w);return w + v.byteLength;},0);return t.buffer;};b.YLb=c;b.MIb=l;b.pMb=f;b.MLb=k;b.lJb=d;b.jJb=function(q,u){var t;if(q.length == u.length){t=d(q,u);q=k(q);u=k(u);if(0 < q && 0 < u)return t / (q * u);}return !1;};b.Jh=function(q,u,t){return u.yWa?u.yWa(t):new q.Console("ASEJS","media|asejs",u.prefix?u.prefix + " " + t:t);};b.R1b=function(q){return q.length?"{" + q + "} ":"";};b.tanh=Math.tanh || (function(q){var u;u=Math.exp(+q);q=Math.exp(-q);return Infinity == u?1:Infinity == q?-1:(u - q) / (u + q);});b.uK=g;b.UUa=function(q,u,t,w){return {min:g(n(q.min,u),t,w),max:g(n(q.max,u),t,w),Kx:g(q.Kx || 6E4,0,6E5),yUa:g(q.yUa || 0,-3E5,3E5),scale:g(q.scale || 6E4,0,3E5),fbb:g(q.fbb || 0,-3E5,3E5),gamma:g(q.gamma || 1,.1,10)};};b.Dcb=h;b.P4=function(q,u,t){return q.min + (q.max - q.min) * (1 - Math.pow(h(6 * (u - (q.Kx + (q.yUa || 0) * (1 - t))) / (q.scale + (q.fbb || 0) * (1 - t))),q.gamma));};b.MYa=function(q,u){return q.min + (q.max - q.min) * Math.pow(h(6 * (u - q.Kx) / q.scale),q.gamma);};b.scale=m;b.ebb=function(q,u,t){return {min:m(q.min,u.min,t),max:m(q.max,u.max,t),Kx:m(q.Kx,u.Kx,t),scale:m(q.scale,u.scale,t),gamma:m(q.gamma,u.gamma,t)};};},73098:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gA=void 0;c=a(42866);r=(function(){function l(f,k){this.pE=f;this.iE=k;this.v1b();}l.from=function(f){return "number" === typeof f?new l(f,1):new l(f.Jt,f.Qq);};l.XZa=function(f){return new l(f.N,f.ja);};Object.defineProperties(l.prototype,{Jt:{get:function(){return this.pE;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Qq:{get:function(){return this.iE;},enumerable:!1,configurable:!0}});l.prototype.za=function(){return new c.L(this.iE,this.pE);};l.prototype.equal=function(f){return this.pE === f.pE && this.iE === f.iE;};l.prototype.normalize=function(f){return new c.L(Math.floor((Math.floor(f + 1) * this.Jt - 1) / (1E3 * this.Qq)) * this.Qq,this.Jt);};l.prototype.v1b=function(){var f,k,d;f=Math.floor(1E3 * this.pE / this.iE);k=Math.floor(1001 * this.pE / this.iE);d=1E3 * Math.round(f / 1E3);this.pE=d;this.iE=Math.abs(k - d) > Math.abs(f - d)?1E3:1001;};return l;})();b.gA=r;},92141:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rJ=void 0;c=a(42866);b.rJ=(function(){return function(l,f){var k;void 0 === f && (f={w:1,cr:1});this.lk=l;this.E8a=f;k=l.w * f.w;l=l.cr * f.cr;f=(0,c.wB)(k,l);this.gv={w:k / f,cr:l / f};};})();},57578:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ifa=void 0;c=a(12043);r=(function(){function l(f){this.SN=new Uint16Array(f.length);for(var k=0;k < f.length;++k){this.SN[k]=f.charCodeAt(k);}}l.prototype.encrypt=function(f){for(var k=this.SN.length,d="",g=0;g < f.length;++g){d+=String.fromCharCode(this.SN[g % k] ^ f.charCodeAt(g));}return encodeURIComponent(d);};l.prototype.decrypt=function(f,k){var d,g;void 0 === k && (k=!1);d=this.SN.length;g="";if(k)for((k=new Uint8Array(c.platform.Z3(f)),f=0);f < k.length;f++){g+=String.fromCharCode(this.SN[f % d] ^ k[f]);}else for((k=decodeURIComponent(f),f=0);f < k.length;f++){g+=String.fromCharCode(this.SN[f % d] ^ k.charCodeAt(f));}return g;};return l;})();b.Ifa=r;},53110:function(r,b,a){var c;(function(l){(function(f){var d,g;function k(n,h){return function(m,p){"function" !== typeof n[m] && Object.defineProperty(n,m,{configurable:!0,writable:!0,value:p});h && h(m,p);};}d="object" === typeof a.r5?a.r5:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();g=k(l);"undefined" === typeof d.Reflect?d.Reflect=l:g=k(d.Reflect,g);f(g);})(function(f){var G,E,I,M,L,K,O,H,J,N,R;function k(T,ka,sa){var ia;ia=R.get(T);if(u(ia)){if(!sa)return;ia=new J();R.set(T,ia);}T=ia.get(ka);if(u(T)){if(!sa)return;T=new J();ia.set(ka,T);}return T;}function d(T,ka,sa){if(g(T,ka,sa))return !0;ka=A(ka);return null === ka?!1:d(T,ka,sa);}function g(T,ka,sa){ka=k(ka,sa,!1);return u(ka)?!1:!!ka.has(T);}function n(T,ka,sa){if(g(T,ka,sa))return h(T,ka,sa);ka=A(ka);if(null !== ka)return n(T,ka,sa);}function h(T,ka,sa){ka=k(ka,sa,!1);if(!u(ka))return ka.get(T);}function m(T,ka){var sa,Aa,La;sa=p(T,ka);T=A(T);if(null === T)return sa;ka=m(T,ka);if(0 >= ka.length)return sa;if(0 >= sa.length)return ka;T=new N();for(var ia=[],wa=0;wa < sa.length;wa++){Aa=sa[wa];La=T.has(Aa);La || (T.add(Aa),ia.push(Aa));}for(sa=0;sa < ka.length;sa++){Aa=ka[sa];(La=T.has(Aa)) || (T.add(Aa),ia.push(Aa));}return ia;}function p(T,ka){var sa,ia;sa=[];T=k(T,ka,!1);if(u(T))return sa;T=T.keys();ka=z(T,M);if(!x(ka))throw new TypeError();T=ka.call(T);if(!t(T))throw new TypeError();for(ka=0;;){ia=T.next();ia=ia.done?!1:ia;if(!ia)return (sa.length=ka,sa);ia=ia.value;try{sa[ka]=ia;}catch(Aa){var wa;try{wa=T["return"];wa && wa.call(T);}finally{throw Aa;}}ka++;}}function q(T){if(null === T)return 1;switch(typeof T){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === T?1:6;default:return 6;}}function u(T){return void 0 === T;}function t(T){return "object" === typeof T?null !== T:"function" === typeof T;}function w(T,ka){var sa;switch(q(T)){case 0:return T;case 1:return T;case 2:return T;case 3:return T;case 4:return T;case 5:return T;}ka=3 === ka?"string":5 === ka?"number":"default";sa=z(T,I);if(void 0 !== sa){T=sa.call(T,ka);if(t(T))throw new TypeError();return T;}a:{if("string" === ("default" === ka?"number":ka)){ka=T.toString;if(x(ka) && (ka=ka.call(T),!t(ka)))break a;ka=T.valueOf;}else {ka=T.valueOf;if(x(ka) && (ka=ka.call(T),!t(ka)))break a;ka=T.toString;}if(!x(ka) || (ka=ka.call(T),t(ka)))throw new TypeError();}return ka;}function v(T){T=w(T,3);return "symbol" === typeof T?T:"" + T;}function y(T){return Array.isArray?Array.isArray(T):T instanceof Object?T instanceof Array:"[object Array]" === Object.prototype.toString.call(T);}function x(T){return "function" === typeof T;}function z(T,ka){T=T[ka];if(void 0 !== T && null !== T){if(!x(T))throw new TypeError();return T;}}function A(T){var ka,sa;ka=Object.getPrototypeOf(T);if("function" !== typeof T || T === H || ka !== H)return ka;sa=T.prototype;sa=sa && Object.getPrototypeOf(sa);if(null == sa || sa === Object.prototype)return ka;sa=sa.constructor;return "function" !== typeof sa || sa === T?ka:sa;}function B(){var ia,wa,Aa;function T(La){return La;}function ka(La,Ya){return Ya;}function sa(La,Ya){return [La,Ya];}ia={};wa=[];Aa=(function(){function La(Ya,ab,aa){this.fg=0;this.Se=Ya;this.tf=ab;this.Grb=aa;}La.prototype["@@iterator"]=function(){return this;};La.prototype[M]=function(){return this;};La.prototype.next=function(){var Ya,ab;Ya=this.fg;if(0 <= Ya && Ya < this.Se.length){ab=this.Grb(this.Se[Ya],this.tf[Ya]);Ya + 1 >= this.Se.length?(this.fg=-1,this.tf=this.Se=wa):this.fg++;return {value:ab,done:!1};}return {value:void 0,done:!0};};La.prototype.throw=function(Ya){0 <= this.fg && (this.fg=-1,this.tf=this.Se=wa);throw Ya;};La.prototype.return=function(Ya){0 <= this.fg && (this.fg=-1,this.tf=this.Se=wa);return {value:Ya,done:!0};};return La;})();return (function(){function La(){this.Se=[];this.tf=[];this.Pu=ia;this.xs=-2;}Object.defineProperty(La.prototype,"size",{get:function(){return this.Se.length;},enumerable:!0,configurable:!0});La.prototype.has=function(Ya){return 0 <= this.px(Ya,!1);};La.prototype.get=function(Ya){Ya=this.px(Ya,!1);return 0 <= Ya?this.tf[Ya]:void 0;};La.prototype.set=function(Ya,ab){Ya=this.px(Ya,!0);this.tf[Ya]=ab;return this;};La.prototype.delete=function(Ya){var ab,aa;ab=this.px(Ya,!1);if(0 <= ab){aa=this.Se.length;for(ab+=1;ab < aa;ab++){this.Se[ab - 1]=this.Se[ab];this.tf[ab - 1]=this.tf[ab];}this.Se.length--;this.tf.length--;Ya === this.Pu && (this.Pu=ia,this.xs=-2);return !0;}return !1;};La.prototype.clear=function(){this.Se.length=0;this.tf.length=0;this.Pu=ia;this.xs=-2;};La.prototype.keys=function(){return new Aa(this.Se,this.tf,T);};La.prototype.values=function(){return new Aa(this.Se,this.tf,ka);};La.prototype.entries=function(){return new Aa(this.Se,this.tf,sa);};La.prototype["@@iterator"]=function(){return this.entries();};La.prototype[M]=function(){return this.entries();};La.prototype.px=function(Ya,ab){this.Pu !== Ya && (this.xs=this.Se.indexOf(this.Pu=Ya));0 > this.xs && ab && (this.xs=this.Se.length,this.Se.push(Ya),this.tf.push(void 0));return this.xs;};return La;})();}function C(){return (function(){function T(){this.rf=new J();}Object.defineProperty(T.prototype,"size",{get:function(){return this.rf.size;},enumerable:!0,configurable:!0});T.prototype.has=function(ka){return this.rf.has(ka);};T.prototype.add=function(ka){return (this.rf.set(ka,ka),this);};T.prototype.delete=function(ka){return this.rf.delete(ka);};T.prototype.clear=function(){this.rf.clear();};T.prototype.keys=function(){return this.rf.keys();};T.prototype.values=function(){return this.rf.values();};T.prototype.entries=function(){return this.rf.entries();};T.prototype["@@iterator"]=function(){return this.keys();};T.prototype[M]=function(){return this.keys();};return T;})();}function D(){var ia,wa;function T(){var Aa,ab;do {Aa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):sa(new Uint8Array(16),16):sa(Array(16),16);Aa[6]=Aa[6] & 79 | 64;Aa[8]=Aa[8] & 191 | 128;for(var La="",Ya=0;16 > Ya;++Ya){ab=Aa[Ya];if(4 === Ya || 6 === Ya || 8 === Ya)La+="-";16 > ab && (La+="0");La+=ab.toString(16).toLowerCase();}Aa="@@WeakMap@@" + La;}while(O.has(ia,Aa));ia[Aa]=!0;return Aa;}function ka(Aa,La){if(!G.call(Aa,wa)){if(!La)return;Object.defineProperty(Aa,wa,{value:O.create()});}return Aa[wa];}function sa(Aa,La){for(var Ya=0;Ya < La;++Ya){Aa[Ya]=255 * Math.random() | 0;}return Aa;}ia=O.create();wa=T();return (function(){function Aa(){this.Es=T();}Aa.prototype.has=function(La){La=ka(La,!1);return void 0 !== La?O.has(La,this.Es):!1;};Aa.prototype.get=function(La){La=ka(La,!1);return void 0 !== La?O.get(La,this.Es):void 0;};Aa.prototype.set=function(La,Ya){ka(La,!0)[this.Es]=Ya;return this;};Aa.prototype.delete=function(La){La=ka(La,!1);return void 0 !== La?delete La[this.Es]:!1;};Aa.prototype.clear=function(){this.Es=T();};return Aa;})();}function F(T){T.Dob=void 0;delete T.Dob;return T;}G=Object.prototype.hasOwnProperty;E="function" === typeof Symbol;I=E && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";M=E && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";E="function" === typeof Object.create;L=({__proto__:[]}) instanceof Array;K=!E && !L;O={create:E?function(){return F(Object.create(null));}:L?function(){return F({__proto__:null});}:function(){return F({});},has:K?function(T,ka){return G.call(T,ka);}:function(T,ka){return (ka in T);},get:K?function(T,ka){return G.call(T,ka)?T[ka]:void 0;}:function(T,ka){return T[ka];}};H=Object.getPrototypeOf(Function);J=(E="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?B():Map;N=E || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?C():Set;R=new (E || "function" !== typeof WeakMap?D():WeakMap)();f("decorate",function(T,ka,sa,ia){var Aa;if(u(sa)){if(!y(T))throw new TypeError();if("function" !== typeof ka)throw new TypeError();for(sa=T.length - 1;0 <= sa;--sa){if((ia=(0,T[sa])(ka),!u(ia) && null !== ia)){if("function" !== typeof ia)throw new TypeError();ka=ia;}}return ka;}if(!y(T))throw new TypeError();if(!t(ka))throw new TypeError();if(!t(ia) && !u(ia) && null !== ia)throw new TypeError();null === ia && (ia=void 0);sa=v(sa);for(var wa=T.length - 1;0 <= wa;--wa){Aa=(0,T[wa])(ka,sa,ia);if(!u(Aa) && null !== Aa){if(!t(Aa))throw new TypeError();ia=Aa;}}return ia;});f("metadata",function(T,ka){return function(sa,ia){var wa;if(!t(sa))throw new TypeError();if(wa=!u(ia)){a:switch(q(ia)){case 3:wa=!0;break a;case 4:wa=!0;break a;default:wa=!1;}wa=!wa;}if(wa)throw new TypeError();k(sa,ia,!0).set(T,ka);};});f("defineMetadata",function(T,ka,sa,ia){if(!t(sa))throw new TypeError();u(ia) || (ia=v(ia));k(sa,ia,!0).set(T,ka);});f("hasMetadata",function(T,ka,sa){if(!t(ka))throw new TypeError();u(sa) || (sa=v(sa));return d(T,ka,sa);});f("hasOwnMetadata",function(T,ka,sa){if(!t(ka))throw new TypeError();u(sa) || (sa=v(sa));return g(T,ka,sa);});f("getMetadata",function(T,ka,sa){if(!t(ka))throw new TypeError();u(sa) || (sa=v(sa));return n(T,ka,sa);});f("getOwnMetadata",function(T,ka,sa){if(!t(ka))throw new TypeError();u(sa) || (sa=v(sa));return h(T,ka,sa);});f("getMetadataKeys",function(T,ka){if(!t(T))throw new TypeError();u(ka) || (ka=v(ka));return m(T,ka);});f("getOwnMetadataKeys",function(T,ka){if(!t(T))throw new TypeError();u(ka) || (ka=v(ka));return p(T,ka);});f("deleteMetadata",function(T,ka,sa){var ia;if(!t(ka))throw new TypeError();u(sa) || (sa=v(sa));ia=k(ka,sa,!1);if(u(ia) || !ia.delete(T))return !1;if(0 < ia.size)return !0;T=R.get(ka);T.delete(sa);if(0 < T.size)return !0;R.delete(ka);return !0;});});})(c || (c={}));},41385:function(r,b,a){var d;function c(){return Object.create(null);}function l(g){this.log=g.log;this.sa=g.sa;this.mC=c();this.Promise=g.Promise;this.Qx=g.Qx;this.Nya=g.Nya;this.ef=g.ef || !1;this.uv=c();this.TA=c();this.YE=c();this.Irb(g);g.Tn && (this.Tn=g.Tn);}function f(g){return "undefined" !== typeof g;}function k(g){var m;for(var n=0,h=arguments.length;n < h;){m=arguments[n++];if(f(m))return m;}}a(66242);d=a(64765);l.prototype.Irb=function(g){this.uv.manifest=k(g.hGb,d.uv.X);this.uv.ldl=k(g.gGb,d.uv.ZU);this.uv.metadata=k(g.Yfc,d.uv.Vd);this.TA.manifest=k(g.twb,d.TA.X);this.TA.ldl=k(g.swb,d.TA.ZU);this.TA.metadata=k(g.Tec,d.TA.Vd);this.YE.manifest=k(g.Rec,d.YE.X);this.YE.ldl=k(g.Qec,d.YE.ZU);this.YE.metadata=k(g.Sec,d.YE.Vd);};l.prototype.nU=function(g,n){this.Zs("undefined" !== typeof g);this.Zs("undefined" !== typeof n);return !!this.PPa(g,n,void 0).value;};l.prototype.PPa=function(g,n,h){var m,p;m={value:null,reason:"",log:""};p=this.mC[n];h=h?h:"DEFAULTCAPS";if("undefined" === typeof p)return (m.log="cache miss: no data exists for field:" + n,m.reason="unavailable",m);"undefined" === typeof p[g]?(m.log="cache miss: no data exists for movieId:" + g,m.reason="unavailable"):(p=p[g][h]) && p.value?this.V6(n,p.creationTime)?(m.log="cache miss: " + n + " data expired for movieId:" + g,m.reason="expired",this.clearData(g,n,h,!1,"expired")):(m.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + n + " request in flight for movieId:" + g:"cache hit: " + n + " available for movieId:" + g,m.value=p.value):(m.log="cache miss: " + n + " data not available for movieId:" + g,m.reason="unavailable");return m;};l.prototype.getData=function(g,n,h){this.Zs("undefined" !== typeof g);this.Zs("undefined" !== typeof n);g=this.PPa(g,n,h);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.Nya?JSON.parse(this.Nya(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};l.prototype.setData=function(g,n,h,m,p){var q,u,t;this.Zs("undefined" !== typeof g);this.Zs("undefined" !== typeof n);q=this.mC;u=p?p:"DEFAULTCAPS";q[n] || (q[n]=c(),Object.defineProperty(q[n],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[n],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));h=this.Qx?this.Qx(JSON.stringify(h),"gzip",!0):h;q=q[n];this.kqb(g,n,u,q);t=this;m={creationTime:this.sa.getTime(),value:h,size:0,type:n,kla:m,fGb:setTimeout(function(){t.clearData(g,n,u,!1,"expired");},this.uv[n] + 1)};q[g]=q[g] || c();q[g][u]=q[g][u] || c();q[g][u]=m;q.size+=0;q.numEntries++;this.Tn && this.Tn.emit("addedCacheItem",m);return m;};l.prototype.kqb=function(g,n,h,m){var p,q,u,t,w,v,y,x,z;p=this;q=m.numEntries;u=this.TA[n];t=m[g] && m[g][h];if(t && t.value)(w=g,v="promise_or_expired");else if(q >= u){x=Number.POSITIVE_INFINITY;Object.keys(m).every(function(A){var B;B=m[A] && m[A][h];B && B.value && p.V6(n,B.creationTime) && (z=A);B && B.value && B.creationTime < x && (x=B.creationTime,y=A);return !0;});w=z || y;v="cache_full";}this.ef && this.log.debug("makespace ",{maxCount:u,currentCount:m.numEntries,field:n,movieId:g,movieToBeRemoved:w});w && (p.clearData(w,n,h,void 0,v),this.log.debug("removed from cache: ",w,n));};l.prototype.Sja=function(g,n){var h,m;h=this;h.Zs("undefined" !== typeof g);m=g + "";n.forEach(function(p){var q;q=h.mC[p];q && Object.keys(q).forEach(function(u){u != m && h.clearData(u,p,void 0,void 0,"clear_all");});});};l.prototype.clearData=function(g,n,h,m,p){var q;this.Zs("undefined" !== typeof g);this.Zs("undefined" !== typeof n);q=this.mC[n];n=q?q[g]:void 0;h=h?h:"DEFAULTCAPS";if(n && n[h]){q.size-=n[h].size;q.numEntries--;if(q=n && n[h])(clearTimeout(q.fGb),n[h]=void 0,!m && q.kla && q.kla());this.Tn && (g={creationTime:q.creationTime,destroyFn:q.kla,size:q.size,type:q.type,value:q.value,reason:p,movieId:g},this.Tn.emit("deletedCacheItem",g));}};l.prototype.flush=function(g){var n;this.Zs("undefined" !== typeof g);n=this.mC;n[g]=c();n[g].numEntries=0;n[g].size=0;};l.prototype.WUa=function(){var g,n;this.Zs(!1);g=this;n=this.mC;n[void 0] instanceof Object && Object.keys(n[void 0]).forEach(function(h){var m;m=n[void 0][h].DEFAULTCAPS;g.sa.getTime() - m.creationTime > g.uv[void 0] && g.clearData(h,void 0,"DEFAULTCAPS",void 0,"clean_up");});};l.prototype.V6=function(g,n){return this.sa.getTime() - n > this.uv[g];};l.prototype.getStats=function(g,n,h){var m,p,q,u,t;m={};p=this;q=p.mC;u=f(g) && f(n);t=h || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var v,y;v=Object.keys(q[w]);y=q[w];v.forEach(function(x){!(x=y && y[x] && y[x][t]) || !f(x.value) || x.value instanceof p.Promise || (m[w]=(m[w] | 0) + 1,p.V6(x.type,x.creationTime) && (m[w + "_expired"]=(m[w + "_expired"] | 0) + 1),u && x.creationTime >= g && x.creationTime < n && (m[w + "_delta"]=(m[w + "_delta"] | 0) + 1));});});return m;};l.prototype.getState=function(g){var n,h,m,p;n=[];h=this;m=h.mC;p=g || "DEFAULTCAPS";Object.keys(m).forEach(function(q){var u,t;u=Object.keys(m[q]);t=m[q];u.forEach(function(w){var v,y;v=t && t[w] && t[w][p];if(v && f(v.value)){y=h.V6(v.type,v.creationTime)?"expired":v.value instanceof h.Promise?"loading":"cached";n.push({movieId:w,state:y,type:q,size:v.size});}});});return n;};l.prototype.Zs=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.ef))throw Error("Debug Assert Failed ");};r.exports=l;},64765:function(r){r.exports={uv:{X:12E5,ZU:9E5,Vd:12E5},TA:{X:10,ZU:10,Vd:10},YE:{X:10240,ZU:10240,Vd:10240}};},66242:function(r){function b(a){var c;c=[];return (function k(f){if(f && "object" === typeof f){if(-1 !== c.indexOf(f))return !0;c.push(f);for(var d in f){if(f.hasOwnProperty(d) && k(f[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var f;if(c && b(a))return -1;c=[];a=[a];for(var l=0;a.length;){f=a.pop();if("boolean" === typeof f)l+=4;else if("string" === typeof f)l+=2 * f.length;else if("number" === typeof f)l+=8;else if("object" === typeof f && -1 === c.indexOf(f)){c.push(f);for(var k in f){a.push(f[k]);}}}return l;};},62082:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.moa=function(){return this.buffer.length - this.position;};a.prototype.cz=function(){return this.buffer[this.position++];};a.prototype.Ej=function(c){var l;l=this.position;this.position+=c;return this.QPb(this.buffer)?this.buffer.subarray(l,this.position):this.buffer.slice(l,this.position);};a.prototype.QPb=function(c){return void 0 !== c.subarray;};a.prototype.$p=function(c){for(var l=0;c--;){l=256 * l + this.buffer[this.position++];}return l;};a.prototype.dva=function(c){for(var l="";c--;){l+=String.fromCharCode(this.buffer[this.position++]);}return l;};a.prototype.Ug=function(){return this.$p(2);};a.prototype.aq=function(){return this.$p(4);};a.prototype.vN=function(){return this.$p(8);};a.prototype.ew=function(c){for(var l,f="";c--;){l=this.cz();f+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return f;};a.prototype.eva=function(c){for(var l=0,f=0;f < c;f++){l+=this.cz() << (f << 3);}return l;};a.prototype.uN=function(){return this.eva(4);};a.prototype.QY=function(c){this.QO(c,2);};a.prototype.Iz=function(c){this.QO(c,4);};a.prototype.mba=function(c){this.buffer[this.position++]=c;};a.prototype.QO=function(c,l){this.position+=l;for(var f=1;f <= l;f++){this.buffer[this.position - f]=c & 255;c=Math.floor(c / 256);}};a.prototype.Hz=function(c){for(var l=0;l < c.length;l++){this.buffer[this.position++]=c.charCodeAt(l);}};a.prototype.PY=function(c){for(var l=c.length,f=0;f < l;f++){this.buffer[this.position++]=c[f];}};a.prototype.PO=function(c,l){this.PY(c.Ej(l));};a.prototype.Jgb=function(c){c=new a(c);for(var l,f;;){if((l=c.moa(),f=l >>> 14))(f=Math.min(4,f),this.mba(192 | f),this.PO(c,16384 * f));else {128 > l?this.mba(l):this.QO(l | 32768,2);this.PO(c,l);break;}}};a.prototype.u$a=function(){var f;for(var c=[],l=new a(c);;){f=this.cz();if(f & 128){if(128 == (f & 192))(f&=63,f=(f << 8) + this.cz(),l.PO(this,f));else if((f&=63,0 < f && 4 >= f)){l.PO(this,16384 * f);continue;}else throw Error("bad asn1");}else l.PO(this,f);break;}return new Uint8Array(c);};return a;})();b.pP=r;},9412:function(r){function b(c,l,f,k){c.trace(":",f,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,l,f,k){f=k?f.bind(k):f;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addListener)c.addListener(l,f);else if("function" === typeof c.addEventListener)c.addEventListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,k;f=l[0];k=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(k,l):"function" === typeof f.removeListener && f.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},57055:function(r,b,a){b=a(76960);b.fla=0;r.exports={EventEmitter:b,ze:a(9412)};},76960:function(r){var n,h,m,p;function b(){b.Cb.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,u,t,w){var v,y;a(t);v=q.ib;if(void 0 === v)(v=q.ib=Object.create(null),q.jE=0);else {void 0 !== v.iUb && (q.emit("newListener",u,t.listener?t.listener:t),v=q.ib);y=v[u];}void 0 === y?(v[u]=t,++q.jE):("function" === typeof y?y=v[u]=w?[t,y]:[y,t]:w?y.unshift(t):y.push(t),t=void 0 === q.Gs?b.fla:q.Gs,0 < t && y.length > t && !y.yza && (y.yza=!0,t=Error("Possible EventEmitter memory leak detected. " + y.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.tv=q,t.type=u,t.count=y.length,console && console.warn && console.warn(t)));return q;}function l(){if(!this.zZa)return (this.target.removeListener(this.type,this.Ggb),this.zZa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function f(q,u,t){q={zZa:!1,Ggb:void 0,target:q,type:u,listener:t};u=l.bind(q);u.listener=t;return q.Ggb=u;}function k(q){var u;u=this.ib;if(void 0 !== u){q=u[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,u,t){"function" === typeof q.on && g(q,"error",u,t);}function g(q,u,t,w){if("function" === typeof q.on){if(w.once)q.once(u,t);else q.on(u,t);}else if("function" === typeof q.addEventListener)q.addEventListener(u,function x(y){w.once && q.removeEventListener(u,x);t(y);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}n="object" === typeof Reflect?Reflect:null;h=n && "function" === typeof n.apply?n.apply:function(q,u,t){return Function.prototype.apply.call(q,u,t);};m=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,u){return new Promise(function(t,w){function v(x){q.removeListener(u,y);w(x);}function y(){"function" === typeof q.removeListener && q.removeListener("error",v);t([].slice.call(arguments));}g(q,u,y,{once:!0});"error" !== u && d(q,v,{once:!0});});};b.EventEmitter=b;b.prototype.ib=void 0;b.prototype.jE=0;b.prototype.Gs=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || m(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.Cb=function(){if(void 0 === this.ib || this.ib === Object.getPrototypeOf(this).ib)(this.ib=Object.create(null),this.jE=0);this.Gs=this.Gs || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || m(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.Gs=q;return this;};b.prototype.emit=function(q){var w,v;for(var u=[],t=1;t < arguments.length;t++){u.push(arguments[t]);}w="error" === q;t=this.ib;if(void 0 !== t)w=w && void 0 === t.error;else if(!w)return !1;if(w){0 < u.length && (v=u[0]);if(v instanceof Error)throw v;u=Error("Unhandled error." + (v?" (" + v.message + ")":""));u.context=v;throw u;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)h(t,this,u);else {v=t.length;w=Array(v);for(var y=0;y < v;++y){w[y]=t[y];}for(t=0;t < v;++t){h(w[t],this,u);}}return !0;};b.prototype.addListener=function(q,u){return c(this,q,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.G9=function(q,u){c(this,q,u,!0);};b.prototype.once=function(q,u){a(u);this.on(q,f(this,q,u));return this;};b.prototype.K9a=function(q,u){a(u);this.G9(q,f(this,q,u));};b.prototype.removeListener=function(q,u){var t,w,v,y,x;a(u);w=this.ib;if(void 0 === w)return this;v=w[q];if(void 0 === v)return this;if(v === u || v.listener === u)0 === --this.jE?this.ib=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,v.listener || u));else if("function" !== typeof v){y=-1;for(t=v.length - 1;0 <= t;t--){if(v[t] === u || v[t].listener === u){x=v[t].listener;y=t;break;}}if(0 > y)return this;if(0 === y)v.shift();else {for(;y + 1 < v.length;y++){v[y]=v[y + 1];}v.pop();}1 === v.length && (w[q]=v[0]);void 0 !== w.removeListener && this.emit("removeListener",q,x || u);}return this;};b.prototype.zr=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var u,t,w;u=this.ib;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.ib=Object.create(null),this.jE=0):void 0 !== u[q] && (0 === --this.jE?this.ib=Object.create(null):delete u[q]),this);if(0 === arguments.length){t=Object.keys(u);for(u=0;u < t.length;++u){w=t[u];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.ib=Object.create(null);this.jE=0;return this;}t=u[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(u=t.length - 1;0 <= u;u--){this.removeListener(q,t[u]);}return this;};b.prototype.listeners=function(q){var u;u=this.ib;if(void 0 === u)q=[];else if((q=u[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {u=Array(q.length);for(var t=0;t < u.length;++t){u[t]=q[t].listener || q[t];}q=u;}return q;};b.listenerCount=function(q,u){return "function" === typeof q.listenerCount?q.listenerCount(u):k.call(q,u);};b.prototype.listenerCount=k;},54:function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},27E3:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(13752);l=a(29636);f=a(67566);b["default"]=function(k){var d;k=new c.Fba(k);d=new f.bmb(k);return new l.amb(k,d);};},13752:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.vRb=c;}a.prototype.f0a=function(){var c;try{c=this.vRb.getItem("gtp");if(c)return JSON.parse(c);}catch(l){}};a.prototype.Vm=function(){var c;c=this.f0a();if(c && c.tp)return c.tp.a;};a.prototype.dKb=function(){var c;c=this.Qna();if(c)return c.p25;};a.prototype.eKb=function(){var c;c=this.Qna();if(c)return c.p50;};a.prototype.fKb=function(){var c;c=this.Qna();if(c)return c.p75;};a.prototype.Qna=function(){var c;c=this.f0a();if(c && (c=c.iqr))return c;};return a;})();b.Fba=r;},29636:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,l){this.Bx=c;this.zsa=l;}a.prototype.Vm=function(){return this.Bx.Vm();};return a;})();b.amb=r;},67566:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Bx=c;}a.prototype.zsa=function(){var c,l,f;c=this.Bx.dKb();l=this.Bx.eKb();f=this.Bx.fKb();if("number" === typeof c && "number" === typeof l && "number" === typeof f)return (f - c) / l;};return a;})();b.bmb=r;},79809:function(r){r.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.xa:Date.now;},94030:function(r,b,a){var k;function c(d,g,n,h,m,p,q){this.BY=h;this.Vgb=d;this.r7a=g;this.Qy=n;this.XPb=p;this.KC=q;this.split=m;}function l(){this.R={};this.R["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.R["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.R["3"]=new c("7","8","7","10","1.5",0,0);this.R["7"]=new c("15","16","15","9","4.5",0,0);this.R["15"]=new c("31","32","31","2","5.5",0,0);this.R["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.R["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.R["123"]=new c("123","124","123","0","0",1,.207298);this.R["124"]=new c("123","124","123","0","0",1,.49076);this.R["64"]=new c("125","126","125","4","40.5",0,0);this.R["125"]=new c("125","126","125","0","0",1,-.00157835);this.R["126"]=new c("125","126","125","0","0",1,.934205);this.R["32"]=new c("65","66","65","135","5.5",0,0);this.R["65"]=new c("127","128","128","4","1272.5",0,0);this.R["127"]=new c("127","128","128","0","0",1,-.510333);this.R["128"]=new c("127","128","128","0","0",1,.18363);this.R["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.R["129"]=new c("129","130","129","0","0",1,-.0464542);this.R["130"]=new c("129","130","129","0","0",1,.458833);this.R["16"]=new c("33","34","34","10","2.00001",0,0);this.R["33"]=new c("67","68","67","0","29.5",0,0);this.R["67"]=new c("131","132","131","2","39.5",0,0);this.R["131"]=new c("131","132","131","0","0",1,-.37577);this.R["132"]=new c("131","132","131","0","0",1,.512087);this.R["68"]=new c("133","134","134","140","1.5",0,0);this.R["133"]=new c("133","134","134","0","0",1,.321272);this.R["134"]=new c("133","134","134","0","0",1,-.675396);this.R["34"]=new c("69","70","70","2","24.5",0,0);this.R["69"]=new c("135","136","136","9","28.5",0,0);this.R["135"]=new c("135","136","136","0","0",1,-.0573845);this.R["136"]=new c("135","136","136","0","0",1,-.507455);this.R["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.R["137"]=new c("137","138","137","0","0",1,-.503909);this.R["138"]=new c("137","138","137","0","0",1,.450886);this.R["8"]=new c("17","18","17","4","44189.5",0,0);this.R["17"]=new c("35","36","35","2","21.5",0,0);this.R["35"]=new c("71","72","72","0","19.5",0,0);this.R["71"]=new c("139","140","140","9","2.5",0,0);this.R["139"]=new c("139","140","140","0","0",1,.00403497);this.R["140"]=new c("139","140","140","0","0",1,-.312656);this.R["72"]=new c("141","142","141","135","96",0,0);this.R["141"]=new c("141","142","141","0","0",1,-.465786);this.R["142"]=new c("141","142","141","0","0",1,.159633);this.R["36"]=new c("73","74","73","130","89.5",0,0);this.R["73"]=new c("143","144","144","10","4.5",0,0);this.R["143"]=new c("143","144","144","0","0",1,-.76265);this.R["144"]=new c("143","144","144","0","0",1,-.580804);this.R["74"]=new c("145","146","146","10","16.5",0,0);this.R["145"]=new c("145","146","146","0","0",1,.296357);this.R["146"]=new c("145","146","146","0","0",1,-.691659);this.R["18"]=new c("37","38","38","9","1.5",0,0);this.R["37"]=new c("37","38","38","0","0",1,.993951);this.R["38"]=new c("75","76","75","0","19",0,0);this.R["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.R["147"]=new c("147","148","147","0","0",1,-.346535);this.R["148"]=new c("147","148","147","0","0",1,-.995745);this.R["76"]=new c("147","148","147","0","0",1,-.99978);this.R["4"]=new c("9","10","9","5","4.5",0,0);this.R["9"]=new c("19","20","19","2","4.5",0,0);this.R["19"]=new c("39","40","39","140","7.5",0,0);this.R["39"]=new c("77","78","78","134","6.5",0,0);this.R["77"]=new c("149","150","150","7","11.5",0,0);this.R["149"]=new c("149","150","150","0","0",1,.729843);this.R["150"]=new c("149","150","150","0","0",1,.383857);this.R["78"]=new c("151","152","151","133","4.5",0,0);this.R["151"]=new c("151","152","151","0","0",1,.39017);this.R["152"]=new c("151","152","151","0","0",1,.0434342);this.R["40"]=new c("79","80","79","133","3.5",0,0);this.R["79"]=new c("153","154","154","8","4.5",0,0);this.R["153"]=new c("153","154","154","0","0",1,-.99536);this.R["154"]=new c("153","154","154","0","0",1,-.00943396);this.R["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.R["155"]=new c("155","156","155","0","0",1,.266272);this.R["156"]=new c("155","156","155","0","0",1,.959904);this.R["20"]=new c("41","42","42","10","65.5",0,0);this.R["41"]=new c("81","82","82","7","10.5",0,0);this.R["81"]=new c("157","158","158","2","37.5",0,0);this.R["157"]=new c("157","158","158","0","0",1,-.701873);this.R["158"]=new c("157","158","158","0","0",1,.224649);this.R["82"]=new c("159","160","159","133","9.5",0,0);this.R["159"]=new c("159","160","159","0","0",1,.0955181);this.R["160"]=new c("159","160","159","0","0",1,-.58962);this.R["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.R["83"]=new c("161","162","161","135","31",0,0);this.R["161"]=new c("161","162","161","0","0",1,-.229692);this.R["162"]=new c("161","162","161","0","0",1,.88595);this.R["84"]=new c("163","164","164","1","13.5",0,0);this.R["163"]=new c("163","164","164","0","0",1,-.992157);this.R["164"]=new c("163","164","164","0","0",1,.922159);this.R["10"]=new c("21","22","22","4","486",0,0);this.R["21"]=new c("43","44","44","133","4.5",0,0);this.R["43"]=new c("85","86","86","10","4.5",0,0);this.R["85"]=new c("165","166","166","4","158.5",0,0);this.R["165"]=new c("165","166","166","0","0",1,-.127778);this.R["166"]=new c("165","166","166","0","0",1,.955189);this.R["86"]=new c("165","166","166","0","0",1,-.994012);this.R["44"]=new c("87","88","88","1","3.5",0,0);this.R["87"]=new c("167","168","168","135","7",0,0);this.R["167"]=new c("167","168","168","0","0",1,-.997015);this.R["168"]=new c("167","168","168","0","0",1,.400821);this.R["88"]=new c("169","170","169","130","36",0,0);this.R["169"]=new c("169","170","169","0","0",1,-.898638);this.R["170"]=new c("169","170","169","0","0",1,.56129);this.R["22"]=new c("45","46","45","9","2.5",0,0);this.R["45"]=new c("89","90","90","9","1.5",0,0);this.R["89"]=new c("171","172","171","10","10.5",0,0);this.R["171"]=new c("171","172","171","0","0",1,.573986);this.R["172"]=new c("171","172","171","0","0",1,-.627266);this.R["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.R["173"]=new c("173","174","173","0","0",1,.925273);this.R["174"]=new c("173","174","173","0","0",1,-.994805);this.R["46"]=new c("91","92","91","136","5.5",0,0);this.R["91"]=new c("175","176","175","10","10.5",0,0);this.R["175"]=new c("175","176","175","0","0",1,.548352);this.R["176"]=new c("175","176","175","0","0",1,-.879195);this.R["92"]=new c("177","178","178","8","14.5",0,0);this.R["177"]=new c("177","178","178","0","0",1,.457305);this.R["178"]=new c("177","178","178","0","0",1,-.998992);this.R["2"]=new c("5","6","5","10","2.5",0,0);this.R["5"]=new c("11","12","11","9","4.5",0,0);this.R["11"]=new c("23","24","24","10","4.00001",0,0);this.R["23"]=new c("47","48","48","133","5.5",0,0);this.R["47"]=new c("93","94","93","3","13.5",0,0);this.R["93"]=new c("179","180","179","138","15.5",0,0);this.R["179"]=new c("179","180","179","0","0",1,.658398);this.R["180"]=new c("179","180","179","0","0",1,-.927007);this.R["94"]=new c("181","182","182","3","15.5",0,0);this.R["181"]=new c("181","182","182","0","0",1,-.111351);this.R["182"]=new c("181","182","182","0","0",1,-.99827);this.R["48"]=new c("95","96","95","7","167",0,0);this.R["95"]=new c("183","184","183","132","36.5",0,0);this.R["183"]=new c("183","184","183","0","0",1,.895161);this.R["184"]=new c("183","184","183","0","0",1,-.765217);this.R["96"]=new c("185","186","186","137","6.00001",0,0);this.R["185"]=new c("185","186","186","0","0",1,-.851095);this.R["186"]=new c("185","186","186","0","0",1,.674286);this.R["24"]=new c("49","50","49","137","5.5",0,0);this.R["49"]=new c("97","98","97","5","23.5",0,0);this.R["97"]=new c("187","188","187","3","28.5",0,0);this.R["187"]=new c("187","188","187","0","0",1,.951654);this.R["188"]=new c("187","188","187","0","0",1,-.993808);this.R["98"]=new c("187","188","187","0","0",1,-.99705);this.R["50"]=new c("187","188","187","0","0",1,-.997525);this.R["12"]=new c("25","26","25","8","8.5",0,0);this.R["25"]=new c("51","52","52","10","4.00001",0,0);this.R["51"]=new c("99","100","100","133","5.5",0,0);this.R["99"]=new c("189","190","190","7","40.5",0,0);this.R["189"]=new c("189","190","190","0","0",1,.151839);this.R["190"]=new c("189","190","190","0","0",1,-.855517);this.R["100"]=new c("191","192","192","133","14.5",0,0);this.R["191"]=new c("191","192","192","0","0",1,.86223);this.R["192"]=new c("191","192","192","0","0",1,.544394);this.R["52"]=new c("101","102","101","135","47.5",0,0);this.R["101"]=new c("193","194","194","4","24.5",0,0);this.R["193"]=new c("193","194","194","0","0",1,.946185);this.R["194"]=new c("193","194","194","0","0",1,.811859);this.R["102"]=new c("193","194","194","0","0",1,-.991561);this.R["26"]=new c("53","54","54","132","6.5",0,0);this.R["53"]=new c("103","104","103","131","85",0,0);this.R["103"]=new c("195","196","196","134","16.5",0,0);this.R["195"]=new c("195","196","196","0","0",1,.0473538);this.R["196"]=new c("195","196","196","0","0",1,-.999401);this.R["104"]=new c("197","198","198","8","15.5",0,0);this.R["197"]=new c("197","198","198","0","0",1,.816129);this.R["198"]=new c("197","198","198","0","0",1,-.99322);this.R["54"]=new c("105","106","105","133","3.5",0,0);this.R["105"]=new c("105","106","105","0","0",1,-.998783);this.R["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.R["199"]=new c("199","200","199","0","0",1,.528588);this.R["200"]=new c("199","200","199","0","0",1,-.998599);this.R["6"]=new c("13","14","14","10","7.5",0,0);this.R["13"]=new c("27","28","28","133","7.5",0,0);this.R["27"]=new c("55","56","56","10","4.5",0,0);this.R["55"]=new c("107","108","107","3","3.5",0,0);this.R["107"]=new c("201","202","201","4","17.5",0,0);this.R["201"]=new c("201","202","201","0","0",1,-.379512);this.R["202"]=new c("201","202","201","0","0",1,.15165);this.R["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.R["203"]=new c("203","204","203","0","0",1,-.884606);this.R["204"]=new c("203","204","203","0","0",1,.265406);this.R["56"]=new c("109","110","109","136","6.5",0,0);this.R["109"]=new c("205","206","205","4","157.5",0,0);this.R["205"]=new c("205","206","205","0","0",1,-.0142737);this.R["206"]=new c("205","206","205","0","0",1,.691279);this.R["110"]=new c("205","206","205","0","0",1,-.998086);this.R["28"]=new c("57","58","58","138","11.5",0,0);this.R["57"]=new c("111","112","112","2","6.5",0,0);this.R["111"]=new c("207","208","208","7","67.5",0,0);this.R["207"]=new c("207","208","208","0","0",1,.763925);this.R["208"]=new c("207","208","208","0","0",1,-.309645);this.R["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.R["209"]=new c("209","210","209","0","0",1,-.306635);this.R["210"]=new c("209","210","209","0","0",1,.556696);this.R["58"]=new c("113","114","113","138","50.5",0,0);this.R["113"]=new c("211","212","212","8","25.5",0,0);this.R["211"]=new c("211","212","212","0","0",1,.508234);this.R["212"]=new c("211","212","212","0","0",1,.793551);this.R["114"]=new c("211","212","212","0","0",1,-.998438);this.R["14"]=new c("29","30","29","134","27.5",0,0);this.R["29"]=new c("59","60","60","7","17.5",0,0);this.R["59"]=new c("115","116","115","135","5.5",0,0);this.R["115"]=new c("213","214","214","137","5.5",0,0);this.R["213"]=new c("213","214","214","0","0",1,.401747);this.R["214"]=new c("213","214","214","0","0",1,.0367503);this.R["116"]=new c("215","216","216","8","5.5",0,0);this.R["215"]=new c("215","216","216","0","0",1,-.0241984);this.R["216"]=new c("215","216","216","0","0",1,-.999046);this.R["60"]=new c("117","118","117","0","12.5",0,0);this.R["117"]=new c("217","218","218","132","5.5",0,0);this.R["217"]=new c("217","218","218","0","0",1,-.997294);this.R["218"]=new c("217","218","218","0","0",1,.210398);this.R["118"]=new c("219","220","219","137","1.5",0,0);this.R["219"]=new c("219","220","219","0","0",1,-.55763);this.R["220"]=new c("219","220","219","0","0",1,.074493);this.R["30"]=new c("61","62","62","133","42.5",0,0);this.R["61"]=new c("119","120","119","135","5.5",0,0);this.R["119"]=new c("221","222","222","4","473.5",0,0);this.R["221"]=new c("221","222","222","0","0",1,-.920213);this.R["222"]=new c("221","222","222","0","0",1,-.17615);this.R["120"]=new c("223","224","224","5","144",0,0);this.R["223"]=new c("223","224","224","0","0",1,-.954295);this.R["224"]=new c("223","224","224","0","0",1,-.382538);this.R["62"]=new c("121","122","121","133","50",0,0);this.R["121"]=new c("225","226","226","10","18.5",0,0);this.R["225"]=new c("225","226","226","0","0",1,-.0731343);this.R["226"]=new c("225","226","226","0","0",1,.755454);this.R["122"]=new c("227","228","228","0","30",0,0);this.R["227"]=new c("227","228","228","0","0",1,.25);this.R["228"]=new c("227","228","228","0","0",1,-.997101);}function f(d,g,n,h,m,p){this.o$=m;this.C3=p;}b=a(21457);k=a(79809);a={};a.Lub=new (function(){this.Dpb=k();this.Qa=0;this.update=function(){this.Qa=k() - this.Dpb;};this.type="num";})();a.FQb=new (function(){this.type="cat";})();a.GQb=new (function(){this.type="cat";})();a.IQb=new (function(){this.type="cat";})();a.JQb=new (function(){this.type="cat";})();a.HQb=new (function(){this.type="cat";})();a.KQb=new (function(){this.type="cat";})();a.LQb=new (function(){this.type="cat";})();a.MQb=new (function(){this.type="cat";})();a.NQb=new (function(){this.type="cat";})();a.OQb=new (function(){this.type="cat";})();a.PQb=new (function(){this.type="cat";})();a.QQb=new (function(){this.type="cat";})();a.SQb=new (function(){this.type="cat";})();a.TQb=new (function(){this.type="cat";})();a.UQb=new (function(){this.type="cat";})();a.RQb=new (function(){this.type="cat";})();a.yvb=new (function(){this.update=function(d){for(var g in d.Kb){if("becauseYouAdded" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.zvb=new (function(){this.update=function(d){for(var g in d.Kb){if("becauseYouLiked" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.Bvb=new (function(){this.update=function(d){for(var g in d.Kb){if("billboard" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.azb=new (function(){this.update=function(d){for(var g in d.Kb){if("continueWatching" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.Avb=new (function(){this.update=function(d){for(var g in d.Kb){if("bigRow" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.sIb=new (function(){this.update=function(d){for(var g in d.Kb){if("genre" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.eUb=new (function(){this.update=function(d){for(var g in d.Kb){if("netflixOriginals" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.jUb=new (function(){this.update=function(d){for(var g in d.Kb){if("newRelease" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.bYb=new (function(){this.update=function(d){for(var g in d.Kb){if("popularTitles" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.sN=new (function(){this.update=function(d){for(var g in d.Kb){if("queue" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.j_b=new (function(){this.update=function(d){for(var g in d.Kb){if("recentlyAdded" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.V3b=new (function(){this.update=function(d){for(var g in d.Kb){if("similars" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.U6b=new (function(){this.update=function(d){for(var g in d.Kb){if("trendingNow" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.q7b=new (function(){this.update=function(d){for(var g in d.Kb){if("ultraHD" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.x9b=new (function(){this.update=function(d){for(var g in d.Kb){if("watchAgain" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.H6b=new (function(){this.update=function(d){for(var g in d.Kb){if("topTen" === d.Kb[g].context){this.Qa=Math.max(d.Kb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.lzb=new (function(){this.type="cat";})();a.mzb=new (function(){this.type="cat";})();a.nzb=new (function(){this.type="cat";})();a.ozb=new (function(){this.type="cat";})();a.pzb=new (function(){this.type="cat";})();a.qzb=new (function(){this.type="cat";})();a.rzb=new (function(){this.type="cat";})();a.szb=new (function(){this.type="cat";})();a.tzb=new (function(){this.type="cat";})();a.uzb=new (function(){this.type="cat";})();a.vzb=new (function(){this.type="cat";})();a.wzb=new (function(){this.type="cat";})();a.xzb=new (function(){this.type="cat";})();a.yzb=new (function(){this.type="cat";})();a.zzb=new (function(){this.type="cat";})();a.Azb=new (function(){this.type="cat";})();a.Bzb=new (function(){this.type="cat";})();a.Czb=new (function(){this.type="cat";})();a.Dzb=new (function(){this.type="cat";})();a.Ezb=new (function(){this.type="cat";})();a.Fzb=new (function(){this.type="cat";})();a.Gzb=new (function(){this.type="cat";})();a.Hzb=new (function(){this.type="cat";})();a.Izb=new (function(){this.type="cat";})();a.Jzb=new (function(){this.type="cat";})();a.Kzb=new (function(){this.type="cat";})();a.Lzb=new (function(){this.type="cat";})();a.Mzb=new (function(){this.type="cat";})();a.Nzb=new (function(){this.type="cat";})();a.Ozb=new (function(){this.type="cat";})();a.Pzb=new (function(){this.type="cat";})();a.Qzb=new (function(){this.type="cat";})();a.Rzb=new (function(){this.type="cat";})();a.Szb=new (function(){this.type="cat";})();a.Tzb=new (function(){this.type="cat";})();a.Uzb=new (function(){this.type="cat";})();a.Vzb=new (function(){this.type="cat";})();a.Wzb=new (function(){this.type="cat";})();a.Xzb=new (function(){this.type="cat";})();a.Yzb=new (function(){this.type="cat";})();a.Zzb=new (function(){this.type="cat";})();a.$zb=new (function(){this.type="cat";})();a.aAb=new (function(){this.type="cat";})();a.bAb=new (function(){this.type="cat";})();a.cAb=new (function(){this.type="cat";})();a.dAb=new (function(){this.type="cat";})();a.eAb=new (function(){this.type="cat";})();a.fAb=new (function(){this.type="cat";})();a.gAb=new (function(){this.type="cat";})();a.hAb=new (function(){this.type="cat";})();a.iAb=new (function(){this.type="cat";})();a.jAb=new (function(){this.type="cat";})();a.kAb=new (function(){this.type="cat";})();a.lAb=new (function(){this.type="cat";})();a.mAb=new (function(){this.type="cat";})();a.nAb=new (function(){this.type="cat";})();a.oAb=new (function(){this.type="cat";})();a.pAb=new (function(){this.type="cat";})();a.qAb=new (function(){this.type="cat";})();a.rAb=new (function(){this.type="cat";})();a.sAb=new (function(){this.type="cat";})();a.tAb=new (function(){this.type="cat";})();a.uAb=new (function(){this.type="cat";})();a.vAb=new (function(){this.type="cat";})();a.wAb=new (function(){this.type="cat";})();a.xAb=new (function(){this.type="cat";})();a.yAb=new (function(){this.type="cat";})();a.zAb=new (function(){this.type="cat";})();a.AAb=new (function(){this.type="cat";})();a.BAb=new (function(){this.type="cat";})();a.CAb=new (function(){this.type="cat";})();a.DAb=new (function(){this.type="cat";})();a.EAb=new (function(){this.type="cat";})();a.FAb=new (function(){this.type="cat";})();a.GAb=new (function(){this.type="cat";})();a.HAb=new (function(){this.type="cat";})();a.IAb=new (function(){this.type="cat";})();a.JAb=new (function(){this.type="cat";})();a.KAb=new (function(){this.type="cat";})();a.m_b=new (function(){this.type="cat";})();a.n_b=new (function(){this.type="cat";})();a.o_b=new (function(){this.type="cat";})();a.p_b=new (function(){this.type="cat";})();a.q_b=new (function(){this.type="cat";})();a.r_b=new (function(){this.type="cat";})();a.s_b=new (function(){this.type="cat";})();a.t_b=new (function(){this.type="cat";})();a.u_b=new (function(){this.type="cat";})();a.v_b=new (function(){this.type="cat";})();a.w_b=new (function(){this.type="cat";})();a.x_b=new (function(){this.type="cat";})();a.y_b=new (function(){this.type="cat";})();a.z_b=new (function(){this.type="cat";})();a.A_b=new (function(){this.type="cat";})();a.B_b=new (function(){this.type="cat";})();a.C_b=new (function(){this.type="cat";})();a.D_b=new (function(){this.type="cat";})();a.E_b=new (function(){this.type="cat";})();a.F_b=new (function(){this.type="cat";})();a.G_b=new (function(){this.type="cat";})();a.H_b=new (function(){this.type="cat";})();a.I_b=new (function(){this.type="cat";})();a.v5b=new (function(){this.update=function(d){"down" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.x5b=new (function(){this.update=function(d){"right" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.w5b=new (function(){this.update=function(d){"left" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.y5b=new (function(){this.update=function(d){"up" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.OSb=new (function(){this.Qa=0;this.update=function(d){this.Qa=Math.max(this.Qa,d.rowIndex);};this.type="num";})();a.PSb=new (function(){this.Qa=0;this.update=function(d){this.Qa=Math.max(this.Qa,d.mVa);};this.type="num";})();a.WSb=new (function(){this.eE=this.Qa=0;this.update=function(d){this.eE++;this.Qa=1 * (this.Qa + d.rowIndex) / this.eE;};this.type="num";})();a.XSb=new (function(){this.eE=this.Qa=0;this.update=function(d){this.eE++;return this.Qa=1 * (this.Qa + d.mVa) / this.eE;};this.type="num";})();a.KYb=new (function(){this.type="num";})();a.LYb=new (function(){this.type="num";})();l.prototype.KC=function(d){return this.rRa(this.R["0"].ibb(d),d);};l.prototype.rRa=function(d,g){return "string" == typeof d?this.rRa(this.R[d].ibb(g),g):d;};c.prototype.ibb=function(d){switch(this.XPb){case 0:switch(d.features[this.BY].type){case "cat":return null === d.features[this.BY].value?this.r7a:"missing" == d.features[this.BY].value?this.Qy:this.Vgb;case "num":return null === d.features[this.BY].value?this.Qy:d.features[this.BY].value < this.split?this.Vgb:this.r7a;default:return this.Qy;}case 1:return this.KC;default:return this.KC;}};b.declare({JV:["modelSelector","modelone"],tyb:["colEpisodeList",5],sNb:["holdDuration",15E3],Vab:["rowFirst",2],lVa:["colFirst",5],Wab:["rowScroll",2],nVa:["colScroll",6],l1b:["rowScrollHorizontal",6],J1b:["searchTop",3],RWa:["cwFirst",2],sU:["horizontalItemsFocusedMode",3],YPb:["itemsPerRank",1],zSb:["maxNumberPayloadsStored",10],d6a:["maxNumberTitlesScheduled",5],Pfc:["enableDetailedLogging",!0],Oic:["rowStep",20],dfc:["colStep",15],pic:["pageRows",100],oic:["pageColumns",75],Bra:["maskParamsList",new (function(){var d,g;this.Bra=[];this.$k={};this.o$=20;this.C3=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.o$) + "_" + Math.floor(g / this.C3) in this.$k) || (this.$k[Math.floor(d / this.o$) + "_" + Math.floor(g / this.C3)]=1,this.Bra.push(new f("grid",10,5,5,Math.floor(d / this.o$),Math.floor(g / this.C3))));}}})().Bra],R:["nodes",new l().R],mapping:["mapping",{PSb:"0",XSb:"1",OSb:"2",WSb:"3",Lub:"4",y5b:"5",w5b:"6",x5b:"7",v5b:"8",LYb:"9",KYb:"10",FQb:"11",GQb:"12",IQb:"13",JQb:"14",HQb:"15",KQb:"16",LQb:"17",MQb:"18",NQb:"19",OQb:"20",PQb:"21",QQb:"22",RQb:"23",SQb:"24",TQb:"25",UQb:"26",m_b:"27",n_b:"28",o_b:"29",p_b:"30",q_b:"31",r_b:"32",s_b:"33",t_b:"34",u_b:"35",v_b:"36",w_b:"37",x_b:"38",y_b:"39",z_b:"40",A_b:"41",B_b:"42",C_b:"43",D_b:"44",E_b:"45",F_b:"46",G_b:"47",H_b:"48",I_b:"49",lzb:"50",mzb:"51",nzb:"52",ozb:"53",pzb:"54",qzb:"55",rzb:"56",szb:"57",tzb:"58",uzb:"59",vzb:"60",wzb:"61",xzb:"62",yzb:"63",zzb:"64",Azb:"65",Bzb:"66",Czb:"67",Dzb:"68",Ezb:"69",Fzb:"70",Gzb:"71",Hzb:"72",Izb:"73",Jzb:"74",Kzb:"75",Lzb:"76",Mzb:"77",Nzb:"78",Ozb:"79",Pzb:"80",Qzb:"81",Rzb:"82",Szb:"83",Tzb:"84",Uzb:"85",Vzb:"86",Wzb:"87",Xzb:"88",Yzb:"89",Zzb:"90",$zb:"91",aAb:"92",bAb:"93",cAb:"94",dAb:"95",eAb:"96",fAb:"97",gAb:"98",hAb:"99",iAb:"100",jAb:"101",kAb:"102",lAb:"103",mAb:"104",nAb:"105",oAb:"106",pAb:"107",qAb:"108",rAb:"109",sAb:"110",tAb:"111",uAb:"112",vAb:"113",wAb:"114",xAb:"115",yAb:"116",zAb:"117",AAb:"118",BAb:"119",CAb:"120",DAb:"121",EAb:"122",FAb:"123",GAb:"124",HAb:"125",IAb:"126",JAb:"127",KAb:"128",x9b:"129",j_b:"130",V3b:"131",sN:"132",azb:"133",sIb:"134",U6b:"135",H6b:"136",Bvb:"137",jUb:"138",q7b:"139",bYb:"140",yvb:"141",Avb:"142",zvb:"143",eUb:"144"}],features:["features",a],gec:["_modelName","tree"],aec:["_format","xgboost"],fec:["_itemsToKeep",5],eec:["_itemsThreshold",null],Oec:["cacheLimit",20]});r.exports={config:b,thc:f,nfc:c};},45578:function(r){r.exports={Gw:{ufa:0,OMa:1,Sh:2,name:["transient","semiTransient","permanent"]},Cw:{zEa:0,NMa:1,H0:2,fQ:3,$w:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},Pdc:{Ddc:0,Ebc:1,Y$b:2,$w:100,name:["trailer","montage","content"]},Au:{RGa:0,sMa:1,tob:2,sjb:3,$w:100,name:["left","right","up","down"]},JP:{Fib:0,H0:1,obc:2,Kac:3,x$b:4,nbc:5,Ehb:6,$w:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},TI:{fQ:0,SCa:1,$w:100,name:["playFocused","detailsOpened"]}};},90638:function(r,b,a){var f,k,d,g,n,h,m,p,q,u;function c(t,w){this.Ij=t;this.Dl=w;}function l(t){this.T=t;this.reset();}f=a(79809);k=a(45578);b=a(76122);d=a(94030).config;g=b.iJb;n=b.SIb;h=b.yDb;m=b.cVb;p=b.bVb;q=b.aVb;u=b.sZa;l.prototype.constructor=l;l.prototype.reset=function(){this.TQa=void 0;this.Yj=[];this.LQa=this.MQa=!1;};l.prototype.update=function(t,w){var v;this.Yj && (this.Yj=this.Yj.filter(this.H3b,this));if(!1 === this.MQa){v=g(t.Kb).slice(0,d.RWa);0 < v.length && (this.NG(v,k.Gw.Sh),this.MQa=!0,this.Yj=this.sI(v.concat(this.Yj)));}!1 === this.LQa && (v=n(t.Kb).slice(0,d.RWa),0 < v.length && (this.NG(v,k.Gw.Sh),this.LQa=!0,this.Yj=this.sI(v.concat(this.Yj))));switch(w){case k.Cw.zEa:w=this.FMb(t);break;case k.Cw.NMa:w=this.PMb(t);break;case k.Cw.H0:w=this.QMb(t);break;case k.Cw.fQ:w=this.KMb(t);break;default:w=this.CMb(t);}this.TQa=t;return w;};l.prototype.FMb=function(t){t=m(t.Kb,d.Vab,d.lVa);this.NG(t,k.Gw.Sh);return this.Yj=this.sI(this.Yj.concat(t));};l.prototype.PMb=function(t){var w,v;this.T.log("handleScrollHorizontal");w=t.Kb;t=m(w,d.Wab,d.nVa);v=h(w,this.TQa.Kb);w=w[v].list.slice(0,d.l1b);w.concat(t);this.NG(w,k.Gw.ufa);return this.sI(w.concat(this.Yj));};l.prototype.NG=function(t,w){t.forEach(function(v){if(void 0 === v.UA || v.UA < w)v.UA=w;void 0 === v.rO && (v.rO=f());void 0 === v.Ok && (v.Ok=f());});};l.prototype.QMb=function(t){this.T.log("handleSearch");t=p(t.Kb,d.J1b);this.NG(t,k.Gw.OMa);this.Yj=t.concat(this.Yj);return this.Yj=this.sI(this.Yj);};l.prototype.KMb=function(t){var w,v,y,x,z;this.T.log("handlePlayFocus: ",d.sU);w=t.direction;v=t.Kb;t=[];y=u(v);if(void 0 !== y.Ij)switch((t.push(y),w)){case k.Au.sMa:for(w=1;w < d.sU;w++){t.push(new c(y.Ij,y.Dl + w));}t.push(new c(y.Ij - 1,y.Dl));t.push(new c(y.Ij + 1,y.Dl));break;case k.Au.RGa:for(w=1;w < d.sU;w++){t.push(new c(y.Ij,y.Dl - w));}t.push(new c(y.Ij - 1,y.Dl));t.push(new c(y.Ij + 1,y.Dl));break;case k.Au.tob:t.push(new c(y.Ij - 1,y.Dl));for(w=1;w <= d.sU / 2;w++){t.push(new c(y.Ij,y.Dl + w));t.push(new c(y.Ij,y.Dl - w));}break;case k.Au.sjb:for((t.push(new c(y.Ij + 1,y.Dl)),w=1);w <= d.sU / 2;w++){t.push(new c(y.Ij,y.Dl + w));t.push(new c(y.Ij,y.Dl - w));}}x=[];t.forEach(function(A){z=q(v,A.Ij,A.Dl);void 0 !== z && x.push(z);});this.NG(x,k.Gw.ufa);return this.sI(x.concat(this.Yj));};l.prototype.CMb=function(t){this.T.log("ModelOne: handleDefaultCase");t=m(t.Kb,d.Wab,d.nVa);this.NG(t,k.Gw.ufa);return this.sI(t.concat(this.Yj));};l.prototype.H3b=function(t){return t.UA == k.Gw.Sh | t.UA == k.Gw.OMa & f() - t.rO < d.sNb;};l.prototype.sI=function(t){var w,v,y,x,z,A,B;w=[];v={};x=0;z=t.length;for(y=0;y < z;y++){A=t[y].J;B=t[y];!1 === (A in v)?(w.push(B),v[A]=x,x++):(A=w[v[A]],B.Ok < A.Ok && (A.Ok=B.Ok),B.UA > A.UA && (A.UA=B.UA),B.rO > A.rO && (A.rO=B.rO));}return w;};r.exports=l;},7795:function(r){function b(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.gg)return (this.gg={},this.gg[c]=[l],!0);f=this.gg[c];return void 0 === f?(this.gg[c]=[l],!0):0 > f.indexOf(l)?(f.push(l),!0):!1;}function a(c,l){c=this.gg?this.gg[c]:void 0;if(!c)return !1;c.forEach(function(f){f(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.gg)return !1;f=this.gg[c];if(void 0 === f)return !1;l=f.indexOf(l);if(0 > l)return !1;if(1 === f.length)return (delete this.gg[c],!0);f.splice(l,1);return !0;},Lq:a,emit:a,removeAllListeners:function(c){this.gg && (void 0 === c?delete this.gg:delete this.gg[c]);return this;}};},65267:function(r){function b(c,l,f,k){c.trace(":",f,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,f,k){f=k?f.bind(k):f;k=!1;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addEventListener)k=c.addEventListener(l,f);else if("function" === typeof c.addListener)k=c.addListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return k;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,k;f=l[0];k=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(k,l):"function" === typeof f.removeListener && f.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},41628:function(r,b,a){r.exports={EventEmitter:a(7795),ze:a(65267)};},99886:function(r,b,a){var k,d,g,n,h,m,p;function c(q,u,t,w,v,y){this.P=this.J=q;this.priority=u;this.ye=t;y && y.zd && (this.zd=y.zd);void 0 !== w && (this.eN=w);this.Ok=v;this.tb=y;}function l(q,u,t,w,v){g(void 0 !== w,"video preparer is null");g(void 0 !== v,"ui preparer is null");this.T=u || console;this.T=u;this.ka=t;this.dsb=w;this.Trb=v;this.SQa=m.wua;this.SJ=[];this.wha=!1;this.RQ=0;new p().on(m,"changed",f,this);this.reset();}function f(){this.T.log("config changed");m.wua && (this.SQa=m.wua);m.JV !== this.MJ && (this.reset(),this.Ava());}k=a(79809);d=a(45578);b=a(76122);g=b.assert;n=b.sZa;h=a(90638);m=a(94030).config;p=a(41628).ze;m.declare({wua:["ppmConfig",{S$b:{L7a:0,K7a:2,I7a:0,J7a:5,ocb:0},udc:{L7a:0,K7a:1,I7a:0,J7a:3,ocb:1E3},$$b:{L7a:0,K7a:1,I7a:0,J7a:3,ocb:1E3}}]});l.prototype.constructor=l;l.prototype.reset=function(){this.pga=!0;this.MJ=m.JV;this.T.log("create model: " + m.JV,m.Vab,m.lVa);switch(m.JV){case "modelone":this.MJ=new h(this.T);break;default:this.MJ=new h(this.T);}};l.prototype.Ava=function(){var u,t;if(!1 === this.wha){this.wha=!0;for(var q=0;q < this.SJ.length;q++){this.T.log("PlayPredictionModel replay: ",JSON.stringify(this.SJ[q]));u=this.XVa(this.SJ[q]);t=this.f_a(u);this.MJ.update(u,t);this.pga=!1;}this.SJ=[];}};l.prototype.update=function(q){var u,t,w;this.T.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Kb && q.Kb[0]){!1 === this.wha && this.SJ.length < m.zSb && this.SJ.push(q);u=this.XVa(q);t=this.f_a(u);this.T.log("actionType",t);u="mlmodel" == m.JV?this.MJ.update(q,t):this.MJ.update(u,t);u=this.rIb(u,m.YPb || 1);this.T.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.RQ && (this.RQ=k(),this.ka && this.ka.VW && this.ka.VW({wDb:this.RQ}));if(this.ka && this.ka.n0b){this.rJb();w=[];u.forEach(function(v){w.push({Njc:v.J});});JSON.stringify(q);JSON.stringify(u);}this.dsb.gH(u);this.Trb.gH(u);this.pga=!1;}};l.prototype.rJb=function(){k();};l.prototype.VW=function(){this.RQ=k();this.ka && this.ka.VW && this.ka.VW({wDb:this.RQ});};l.prototype.XVa=function(q){var u,t,w,v,y;u={};w=q.Kb || [];v=(function(x){var z,A;z={};y=d.JP.name.indexOf(x.context);z.context=0 <= y?y:d.JP.$w;z.rowIndex=x.rowIndex;z.requestId=x.requestId;z.list=[];t=x.list || [];t.forEach((function(B){A={J:B.J,ye:B.ye,index:B.index,eN:B.eN,H9:B.H9,list:B.list,tb:B.tb};void 0 !== B.property && (y=d.TI.name.indexOf(B.property),A.property=0 <= y?y:d.TI.$w);z.list.push(A);}).bind(this));u.Kb.push(z);}).bind(this);if(void 0 !== q.direction){y=d.Au.name.indexOf(q.direction);u.direction=0 <= y?y:d.Au.$w;}void 0 !== q.yT && (u.fgc=q.yT.rowIndex,u.egc=q.yT.xyb);u.yT=q.yT;u.Kb=[];w.forEach(v);return u;};l.prototype.f_a=function(q){var u,t,w;u=q.direction || d.Au.$w;t=q.yT;w=q.Kb || [];!0 === this.pga?q=d.Cw.zEa:!0 === w.some(this.hNb)?(q=d.Cw.fQ,this.f$(w,u,t)):q=w[0].context === d.JP.H0?d.Cw.H0:u === d.Au.sMa || u === d.Au.RGa?d.Cw.NMa:d.Cw.$w;return q;};l.prototype.hNb=function(q){return (q.list || []).some(function(u){return u.property === d.TI.fQ || u.property === d.TI.SCa;});};l.prototype.f$=function(q,u,t){var w,v;this.T.log("reportPlayFocusEvent: ",u,t);w={};v=n(q);this.ka && this.ka.f$ && (w.Wfc=k(),w.direction=d.Au.name[u],t && (w.rowIndex=t.rowIndex,w.mVa=t.xyb),void 0 !== v.Ij && (w.requestId=q[v.Ij].requestId),this.ka.f$ && this.ka.f$(w));};l.prototype.rIb=function(q,u){for(var t=q.length,w=[],v,y,x,z,A=0;A < t;A++){y=q[A];v=Math.floor(A / u) + 1;if(void 0 !== y.list){x=y.list;z=x.length;for(var B=0;B < Math.min(m.tyb,z) && !(x[B].Ok=y.Ok,this.mSa(x[B],v,w),w.length >= m.d6a);B++){;}}else this.mSa(y,v,w);if(w.length >= m.d6a)break;}return w;};l.prototype.mSa=function(q,u,t){var v,y;function w(x){x.zd && (x.tb || (x.tb={}),x.tb.zd=x.zd);return x.tb;}v=q.H9;if(void 0 !== v && v instanceof Array)v.forEach(function(x){void 0 !== x.J && (y=w(x),t.push(new c(x.J,u,x.ye,x.eN,q.Ok,y)));});else if(void 0 !== v && void 0 !== v.J){v=q.H9;y=w(v);t.push(new c(v.J,u,v.ye,v.eN,q.Ok,y));}void 0 !== q.J && (y=w(q),t.push(new c(q.J,u,q.ye,q.eN,q.Ok,y)));};l.prototype.NF=function(q){var u;u=this.SQa;return q?u[q]:u;};r.exports=l;},76122:function(r,b,a){var l;function c(f){for(var k="",d=0;d < f.length;d++){k+=f[d].J + "|";}return k;}l=a(45578);r.exports={assert:function(f,k){if(!f)throw Error("PlayPredictionModel assertion failed" + (k?" : " + k:""));},Wgc:function(f,k,d){Array.prototype.splice.apply(f,[k,0].concat(d));},iJb:function(f){for(var k=[],d=0;d < f.length;d++){if(f[d].context === l.JP.Fib){k=f[d].list;break;}}return k;},SIb:function(f){for(var k=[],d=0;d < f.length;d++){if(f[d].context === l.JP.Ehb){k=f[d].list;break;}}return k;},yDb:function(f,k){for(var d=0,g,n,h,m=0,p=f.length - 1;m < p;m++){g=c(f[m].list || []);h=!1;for(var q=0,u=k.length;q < u;q++){if((n=c(k[q].list || []),n == g)){h=!0;break;}}if(!1 === h){d=m;break;}}return d;},cVb:function(f,k,d){for(var g=[],n,h=0;h < Math.min(k,f.length);h++){n=f[h].list || [];g=g.concat(n.slice(0,d));}return g;},bVb:function(f,k){for(var d=[],g,n=0;n < f.length && (g=f[n].list || [],g=g.slice(0,Math.min(g.length,k)),k-=g.length,d=d.concat(g),0 !== k);n++){;}return d;},aVb:function(f,k,d){var g;k < f.length && 0 <= k && (f=f[k].list || [],d < f.length && (g=f[d]));return g;},sZa:function(f){for(var k={},d=f.length,g,n=0;n < d;n++){g=f[n].list || [];for(var h=0;h < g.length;h++){if(g[h].property === l.TI.fQ || g[h].property === l.TI.SCa){k.Ij=n;k.Dl=h;break;}}}void 0 === k.Ij && void 0 === k.Dl && (k.Ij=0,k.Dl=0);return k;}};},21457:function(r,b,a){var n,h,m,p,q,u,t,w;function c(v){return v.split(",").reduce(function(y,x){var z;z=x.split("=");x=z[0];z=z.slice(1).join("=");x && x.length && (y[x]=z || !0);return y;},{});}function l(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function f(v,y,x){var z;if("string" === typeof v)return f.call(this,c(v),y,x);z=0;Object.keys(v).forEach(function(A){var B,C,D;B=q[A];C=v[A];if(B){if(D=u[A] || w[typeof n[B]])try{C=D(C);}catch(F){x && x.error("Failed to convert value '" + C + "' for config '" + A + "' : " + F.toString());return;}D=p[B];this[B]=C;p[B] !== D && (x && x.debug("Config changed for '" + A + "' from " + l(D) + " (" + typeof D + ") to " + l(C) + " (" + typeof C + ")"),++z);}else y?(B=(B=t[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,C]),t[A]=B):x && x.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function k(){return Object.keys(q).reduce(function(v,y){var x,z;x=q[y];z=v[x];z?(z.push(y),v[x]=z.sort(function(A,B){return B.length - A.length;})):v[x]=[y];return v;},{});}function d(v,y){return v.hasOwnProperty(y)?l(v[y]):void 0;}function g(v,y){return "undefined" === typeof v?y:v;}b=a(54);a=a(37911).EventEmitter;n={};h=Object.create(n);m=Object.create(h);p=Object.create(m);q={};u={};t={};p.declare=function(v){Object.keys(v).forEach(function(y){var x,z,A,B;x=v[y];z=x[0];A=x[1];B=x[2];if(n.hasOwnProperty(y))throw Error("The local configuraion key '" + y + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(C){var D;if(q.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");n.hasOwnProperty(y) || ("function" === typeof A && (A=A()),n[y]=A);q[C]=y;"function" === typeof B && (u[C]=B);if(D=t[C])(D.forEach(function(F){var G,E;G=F[0];E={};E[C]=F[1];f.call(G,E,!1);}),delete t[C]);});});return p;};w={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};p.set=f.bind(h);p.iW=f.bind(m);p.dump=function(v,y){var z,A,B,C;function x(){C && v && v.log("===========================================");}z=Object.keys(t).sort();A={};B=k();y=g(y,!0);Object.keys(q).sort().forEach(function(D){var F,G,E;D=q[D];if(!A[D]){A[D]=!0;F=d(h,D);G=d(m,D);if(y || "undefined" !== typeof F || "undefined" !== typeof G){E=B[D].join(",");E+=" = " + l(p[D]) + " (" + typeof p[D] + ") [";E+=g(G,"<unset>") + ",";E+=g(F,"<unset>") + ",";E+=d(n,D) + "]";C || (C=!0,v && v.log("Current config values"),x());v && v.log(E);}}});(y || z.length) && v && v.log("<undeclared> :",z);x();};p.On=function(v){var y,x;y={};x={};Object.keys(q).forEach(function(z){z=q[z];x[z] || (x[z]=!0,y[z]=p[z]);});v && f.call(y,v);return y;};p.W8a=function(){var v;v=k();return Object.getOwnPropertyNames(h).reduce(function(y,x){y[v[x][0]]=h[x];return y;},{});};p.reset=function(){Object.keys(h).forEach(function(v){delete h[v];});};p.gg={};b(a,p);r.exports=Object.freeze(p);},76295:function(r){function b(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.gg)return (this.gg={},this.gg[c]=[l],!0);f=this.gg[c];return void 0 === f?(this.gg[c]=[l],!0):0 > f.indexOf(l)?(f.push(l),!0):!1;}function a(c,l){c=this.gg?this.gg[c]:void 0;if(!c)return !1;c.forEach(function(f){f(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.gg)return !1;f=this.gg[c];if(void 0 === f)return !1;l=f.indexOf(l);if(0 > l)return !1;if(1 === f.length)return (delete this.gg[c],!0);f.splice(l,1);return !0;},Lq:a,emit:a,removeAllListeners:function(c){this.gg && (void 0 === c?delete this.gg:delete this.gg[c]);return this;}};},92653:function(r){function b(c,l,f,k){c.trace(":",f,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,f,k){f=k?f.bind(k):f;k=!1;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addEventListener)k=c.addEventListener(l,f);else if("function" === typeof c.addListener)k=c.addListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return k;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,k;f=l[0];k=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(k,l):"function" === typeof f.removeListener && f.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},37911:function(r,b,a){r.exports={EventEmitter:a(76295),ze:a(92653)};},36888:function(r,b,a){var l,f,k,d,g;function c(n,h,m){void 0 === m && (m=0);return n.displayTime - m <= h && h < n.displayTime + n.duration;}Object.defineProperty(b,"__esModule",{value:!0});b.lib=b.WAa=void 0;l=a(5163);f=a(42866);k=a(93161);d=a(57055);r=(function(n){function h(m,p,q,u,t,w,v,y){var x,z,A;x=this;x=n.call(this) || this;x.Ipb=m;x.XQ=p;x.Npb=q;x.la=u;x.Ct=t;x.foa=w;x.r9=v;x.options=y;x.qj=[];x.Li=[];x.Ji=[];x.fua=new d.ze();x.twa=new d.ze();x.A3=new d.ze();x.kA=new g(function(){return p(m());},x.la,(null === (z=x.options) || void 0 === z?void 0:z.aa) || !1);x.kA.events.on("bufferingcomplete",function(){var B;x.la.trace("AseTimer:Received buffering complete from watcher");null === (B=x.xm) || void 0 === B?void 0:B.mf();x.Vsa();});x.kA.uua();x.scb();x.fua.on(x.r9,"segmentPresenting",function(){x.d8a();});x.fua.on(x.r9,"taskSchedulerChanged",function(){x.scb();});null === (A=x.xm) || void 0 === A?void 0:A.Oa();return x;}l.__extends(h,n);Object.defineProperty(h.prototype,"_buffering",{get:function(){return this.kA.pS;},enumerable:!1,configurable:!0});h.prototype.q5b=function(){var m,p,q,u,t,w,v,y,x,z,A,B,C,D;D=this;return l.__generator(this,function(F){switch(F.label){case 0:this.la.trace("AseTimer:Starting subtitle worker");if(this.Ct())return (this.la.trace("Paused: exiting"),[2]);m=function(){return D.yd.sa.currentTime.G;};p=this.Ipb;this.Ji=this.Li.concat(this.qj);this.$9a(p(),!0);F.label=1;case 1:if(!this.Ji.length)return [3,3];u=q=p();this.KUa(q);try{for((t=(B=void 0,l.__values(this.Ji)),w=t.next());!w.done;w=t.next()){v=w.value;this.la.trace(("AseTimer:Checking subtitle ").concat(v.id));q >= v.displayTime + v.duration || (c(v,q,this.options.tjc)?(this.la.trace(("AseTimer:Showing subtitle ").concat(v.id)),this.IYb(v),u=Math.max(q,v.displayTime)):(this.la.trace(("AseTimer:Staging subtitle ").concat(v.id)),this.xxa(v)));}}catch(G){B={error:G};}finally{try{w && !w.done && (C=t.return) && C.call(t);}finally{if(B)throw B.error;}}y=this.zwb(u);if(!isFinite(y))return (this.kA.uua(),[3,3]);x=m();z=this.Npb(y,q);if(void 0 === z)return [3,3];A=Math.max(z,10) + x;this.la.trace(("AseTimer:Sleeping till PlayerTime ").concat(A));return [4,k.Jg.ou(f.L.Na(A))];case 2:return (F.Ua(),this.$9a(p()),[3,1]);case 3:return (this.la.trace(("AseTimer:Checking removed subtitles one more time ").concat(p())),this.KUa(p()),this.la.trace("AseTimer:Ending subtitle worker"),[2]);}});};h.prototype.$9a=function(m,p){var q,u,t,w,v;u=this;void 0 === p && (p=!1);t=p || !this.qj.length;t || (t=this.Ji[this.Ji.length - 1].displayTime > m);if(t){this.la.trace(("AseTimer:Getting subtitles for ").concat(m),{kfc:this.yd.sa.currentTime});w=this.XQ(m);if(w){this.la.trace(("AseTimer:Received ").concat(w.length," subtitles"));t=function(A){(0,f.tc)(v.Ji,function(B){return B.id === A.id;}) || m >= A.displayTime + A.duration || (v.la.trace(("AseTimer:adding ").concat(A.id),{start:A.startTime,Dfc:A.displayTime,end:A.endTime,Lfc:A.duration}),v.Ji.push(A));};v=this;try{for(var y=l.__values(w),x=y.next();!x.done;x=y.next()){t(x.value);}}catch(A){var z;z={error:A};}finally{try{x && !x.done && (q=y.return) && q.call(y);}finally{if(z)throw z.error;}}p && this.Ji.filter(function(A){return !(0,f.tc)(w,function(B){return B.id === A.id;});}).forEach(function(A){return u.$V(A);});this.Ji.length || this.kA.uua();}else this.oh();}};h.prototype.stop=function(){var m;this.la.trace("AseTimer:Stop");null === (m=this.xm) || void 0 === m?void 0:m.Oa();this.kA.reset();this.a$();this.fua.clear();this.twa.clear();this.A3.clear();};h.prototype.a$=function(){var m,p,q,u;this.la.trace("AseTimer:Removing all",this.Li.length);u=this.Li;try{for(var t=l.__values(u),w=t.next();!w.done;w=t.next()){this.$V(w.value);}}catch(y){var v;v={error:y};}finally{try{w && !w.done && (m=t.return) && m.call(t);}finally{if(v)throw v.error;}}this.Li=[];if(null === (p=this.xm) || void 0 === p?0:p.p3a)null === (q=this.xm) || void 0 === q?void 0:q.Oa();};h.prototype.pause=function(){var m;null === (m=this.xm) || void 0 === m?void 0:m.Oa();};h.prototype.Dz=function(){var m,p,q,u;(null === (m=this.xm) || void 0 === m?void 0:m.state) !== k.Dk.complete && (null === (p=this.xm) || void 0 === p?void 0:p.state) !== k.Dk.rF || this.Ct() || (null === (q=this.xm) || void 0 === q?void 0:q.mf());this.Cn && this.kA.check();this.Ct() && (null === (u=this.xm) || void 0 === u?void 0:u.Oa());};h.prototype.scb=function(){var m;m=this;this.la.trace("Setting up new task scheduler");(this.yd=this.foa())?(this.twa.clear(),this.twa.on(this.yd,"clockChanged",function(){return m.T7a();}),this.xm=this.yd.Vx(function(){return m.q5b();},"subtitleWorker"),this.T7a()):this.la.warn("AseTimer: no player task scheduler");};h.prototype.zwb=function(m){var p;return null !== (p=this.Ji.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,u){return q.concat(u);},[]).filter(function(q){return q > m;}).sort(function(q,u){return q - u;})[0]) && void 0 !== p?p:Infinity;};h.prototype.T7a=function(){var m,p,q;m=this;this.A3.clear();(null === (p=this.yd) || void 0 === p?0:p.sa)?(this.la.trace("onClockChanged: clock listeners registered"),this.A3.on(this.yd.sa,"clockAdjusted",function(u){u.reason === k.Qz.RH && m.d8a();}),this.A3.on(this.yd.sa,"stopStart",function(){var u;m.yd.nG || (null === (u=m.xm) || void 0 === u?void 0:u.mf());})):this.la.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.xm) || void 0 === q?void 0:q.mf();};h.prototype.d8a=function(){var m,p;this.la.trace("Timeline changed");this.a$();this.Ct()?null === (p=this.xm) || void 0 === p?void 0:p.Oa():null === (m=this.xm) || void 0 === m?void 0:m.mf();};h.prototype.xxa=function(m){-1 === this.qj.indexOf(m) && this.$Vb(m);};h.prototype.KUa=function(m){var p,q,w;q=this.Li.concat(this.qj);try{for(var u=l.__values(q),t=u.next();!t.done;t=u.next()){w=t.value;m >= w.displayTime + w.duration && this.$V(w);}}catch(y){var v;v={error:y};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(v)throw v.error;}}};h.prototype.IYb=function(m){-1 === this.Li.indexOf(m) && (this.Li.push(m),-1 !== this.qj.indexOf(m) && (this.qj=this.qj.filter(function(p){return p !== m;})),this.mta(m));};h.prototype.mta=function(m){this.la.trace("AseTimer:Showing",m.id);this.emit("showsubtitle",m);};h.prototype.$Vb=function(m){this.la.trace("AseTimer:Staging",m.id);this.qj.push(m);this.emit("stagesubtitle",m);};h.prototype.oh=function(){this.la.trace("AseTimer:onUnderflow",this.Cn);this.Cn || (this.emit("underflow"),this.kA.oh());};h.prototype.$V=function(m){this.la.trace("AseTimer:Removing",m.id);-1 !== this.qj.indexOf(m) && (this.qj=this.qj.filter(function(p){return p !== m;}));-1 !== this.Li.indexOf(m) && (this.emit("removesubtitle",m),this.Li=this.Li.filter(function(p){return p !== m;}));this.Ji=this.Ji.filter(function(p){return p !== m;});};h.prototype.Vsa=function(){var m;this.Ji.length && (this.emit("bufferingComplete"),this.Ct() || (null === (m=this.xm) || void 0 === m?void 0:m.mf()));};return h;})(d.EventEmitter);b.WAa=r;g=(function(){function n(h,m,p){void 0 === p && (p=!1);this.XQ=h;this.la=m;this.Hga=p;this.events=new d.EventEmitter();this.Cn=!1;}Object.defineProperty(n.prototype,"buffering",{get:function(){return this.Cn;},enumerable:!1,configurable:!0});n.prototype.uua=function(){var h;h=this;this.la.trace("AseTimer:Buffering watcher restart");this.Cn=!0;this.dha && clearInterval(this.dha);this.dha=this.Hga?setInterval(function(){return h.check();},500):setInterval(function(){return h.check();},2E4);};n.prototype.oh=function(){this.la.trace("AseTimer:Buffering watcher underflow");this.Cn=!0;this.OUa(1);};n.prototype.reset=function(){this.la.trace("AseTimer:Buffering watcher reset");clearInterval(this.dha);clearTimeout(this.Vrb);this.Cn=!1;};n.prototype.OUa=function(h){var m;m=250 * (1 << h);2E3 < m && (m=2E3);this.check();this.Cn && (this.Vrb=setTimeout(this.OUa.bind(this,h + 1),m));};n.prototype.check=function(){var h;h=this.XQ();this.la.trace("AseTimer:Buffering complete check",null === h || void 0 === h?void 0:h.length);null !== h && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",UC:h}));};return n;})();b.lib=g;},94536:function(r,b,a){var v,y,x,z,A,B,C,D,F;function c(G,E){var I,M;I=this;M=G.styles || ({});return {startTime:E.startTime,id:E.id,endTime:E.endTime,displayTime:E.displayTime,duration:E.duration,blocks:E.blocks.map(function(L){var K;K=A.HBb(G,L);return {textNodes:L.textNodes.map(w.bind(I,M)),region:K,id:L.id};})};}function l(G){if(!Array.isArray(G))throw Error("last called on non-array: " + G);return G[G.length - 1];}function f(G,E){var I,M,L,K,O,H;I=x.hf(!0);M={};L=[];K=null;O=[];H={};I.onerror=function(J){E(J,null);};I.onend=function(){E(null,M);};I.onclosetag=function(){L.pop();};I.onopentag=function(J){var N,R,T,ka;N=J.attributes;R=J.name;T=M.regions;ka=M.styles;L.push(J);if("tt" === R)M=q(N);else if("body" === R)"undefined" !== typeof N.style && (M.defaultStyle=N.style,O.push(N.style));else if("initial" === R && t(L,"styling"))(H=u(N,B),M.initialStyle=H);else if("style" === R && t(L,"styling")){T=N["xml:id"];J=H;N=u(N,B);if(Object.keys(J).length)for(var sa in J){"undefined" === typeof N[sa] && (N[sa]=J[sa]);}ka[T]=N;}else "style" === R && t(L,"region")?(ka=Object.keys(N)[0],"string" === typeof ka && (T[K][ka.slice(4)]=N[ka])):"region" === R && t(L,"layout") && (K=N["xml:id"],T[K]=u(N,D));};setTimeout(function(){var J;for(I.write(G);0 < L.length && !I.error;){J=l(L).name;I.write("</" + J + ">");}I.close();},10);}function k(G,E){var I;I=G.filter(function(M){return M.startTime <= E && E <= M.endTime;});G=G.filter(function(M){return M.startTime > E;});return 0 < G.length?I.concat([G[0]]):I;}function d(){}function g(G){var E,I,M,L;E=G.preferences;I=G.og;M=G.ye;L=G.la;if(!G.xml && !G.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");y.call(this);this.fg=this.xga=null;this.ux="object" === typeof E?G.preferences:{};this.nx="object" === typeof I?G.og:{};this.Ik="number" === typeof M?G.ye:0;this.EE=G.xml || "";this.ka="object" === typeof L?G.la:F;this.xE=G.request;this.Rf=G.url;this.qf=[];this.Wj=this.Ik;this.nd=null;this.rm=this.Gn=!1;this.bE=G.JW || 0;this.BR=G.Rxa;}function n(G,E){return G && "object" === typeof G[E] && null !== G[E]?G[E]:{};}function h(G,E){return G !== E && !(G && 0 === Object.keys(G).length && E && 0 === Object.keys(E).length);}function m(){var G,E,I;G=this;E=G.EE.indexOf("<p");if(-1 < E){I=G.EE.slice(0,E);f(I,function(M,L){null !== M?(M.d2a=I,G.emit("error",M)):(G.xga=L,G.fg=new z(G.EE,L.tickRate),p.call(G,G.Ik));});}else G.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function p(G){var E,I,M,L,K,O,H,J,N;E=this;I=E.xga;M=0;L=[];K=I.defaultStyle?[I.defaultStyle]:[];O=I.lang?[I.lang]:[];H=E.fg.Jga;E.ka.info("parsing the next 5 entries...");J=E.fg.MKb(G);E.ka.debug(J);N=x.hf(!0);N.onerror=function(R){R.xml=J;E.emit("error",R);};N.onend=function(){var R;R=E.qf.reduce(function(T,ka){ka=ka.blocks.reduce(function(sa,ia){return sa.concat([ia.id]);},[]);return T.concat(ka);},[]);L.forEach(function(T){var ka;if(-1 === R.indexOf(T.id)){ka=T && T.blocks && T.blocks.filter(function(sa){return 0 < sa.textNodes.length;});ka && 0 < ka.length && (T.blocks=ka,E.qf.push(T));}});E.rm=!1;E.Gn || (E.Gn=!0,E.emit("ready"));};N.ontext=function(R){var T,ka,sa,ia;if("" !== R.trim() || R.match(/ +/)){T=l(l(L).blocks).textNodes;ka=T.push;R=R.match(/ +/) || l(O) && "ja" === l(O).slice(0,2)?R:R.trim();sa=l(K);ia=l(O);ka.call(T,{text:R,style:sa,lang:ia && 0 === ia.indexOf("ja")?"ja":ia,lineBreaks:M});}M=0;};N.onclosetag=function(){var R;R=N.tag;"undefined" !== typeof R.attributes.style && K.pop();"undefined" !== typeof R.attributes["xml:lang"] && O.pop();};N.onopentag=function(R){var T,ka,sa,ia,wa;T=R.attributes;ka=R.name;R=I.tickRate;if("p" === ka){M=0;ka=T["xml:id"];T.style && K.push(T.style);T["xml:lang"] && O.push(T["xml:lang"]);sa=H?Math.floor(parseInt(T.begin) / R * 1E3):Math.floor(v(T.begin));if(0 === L.length || l(L).displayTime !== sa){sa=L.push;ia={};if(H){wa=parseInt(T.begin) / R * 1E3;R=parseInt(T.end) / R * 1E3;}else (wa=v(T.begin),R=v(T.end));ia.id=ka;ia.startTime=Math.floor(wa);ia.endTime=Math.floor(R);ia.style=T.style;ia.region=T.region;ia.displayTime=ia.startTime;ia.duration=ia.endTime - ia.startTime;ia.extent=T["tts:extent"] || null;ia.origin=T["tts:origin"] || null;ia.latestEndSoFar=0 > ia.endTime?0:ia.endTime;ia.blocks=[{textNodes:[],region:ia.region,id:ka,extent:ia.extent,origin:ia.origin}];sa.call(L,ia);}else l(L).blocks.push({textNodes:[],region:T.region,id:ka,extent:T["tts:extent"] || null,origin:T["tts:origin"] || null});}else "span" === ka?(K.push(T.style),T["xml:lang"] && O.push(T["xml:lang"]),R=I.styles[T.style],T.style && R && R.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(R.ruby) && l(l(L).blocks).textNodes.push({text:"",style:l(K),lang:l(O),lineBreaks:0})):"br" === ka && M++;};N.write("<entries>").write(J).write("</entries>").close();}function q(G){var E;G=u(G,C);if("string" === typeof G.extent){E=G.extent.split(" ").map(function(I){return parseInt(I,10);});G.width=E[0];G.height=E[1];}else (G.width=1280,G.height=720);G.aspectRatio=G.width / G.height;"string" === typeof G.cellResolution?(E=G.cellResolution.split(" ").map(function(I){return parseInt(I,10);}),G.cellResolution={},G.cellResolution.x=E[0],G.cellResolution.y=E[1]):G.cellResolution={x:52,y:19};return G;}function u(G,E){var I;I={};E.forEach(function(M){"undefined" !== typeof G["tts:" + M]?I[M]=G["tts:" + M]:"undefined" !== typeof G["ttp:" + M]?I[M]=G["ttp:" + M]:"undefined" !== typeof G["ebutts:" + M]?I[M]=G["ebutts:" + M]:"undefined" !== typeof G["xml:" + M] && (I[M]=G["xml:" + M]);});I.styles={};I.regions={};return I;}function t(G,E){var I;for(I=G.length - 1;0 <= I;I--){if(G[I].name === E)return !0;}return !1;}function w(G,E){return {lineBreaks:E.lineBreaks,text:E.text,lang:E.lang,style:this.BR.KBb(G[E.style] || ({}),this.nx,this.ux),id:E.id};}v=a(42353).Tx;y=a(22699).EventEmitter;x=a(14387);z=a(18559);A=a(64433);a(72157);a(72157);B=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear").split(" ");C=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");D=("backgroundColor displayAlign extent origin position writingMode multiRowAlign textAlign").split(" ");F={info:d,debug:d};b=Object.create(y.prototype);g.prototype=b;b.start=function(){var G;G=this;G.ka.info("incremental text stream created, starting at pts " + G.Ik);G.EE?m.call(G):G.xE({url:G.Rf},function(E,I){G.EE=I;m.call(G);});};b.xB=function(G){var E,I,M;E=this;G < E.Wj - E.bE && (E.qf=[]);I=E.qf;M=I.length?Math.max(I[I.length - 1].startTime,G):G;E.Wj=G;for(!E.nd && 5 > E.qf.length && !E.rm && (E.ka.info("buffer size: " + E.qf.length + "; minimum: 5"),E.rm=!0,E.nd=setTimeout(function(){E.nd=null;p.call(E,M + 1);},10));0 < I.length && I[0].endTime < G;){I.shift();}I=k(I,G).map(c.bind(E,E.xga));G < E.fg.kZa() && 0 === I.length && (I=null);return I;};b.Nl=function(G,E){return this.fg?this.fg.Nl(G,E):0;};b.close=function(){};b.cD=function(G){var E;E=n(G,"preferences");G=n(G,"defaults");return h(E,this.ux) || h(G,this.nx)?(this.ux=E,this.nx=G,!0):!1;};r.exports={gda:g,J8a:f,Td:l,J5:k,n4:c,cD:b.cD};},14387:function(r){var w,v,y,x,z,A,B,C,D,F,G,E,I,M,L,K,O;function b(){}function a(H,J){if(!(this instanceof a))return new a(H,J);for(var N=0,R=v.length;N < R;N++){this[v[N]]="";}this.q=this.c=this.Om=this.textNode="";this.STa=w.Eda;this.gn=J || ({});this.gn.u5a=this.gn.u5a || this.gn.ohc;this.ira=this.gn.u5a?"toLowerCase":"toUpperCase";this.Di=[];this.closed=this.yS=this.QN=!1;this.tag=this.error=null;this.cm=!!H;this.B7a=!(!H && !this.gn.B7a);this.state=O.Tba;this.Lw=(this.udb=this.gn.udb)?Object.create(w.Bob):Object.create(w.Lw);this.NA=[];this.gn.TY && (this.Dj=Object.create(M));if(this.Iaa=!1 !== this.gn.position)this.position=this.line=this.AS=0;this.onready && this.onready(void 0);}function c(H,J){var N;if(!(this instanceof c))return new c(H,J);b.apply(this);this.tx=new a(H,J);this.readable=this.writable=!0;N=this;this.tx.onend=function(){N.emit("end");};this.tx.onerror=function(R){N.emit("error",R);N.tx.error=null;};y.forEach(function(R){Object.defineProperty(N,"on" + R,{get:function(){return N.tx["on" + R];},set:function(T){if(!T)return (N.removeAllListeners(R),N.tx["on" + R]=T);N.on(R,T);},enumerable:!0,configurable:!1});});}function l(H){return H.split("").reduce(function(J,N){J[N]=!0;return J;},{});}function f(H,J){return "[object RegExp]" === Object.prototype.toString.call(H)?!!J.match(H):H[J];}function k(H,J,N){H.textNode && d(H);H[J] && H[J](N);}function d(H){H.textNode=g(H.gn,H.textNode);H.textNode && H.ontext && H.ontext(H.textNode);H.textNode="";}function g(H,J){H.trim && (J=J.trim());H.normalize && (J=J.replace(/\s+/g," "));return J;}function n(H,J){d(H);H.Iaa && (J+="\nLine: " + H.line + "\nColumn: " + H.AS + "\nChar: " + H.c);J=Error(J);H.error=J;H.onerror && H.onerror(J);return H;}function h(H){H.QN && !H.yS && m(H,"Unclosed root tag");H.state !== O.Tba && H.state !== O.Uba && H.state !== O.Ga && n(H,"Unexpected end");d(H);H.c="";H.closed=!0;H.onend && H.onend(void 0);a.call(H,H.cm,H.gn);return H;}function m(H,J){if("object" !== typeof H || !(H instanceof a))throw Error("bad call to strictFail");H.cm && n(H,J);}function p(H,J){var N,R;N=0 > H.indexOf(":")?["",H]:H.split(":");R=N[0];N=N[1];J && "xmlns" === H && (R="xmlns",N="");return {prefix:R,local:N};}function q(H){var J,N,R;H.cm || (H.Mi=H.Mi[H.ira]());if(-1 !== H.NA.indexOf(H.Mi) || H.tag.attributes.hasOwnProperty(H.Mi))return H.Mi=H.Ni="";if(H.gn.TY){J=p(H.Mi,!0);N=J.local;if("xmlns" === J.prefix)if("xml" === N && H.Ni !== E)m(H,"xml: prefix must be bound to " + E + "\nActual: " + H.Ni);else if("xmlns" === N && H.Ni !== I)m(H,"xmlns: prefix must be bound to " + I + "\nActual: " + H.Ni);else {J=H.tag;R=H.Di[H.Di.length - 1] || H;J.Dj === R.Dj && (J.Dj=Object.create(R.Dj));J.Dj[N]=H.Ni;}H.NA.push([H.Mi,H.Ni]);}else (H.tag.attributes[H.Mi]=H.Ni,k(H,"onattribute",{name:H.Mi,value:H.Ni}));H.Mi=H.Ni="";}function u(H,J){var N,R,ka,sa,ia,wa,Aa;if(H.gn.TY){N=H.tag;R=p(H.tagName);N.prefix=R.prefix;N.local=R.local;N.uri=N.Dj[R.prefix] || "";N.prefix && !N.uri && (m(H,"Unbound namespace prefix: " + JSON.stringify(H.tagName)),N.uri=R.prefix);R=H.Di[H.Di.length - 1] || H;N.Dj && R.Dj !== N.Dj && Object.keys(N.Dj).forEach(function(La){k(H,"onopennamespace",{prefix:La,uri:N.Dj[La]});});R=0;for(var T=H.NA.length;R < T;R++){ka=H.NA[R];sa=ka[0];ia=ka[1];wa=p(sa,!0);ka=wa.prefix;Aa="" == ka?"":N.Dj[ka] || "";ia={name:sa,value:ia,prefix:ka,local:wa.local,uri:Aa};ka && "xmlns" != ka && !Aa && (m(H,"Unbound namespace prefix: " + JSON.stringify(ka)),ia.uri=ka);H.tag.attributes[sa]=ia;k(H,"onattribute",ia);}H.NA.length=0;}H.tag.bhc=!!J;H.QN=!0;H.Di.push(H.tag);k(H,"onopentag",H.tag);J || (H.state=H.B7a || "script" !== H.tagName.toLowerCase()?O.Ga:O.mJ,H.tag=null,H.tagName="");H.Mi=H.Ni="";H.NA.length=0;}function t(H){var J,N,T;if(H.tagName){if(H.Nj){if("script" !== H.tagName){H.Nj+="</" + H.tagName + ">";H.tagName="";H.state=O.mJ;return;}k(H,"onscript",H.Nj);H.Nj="";}J=H.Di.length;N=H.tagName;H.cm || (N=N[H.ira]());for(var R=N;J--;){if(H.Di[J].name !== R)m(H,"Unexpected close tag");else break;}if(0 > J)(m(H,"Unmatched closing tag: " + H.tagName),H.textNode+="</" + H.tagName + ">");else {H.tagName=N;for(N=H.Di.length;N-- > J;){T=H.tag=H.Di.pop();H.tagName=H.tag.name;k(H,"onclosetag",H.tagName);for(var ka in T.Dj){;}R=H.Di[H.Di.length - 1] || H;H.gn.TY && T.Dj !== R.Dj && Object.keys(T.Dj).forEach(function(sa){k(H,"onclosenamespace",{prefix:sa,uri:T.Dj[sa]});});}0 === J && (H.yS=!0);H.tagName=H.Ni=H.Mi="";H.NA.length=0;}}else (m(H,"Weird empty close tag."),H.textNode+="</>");H.state=O.Ga;}w={hf:function(H,J){return new a(H,J);}};w.Zcc=a;w.$cc=c;w.xWa=function(H){return new c(H,void 0);};w.Eda=65536;v=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");w.Bk=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(H){function J(){this.__proto__=H;}J.prototype=H;return new J();});Object.getPrototypeOf || (Object.getPrototypeOf=function(H){return H.__proto__;});Object.keys || (Object.keys=function(H){var J,N;J=[];for(N in H){H.hasOwnProperty(N) && J.push(N);}return J;});a.prototype={end:function(){h(this);},write:function(H){var T,ka,sa,ia,wa,Aa;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === H)return h(this);if(this.error)throw this.error;for(var J=0,N;this.c=N=H.charAt(J++);){switch((this.Iaa && (this.position++,"\n" === N?(this.line++,this.AS=0):this.AS++),this.state)){case O.Tba:if((this.state=O.Uba,"\ufeff" === N))continue;case O.Uba:"<" === N?(this.state=O.Zda,this.Exa=this.position):f(x,N) || (m(this,"Non-whitespace before first tag."),this.textNode=N,this.state=O.Ga);continue;case O.Ga:if(this.QN && !this.yS){for(var R=J - 1;N && "<" !== N && "&" !== N;){(N=H.charAt(J++)) && this.Iaa && (this.position++,"\n" === N?(this.line++,this.AS=0):this.AS++);}this.textNode+=H.substring(R,J - 1);}"<" !== N || this.QN && this.yS && !this.cm?(f(x,N) || this.QN && !this.yS || m(this,"Text data outside of root node."),"&" === N?this.state=O.tfa:this.textNode+=N):(this.state=O.Zda,this.Exa=this.position);continue;case O.mJ:"<" === N?this.state=O.MMa:this.Nj+=N;continue;case O.MMa:"/" === N?this.state=O.cca:(this.Nj+="<" + N,this.state=O.mJ);continue;case O.Zda:"!" === N?(this.state=O.cfa,this.Lr=""):f(x,N) || (f(L,N)?(this.state=O.qJa,this.tagName=N):"/" === N?(this.state=O.cca,this.tagName=""):"?" === N?(this.state=O.RJa,this.K9=this.nH=""):(m(this,"Unencoded <"),this.Exa + 1 < this.position && (N=Array(this.position - this.Exa).join(" ") + N),this.textNode+="<" + N,this.state=O.Ga));continue;case O.cfa:(this.Lr + N).toUpperCase() === F?(k(this,"onopencdata"),this.state=O.kZ,this.Cl=this.Lr=""):"--" === this.Lr + N?(this.state=O.sZ,this.Lr=this.El=""):(this.Lr + N).toUpperCase() === G?(this.state=O.xZ,(this.doctype || this.QN) && m(this,"Inappropriately located doctype declaration"),this.Lr=this.doctype=""):">" === N?(k(this,"onsgmldeclaration",this.Lr),this.Lr="",this.state=O.Ga):(f(B,N) && (this.state=O.PMa),this.Lr+=N);continue;case O.PMa:N === this.q && (this.state=O.cfa,this.q="");this.Lr+=N;continue;case O.xZ:">" === N?(this.state=O.Ga,k(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=N,"[" === N?this.state=O.lca:f(B,N) && (this.state=O.WCa,this.q=N));continue;case O.WCa:this.doctype+=N;N === this.q && (this.q="",this.state=O.xZ);continue;case O.lca:this.doctype+=N;"]" === N?this.state=O.xZ:f(B,N) && (this.state=O.VCa,this.q=N);continue;case O.VCa:this.doctype+=N;N === this.q && (this.state=O.lca,this.q="");continue;case O.sZ:"-" === N?this.state=O.$Ba:this.El+=N;continue;case O.$Ba:"-" === N?(this.state=O.ZBa,(this.El=g(this.gn,this.El)) && k(this,"oncomment",this.El),this.El=""):(this.El+="-" + N,this.state=O.sZ);continue;case O.ZBa:">" !== N?(m(this,"Malformed comment"),this.El+="--" + N,this.state=O.sZ):this.state=O.Ga;continue;case O.kZ:"]" === N?this.state=O.PBa:this.Cl+=N;continue;case O.PBa:"]" === N?this.state=O.QBa:(this.Cl+="]" + N,this.state=O.kZ);continue;case O.QBa:">" === N?(this.Cl && k(this,"oncdata",this.Cl),k(this,"onclosecdata"),this.Cl="",this.state=O.Ga):"]" === N?this.Cl+="]":(this.Cl+="]]" + N,this.state=O.kZ);continue;case O.RJa:"?" === N?this.state=O.lea:f(x,N)?this.state=O.kea:this.K9+=N;continue;case O.kea:if(!this.nH && f(x,N))continue;else "?" === N?this.state=O.lea:this.nH+=N;continue;case O.lea:">" === N?(k(this,"onprocessinginstruction",{name:this.K9,body:this.nH}),this.K9=this.nH="",this.state=O.Ga):(this.nH+="?" + N,this.state=O.kea);continue;case O.qJa:if(f(K,N))this.tagName+=N;else {this.cm || (this.tagName=this.tagName[this.ira]());R=this.Di[this.Di.length - 1] || this;T=this.tag={name:this.tagName,attributes:{}};this.gn.TY && (T.Dj=R.Dj);this.NA.length=0;">" === N?u(this):"/" === N?this.state=O.l0:(!f(x,N) && m(this,"Invalid character in tag name"),this.state=O.CI);}continue;case O.l0:">" === N?(u(this,!0),t(this)):(m(this,"Forward-slash in opening tag not followed by >"),this.state=O.CI);continue;case O.CI:if(f(x,N))continue;else ">" === N?u(this):"/" === N?this.state=O.l0:f(L,N)?(this.Mi=N,this.Ni="",this.state=O.ZY):m(this,"Invalid attribute name");continue;case O.ZY:"=" === N?this.state=O.vba:">" === N?(m(this,"Attribute without value"),this.Ni=this.Mi,q(this),u(this)):f(x,N)?this.state=O.Jza:f(K,N)?this.Mi+=N:m(this,"Invalid attribute name");continue;case O.Jza:if("=" === N)this.state=O.vba;else if(f(x,N))continue;else (m(this,"Attribute without value"),this.Ni=this.tag.attributes[this.Mi]="",k(this,"onattribute",{name:this.Mi,value:""}),this.Mi="",">" === N?u(this):f(L,N)?(this.Mi=N,this.state=O.ZY):(m(this,"Invalid attribute name"),this.state=O.CI));continue;case O.vba:if(f(x,N))continue;else f(B,N)?(this.q=N,this.state=O.yba):(m(this,"Unquoted attribute value"),this.state=O.zba,this.Ni=N);continue;case O.yba:if(N !== this.q){"&" === N?this.state=O.wba:this.Ni+=N;continue;}q(this);this.q="";this.state=O.Kza;continue;case O.Kza:f(x,N)?this.state=O.CI:">" === N?u(this):"/" === N?this.state=O.l0:f(L,N)?(m(this,"No whitespace between attributes"),this.Mi=N,this.Ni="",this.state=O.ZY):m(this,"Invalid attribute name");continue;case O.zba:if(!f(D,N)){"&" === N?this.state=O.xba:this.Ni+=N;continue;}q(this);">" === N?u(this):this.state=O.CI;continue;case O.cca:if(this.tagName)">" === N?t(this):f(K,N)?this.tagName+=N:this.Nj?(this.Nj+="</" + this.tagName,this.tagName="",this.state=O.mJ):(!f(x,N) && m(this,"Invalid tagname in closing tag"),this.state=O.WBa);else if(f(x,N))continue;else f(L,N)?this.tagName=N:this.Nj?(this.Nj+="</" + N,this.state=O.mJ):m(this,"Invalid tagname in closing tag.");continue;case O.WBa:if(f(x,N))continue;">" === N?t(this):m(this,"Invalid characters in closing tag");continue;case O.tfa:case O.wba:case O.xba:switch(this.state){case O.tfa:(ka=O.Ga,sa="textNode");break;case O.wba:ka=O.yba;sa="attribValue";break;case O.xba:(ka=O.zba,sa="attribValue");}if(";" === N){N=sa;R=this[N];T=this.Om;ia=T.toLowerCase();wa="";if(this.Lw[T])T=this.Lw[T];else if(this.Lw[ia])T=this.Lw[ia];else {T=ia;if("#" === T.charAt(0))if("x" === T.charAt(1)){T=T.slice(2);Aa=parseInt(T,16);wa=Aa.toString(16);}else (T=T.slice(1),Aa=parseInt(T,10),wa=Aa.toString(10));T=T.replace(/^0+/,"");T=wa.toLowerCase() !== T?(m(this,"Invalid character entity"),"&" + this.Om + ";"):String.fromCodePoint(Aa);}this[N]=R + T;this.Om="";this.state=ka;}else f(C,N)?this.Om+=N:(m(this,"Invalid character entity"),this[sa]+="&" + this.Om + N,this.Om="",this.state=ka);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.STa){H=Math.max(w.Eda,10);N=J=0;for(ka=v.length;N < ka;N++){sa=this[v[N]].length;if(sa > H)switch(v[N]){case "textNode":d(this);break;case "cdata":k(this,"oncdata",this.Cl);this.Cl="";break;case "script":k(this,"onscript",this.Nj);this.Nj="";break;default:n(this,"Max buffer length exceeded: " + v[N]);}J=Math.max(J,sa);}this.STa=w.Eda - J + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){d(this);"" !== this.Cl && (k(this,"oncdata",this.Cl),this.Cl="");"" !== this.Nj && (k(this,"onscript",this.Nj),this.Nj="");}};y=w.Bk.filter(function(H){return "error" !== H && "end" !== H;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(H){this.tx.write(H.toString());this.emit("data",H);return !0;};c.prototype.end=function(H){H && H.length && this.write(H);this.tx.end();return !0;};c.prototype.on=function(H,J){var N;N=this;N.tx["on" + H] || -1 === y.indexOf(H) || (N.tx["on" + H]=function(){var R;R=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,H);N.emit.apply(N,R);});return b.prototype.on.call(N,H,J);};x="\r\n\t ";z="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";B="'\"";C=z + A + "#";D=x + ">";F="[CDATA[";G="DOCTYPE";E="http://www.w3.org/XML/1998/namespace";I="http://www.w3.org/2000/xmlns/";M={xml:E,TY:I};x=l(x);z=l(z);A=l(A);L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;K=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;B=l(B);C=l(C);D=l(D);O=0;w.dA={Tba:O++,Uba:O++,Ga:O++,tfa:O++,Zda:O++,cfa:O++,PMa:O++,xZ:O++,WCa:O++,lca:O++,VCa:O++,W$b:O++,sZ:O++,$Ba:O++,ZBa:O++,kZ:O++,PBa:O++,QBa:O++,RJa:O++,kea:O++,lea:O++,qJa:O++,l0:O++,CI:O++,ZY:O++,Jza:O++,vba:O++,yba:O++,Kza:O++,zba:O++,wba:O++,xba:O++,cca:O++,WBa:O++,mJ:O++,MMa:O++};w.Bob={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};w.Lw={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(w.Lw).forEach(function(H){var J;J=w.Lw[H];J="number" === typeof J?String.fromCharCode(J):J;w.Lw[H]=J;});for(O in w.dA){w.dA[w.dA[O]]=O;}O=w.dA;String.fromCodePoint || (function(){var J,N;function H(){var R,T,ka,ia,wa;R=[];T=-1;ka=arguments.length;if(!ka)return "";for(var sa="";++T < ka;){ia=Number(arguments[T]);if(!isFinite(ia) || 0 > ia || 1114111 < ia || N(ia) != ia)throw RangeError("Invalid code point: " + ia);if(65535 >= ia)R.push(ia);else {ia-=65536;wa=(ia >> 10) + 55296;ia=ia % 1024 + 56320;R.push(wa,ia);}if(T + 1 == ka || 16384 < R.length)(sa+=J.apply(null,R),R.length=0);}return sa;}J=String.fromCharCode;N=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:H,configurable:!0,writable:!0}):String.fromCodePoint=H;})();r.exports=w;},59723:function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},64433:function(r,b,a){var k,d,g,n,h,m,p;function c(q){return "string" !== typeof q?null:d[q];}function l(q){return "string" !== typeof q?null:h[q];}function f(q,u){var t;t=q.split(" ");q=t[0];t=t[1];-1 < q.indexOf("px")?(q=parseFloat(q) / u.width,t=parseFloat(t) / u.height):(q=.01 * parseFloat(q),t=.01 * parseFloat(t));return [q,t];}k=a(59723);r.exports={HBb:function(q,u){var t,w,v,y,x,z,G;t=u.textNodes[0] || ({});w=q.regions;v=q.styles;y=q.aspectRatio;x=q.initialStyle || ({});w=w && w[u.region]?w[u.region]:{};v=v && v[t.style]?v[t.style]:{};t=t.lang;z=f(k(u.extent,w.extent,"80% 80%"),q);if(w.position){for(var A=w.position.split(" "),B=[.5,.5],C=["left","top"],D=0,F=0;F < A.length;F++){G=A[F];(G in p)?(C[D]=G,F + 1 >= A.length && (B[D++]=0)):"center" === G?B[D++]=.5:B[D++]=.01 * parseFloat(G);}-1 < ["top","bottom"].indexOf(C[0]) || -1 < ["left","right"].indexOf(C[1])?(D="bottom" === C[0]?1 - B[0]:B[0],A="right" === C[1]?1 - B[1]:B[1]):(A="right" === C[0]?1 - B[0]:B[0],D="bottom" === C[1]?1 - B[1]:B[1]);B=[(1 - z[0]) * A,(1 - z[1]) * D];}else B=null;u=B?B:f(k(B,u.origin,w.origin,"10% 10%"),q);q=Object;y/=1280 / 720;B=(1 - y) / 2;C=u[0];u=u[1];z=q.create.call(q,{marginLeft:C * y + B,marginTop:u,marginRight:(1 - (C + z[0])) * y + B,marginBottom:1 - (u + z[1])});y=w.writingMode?w.writingMode:"lrtb";z.writingMode="string" !== typeof y?null:m[y];1 < Object.keys(w).length?(y=k(v.displayAlign,w.displayAlign,"before"),"tblr" === w.writingMode || "tbrl" === w.writingMode?(z.horizontalAlignment="string" !== typeof y?null:"tblr" === w.writingMode?g[y]:n[y],z.verticalAlignment=c(k(v.textAlign,w.textAlign,"start"))):z.verticalAlignment=c(y)):z.verticalAlignment=c(k(v.displayAlign,"after"));"horizontal-tb" === z.writingMode && (z.horizontalAlignment=l(k(v.textAlign,w.textAlign,x.textAlign,"center")));z.multiRowAlignment=l(k(v.multiRowAlign,w.multiRowAlign,v.textAlign,w.textAlign,x.textAlign,t && "ja" === t.slice(0,2)?"start":"center"));return z;}};d={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};g={before:"left",center:"center",after:"right"};n={before:"right",center:"center",after:"left"};h={left:"left",start:"start",center:"center",right:"right",end:"end"};m={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};p={top:"top",bottom:"bottom",left:"left",right:"right"};},72157:function(r,b){var a,c,l,f;Object.defineProperty(b,"__esModule",{value:!0});r={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};c={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};l={SMALL:.5,"SMALL-MEDIUM":.8,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};f={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};b.h5b={EUa:l,qVa:a,JZa:c,h8a:r,sizeScaleMap:{MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}},Aya:f};b.hRb={EUa:l,qVa:a,JZa:c,h8a:r,sizeScaleMap:{},Aya:f};},41555:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.RNa=void 0;c=a(5163).__importDefault(a(59723));l=("start center end spaceAround spaceBetween withBase").split(" ");f=["before","after","both","outside"];k=["before","after","outside"];d=["filled","open"];g=["circle","dot","sesame"];n=["none","auto"];h=["before","after","outside"];m=("container base baseContainer text textContainer delimiter").split(" ");r=(function(){function p(q){this.W=q;}p.prototype.KBb=function(q,u,t){var w,v,y;w=(0,c.default)(t.characterSize,u.characterSize,"MEDIUM");v=(0,c.default)(t.characterStyle,this.zHb(q.fontFamily),u.characterStyle,"PROPORTIONAL_SANS_SERIF");y=this.MWb(q.fontSize);return {characterUnderline:"underline" === q.textDecoration,characterItalic:"italic" === q.fontStyle,characterStyle:v,windowOpacity:this.xta((0,c.default)(t.windowOpacity,u.windowOpacity,"OPAQUE")),characterOpacity:this.xta((0,c.default)(t.characterOpacity,u.characterOpacity,"OPAQUE")),backgroundOpacity:this.xta((0,c.default)(t.backgroundOpacity,q.opacity,u.backgroundOpacity,"OPAQUE")),characterColor:this.zS((0,c.default)(t.characterColor,q.color,u.characterColor,"#ffffff")),backgroundColor:this.zS((0,c.default)(t.backgroundColor,q.backgroundColor,u.backgroundColor,null)),windowColor:this.zS((0,c.default)(t.windowColor,q.windowColor,u.windowColor,null)),characterEdgeAttributes:(0,c.default)(t.characterEdgeAttributes,u.characterEdgeAttributes,null),characterSize:this.vxb(w,v,y),characterTracking:this.wxb(w,v),characterEdgeWidth:(0,c.default)(this.Fwb(q.textOutline),0),characterEdgeBlur:(0,c.default)(this.Dwb(q.textOutline),0),characterEdgeColor:this.zS((0,c.default)(t.characterEdgeColor,this.Ewb(q.textOutline),u.characterEdgeColor,"#000000")),direction:(0,c.default)(t.direction,q.direction,u.direction,"ltr"),ruby:(0,c.default)(this.k9(q.ruby,m),null),rubyAlign:(0,c.default)(this.k9(q.rubyAlign,l),null),rubyPosition:(0,c.default)(this.k9(q.rubyPosition,k),null),rubyReserve:(0,c.default)(this.k9(q.rubyReserve,f),null),textEmphasis:this.XWb(q.textEmphasis),shear:q.shear?.01 * parseFloat(q.shear):null,textCombine:q.textCombine?q.textCombine:null};};p.prototype.xta=function(q){return this.W.h8a[q];};p.prototype.zS=function(q){return "string" !== typeof q || "#" === q[0] && 7 === q.length?q:"#" === q[0] && 4 === q.length?"#" + q[1] + q[1] + q[2] + q[2] + q[3] + q[3]:this.W.qVa[q.toLowerCase()];};p.prototype.zHb=function(q){return "string" !== typeof q?null:this.W.JZa[q];};p.prototype.vxb=function(q,u,t){var w;t*=this.W.EUa[q] || 1;w=1;this.W.sizeScaleMap[q] && (w=this.W.sizeScaleMap[q][u] || 1);return 1 / 19 * t * w;};p.prototype.wxb=function(q,u){var t;t=0;this.W.Aya[q] && (t=this.W.Aya[q][u] || 0);return t;};p.prototype.Fwb=function(q){return "string" !== typeof q?null:this.Qta(q).width;};p.prototype.Dwb=function(q){return "string" !== typeof q?null:this.Qta(q).blur;};p.prototype.Ewb=function(q){return "string" !== typeof q?null:this.Qta(q).color;};p.prototype.Qta=function(q){var u,t,w;q=(q || "").split(" ");u=(/^[0-9]/).test(q[0]);t=u?0:1;w=parseInt(q[t]);t=parseInt(q[t + 1]);return {color:u?"#000000":this.zS(q[0]),width:0 < w?w:0,blur:0 < t?t:0};};p.prototype.MWb=function(q){q=(q || "").split(" ")[0] || "";return -1 < q.indexOf("%")?parseInt(q,10) / 100:-1 < q.indexOf("em")?parseFloat(q):1;};p.prototype.k9=function(q,u){if(-1 < u.indexOf(q))return q;};p.prototype.XWb=function(q){var u,t;if(!q)return null;q=q.split(" ");if(0 === q.length)return null;u=this.A5(q,h);u=u.length?u[0]:"outside";t=this.A5(q,n);if(t.length)return this.axa(t[0],"",u);t=this.A5(q,d);q=this.A5(q,g);return q.length || t.length?this.axa(q.length?q[0]:"circle",t.length?t[0]:"filled",u):this.axa("auto","",u);};p.prototype.A5=function(q,u){return q.filter(function(t){return -1 !== u.indexOf(t);});};p.prototype.axa=function(q,u,t){return {textEmphasisShape:q,textEmphasisFill:u,textEmphasisPosition:t};};return p;})();b.RNa=r;},18559:function(r,b,a){var l;function c(f,k){var d,g,n,h,m,p,q,u;this.Jga=!0;d=f.indexOf("<p");g=[];n=d;h=-1;do {m={};m.k4b=n;p=f.indexOf("begin=",n) + 7;q=f.indexOf("end=",n) + 5;u=f.substr(p,12);n === d && -1 !== u.indexOf(":") && (this.Jga=!1);this.Jga?(p=Math.floor(parseInt(f.substr(p,25),10) / k * 1E3),q=Math.floor(parseInt(f.substr(q,25),10) / k * 1E3)):(p=l(f.substr(p,12)),q=l(f.substr(q,12)));h=q > h?q:h;m.startTime=p;m.endTime=q;m.latestEndSoFar=h;m.JYa=f.indexOf("/p>",n) + 3;n=m.JYa;g.push(m);n=f.indexOf("<p",n);}while(-1 !== n);this.Xo=g;this.EE=f;}l=a(42353).Tx;c.prototype.kZa=function(){return this.Xo[this.Xo.length - 1].endTime;};c.prototype.Nl=function(f,k){return this.Xo.filter(function(d){return d.startTime <= k && d.endTime >= f;}).length;};c.prototype.MKb=function(f){for(var k="",d=this.Xo.filter(function(n){return n.startTime <= f && f < n.endTime || n.startTime >= f;}),g=4;g + 1 < d.length && d[g + 1].startTime === d[4].startTime;){g++;}d=d.slice(0,g + 1);0 < d.length && (k=this.EE.slice(d[0].k4b,d[d.length - 1].JYa));return k;};r.exports=c;},27057:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Z_=b.iHa=b.SP=void 0;c=a(42866);b.SP=1E4;r=(function(){function f(k){this.sf=[];this.fR=0;this.ka=k;}Object.defineProperty(f.prototype,"endOfStreamSegment",{get:function(){return this.spb;},enumerable:!1,configurable:!0});f.prototype.ZF=function(k){var d;d=(0,c.tc)(this.sf,function(g){return k >= g.gb && k < g.df;});"undefined" === typeof d && this.ka.warn("Get Segment at pts " + k + " is undefined");return d;};f.prototype.Rha=function(k,d){var n;for(var g=this.sf;0 < g.length && 300 <= k.I - g[0].I;){this.nX();}for(;0 < g.length && 300 <= g[g.length - 1].I - k.I;){this.ywa();}n=new l(k,d);k=g.length;if(0 === k || g[k - 1].I < n.I)this.zwa(n);else {k=(0,c.tc)(g,function(h){return h.I >= n.I;});if((null === k || void 0 === k?void 0:k.I) === n.I)return;this.Awa(g.indexOf(k),n);}n.endOfStream && (this.ka.trace("EOS segment added to segment manager"),this.spb=n);this.fR=g[g.length - 1].I;};f.prototype.uY=function(k){var d;if("undefined" === typeof k)this.ka.warn("Current segment is undefined.");else for((this.ul=k,this.ka.trace(("Current segment id is ").concat(k.I)));(null === (d=this.sf[0]) || void 0 === d?void 0:d.df) < k.df - b.SP;){this.nX();}};f.prototype.$na=function(){if(this.Yo){if(this.fR !== this.Yo.I)return this.sf[this.sf.indexOf(this.Yo) + 1];}else return this.sf[0];};f.prototype.ju=function(k){this.Yo=this.wv(k);};f.prototype.wv=function(k){var d;d=(0,c.tc)(this.sf,function(g){return g.I === k;});"undefined" === typeof d && this.ka.error("Segment with segmentId " + k + " is not in segmentArray");return d;};f.prototype.ST=function(){var k;return (null === (k=this.Yo) || void 0 === k?void 0:k.I) || -1;};f.prototype.aza=function(k,d){k=this.wv(k);"undefined" !== typeof k && (this.sf[this.sf.indexOf(k)].header=d);};f.prototype.j1a=function(k){return this.wv(k);};f.prototype.Ina=function(k){k=this.wv(k);return (null === k || void 0 === k?void 0:k.header) || ({});};f.prototype.nX=function(){this.sf.shift();};f.prototype.zwa=function(k){this.sf.push(k);};f.prototype.Awa=function(k,d){this.sf.splice(k,0,d);};f.prototype.ywa=function(){this.sf.pop();};return f;})();b.iHa=r;l=(function(){return function(f,k){this.I=f.I;this.xml=f.xml;this.gb=f.gb;this.df=f.df;this.eG=k;this.size=f.size;this.Fr=f.Fr;this.endOfStream=f.endOfStream;};})();b.Z_=l;},29602:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.kHa=void 0;c=a(5163);r=(function(l){function f(k,d){d=l.call(this,k,d) || this;d.xml=k.xml;d.size=k.size;return d;}c.__extends(f,l);return f;})(a(27057).Z_);b.kHa=r;},47602:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.lHa=void 0;c=a(5163);r=a(22699);l=a(94536);f=a(14387);k=a(27057);d=a(42353);g=a(42353);n=r.EventEmitter;a=(function(h){function m(p){var q,u,t,w,v;q=h.call(this) || this;u=p.preferences;t=p.og;w=p.ye;v=p.la;n.call(q);q.Ax=new d.sda(v);q.ux="object" === typeof u?p.preferences:{};q.nx="object" === typeof t?p.og:{};q.Ik="number" === typeof w?p.ye:0;q.ka="object" === typeof v?p.la:console;q.qf=[];q.Wh=0;q.Wj=q.Ik;q.nd=null;q.Gn=!1;q.rm=!1;q.bE=p.JW || 0;q.md=new k.iHa(q.ka);q.BR=p.Rxa;q.ka.trace("LiveTextStream created with options",p);return q;}c.__extends(m,h);m.prototype.start=function(){this.ka.info(("Incremental live text stream created, starting at pts ").concat(this.Ik));"undefined" !== typeof this.md.ZF(this.Ik) && this.XG.call(this,this.Ik);};m.prototype.Xua=function(p){var q,u,t,w;q=this;u=p.xml;t=u.indexOf("<p");this.ka.trace("pushNextSegment",p);this.md.Rha(p,-1 !== t?t:0);if(!this.Gn){w=this.md.sf[0];this.md.uY(w);this.Ik=w.gb;}-1 < t?(this.Ax.nSa(u,p.I,p.Fr),this.ka.trace(("Live segment ").concat(p.I," is pushed to segment manager"),{gb:p.gb,df:p.df,NDb:p.Fr}),!this.Gn && 4 > this.Wh && (u=0 < this.qf.length?this.qf[this.qf.length - 1].startTime + 1:this.Ik,this.ka.trace("parseNextSegment is called from push new live Segment at " + u),this.XG.call(this,u))):(this.ka.trace(("Live segment ").concat(p.I," is pushed to segment manager, it is an empty segment")),this.Gn || setTimeout(function(){q.ju(p.I);},10));};m.prototype.xB=function(p){var q,u,t,w,v,y;q=this;w=this;w.ka.trace(("LiveTextStream:get subtitles at pts ").concat(p));v=w.md.ZF(p);if("undefined" === typeof v)return (w.ka.debug(("LiveTextStream: get subtitle at pts ").concat(p," returns empty result with segment not available at this pts")),[]);w.md.uY(v);p < w.Wj - w.bE?(w.ka.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(p),(", _lastPts: ").concat(w.Wj,", _backupTolerance: ").concat(w.bE)),w.qf=[],w.Wh=0):(w.Wh=0 < w.qf.length?Math.max(w.md.ST() - v.I + 1,0):0,0 === w.Wh && (w.qf=[]));v=w.qf;w.ka.trace(("LiveTextStream: lastBufferedPts calculation ").concat(p),(", buffer.length: ").concat(v.length,", result: ").concat(0 < v.length?null === (u=v[v.length - 1]) || void 0 === u?void 0:u.startTime:p));u=this.md.Yo;y=0 < v.length && void 0 !== u?u.gb:p;w.Wj=p;w.ka.info("LiveTextStream: timer is " + w.nd + " bufffered segment number is " + w.Wh + " is parsing entry : " + this.rm + " maxBufferedStartPts " + (null === (t=this.md.Yo) || void 0 === t?void 0:t.gb));for(!w.nd && 4 > w.Wh && !w.rm && (w.ka.info("LiveTextStream: buffer size: " + w.Wh + "; minimum: 4"),w.rm=!0,w.nd=setTimeout(function(){w.nd=null;q.ka.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (y + 1));q.XG.call(w,y + 1);},10));0 < v.length && v[0].endTime < p;){v.shift();}return (0,l.J5)(v,p).map(function(x){var z;z=w.md.Ina(x.segId);return l.n4.call(w,z,x);});};m.prototype.Nl=function(p,q){return this.Ax?this.Ax.Nl(p,q):0;};m.prototype.cD=function(p){return l.cD.call(this,p);};m.prototype.close=function(){};m.prototype.XG=function(p){var q;q=this.Yna.call(this,p);"undefined" !== typeof q?(this.ka.trace("Next segment to parse at pts " + p + " is segment " + q.I),0 === q.eG?(this.ka.trace("This is an empty segment"),this.ju(q.I)):(this.Nta.call(this,q),this.ka.trace("parseNextSegEntries buffer length: " + this.qf.length))):(this.ka.debug("Next segment is undefined at pts " + p),this.rm=!1);};m.prototype.Yna=function(p){var q,u;u=this.Ax.F0a(p);this.ka.trace(("Most recent entry at current pts ").concat(p," is segment id  ").concat(u));-1 === u && (u=(null === (q=this.md.ZF(p)) || void 0 === q?void 0:q.I) || -1);return u === this.md.ST()?this.md.$na():this.md.wv(u);};m.prototype.Nta=function(p){var q,u,t,w,v;q=this;u=this;t=p.xml.slice(0,p.eG);w=p.xml.slice(p.eG,p.xml.lastIndexOf("/p>") + 3);(0,l.J8a)(t,function(y,x){null !== y?(y.d2a=t,y.I=p.I,u.emit("error",y)):(v=x,u.md.aza(p.I,v),q.Lta.call(u,w,v,p));});};m.prototype.Lta=function(p,q,u){var t,w,v,y,x,z,A;t=this;w=this;v=0;y=[];x=q.defaultStyle?[q.defaultStyle]:[];z=q.lang?[q.lang]:[];w.ka.debug(p);A=f.hf(!0);A.onerror=function(B){B.xml=p;w.emit("error",B);};A.onend=function(){var B;B=w.qf.reduce(function(C,D){D=D.blocks.reduce(function(F,G){return F.concat([G.id]);},[]);return C.concat(D);},[]);y.forEach(function(C){var D;if(-1 === B.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(F){return 0 < F.textNodes.length;});D && 0 < D.length && (C.blocks=D,w.qf.push(C));}});t.ju(u.I);};A.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,l.Td)((0,l.Td)(y).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,l.Td)(x),lang:(0,l.Td)(z),lineBreaks:v});v=0;};A.onclosetag=function(){var B;B=A.tag;"undefined" !== typeof B.attributes.style && x.pop();"undefined" !== typeof B.attributes["xml:lang"] && z.pop();};A.onopentag=function(B){var C,D;C=B.attributes;B=B.name;if("p" === B){v=0;B=u.I.toString() + "_" + C["xml:id"];C.style && x.push(C.style);C["xml:lang"] && z.push(C["xml:lang"]);D=(0,g.Tx)(C.begin);0 === y.length || (0,l.Td)(y).displayTime !== D?(C=t.Aka(B,0,C,u.Fr),C.segId=u.I,y.push(C)):(0,l.Td)(y).blocks.push({textNodes:[],region:C.region,id:B,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === B?(x.push(C.style),C["xml:lang"] && z.push(C["xml:lang"]),B=q.styles[C.style],C.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,l.Td)((0,l.Td)(y).blocks).textNodes.push({text:"",style:(0,l.Td)(x),lang:(0,l.Td)(z),lineBreaks:0})):"br" === B && v++;};A.write("<entries>").write(p).write("</entries>").close();};m.prototype.Aka=function(p,q,u,t){var w;w={};w.id=p;w.startTime=(0,g.Tx)(u.begin || "") - t;w.endTime=(0,g.Tx)(u.end || "") - t;w.style=u.style;w.region=u.region;w.displayTime=w.startTime;w.duration=w.endTime - w.startTime;w.extent=u["tts:extent"] || null;w.origin=u["tts:origin"] || null;w.latestEndSoFar=q > w.endTime?q:w.endTime;w.blocks=[{textNodes:[],region:w.region,id:p,extent:w.extent || null,origin:w.origin || null}];return w;};m.prototype.ju=function(p){this.md.ju(p);this.Wh+=1;this.rm=!1;this.ka.trace("updateMaxParsedSegment " + p);if(!this.Gn && 4 <= this.Wh || this.md.Sla && this.md.j1a(p) === this.md.Sla)(this.md.Sla && this.md.j1a(p) === this.md.Sla && this.ka.trace("Marking stream ready due to EOS"),this.Gn=!0,this.emit("ready"));};return m;})(n);b.lHa=a;},42353:function(r,b,a){var l;function c(f){var k;f=f.split(".");k=f[0].split(":").map(function(d){return parseInt(d,0);});return 1E3 * (3600 * k[0] + 60 * k[1] + k[2]) + parseInt(f[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.Tx=b.sda=void 0;l=a(42866);r=(function(){function f(k){this.Xo=[];this.ka=k;}f.prototype.nSa=function(k,d,g){var n,h,m,p,q,u;void 0 === g && (g=0);n=this.Xo;h=k.indexOf("<p");m=-1;do {p={};p.I=d;p.Ncb=h;q=k.indexOf("begin=",h) + 7;u=k.indexOf("end=",h) + 5;q=c(k.substring(q,q + 12)) - g;u=c(k.substring(u,u + 12)) - g;m=u > m?u:m;p.startTime=q;p.endTime=u;p.latestEndSoFar=m;p.NFb=k.indexOf("/p>",h) + 3;h=p.NFb;if(0 === n.length || p.startTime > n[n.length - 1].startTime)(n.push(p),this.ka.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,DFb:p.endTime}));else if((u=(0,l.tc)(n,function(t){return t.startTime >= p.startTime;}),u.startTime !== p.startTime || u.Ncb !== p.Ncb))(u=n.indexOf(u),n.splice(u,0,p),this.ka.trace(("LiveTtmlIndex:  entry is pushed at index number ").concat(u),{startTime:p.startTime,DFb:p.endTime}));h=k.indexOf("<p",h);}while(-1 !== h);};f.prototype.Nl=function(k,d){return this.Xo.filter(function(g){return g.startTime <= d && g.endTime >= k;}).length;};f.prototype.Rua=function(k){this.Xo=this.Xo.filter(function(d){return d.startTime >= k;});};f.prototype.F0a=function(k){var d;d=(0,l.tc)(this.Xo,function(g){return g.startTime <= k && k < g.endTime || g.startTime >= k;});return (null === d || void 0 === d?void 0:d.I) || -1;};f.prototype.kZa=function(){return 0 < this.Xo.length?this.Xo[this.Xo.length - 1].endTime:0;};return f;})();b.sda=r;b.Tx=c;},17460:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Z_=b.fJa=b.SP=void 0;c=a(42866);b.SP=1E4;r=(function(){function l(f){this.sf=[];this.fR=0;this.ka=f;}l.prototype.ZF=function(f){var k;k=(0,c.tc)(this.sf,function(d){return f >= d.gb && f < d.df;});"undefined" === typeof k && this.ka.warn("Get Segment at pts " + f + " is undefined");return k;};l.prototype.Rha=function(f){var d;for(var k=this.sf;0 < k.length && 300 <= f.I - k[0].I;){this.nX();}for(;0 < k.length && 300 <= k[k.length - 1].I - f.I;){this.ywa();}d=k.length;if(0 === d || k[d - 1].I < f.I)this.zwa(f);else {d=(0,c.tc)(k,function(g){return g.I >= f.I;});if((null === d || void 0 === d?void 0:d.I) === f.I)return;this.Awa(k.indexOf(d),f);}this.fR=k[k.length - 1].I;};l.prototype.uY=function(f){var k;if("undefined" === typeof f)this.ka.warn("Current segment is undefined.");else for((this.ul=f,this.ka.trace(("Current segment id is ").concat(f.I)));(null === (k=this.sf[0]) || void 0 === k?void 0:k.df) < f.df - b.SP;){this.nX();}};l.prototype.$na=function(){if(this.Yo){if(this.fR !== this.Yo.I)return this.sf[this.sf.indexOf(this.Yo) + 1];}else return this.sf[0];};l.prototype.ju=function(f){this.Yo=this.wv(f);};l.prototype.wv=function(f){var k;k=(0,c.tc)(this.sf,function(d){return d.I === f;});"undefined" === typeof k && this.ka.error("Segment with segmentId " + f + " is not in segmentArray");return k;};l.prototype.ST=function(){var f;return (null === (f=this.Yo) || void 0 === f?void 0:f.I) || -1;};l.prototype.aza=function(f,k){f=this.wv(f);"undefined" !== typeof f && (this.sf[this.sf.indexOf(f)].header=k);};l.prototype.Ina=function(f){f=this.wv(f);return (null === f || void 0 === f?void 0:f.header) || ({});};l.prototype.nX=function(){this.sf.shift();};l.prototype.zwa=function(f){this.sf.push(f);};l.prototype.Awa=function(f,k){this.sf.splice(f,0,k);};l.prototype.ywa=function(){this.sf.pop();};return l;})();b.fJa=r;b.Z_=(function(){return function(l,f){this.I=l.I;this.xml=l.xml;this.gb=l.gb;this.df=l.df;this.eG=f;this.Fr=l.Fr;};})();},53144:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.gJa=void 0;c=a(5163);r=a(22699);l=a(94536);f=a(42756);k=a(29602);d=a(42353);g=a(17460);n=a(19070);h=r.EventEmitter;a=(function(m){function p(q,u){var t,w,v,y,x;void 0 === u && (u=f.FD.Ga);t=m.call(this) || this;w=q.preferences;v=q.og;y=q.ye;x=q.la;h.call(t);t.Ax=new d.sda(x);t.ux="object" === typeof w?q.preferences:{};t.nx="object" === typeof v?q.og:{};t.Ik="number" === typeof y?q.ye:0;t.ka="object" === typeof x?q.la:console;t.qf=[];t.Wh=0;t.Wj=t.Ik;t.nd=null;t.Gn=!1;t.rm=!1;t.bE=q.JW || 0;t.md=new g.fJa(t.ka);t.BR=q.Rxa;t.tRa=u;if(u === f.FD.Ga)t.V1=new n.lNa(t.ka,t.ux,t.nx,t.BR);else throw Error("Not implemented yet");t.ka.trace("LiveTextStream created with options",q);return t;}c.__extends(p,m);p.prototype.start=function(){this.ka.info(("Incremental live text stream created, starting at pts ").concat(this.Ik));"undefined" !== typeof this.md.ZF(this.Ik) && this.XG.call(this,this.Ik);};p.prototype.Xua=function(q){var u,t,w,v;u=this;t=q.xml;w=t.indexOf("<p");if(this.tRa === f.FD.Ga)v=new k.kHa(q,-1 !== w?w:0);else throw Error("Not yet implemented");this.md.Rha(v);this.Gn || (q=this.md.sf[0],this.md.uY(q),this.Ik=q.gb);-1 < w?(this.Ax.nSa(t,v.I,v.Fr),this.ka.trace(("Live segment ").concat(v.I," is pushed to segment manager"),{gb:v.gb,df:v.df,NDb:v.Fr}),!this.Gn && 4 > this.Wh && (t=0 < this.qf.length?this.qf[this.qf.length - 1].startTime + 1:this.Ik,this.ka.trace("parseNextSegment is called from push new live Segment at " + t),this.XG.call(this,t))):(this.ka.trace(("Live segment ").concat(v.I," is pushed to segment manager, it is an empty segment")),this.Gn || setTimeout(function(){u.ju(v.I);},10));};p.prototype.xB=function(q){var u,t,w,v,y,x;u=this;v=this;v.ka.trace(("LiveTextStream:get subtitles at pts ").concat(q));y=v.md.ZF(q);if("undefined" === typeof y)return (v.ka.debug(("LiveTextStream: get subtitle at pts ").concat(q," returns empty result with segment not available at this pts")),[]);v.md.uY(y);q < v.Wj - v.bE?(v.ka.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(q),(", _lastPts: ").concat(v.Wj,", _backupTolerance: ").concat(v.bE)),v.qf=[],v.Wh=0):(v.Wh=0 < v.qf.length?Math.max(v.md.ST() - y.I + 1,0):0,0 === v.Wh && (v.qf=[]));y=v.qf;v.ka.trace(("LiveTextStream: lastBufferedPts calculation ").concat(q),(", buffer.length: ").concat(y.length,", result: ").concat(0 < y.length?null === (t=y[y.length - 1]) || void 0 === t?void 0:t.startTime:q));t=this.md.Yo;x=0 < y.length && void 0 !== t?t.gb:q;v.Wj=q;v.ka.info("LiveTextStream: timer is " + v.nd + " bufffered segment number is " + v.Wh + " is parsing entry : " + this.rm + " maxBufferedStartPts " + (null === (w=this.md.Yo) || void 0 === w?void 0:w.gb));for(!v.nd && 4 > v.Wh && !v.rm && (v.ka.info("LiveTextStream: buffer size: " + v.Wh + "; minimum: 4"),v.rm=!0,v.nd=setTimeout(function(){v.nd=null;u.ka.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));u.XG.call(v,x + 1);},10));0 < y.length && y[0].endTime < q;){y.shift();}return this.V1.J5(y,q).map(function(z){var A;A=v.md.Ina(z.segId);return u.V1.n4(A,z);});};p.prototype.Nl=function(q,u){return this.Ax?this.Ax.Nl(q,u):0;};p.prototype.cD=function(q){return this.V1.cD(q);};p.prototype.close=function(){};p.prototype.XG=function(q){c.__awaiter(this,void 0,void 0,function(){var u,t;return c.__generator(this,function(w){switch(w.label){case 0:u=this;t=this.Yna.call(u,q);if("undefined" === typeof t)return [3,4];u.ka.trace("Next segment to parse at pts " + q + " is segment " + t.I);if(0 !== t.eG)return [3,1];u.ka.trace("This is an empty segment");this.ju(t.I);return [3,3];case 1:return [4,this.Nta.call(u,t)];case 2:(w.Ua(),u.ka.trace("parseNextSegEntries buffer length: " + u.qf.length),w.label=3);case 3:return [3,5];case 4:return (u.ka.debug("Next segment is undefined at pts " + q),this.rm=!1,[2]);case 5:return [2];}});});};p.prototype.Yna=function(q){var u,t;t=this.Ax.F0a(q);this.ka.trace(("Most recent entry at current pts ").concat(q," is segment id  ").concat(t));-1 === t && (t=(null === (u=this.md.ZF(q)) || void 0 === u?void 0:u.I) || -1);return t === this.md.ST()?this.md.$na():this.md.wv(t);};p.prototype.Nta=function(q){return c.__awaiter(this,void 0,void 0,function(){var u,t,w,v,y,x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:(u=this,t=q.xml.slice(0,q.eG),C.label=1);case 1:return (C.Rj.push([1,3,,4]),[4,this.NWb(t)]);case 2:return (w=C.Ua(),[3,4]);case 3:return (v=C.Ua(),this.Hla(v),[3,4]);case 4:if(!w)return (y=Error("Parsing header text returned undefined"),this.Hla(y),[2]);if(w.error)return (x=w.error,x.d2a=t,x.I=q.I,this.Hla(x),[2]);A=w.head;this.md.aza(q.I,A);return this.tRa !== f.FD.Ga?[3,6]:[4,this.V1.Lta(q,A)];case 5:return (z=C.Ua(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (B=u.qf.reduce(function(D,F){F=F.blocks.reduce(function(G,E){return G.concat([E.id]);},[]);return D.concat(F);},[]),z && (z.forEach(function(D){var F;if(-1 === B.indexOf(D.id)){F=D && D.blocks && D.blocks.filter(function(G){return 0 < G.textNodes.length;});F && 0 < F.length && (D.blocks=F,u.qf.push(D));}}),this.ju(q.I)),[2]);}});});};p.prototype.Hla=function(q){this.ka.error(q);this.emit("error",q);};p.prototype.ju=function(q){this.md.ju(q);this.Wh+=1;this.rm=!1;!this.Gn && 4 <= this.Wh && (this.Gn=!0,this.emit("ready"));};p.prototype.NWb=function(q){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,new Promise(function(u){(0,l.J8a)(q,function(t,w){t?u({error:t}):u({head:w});});})];});});};return p;})(h);b.gJa=a;},19070:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.lNa=void 0;c=a(5163);l=a(94536);f=a(94536);k=a(14387);d=a(42353);r=(function(){function g(n,h,m,p){this.ka=n;this.ux=m;this.nx=h;this.BR=p;}g.prototype.Lta=function(n,h){return c.__awaiter(this,void 0,void 0,function(){var m,p,q,u,t,w,v,y,x;x=this;return c.__generator(this,function(){m=this;p=0;q=[];u=h.defaultStyle?[h.defaultStyle]:[];t=h.lang?[h.lang]:[];w=n.xml.lastIndexOf("/p>") + 3;v=n.xml.slice(n.eG,w);m.ka.debug(v);y=k.hf(!0);return [2,new Promise(function(z,A){y.onerror=function(B){B.xml=v;A(B);};y.onend=function(){z(q);};y.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,l.Td)((0,l.Td)(q).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,l.Td)(u),lang:(0,l.Td)(t),lineBreaks:p});p=0;};y.onclosetag=function(){var B;B=y.tag;"undefined" !== typeof B.attributes.style && u.pop();"undefined" !== typeof B.attributes["xml:lang"] && t.pop();};y.onopentag=function(B){var C,D;C=B.attributes;B=B.name;if("p" === B){p=0;B=n.I.toString() + "_" + C["xml:id"];C.style && u.push(C.style);C["xml:lang"] && t.push(C["xml:lang"]);D=(0,d.Tx)(C.begin);0 === q.length || (0,l.Td)(q).displayTime !== D?(C=x.Aka(B,0,C,n.Fr),C.segId=n.I,q.push(C)):(0,l.Td)(q).blocks.push({textNodes:[],region:C.region,id:B,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === B?(u.push(C.style),C["xml:lang"] && t.push(C["xml:lang"]),B=h.styles[C.style],C.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,l.Td)((0,l.Td)(q).blocks).textNodes.push({text:"",style:(0,l.Td)(u),lang:(0,l.Td)(t),lineBreaks:0})):"br" === B && p++;};y.write("<entries>").write(v).write("</entries>").close();})];});});};g.prototype.J5=function(n,h){return l.J5.call(this,n,h);};g.prototype.n4=function(n,h){return l.n4.call(this,n,h);};g.prototype.cD=function(n){return f.cD.call(this,n);};g.prototype.Aka=function(n,h,m,p){var q;q={};q.id=n;q.startTime=(0,d.Tx)(m.begin || "") - p;q.endTime=(0,d.Tx)(m.end || "") - p;q.style=m.style;q.region=m.region;q.displayTime=q.startTime;q.duration=q.endTime - q.startTime;q.extent=m["tts:extent"] || null;q.origin=m["tts:origin"] || null;q.latestEndSoFar=h > q.endTime?h:q.endTime;q.blocks=[{textNodes:[],region:q.region,id:n,extent:q.extent || null,origin:q.origin || null}];return q;};return g;})();b.lNa=r;},56485:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(q);}Object.defineProperty(b,"__esModule",{value:!0});b.oob=void 0;l=a(5163);r=a(22699);f=a(94536);k=a(72157);d=a(41555);g=a(47602);n=a(53144);h=a(42756);m=a(5725);p=a(83755);r=(function(q){function u(t,w){var v,y,x,z,A,B,C,D,F;v=this;v=q.call(this) || this;v.Wu=!0;v.ZQ=[];v.Wj=0;v.cRa=!0;C=v;D=t.ef || !1;v.ka=t.la || console;v.xE=t.request;v.Cs=t.nLb;v.A1=null !== (y=t.ygc) && void 0 !== y?y:function(G,E){return G - (null !== E && void 0 !== E?E:v.Cs());};v.nd=null;v.Wu=!0;v.ZQ=[];v.oR=w.profile;v.Rf=w.url;v.uE=w.ye;v.Wj=v.uE || 0;v.cRa=null !== (x=w.Fic) && void 0 !== x?x:!0;y={url:v.Rf,request:v.xE,ye:null !== (z=v.uE) && void 0 !== z?z:0,la:v.ka,ef:D,bufferSize:w.bufferSize,JW:w.JW || 0,VTa:w.VTa,aa:null !== (A=w.aa) && void 0 !== A?A:!1};if("nflx-cmisc" === w.profile){F=l.__assign(l.__assign({},y),{offset:w.$ra,size:w.C6a,Ft:w.Ft,G$:w.G$,iYa:w.iYa});v.Hd=new m(F);}else if((v.ux=w.preferences,v.nx=w.og,z=null !== (B=null !== (F=w.vec) && void 0 !== F?F:w.aa) && void 0 !== B?B:!1,F=l.__assign(l.__assign({},y),{preferences:v.ux,og:v.nx,profile:w.profile,xml:w.xml,Rxa:new d.RNa(z?k.hRb:k.h5b)}),w.aa && c(v.oR) && void 0 === F.xml))v.Hd=w.akc?new n.gJa(F,h.FD.Ga):new g.lHa(F);else if(c(v.oR) && "function" === typeof f.gda)v.Hd=new f.gda(F);else throw Error("SubtitleManager: " + v.oR + " is an unsupported profile");v.Hd.on("ready",function(){var E,I,M;function G(){return C.Wu;}E=!!w.wTa;C.ka.info("ready event fired by subtitle stream");C.emit("ready");I=C.Hd.xB.bind(C.Hd);if(t.foa && t.r9){M=a(36888).WAa;C.nd=new M(C.Cs,I,v.A1,C.ka,G,t.foa,t.r9,w);}else C.nd=new p(C.Cs,I,v.A1,G,C.ka,w);if("dfxp-ls-sdh" === C.oR && "function" === typeof f.gda)C.nd.on("stagesubtitle",C.xxa.bind(C));C.nd.on("showsubtitle",C.mxa.bind(C));C.nd.on("removesubtitle",C.uva.bind(C));C.nd.on("underflow",C.hm.bind(C));C.nd.on("bufferingComplete",C.Dm.bind(C));E && (C.ka.info("autostarting subtitles"),setTimeout(function(){C.Dz(C.Cs());},10));});v.Hd.on("error",v.emit.bind(v,"error"));return v;}l.__extends(u,q);u.prototype.start=function(){this.Hd.start();};u.prototype.k$a=function(){this.Wu || (this.Wu=!0,this.BYa(this.Wj));};u.prototype.Dz=function(t){this.cRa && !this.Wu && 1E4 < Math.abs(t - this.Wj) && (this.ka.warn("Detected an unexpected pts jump larger than",1E4,"at",t,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.k$a());this.Wj=t;this.Wu && (this.Wu=!1,this.y4b(t));null !== this.nd && (this.S7b(t),this.nd.Dz(t));};u.prototype.stop=function(){var t;this.ka.info("stop called");this.Wu || this.pause();this.Hd.removeAllListeners(["ready"]);null !== this.nd && this.nd.stop();t=this.ZQ.reduce(function(w,v){w.Acb+=v.yX;w.V4+=v.W4 || 0;w.JOb.push(v);return w;},{Acb:0,V4:0,JOb:[]});"object" === typeof this.Hd && this.Hd.close();this.ka.debug("metrics: " + JSON.stringify(t));return t;};u.prototype.pause=function(){var t;t=this.Cs();this.Wu?this.ka.warn("pause called on subtitle manager, but it was already paused!"):(this.ka.info("pause called at " + t),this.Wu=!0,this.BYa(t));null !== this.nd && this.nd.pause();};u.prototype.b6=function(t,w){return "function" === typeof this.Hd.b6?this.Hd.b6(t,w):[];};u.prototype.Nl=function(t,w){return this.Hd.Nl(t,w);};u.prototype.xB=function(t){return this.Hd.xB(t);};u.prototype.NC=function(t){var v;function w(){v.ka.info("bufferingComplete from setStreamStartPosition");v.emit("bufferingComplete");}v=this;"function" === typeof this.Hd.NC?this.Hd.NC(t,w):w();};u.prototype.Oj=function(t,w){"function" === typeof this.Hd.Oj && this.Hd.Oj(t,w);};u.prototype.dj=function(t,w){"function" === typeof this.Hd.dj && this.Hd.dj(t,w);};u.prototype.Wua=function(t){"function" === typeof this.Hd.Xua && this.Hd.Xua(t);};u.prototype.D5=function(){return this.ZQ[this.ZQ.length - 1];};u.prototype.mxa=function(t){var w,v,y,A;v=0;this.ka.info("show subtitle called at " + this.Cs() + " for displayTime " + t.displayTime);this.emit("showsubtitle",t);y=this.D5();y.du || (y.du={});if(c(this.oR))try{for(var x=l.__values(t.blocks),z=x.next();!z.done;z=x.next()){A=z.value;y.du.hasOwnProperty(A.id) || v++;y.du[A.id]=t.endTime;}}catch(C){var B;B={error:C};}finally{try{z && !z.done && (w=x.return) && w.call(x);}finally{if(B)throw B.error;}}else (y.du.hasOwnProperty(t.id) || v++,y.du[t.id]=t.endTime);this.Ayb();y.yX+=v;};u.prototype.Ayb=function(){var t,w,v;t=this.D5();if(null === t || void 0 === t?0:t.du){w=t.du;v=Object.keys(t.du);30 < v.length && (v=v.sort(function(y,x){return w[x] - w[y];}),v.splice(19,Math.max(v.length - 20,0)),t.du={},v.forEach(function(y){t.du[y]=w[y];}));}};u.prototype.uva=function(t){this.ka.info("remove subtitle called at " + this.Cs() + " for remove time " + (t.displayTime + t.duration));this.emit("removesubtitle",t);};u.prototype.xxa=function(t){this.ka.info("stage subtitle called at " + this.Cs() + " for displayTime " + t.displayTime);this.emit("stagesubtitle",t);};u.prototype.hm=function(){this.ka.info("underflow fired by the subtitle timer");this.emit("underflow");};u.prototype.Dm=function(){this.ka.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};u.prototype.y4b=function(t){this.ka.debug("creating a new subtitle interval at " + t);this.ZQ.push({gb:t,yX:0});};u.prototype.S7b=function(t){var w;w=this.D5();w && (w.Cqa=t);};u.prototype.BYa=function(t){var w;this.ka.debug("ending subtitle interval at " + t);w=this.D5();w && (w.df=t,w.df < w.gb && (this.ka.warn("correcting for interval where endPts is smaller than startPts"),w.gb=0 < w.df?w.df - 1:0),w.W4=this.Hd.Nl(w.gb,w.df),delete w.du,w.W4 > w.yX && w.Cqa && 500 > w.df - w.Cqa && (w.W4=this.Hd.Nl(w.gb,w.Cqa)),this.ka.debug("showed " + w.yX + " during this interval"),this.ka.debug("expected " + w.W4 + " for this interval"));};return u;})(r.EventEmitter);b.oob=r;b["default"]=r;},42756:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FD=void 0;r=b.FD || (b.FD={});r[r.TEXT=0]="TEXT";r[r.IMAGE=1]="IMAGE";},85981:function(r,b,a){var n,h;function c(m,p,q){var u;u=q.displayTime <= m && m <= q.displayTime + q.duration;return m <= q.displayTime && q.displayTime <= p || u;}function l(m,p,q){return p && (!p.entries.length && m > p.dw || m > p.endTime) && q.entries.length && m < q.endTime;}function f(m,p,q){this.yE=this.Ru=0;this.lqb=m.bufferSize || 4194304;this.Wo=new g();this.tE;this.lE=m.ef;this.ka=m.la;this.Bq=p;this.Xh=q;this.Dq=new n(m);this.HE=new d(this.Xh.length,m.iYa);this.qR=new k(m.VTa);}function k(m){this.SQ=0 !== m;this.on=!1;this.lj=m || 3E3;this.nd;}function d(m,p){if(this.enabled=p)this.nn=Array.apply(null,Array(m)).map(function(){return "-";});}function g(m,p){this.sk=m;this.index=p;}n=a(86839);h=a(90955);g.prototype.reset=function(){this.index=this.sk=void 0;};d.prototype.da=function(m){this.enabled && m < this.nn.length && (this.nn[m]="x");};d.prototype.n8a=function(m){this.enabled && m < this.nn.length && (this.nn[m]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.nn.join("") + "|";};k.prototype.start=function(){var m;if(this.SQ){m=this;this.on=!0;this.nd=setTimeout(function(){m.on=!1;m.nd=void 0;},this.lj);}};k.prototype.stop=function(){this.on=!1;clearTimeout(this.nd);this.nd=void 0;};Object.defineProperties(f.prototype,{Nka:{get:function(){return this.Wo;}},Zwb:{get:function(){return !this.qR.on;}}});f.prototype.eR=function(){this.HE.enabled && this.ka.debug("Buffer: " + this.HE.toString());};f.prototype.yrb=function(m){this.yE+=m;this.ka.debug("Reserved buffer size is",this.Ru + this.yE,"after reserving",m);};f.prototype.Wrb=function(m){this.yE-=m;this.ka.debug("Reserved buffer size is",this.Ru + this.yE,"after unreserving",m);};f.prototype.Vob=function(m){this.Ru+=m;this.ka.debug("Buffer size is",this.Ru,"after claiming",m);};f.prototype.hRa=function(m){this.Ru-=m;this.ka.debug("Buffer size is",this.Ru,"after clearing",m);};f.prototype.U_b=function(m,p){var q;this.hRa(m);q=this;p && this.HE.enabled && (p.forEach(function(u){q.HE.n8a(u.index);}),this.eR());};f.prototype.ixa=function(m){var p;p=this.Cpb(m);return h.y2a(p) && h.r5b(m,p);};f.prototype.B2b=function(m){var p;p=this.ZPa(m);(!p || p.index) !== (!this.Wo || this.Wo.index) && (this.tE=this.Wo.sk,p?(this.lE && this.ka.debug("Current sidx is index",p.index),this.Wo=p):(this.lE && this.ka.debug("Current sidx is out of range"),this.Wo.reset()));this.tE && "number" === typeof this.tE.index && (m < this.tE.dw - 35E3 || m > this.tE.Zp + 35E3) && (this.Xfa(this.tE.index),this.tE=void 0,this.eR());};f.prototype.NC=function(m,p){var q,u;q=this.Xh && this.Xh.length;for(p;p < q;p++){(u=this.Xh[p]) && ((u.endTime || u.Zp) >= m - 1E4 && (u.endTime || u.Zp) < m + 3E5 || this.Xfa(p));}this.qR.stop();this.eR();};f.prototype.Dtb=function(){var m,p;this.ka.debug("executing aggressive cleanup");m=this.Xh && this.Xh.length;for(p=0;p < m;p++){p === this.Wo.index && (p+=2);this.Xfa(p);}this.qR.stop();this.eR();};f.prototype.HLb=function(m){var p,q,u,t;p=[];q=this.ZPa(m);if(!q)return (this.Wo.reset(),p);this.Wo=q;u=m + 1E4;q=q.index;t=this.Xh[q];q;for(t;q < this.Xh.length && u > t.dw;(q++,t=this.Xh[q])){h.y2a(t) && h.s5b(m,u,t) && p.push(t);}return p;};f.prototype.NXa=function(m,p){var q,u,t,w,v,y;if(!m || !m.length)return (p && p(null),!0);this.Dq.jR && 2 <= Object.keys(this.Dq.jR).length && !this.qR.on && (this.ka.debug("Enabling buffering quiet period"),this.qR.start());q=this;u=m[0];t=m[m.length - 1];if(0 < u.entries.length)(w=u.entries[0].gG,v=u.entries[u.entries.length - 1]);0 < t.entries.length && (h.Wc(w) || (w=t.entries[0].gG),v=t.entries[t.entries.length - 1]);if(w)y=v.gG + v.mpa - w;else return (p && p(null),!0);u=h.Bna(w,y);if(this.Dq.jR[u])(this.ka.debug("The request for",u,"is already pending. Not requesting again"),p && p());else if(this.Qpb(h.toa(m)))(this.ka.debug("Reserving",y,"bytes for subtitle request",m[0].dw,m[m.length - 1].Zp),this.yrb(y),this.Dq.aEb(m,w,y,function(x,z){q.ka.debug("Claiming reserved space.  Expected",y,"received",z);q.HE.enabled && (m.forEach(function(A){q.HE.da(A.index);}),q.eR());q.Wrb(y);q.Vob(z);p && p(x);}));else return (this.ka.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};f.prototype.yoa=function(m,p){var q,u,t;q=this.Bq;u=this.YPa(m,p,this.Xh);if(!u || 0 === u.length)return [];t=[];p=c.bind(null,m,p);for(var w=0;w < u.length;w++){m=u[w];t=t.concat(m.entries.filter(p));}t=t.map(function(v){return h.Fka(v,null,q);});return h.MVa(t);};f.prototype.ILb=function(m,p,q){return this.YPa(m,p.endTime,p.nn,q,!0);};f.prototype.YPa=function(m,p,q,u,t){var w,v,y,x;if(p && m > p || 0 > m)this.ka.error("invalid range startPts: " + m + ", endPts: " + p);else {w=q && q.length || 0;v=[];if(q && 0 !== w){y=q[0].duration;x=q[0].dw;if(h.Wc(y) && 0 < y)y=Math.floor((m - x) / y);else for((this.lE && this.ka.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),y=0);y < w && (x=q[y],!h.VDb(x,m));y++){;}for(;y < w && (!u || v.length < u);){x=q[y];if(!t || !x.images.length && x.endTime > m)v.push(x);else if(v.length)break;if(p && p <= x.Zp)break;y++;}return v;}}};f.prototype.Cpb=function(m){var p,q,t;p=this.Xh;if(p && 0 !== p.length){q=p[Math.floor(m / 6E4)];if(q && (q.dw > m || m > q.Zp))a:{this.upb || (this.upb=!0,q=h.jKb(this.Bq.language),this.ka.error("bruteforce search for ",{movieId:this.Bq.P,packageId:this.Bq.kn,lang:q}));q=p.length;for(var u=0;u < q;u++){t=p[u];if(t.dw <= m && m <= t.Zp){q=t;break a;}}q=void 0;}return q;}};f.prototype.ZPa=function(m){var p,q,u,t,w,v,y,x;p=this.Wo;q=p.sk;u=p.index;t=this.Xh;this.dga(h.Wc(m));if(q)if(q.entries.length){if(0 === u && m <= q.startTime || m >= q.startTime && m <= q.endTime)(w=!0,v=p);else {if(0 < u){y=t[u - 1];l(m,y,q) && (w=!0,v=p);}}}else {y=t[u - 1];x=t[u + 1];l(m,y,q)?(w=!0,v=p):x && x.endTime && m <= x.endTime && (m >= q.endTime || m >= q.Zp) && (w=!0,v=new g(x,u + 1));}if(!w)for((p=t.length,q=0);q < p;q++){if((u=t[q],u.entries.length && m <= u.endTime)){v=new g(u,q);break;}}return v;};f.prototype.Qpb=function(m){return this.Ru + this.yE + m <= this.lqb;};f.prototype.Xfa=function(m){var p,q,u;p=this.Xh[m];q=p && p.images && p.images.length || 0;if(0 < q){u=h.toa([p]);p.images=[];this.HE.n8a(m);this.hRa(u);this.lE && this.ka.debug("cleaning up space from sidx",{index:m,start:p.startTime,size:u,images:q,fic:this.Ru});}};f.prototype.dga=function(m){this.lE && h.assert(m,this.ka);};r.exports=f;},5725:function(r,b,a){var l,f,k,d,g,n;function c(h){l.call(this);this.Rf=h.url;this.xE=h.request;this.uE=h.ye || 0;this.ka=h.la;this.Xh=this.Bq=null;h.Ft?this.Bq=h.Ft:(this.Zb=h.offset,this.RJ=h.size);this.vl;this.aha=h;}l=a(22699).EventEmitter;f=a(42176);k=a(28323);d=a(1315);g=a(90955);n=c.events={xlb:"midxready",Qnb:"sidxready",Cnb:"ready",Ak:"error"};c.prototype=Object.create(l.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Wo:{get:function(){return this.vl && this.vl.Nka;}}});c.prototype.start=function(){this.Bq?(this.ka.warn("midx was prefectched and provided"),this.NPa(this.Bq)):this.opb(this.Zb,this.RJ,this.orb.bind(this));};c.prototype.close=function(){};c.prototype.b6=function(h,m){return this.vl && this.vl.yoa(h,m);};c.prototype.Nl=function(h,m){return (h=this.b6(h,m))?h.length:h;};c.prototype.NC=function(h,m){this.ka.debug("setStreamStartPosition: buffering subtitles at pts " + h);this.uE=h;this.vl?this.vl.NC(h,m):m && m();};c.prototype.xB=function(h){var m,p,q;if(!this.vl || h > g.MJb(this.Bq))return [];this.vl && this.vl.wla(h);m=this.Wo.sk;p=this.Wo.index;q=[];p=g.Wc(p) && this.Xh[p + 1];if(!(p && p.entries.length || m && !(h > m.endTime)))return [];m && m.images.length && (q=this.WPa(m,h,[]));2 > q.length && p && p.images.length && (m=this.WPa(p,h,q),q.push.apply(q,m));return this.vl.ixa(h)?null:g.MVa(q);};c.prototype.dj=function(h,m){this.vl && this.vl.dj(h,m);};c.prototype.Oj=function(h,m){this.vl && this.vl.Oj(h,m);};c.prototype.opb=function(h,m,p){this.ka.debug("downloading midx...");this.eQa(h,m,"binary",p);};c.prototype.ppb=function(h,m,p){this.ka.debug("downloading sidx...");this.eQa(h,m,void 0,p);};c.prototype.eQa=function(h,m,p,q){this.xE({url:this.Rf,offset:h,size:m,responseType:p},q);};c.prototype.orb=function(h,m){if(h)this.emit(n.Ak,g.QT(h,"midxdownloaderror"));else try{this.Bq=new f(m);this.NPa(this.Bq);}catch(p){this.emit(n.Ak,g.QT(p,"midxparseerror"));}};c.prototype.NPa=function(h){var m;m=h.entries.reduce(function(p,q){return p + q.size;},0);m?(this.emit(n.xlb,h),this.ppb(h.startOffset,m,this.qrb.bind(this,h))):this.emit(n.Ak,g.QT({},"nosidxfoundinmidx"));};c.prototype.qrb=function(h,m,p){var q,u,t,w;q=this;if(m)q.emit(n.Ak,g.QT(m,"sidxdownloaderror"));else {u=0;t=0;q.Xh=[];try{w=0;h.entries.forEach(function(v){var y;y=new k(p,u,h.Cpa,q.ka,t,t + v.duration,w);q.Xh.push(y);v.T3b=y;t=y.Zp;u+=v.size;w++;});}catch(v){q.emit(n.Ak,g.QT(v,"sidxparseerror"));return;}q.emit(n.Qnb,q.Xh);this.vl=new d(q.aha,h,q.Xh);m=q.uE;q.aha && q.aha.G$ || (m=Math.max(q.uE - 1E4,0));this.vl.wla(m,function(v){v && q.ka.error("initial sidx download failed");q.emit(n.Cnb);});}};c.prototype.WPa=function(h,m,p){var x;for(var q=h.entries,u=0,t=q.length,w=[],v,y=this.Bq;u < t;){v=q[u];if(v.displayTime <= m)v.displayTime + v.duration >= m && w.push(g.Fka(v,h.images[u].data,y));else {x=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(x && x.displayTime > m && x.displayTime !== v.displayTime)break;x.gG !== v.gG && w.push(g.Fka(v,h.images[u].data,y));}u++;}return w;};r.exports=c;},42176:function(r,b,a){var l,f;function c(k,d){this.duration=k;this.size=d;this.T3b=void 0;}l=a(63844);f=a(90955);r.exports=function(k){var h;k=new l(k);this.identifier=k.dva(4);f.assert("midx" === this.identifier);this.version=k.$p(4);f.assert(0 === this.version);this.Cpa=k.Ej(36);this.creationTime=k.vN();this.kn=k.vN();this.P=k.vN();this.h1b=k.Ug();this.i1b=k.Ug();this.language=k.Ej(16);k.Ej(16);this.startOffset=k.vN();this.dL=k.Ug();for(var d=[],g=0,n=0;n < this.dL;n++){h=new c(k.$p(4),k.Ug());d.push(h);g+=h.duration;}this.entries=d;this.endTime=g;};},86839:function(r,b,a){var l,f;function c(k){this.Rf=k.url;this.xE=k.request;this.uE=k.ye || 0;this.lE=k.ef;this.ka=k.la;this.jR={};}l=a(63844);f=a(90955);c.prototype.aEb=function(k,d,g,n){this.jR[f.Bna(d,g)]=!0;k && k.forEach(function(h){h.YW=!0;});this.xE({url:this.Rf,offset:d,size:g},this.Qqb.bind(this,k,d,g,n));};c.prototype.Qqb=function(k,d,g,n,h,m){var p,q,u,t;p=this;q=f.Bna(d,g);setTimeout(function(){delete p.jR[q];},1E3);if(h)(n && n(h,0),k && k.forEach(function(w){delete w.YW;}));else {u=new l(m);t=0;k && k.forEach(function(w){delete w.YW;w.entries.forEach(function(v,y){u.position=v.gG - d;v={data:u.Ej(v.mpa)};w.images[y]=v;f.S8b(w.images[y].data,p.dga.bind(p));t+=w.images[y].data.length;});});n && n(null,t);}};c.prototype.dga=function(k){this.lE && f.assert(k,this.ka);};r.exports=c;},73142:function(r){function b(a,c,l,f){this.ka=f;this.id=a;this.startTime=c && c.ta || 0;this.endTime=c && c.va;this.p7a=c && c.next || [];this.ubb;this.RV=[];this.ZL=!1;a=this.startTime;c=this.endTime;for(var k=[],d=0;d < l.length;d++){(f=l[d]) && (!c || c > f.dw) && a < f.Zp && (f.cOb(),k.push(f));}this.nn=k;}b.prototype.WUa=function(){this.ka.debug("Cleaning up segment",this.id);for(var a,c=0,l,f=[],k=0;k < this.nn.length;k++){a=this.nn[k];(l=a.HCb()) && f.push(a);a && (c+=l);}this.nn=[];return {size:c,nn:f};};r.exports=b;},1315:function(r,b,a){var k,d;function c(g,n){var m;g=g || 0;if(n)for(var h in n.O){m=n.O[h];if(g >= (m.ta || 0) && (!m.va || g < m.va))return h;}}function l(g,n){return g && n && n.O[g];}function f(g,n,h){var m;this.ka=g.la;this.Xh=h;this.zA=this.Xob(g.G$);this.Zu=[];m=h && h[h.length - 1];this.Wj=m && (m.endTime || m.Zp);this.dg=new k(g,n,h);g=c(g.ye || 0,this.zA);this.ul=this.PQ(g);}k=a(85981);d=a(73142);Object.defineProperties(f.prototype,{Nka:{get:function(){return this.dg.Nka;}}});f.prototype.yoa=function(g,n){return this.dg && this.dg.yoa(g,n);};f.prototype.wla=function(g,n){this.dg.B2b(g);this.JRa(g);if(!this.zA && this.Wj && g > this.Wj)n && n();else if((g=this.KPa(g,this.ul,2,n),this.zA && 0 < this.ul.p7a.length))n && n();else if(this.zA && this.ul.ZL && g){2 > this.Zu.length && this.dpb(this.ul);n=Math.ceil(2 / (this.Zu.length - 1));for(var h=0;h < this.Zu.length && g && 3 > h;h++){g=this.Zu[h];g=this.KPa(g.startTime,g,n);}}};f.prototype.ixa=function(g){return this.dg.ixa(g)?(this.dg.Dtb(),this.wla(g),this.ul.ZL=!1,!0):!1;};f.prototype.NC=function(g,n){var h;this.JRa(g);this.Zu.forEach(function(m){m.ZL=!1;});h=this.ul.nn && this.ul.nn[0];this.dg.NC(g,h && h.index);(g=this.dg.HLb(g)) && g.length?this.dg.NXa(g,n):n && n();};f.prototype.Oj=function(g,n){var h;this.ka.debug("Set next segment to",n,"for segment",g);g=this.QPa(g) || this.PQ(g);g.ubb=n;h=this;g.RV=g.RV.filter(function(m){if(m.id === n)return !0;h.fga(m);return !1;});};f.prototype.dj=function(g,n){var h;h=l(g,this.zA);Object.keys(h.next).forEach(function(m){h.next[m].weight=n[m] || 0;});};f.prototype.Xob=function(g){var n,m;n={};if(g=(g || ({})).O){n.O={};for(var h in g){m=g[h] || ({});n.O[h]={ta:m.ta,va:m.va,Eb:m.Eb,next:this.Wob(m.next)};}}return n;};f.prototype.Wob=function(g){var n,h;n={};for(h in g){n[h]={weight:(g[h] || ({})).weight};}return n;};f.prototype.JRa=function(g){var n,h;if(this.zA && this.ul.startTime > g || this.ul.endTime && this.ul.endTime < g){n=this.ul;h=c(g,this.zA);h?(this.ka.debug("Switching segments from",this.ul.id,"to",h,"at pts",g),this.ul=this.QPa(h) || this.PQ(h),this.fga(n)):this.ka.debug("The pts is outside of the current segment but not in a new one yet");}};f.prototype.PQ=function(g){this.ka.debug("SegmentManager: creating segment",g);g=new d(g,l(g,this.zA),this.Xh,this.ka);this.Zu.push(g);this.ka.debug("SegmentManager: segment contains",g.nn.length,"sidxes");return g;};f.prototype.fga=function(g){var n;if(g && g !== this.ul){this.ka.debug("SegmentManager: deleting segment",g.id);g.RV.forEach(this.fga.bind(this));this.Zu=this.Zu.filter(function(h){return h !== g;});n=g.WUa();this.dg.U_b(n && n.size || 0,n && n.nn);}};f.prototype.QPa=function(g){var h;for(var n=0;g && n < this.Zu.length;n++){h=this.Zu[n];if(g === h.id)return h;}};f.prototype.dpb=function(g){var n,m;n=g.ubb;if(n && "" !== n)g.RV.push(this.PQ(n));else {n=g.p7a;for(var h in n){m=n[h];if(!m || !m.weight)break;g.RV.push(this.PQ(h));}}};f.prototype.KPa=function(g,n,h,m){if(!n || n.ZL)return (this.ka.debug("Done driving segment",n && n.id),!0);if(!this.dg.Zwb)return (this.ka.debug("Throttling buffering in quiet period"),!1);this.ka.debug("Drive streaming of segment",n.id,"from pts",g);h=(g=this.dg.ILb(g,n,h)) && g.length || 0;if(0 === h)return (this.ka.debug("Segment is fully downloaded",n && n.id),n.ZL=!0,m && m(),!0);this.ka.debug("Downloading",h,"sidxes in segment",n.id);return this.dg.NXa(g,function(p,q){p && (n.ZL=!1);m && m(p,q);});};r.exports=f;},28323:function(r,b,a){var f,k;function c(d,g,n,h,m,p,q,u){this.displayTime=d;this.duration=g;this.hWb=n;this.iWb=h;this.Z3b=m;this.$3b=p;this.gG=q;this.mpa=u;}function l(d,g,n,h,m,p,q){var u;d=new f(d);u=0;d.position=g;this.ka=h;this.identifier=d.dva(4);k.assert("sidx" === this.identifier,h);this.Cpa=d.Ej(36);k.Cyb(this.Cpa,n,h);this.duration=d.$p(4);this.dL=d.Ug();this.dw=m;this.Zp=p;this.index=q || 0;this.entries=[];this.images=[];for(this.mha=0;u < this.dL;){g=new c(d.$p(4),d.$p(4),d.Ug(),d.Ug(),d.Ug(),d.Ug(),d.vN(),d.$p(4));u++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}f=a(63844);k=a(90955);l.prototype.cOb=function(){this.mha++;};l.prototype.HCb=function(){var d;d=0;this.mha--;1 > this.mha?this.images && 0 < this.images.length && (d+=k.toa([this]),this.images=[]):this.ka.debug("Not cleaning up shared sidx with range",this.dw,"-",this.Zp);return d;};r.exports=l;},90955:function(r){function b(k,d){return k.some(function(g){return g.id === d;});}function a(k,d){return k.filter(c.bind(null,d)).map(l).reduce(f,0);}function c(k,d){return k.id === d.id && k.displayTime + k.duration === d.displayTime;}function l(k){return k.duration;}function f(k,d){return k + d;}r.exports={Cyb:function(k,d,g){for(var n=0;n < k.length;n++){if(k[n] !== d[n])return (g.error("indexId mismatch in sidx",{sIndexId:k,mIndexId:d}),!1);}return !0;},Fka:function(k,d,g){var n;n={};n.displayTime=k.displayTime;n.duration=k.duration;n.originX=k.hWb;n.originY=k.iWb;n.sizeX=k.Z3b;n.sizeY=k.$3b;n.imageData=d;n.id=k.gG;n.rootContainerExtentX=g.h1b;n.rootContainerExtentY=g.i1b;return n;},Bna:function(k,d){return "o_" + k + "s_" + d;},S8b:function(k,d){d("P" === String.fromCharCode(k[1]));d("N" === String.fromCharCode(k[2]));d("G" === String.fromCharCode(k[3]));},Wc:function(k){return "undefined" !== typeof k;},Zic:b,Mfc:a,QT:function(k,d){var g,n;g=Object.create({});for(n in k){g[n]=k[n];}k instanceof Error && (g.message=k.message,g.stack=k.stack);g.errorString=d;return g;},assert:function(k,d){if(!k)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},y2a:function(k){return k && 0 < k.entries.length && 0 === k.images.length;},r5b:function(k,d){for(var g=d.entries.length,n,h=0;h < g;h++){if((n=d.entries[h],n.displayTime <= k && n.displayTime + n.duration >= k))return !0;}return !1;},s5b:function(k,d,g){for(var n=g.entries.length,h,m,p=0;p < n;p++){h=g.entries[p];m=h.displayTime;h=m + h.duration;if(d < m)break;if(m <= k && h >= k || m > k && m <= d)return !0;}return !1;},MVa:function(k){return k.map(function(d,g){d.duration+=a(k.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},toa:function(k){return k.reduce(function(d,g){return d + g.entries.reduce(function(n,h){return h.mpa + n;},0);},0);},VDb:function(k,d){return k && k.dw <= d && k.Zp >= d;},MJb:function(k){if(k)return k.endTime;},jKb:function(k){try{return String.fromCharCode.apply(String,k);}catch(d){}return "";}};},83755:function(r,b,a){var c;c=a(22699).EventEmitter;a(82630)({});b=function m(f,k,d,g,n,h){if(!(this instanceof m))return new m(f,k,d,g,n,h);c.call(this);this.Cs=f;this.XQ=k;this.A1=d;this.bqb=g;this.Li={};this.qj={};this.ka=n || console;this.Cn=!1;this.Hga=h.aa;this.rrb=h && h.JW || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.nd);this.nd=void 0;this.a$();};b.prototype.a$=function(){var f;f=this;Object.keys(f.Li).forEach(function(k){f.emit("removesubtitle",f.Li[k]);});f.Li={};f.qj={};};b.prototype.pause=function(){this.Cn || (clearTimeout(this.nd),this.nd=void 0);};b.prototype.Dz=function(f,k){var d,g;d=this;g=d.Cs();f=d.XQ(g);null !== f && d.Cn && (d.Cn=!1,this.ka.debug("bufferingComplete"),d.emit("bufferingComplete"),this.bqb())?this.ka.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(k="number" === typeof k?k:0,Object.keys(d.Li).forEach(function(n){n=d.Li[n];n.displayTime - d.rrb <= g && g < n.displayTime + n.duration || (delete d.Li[n.id],d.emit("removesubtitle",n));}),Object.keys(d.qj).forEach(function(n){n=d.qj[n];g >= n.displayTime + n.duration && delete d.qj[n.id];}),null !== f && 0 < f.length?(k=f.length,d.ka.debug("found " + k + " entries for pts " + g),f.forEach(function(n){n.displayTime - 0 <= g && g < n.displayTime + n.duration && !d.Li[n.id] && (d.emit("showsubtitle",n),d.Li[n.id]=n,delete d.qj[n.id]);}),k=f[f.length - 1],d.Li[k.id] || d.qj[k.id] || (d.emit("stagesubtitle",k),d.qj[k.id]=k),k=d.Qrb(g,f),"number" === typeof k && Infinity > k?d.yR(k):d.yR(2E4)):null === f?(f=250 * Math.pow(2,k),2E3 < f && (f=2E3),d.ka.warn("checking buffer again in " + f + "ms"),d.Cn || (d.Cn=!0,d.emit("underflow")),d.yR(f,k + 1)):d.Hga?(f=500,d.ka.trace("Live : No entries for " + g + "checking buffer again in " + f + "ms"),d.yR(f)):d.yR(2E4));};b.prototype.yR=function(f,k){var d;d=this;d.ka.debug("Scheduling pts check.",{timeout:f,wO:d.nd});clearTimeout(d.nd);d.nd=setTimeout(function(){d.Dz(d.Cs(),k);},f);};b.prototype.Qrb=function(f,k){k=k.reduce(this.Bqb.bind(this,f),Infinity);return Infinity > k?this.A1(k,f):k;};b.prototype.Bqb=function(f,k,d){var g;g=d.displayTime;d=d.displayTime + d.duration;this.ka.debug("next events: start",g,"end",d,"now",f);return g < k && f < g?g:d < k && f < d?d:k;};r.exports=b;},63844:function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},moa:function(){return this.buffer.length - this.position;},cz:function(){return this.buffer[this.position++];},Ej:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},$p:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},dva:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Ug:function(){return this.$p(2);},aq:function(){return this.$p(4);},vN:function(){return this.$p(8);},ew:function(a){for(var c,l="";a--;){c=this.cz();l+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return l;},eva:function(a){for(var c=0,l=0;l < a;l++){c+=this.cz() << (l << 3);}return c;},uN:function(){return this.eva(4);},QY:function(a){this.QO(a,2);},Iz:function(a){this.QO(a,4);},mba:function(a){this.buffer[this.position++]=a;},QO:function(a,c){this.position+=c;for(var l=1;l <= c;l++){this.buffer[this.position - l]=a & 255;a=Math.floor(a / 256);}},Hz:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},PY:function(a){for(var c=a.length,l=0;l < c;l++){this.buffer[this.position++]=a[l];}},PO:function(a,c){this.PY(a.Ej(c));}};r.exports=b;},82630:function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var k,d,g;function c(n,h,m){throw new TypeError(("undefined" !== typeof m.key?"Types: expected " + m.key:"Types: expected argument " + m.index) + (" to be '" + n + "' but found '" + h + "'"));}function l(n,h,m){var p;p=d[n];"undefined" !== typeof p?p(h) || c(n,h,m):n !== typeof h && c(n,h,m);}function f(n,h){var m;m=n.filter(function(p){return "object" !== typeof p && -1 === g.indexOf(p);});m=m.concat(n.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(u){return q[u];}).filter(function(u){return -1 === g.indexOf(u);}));},[]));if(0 < m.length)throw Error(m.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== n.length)throw new TypeError("Types: unexpected number of arguments");n.forEach(function(q,u){var t;t=p[u];if("string" === typeof q)l(q,t,{index:u});else if("object" === typeof q)Object.keys(q).forEach(function(w){l(q[w],t[w],{key:w});});else throw Error("Types: unexpected type in type array");});return h.apply(this,p);};}k=("number boolean string object function symbol").split(" ");d={array:function(n){return Array.isArray(n);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(n){if("undefined" !== typeof d[n] || -1 < k.indexOf(n))throw new TypeError("Types: attempting to override a built in type with " + n);d[n]=a[n];});}g=Object.keys(d).concat(k);return f(["array","function"],f);};},17267:function(r){var b;b={Rb:function(a){return "number" === typeof a;},Bt:function(a){return "object" === typeof a;},rg:function(a){return "string" === typeof a;},co:function(a){return "undefined" === typeof a;},Ygc:function(a){return "boolean" === typeof a;},Lp:function(a){return "function" === typeof a;},vc:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},IWb:function(a){var c,l;l=[];if(!b.Bt(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && l.push([c,a[c]]);}return l;}};b.yp=b.forEach=function(a,c,l){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var f=0,k=a.length;f < k;f++){c.call(l,a[f],f,a);}else for(f in a){b.has(a,f) && c.call(l,a[f],f,a);}return a;};r.exports=b;},75691:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;l=Object.prototype.toString;f=a(30801);b=Object.prototype.propertyIsEnumerable;k=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");g=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");n=function(q){var u;u=q.constructor;return u && u.prototype === q;};h={R9b:!0,S9b:!0,T9b:!0,U9b:!0,V9b:!0,W9b:!0,X9b:!0,Y9b:!0,Z9b:!0,$9b:!0,a$b:!0,b$b:!0,c$b:!0,d$b:!0,e$b:!0,f$b:!0,g$b:!0,h$b:!0,i$b:!0,j$b:!0,k$b:!0,l$b:!0,m$b:!0};m=(function(){if("undefined" === typeof ob)return !1;for(var q in ob){try{if(!h["$" + q] && c.call(ob,q) && null !== ob[q] && "object" === typeof ob[q])try{n(ob[q]);}catch(u){return !0;}}catch(u){return !0;}}return !1;})();p=function(q){var u,t,w,v,y,z;u=null !== q && "object" === typeof q;t="[object Function]" === l.call(q);w=f(q);v=u && "[object String]" === l.call(q);y=[];if(!u && !t && !w)throw new TypeError("Object.keys called on a non-object");u=d && t;if(v && 0 < q.length && !c.call(q,0))for(v=0;v < q.length;++v){y.push(String(v));}if(w && 0 < q.length)for(w=0;w < q.length;++w){y.push(String(w));}else for(var x in q){u && "prototype" === x || !c.call(q,x) || y.push(String(x));}if(k){if("undefined" !== typeof ob && m)try{z=n(q);}catch(A){z=!1;}else z=n(q);for(w=0;w < g.length;++w){z && "constructor" === g[w] || !c.call(q,g[w]) || y.push(g[w]);}}return y;};}r.exports=p;},33464:function(r,b,a){var c,l,f,k,d;c=Array.prototype.slice;l=a(30801);f=Object.keys;k=f?function(g){return f(g);}:a(75691);d=Object.keys;k.kjc=function(){Object.keys?(function(){var g;g=Object.keys(arguments);return g && g.length === arguments.length;})(1,2) || (Object.keys=function(g){return l(g)?d(c.call(g)):d(g);}):Object.keys=k;return Object.keys || k;};r.exports=k;},30801:function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,l;c=b.call(a);l="[object Arguments]" === c;l || (l="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return l;};},61247:function(r,b,a){var l,f,k;function c(d,g,n){var h;if(!n)return !1;n=n[g];return "boolean" === typeof n?!0 === n:(null === n || void 0 === n?void 0:n.length) === (null === (h=d[g].Xe) || void 0 === h?void 0:h.length);}Object.defineProperty(b,"__esModule",{value:!0});b.$Va=b.sq=void 0;l=a(5163);f=a(10506);b.sq=-1;b.$Va=function(d,g,n,h,m){function p(w){var v,y,x,z,A,B;v=g.de[w];y=c(g.de,w,n);x=!!v.Xe;z=!!h && !y && x;A=0 === v.pr;v.pr > u && q.De(("").concat(d,"-").concat(w),{J:d,ta:u,va:v.pr,type:"content"});x || q.otb();!z || A && !m || q.De(("padstart-").concat(w),{J:b.sq,ta:0,va:h,type:"padding"});u=v.pr;if(v.Xe && !y){B=null === n || void 0 === n?void 0:n[w];v.Xe.forEach(function(C,D){var F;F=!1;Array.isArray(B) && (F=-1 < B.indexOf(D));F || q.De(("ad-").concat(w,"-").concat(D),{J:C.id,ta:C.ta,va:C.va,type:"ad"});});z && q.De(("padend-").concat(w),{J:b.sq,ta:0,va:h,type:"padding"});}}void 0 === h && (h=0);void 0 === m && (m=!1);for(var q=new k(),u=0,t=0;t < g.de.length;++t){p(t);}q.De(("").concat(d,"-").concat(g.de.length),{J:d,ta:u,va:null,type:"content"});return q.Lg();};k=(function(){function d(){this.fb=new f.vq();}d.prototype.De=function(g,n){var h,m,p;this.EF || (this.EF=g);if(this.AC){m=l.__read(this.AC,2);p=m[0];m=m[1];m.Eb=g;m.next=(h={},h[g]={},h);"content" === m.type && -1 < ["ad","padding"].indexOf(n.type) && (m.Vn=!0);"content" === n.type && (-1 < ["ad","padding"].indexOf(m.type) || m.Vn) && (n.et=!0);this.fb.De(p,m);}this.AC=[g,n];};d.prototype.otb=function(){var g,n;if(this.AC){g=l.__read(this.AC,2);n=g[0];g=g[1];"content" === g.type && (g.Vn=!0);this.fb.De(n,g);this.AC=[n,g];}};d.prototype.Lg=function(){var g;if(this.AC){g=l.__read(this.AC,2);this.fb.De(g[0],g[1]);}this.AC=void 0;this.EF && this.fb.nz(this.EF);return this.fb.Lg();};return d;})();},56916:function(r,b,a){var g;function c(n){return Object.keys(n.segments).some(function(h){return void 0 !== d(n.segments[h]);});}function l(n){return "delayedSeamless" === n?"lazy":n;}function f(n){return Object.keys(n).reduce(function(h,m){var p,q;p=n[m];q=p.weight;p=p.transitionType || p.transitionHint;m=h[m]={};void 0 !== q && (m.weight=q);p && (m.$d=l(p));return h;},{});}function k(n){var h,m;h=Object.keys(n);m=h.length;return m?h.reduce(function(p,q){return p + (n[q].weight || 0);},0) / m:void 0;}function d(n){var h;if(n.ui){h=n.ui.interactionZones;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0] - n.startTimeMs;n=n.ui.interactionZonesV2;if((null === n || void 0 === n?0:n.length) && n[0].length)return n[0][0];}else if(void 0 !== n.earliestSkipRequestOffset)return n.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.t3=void 0;g=a(10506);b.t3=function(n,h){var m,p,q,u,t,w;m=void 0 === h?{}:h;h=m.Bg;p=m.xe;q=m.O;m=m.config;u=!(!m || -1 === m.Zma.indexOf(n.viewableId));t=c(n)?0:(null === m || void 0 === m?void 0:m.Yma) || 0;m=new g.vq();w=q || n.segments;m.nz(null !== p && void 0 !== p?p:n.initialSegment).Swa(h || n.mediaTypes).S$(u?"immediate":l(n.transitionType)).Ywa(Object.keys(w).reduce(function(v,y){var x,z,A,B,C,D;x=w[y];if(null === (z=x.weight) || void 0 === z){z=x.next && (u || (null === (B=x.exitZones) || void 0 === B?0:B.length))?k(x.next):void 0;}B=z;if(z=x.exitZones)C=void 0;else a:{if(u && x.endTimeMs){C=x.endTimeMs - x.startTimeMs;D=d(x);if(D && D < C){C=[[D,C]];break a;}if(t && C > t){C=[[C - t,C]];break a;}}C=void 0;}D=u?C?void 0:x.transitionHint || "lazy":x.transitionHint;B={J:n.viewableId,ta:x.startTimeMs,va:null !== (A=x.endTimeMs) && void 0 !== A?A:Infinity,$d:l(D),Tq:z || C,weight:B};x.defaultNext && (B.Eb=x.defaultNext);x.next && (B.next=f(x.next));v[y]=B;return v;},{}));return m.Lg();};},77530:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.XAb=void 0;c=a(10506);b.XAb=function(l){var f,k,d,g,n,h;f=l.wic;k=l.jkc;l=l.ojc;d=new c.vq();g=l.split(" ");n=/\d+/;h=new Map();k.forEach(function(m){h.set(m,0);});g.forEach(function(m,p){var q,u,t,w,v,y,x,z;y=Number(m.split(".")[0].match(n)[0]);x=Number(m.split(".")[1].match(n)[0]);y=k[y];m=h.get(y);z=("").concat(y,"-").concat(m);h.set(y,m + 1);x={J:y,ta:null !== (t=null === (u=f.get(y)) || void 0 === u?void 0:u[x]) && void 0 !== t?t:0,va:null !== (v=null === (w=f.get(y)) || void 0 === w?void 0:w[x + 1]) && void 0 !== v?v:void 0};g.length > p + 1 && (u=Number(g[p + 1].split(".")[0].match(n)[0]),u=k[u],t=h.get(u),u=("").concat(u,"-").concat(t),x.Eb=u,x.next=(q={},q[u]={},q),h.set(y,m + 1));0 === p && d.nz(z);d.De(z,x);});return d.Lg();};},50954:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(5163);r.__exportStar(a(35419),b);r.__exportStar(a(10506),b);r.__exportStar(a(10990),b);r.__exportStar(a(56916),b);r.__exportStar(a(62483),b);r.__exportStar(a(94315),b);r.__exportStar(a(73124),b);r.__exportStar(a(72283),b);r.__exportStar(a(80830),b);r.__exportStar(a(61247),b);r.__exportStar(a(77530),b);},73124:function(r,b,a){var g,n,h;function c(m){for(var p=m.xe,q=[];p;){q.push(p);p=m.O[p].next;if(!p)break;p=Object.keys(p);if(p.length)((0,n.assert)(1 === p.length,"Expected linear playgraph"),p=p[0]);else break;}return q;}function l(m){return (0,n.tia)(Object.keys(m.O).map(function(p){return m.O[p].J;}));}function f(m,p){return Object.keys(p.O).some(function(q){q=p.O[q];return m.J === q.J && m.ta > q.ta && (!q.va || !!m.va && (Infinity === m.va || m.va < q.va));});}function k(m){return null === m || void 0 === m?Infinity:m;}function d(m,p){return null === m || void 0 === m?Infinity === k(p.va):m >= p.ta && m <= k(p.va);}Object.defineProperty(b,"__esModule",{value:!0});b.Vra=void 0;g=a(5163);n=a(42866);h=a(10506);b.Vra=function(m,p){var q,u,t,w,v;q=c(p);u=l(m);t=l(p);u=(0,n.dTa)(u,t);(0,n.assert)(1 === u.length,"Source and content playgraphs should share one viewable");w=u[0];t=Object.keys(m.O).filter(function(y){return m.O[y].J === w;}).map(function(y){var G,E,I,M,L,K;for(var x,z=m.O[y],A=z.ta,B=k(z.va),C=0 === A,D=[],F=0;F < q.length;++F){G=q[F];E=p.O[G];I=f(m.O[y],p);if(E.J !== w)C && D.push({id:("").concat(y,":").concat(G),v:g.__assign(g.__assign({},E),{cc:y})});else if(C){L=Math.max(z.ta,E.ta);M=(K=!Number.isFinite(B) && F === q.length - 1)?B:Math.min(B,k(E.va));M > L && (I=Infinity !== B || !I && !K?Infinity === M?null:M:z.va,D.push({id:("").concat(y,":").concat(G),v:g.__assign(g.__assign({},E),{ta:L,va:I,cc:y})}));if(d(B,E)){if(B === k(E.va))for(F+=1;F < q.length;++F){A=q[F];B=p.O[A];if(B.J === w)break;D.push({id:("").concat(y,":").concat(A),v:g.__assign(g.__assign({},B),{cc:y})});}break;}}else if(d(A,E))if((C=!0,B <= k(E.va)))D.push({id:y,v:z});else {L=z.ta;K=!Number.isFinite(B) && F === q.length - 1;I=K && I?z.va:Math.min(B,k(E.va));D.push({id:("").concat(y,":").concat(G),v:g.__assign(g.__assign({},E),{ta:L,va:I,cc:y})});}}D.length || D.push({id:y,v:g.__assign(g.__assign({},z),{cc:y})});for(F=0;F < D.length - 1;++F){A=D[F + 1].id;D[F].v=g.__assign(g.__assign({},D[F].v),{Eb:A,next:(x={},x[A]={},x)});}x=D[D.length - 1];x.v=g.__assign(g.__assign({},x.v),{Eb:z.Eb,next:z.next});return {id:y,v:z,Bdb:D};});v=t.reduce(function(y,x){return (y[x.id]=x.Bdb[0].id,y);},{});u=new h.vq();t=t.reduce(function(y,x){x.Bdb.forEach(function(z){return y[z.id]=z.v;});return y;},{});return u.Ywa(t,function(){return !0;},v).sSa(m.O,function(y,x){return !v[x];},v,function(y,x){return g.__assign(g.__assign({},y),{cc:x});}).nz(v[m.xe] || m.xe).Lg();};},72283:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.c5=b.eHb=b.Ema=void 0;c=a(42866);b.Ema=function(l,f){var k;return Object.keys(l.O).some(function(d){var g;return null === (g=(k=l.O[d]).next) || void 0 === g?void 0:g[f];})?k:void 0;};b.eHb=function(l,f){return (0,c.tc)(Object.keys(l.O),function(k){var d;return null === (d=l.O[k].next) || void 0 === d?void 0:d[f];});};b.c5=function(l,f){return Object.keys(l.O).filter(function(k){var d;return null === (d=l.O[k].next) || void 0 === d?void 0:d[f];});};},35419:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},10506:function(r,b){function a(l){return l && "object" === typeof l?Array.isArray(l)?l.map(a):Object.keys(l).reduce(function(f,k){f[k]=a(l[k]);return f;},{}):l;}function c(l,f){return Object.keys(l).reduce(function(k,d){return (k[f[d] || d]=l[d],k);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.vq=void 0;r=(function(){function l(f){f && (this.nz(f.xe),this.S$(f.$d),this.Ywa(f.O));}l.prototype.nz=function(f){this.xe=f;return this;};l.prototype.S$=function(f){this.$d=f;return this;};l.prototype.Swa=function(f){this.Bg=f;return this;};l.prototype.De=function(f,k,d){this.O || (this.O={});this.O[f]=a(k);if(d){f=this.O[f];if(k=f.next)f.next=c(k,d);f.Eb && d[f.Eb] && (f.Eb=d[f.Eb]);}return this;};l.prototype.Ywa=function(f,k,d){void 0 === k && (k=function(){return !0;});this.O={};return this.sSa(f,k,d);};l.prototype.sSa=function(f,k,d,g){var n;n=this;void 0 === k && (k=function(){return !0;});Object.keys(f).filter(function(h){return k(f[h],h);}).forEach(function(h){var m;m=f[h];g && (m=g(m,h));n.De(h,m,d);});return this;};l.prototype.W1a=function(f){var k;return !(null === (k=this.O) || void 0 === k || !k[f]);};l.prototype.Lg=function(){var f;if(!this.O)throw Error("Invalid playgraph - `segments` is not defined");if(!this.xe)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.O[this.xe])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={xe:this.xe,O:this.O};this.$d && (f.$d=this.$d);this.Bg && (f.Bg=this.Bg);return f;};return l;})();b.vq=r;},10990:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jea=void 0;b.Jea=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.xe,segments:a.DCb(c.O)},void 0 !== c.$d?{transitionType:c.$d}:{});};a.encode=function(c){return Object.assign({xe:c.initialSegment,O:a.vFb(c.segments)},void 0 !== c.transitionType?{$d:c.transitionType}:{});};a.vFb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.uFb(c[f]);return l;},{});};a.uFb=function(c){return Object.assign({J:c.viewableId,ta:c.startTimeMs},c.endTimeMs?{va:c.endTimeMs}:{},c.defaultNext?{Eb:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{$d:c.transitionType}:{},c.next?{next:a.sFb(c.next)}:{},c.exitZones?{Tq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{cc:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{et:c.fadeIn}:{},void 0 !== c.fadeOut?{Vn:c.fadeOut}:{});};a.sFb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.tFb(c[f]);return l;},{});};a.tFb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{$d:c.transitionType}:{});};a.DCb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.CCb(c[f]);return l;},{});};a.CCb=function(c){return Object.assign({viewableId:c.J,startTimeMs:c.ta},c.va?{endTimeMs:c.va}:{},c.Eb?{defaultNext:c.Eb}:{},c.weight?{weight:c.weight}:{},c.$d?{transitionType:c.$d}:{},c.next?{next:a.ACb(c.next)}:{},c.Tq?{exitZones:c.Tq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.cc?{uxSegment:c.cc}:{},c.type?{type:c.type}:{},void 0 !== c.et?{fadeIn:c.et}:{},void 0 !== c.Vn?{fadeOut:c.Vn}:{});};a.ACb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.BCb(c[f]);return l;},{});};a.BCb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.$d?{transitionType:c.$d}:{});};return a;})();},80830:function(r,b,a){var q,u,t,w;function c(v,y,x,z,A){var B,C,D;B=v.O[y];C=x.O[B.cc];z=z.cc;D=g(B.va) - B.ta;D=void 0 === A?A=0:A + D;return B.J === (null === C || void 0 === C?void 0:C.J)?{AY:g(B.va),BS:A}:B.cc === z && (y=q.__read(l(v,y),1)[0]) && v.O[y].cc === B.cc?c(v,y,x,B,D):{AY:C.ta,BS:D};}function l(v,y){return Object.keys(v.O).filter(function(x){return v.O[x].Eb === y;});}function f(v,y,x,z,A){var B,C,D;void 0 === A && (A=0);y=v.O[y];B=x.O[y.cc];z=z.cc;C=x.O[z];D=g(y.va) - y.ta;return y.J === (null === B || void 0 === B?void 0:B.J)?{AY:y.ta,BS:A}:y.cc === z && y.Eb?f(v,y.Eb,x,y,A + D):{AY:g(C.va),BS:A};}function k(v,y,x){var z,A,B,C,D,F,G,E,I,M,L,K,O;z=m(v,y,x);if(z)return z;z=v.O[x.v];A=x.offset;B=Object.keys(y.O).filter(function(H){return y.O[H].cc === x.v;});C=[];B.forEach(function(H){var N,R,T;function J(ka){ka=(0,w.c5)(y,ka);null === ka || void 0 === ka?void 0:ka.forEach(function(sa){var ia,wa;if(y.O[sa].cc !== x.v){ia=y.O[sa];wa=ia.va;T={v:sa,offset:wa - ia.ta};(ia=wa?p(v,y,T):void 0) && C.push({Ox:T,iq:ia});ia || (T={v:sa,offset:0},(ia=p(v,y,{v:sa,offset:0})) && C.push({Ox:T,iq:ia}));J(sa);}});}N=y.O[H];R=N.va;T={v:H,offset:R - N.ta};(N=R?p(v,y,T):void 0) && C.push({Ox:T,iq:N});T={v:H,offset:0};(R=p(v,y,T)) && C.push({Ox:T,iq:R});R || N || J(H);});(0,u.assert)(0 < C.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");D=z.ta + A;G=Infinity;C.forEach(function(H){var J;J=H.iq;J=D - (v.O[J.v].ta + J.offset);0 <= J && J < G && (G=J,F=H);});E=[];B.forEach(function(H){var N,R,T,ka;function J(sa){Object.keys(y.O[sa].next || ({})).forEach(function(ia){var wa,Aa,La;if(y.O[ia].cc !== x.v){wa=y.O[ia];Aa=wa.ta;wa=wa.va;ka={v:ia,offset:0};La=p(v,y,ka);La && E.push({Ox:ka,iq:La});La || (ka={v:ia,offset:wa - Aa},(Aa=wa?p(v,y,ka):void 0) && E.push({Ox:ka,iq:Aa}));}J(ia);});}N=y.O[H];R=N.ta;T=N.va;ka={v:H,offset:0};(N=p(v,y,ka)) && E.push({Ox:ka,iq:N});ka={v:H,offset:T - R};(R=T?p(v,y,ka):void 0) && E.push({Ox:ka,iq:R});N || R || J(H);});(0,u.assert)(0 < E.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");M=Infinity;E.forEach(function(H){var J;J=H.iq;J=v.O[J.v].ta + J.offset - D;if(0 <= J && J < M || J > M && 0 > M || Infinity === M)(M=J,I=H);});(0,u.assert)(F);(0,u.assert)(I);A=F.Ox;(0,u.assert)(A,"Segment not found in the combined playgraph");z=I.Ox;(0,u.assert)(z,"Segment not found in the combined playgraph");L=y.O[A.v];B=y.O[z.v];A.offset === g(L.va) - L.ta && y.O[L.Eb].cc === L.cc && (A.v === z.v && A.offset === z.offset && (z={v:B.Eb,offset:0},B=y.O[z.v]),A={v:L.Eb,offset:0},L=y.O[A.v]);K=v.O[F.iq.v].ta + F.iq.offset;O=v.O[I.iq.v].ta + I.iq.offset - K;K=0 === O?0:(D - K) / O;if(A.v === z.v)return (L=L.ta + A.offset,A=A.v,{v:A,offset:L + K * (B.ta + z.offset - L) - y.O[A].ta});O=d(y,A,z);L=O.path;O=O.tF;B=0 === z.offset?0:g(B.va) - B.ta;return h(y,L,A.offset + K * (O - A.offset - (B - z.offset)));}function d(v,y,x){var z,A;if(y.v !== x.v){for(y=[y.v];y[y.length - 1] !== x.v;){z=v.O[y[y.length - 1]];(0,u.assert)(z.next,"Cannot find path between points in combined playgraph");if(z.next[x.v])break;A=Object.keys(z.next);1 === A.length?y.push(A[0]):((0,u.assert)(z.Eb,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(z.Eb));}0 !== x.offset && y.push(x.v);return {path:y,tF:n(v,y)};}return {path:[],tF:x.offset - y.offset};}function g(v){return null === v || void 0 === v?Infinity:v;}function n(v,y){return y.reduce(function(x,z){var A;z=v.O[z];A=z.ta;return x + g(z.va) - A;},0);}function h(v,y,x){var A,B,C;for(var z=0;z < y.length;++z){A=y[z];B=v.O[A];C=B.ta;B=g(B.va) - C;if(B > x)return {v:A,offset:x};x-=B;}(0,u.assert)(!1,"Invalid offset given for path");}function m(v,y,x){var z,A,B,C,D,F,G,E,I,M,L;A=v.O[x.v];(0,u.assert)(A,("Graph position ").concat(x.v," does not exist in UX playgraph"));B=x.offset;(0,u.assert)(0 <= B,("Graph position offset ").concat(B," cannot be negative"));(0,u.assert)(!A.va || B <= A.va - A.ta,("Graph position ").concat(B," offset outside segment"));if(y.O[x.v])return x;C=Object.keys(y.O).filter(function(K){return y.O[K].cc === x.v;});(0,u.assert)(0 < C.length,"No segments found in combined playgraph that point back to the ux segment");D={};F=0;C.forEach(function(K){if(void 0 === D[K]){for(var O=0;K;){D[K]=[F,O++];K=y.O[K].Eb;}++F;}});C.sort(function(K,O){return D[K][0] !== D[O][0]?1:D[K][1] - D[O][1];});G=A.ta + B;E=C.filter(function(K){return y.O[K].J === A.J;});I=q.__read(C,1)[0];E=E.map(function(K){return [K,y.O[K]];}).filter(function(K){var O;K=q.__read(K,2);O=K[0];return G >= K[1].ta || O === I;});if(E=(0,u.tc)(E,function(K){var O;K=q.__read(K,2)[1];O=K.Eb?y.O[K.Eb]:void 0;return !K.va || !!K.va && G < K.va || (null === O || void 0 === O?void 0:O.cc) !== x.v && G >= K.ta;})){M=q.__read(E,2);E=M[0];M=M[1];L=(isFinite(G)?G:null !== (z=M.va) && void 0 !== z?z:Infinity) - M.ta;(0,u.assert)(0 <= L,"Content playgrah graph position offset cannot be negative");z=!0;0 === L && (z=(0,t.Ema)(y,E),z=!z || z.cc !== M.cc);if(z)return {v:E,offset:L};}C=C.filter(function(K){return y.O[K].J !== A.J;});if(0 === B && (B=(0,t.Ema)(v,x.v),!B || B.cc !== x.v) && (B=(0,u.tc)(C,function(K){return 0 === (0,w.c5)(y,K).length;}),void 0 !== B))return {v:B,offset:0};if(A.va && Infinity !== A.va && !(A.va - A.ta !== x.offset || A.Eb && v.O[A.Eb]) && (B=(0,u.tc)(C,function(K){return !y.O[K].next || 0 === Object.keys(y.O[K].next).length;}),void 0 !== B))return (C=y.O[B],v=C.ta,C=C.va,(0,u.assert)(C,"Content playgraph segments from other viewables must have end time"),{v:B,offset:C - v});}function p(v,y,x){var z,A;z=y.O[x.v];(0,u.assert)(z,"Graph position does not exist in combined playgraph");A=x.offset;(0,u.assert)(0 <= A,"Graph position offset cannot be negative");(0,u.assert)(!z.va || A <= z.va - z.ta,"Graph position offset outside segment");if(void 0 === z.cc)return x;v=v.O[z.cc];(0,u.assert)(v,"Referenced ux playgraph segment must exist");if(z.J === v.J)return (A=z.ta + A - v.ta,v=g(v.va) - v.ta,A=Math.max(Math.min(A,v),0),{v:z.cc,offset:A});if(0 === A && (x=(0,w.c5)(y,x.v).filter(function(B){return y.O[B].cc === z.cc;}),0 === A && 0 === x.length))return {v:z.cc,offset:0};A=z.Eb?y.O[z.Eb]:void 0;if((null === A || void 0 === A?void 0:A.cc) !== z.cc)return {v:z.cc,offset:v.va?v.va - v.ta:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.F_a=b.bgb=b.tVa=void 0;q=a(5163);u=a(42866);t=a(72283);w=a(50954);b.tVa=function(v,y,x){var z,A,B,C;z=y.O[x.v];A=p(v,y,x);if(A)return A;(0,u.assert)(z.cc,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");B=v.O[z.cc];(0,u.assert)(B,"Referenced ux playgraph segment must exist");(0,u.assert)(z.va,"Content playgraph segments from other viewables must have end time");if(!z.Eb || !y.O[z.Eb])return ((0,u.assert)(B.va,"Must have definite end time to add terminal content playgraph segment"),{v:z.cc,offset:B.va - B.ta});C=c(y,x.v,v,z);A=C.AY;C=C.BS;if(null === A || void 0 === A)return ((0,u.assert)(B.va,"Experience playgraph segment must have end time"),{v:z.cc,offset:B.va - B.ta});y=f(y,x.v,v,z);v=y.AY;y=y.BS;null !== v && void 0 !== v && isFinite(v) || (0,u.assert)(v,"Experience playgraph segment must have end time");return {v:z.cc,offset:A + (C + x.offset) / (C + y) * (v - A)};};b.bgb=k;b.F_a=function(v,y,x){var z,A,B;return q.__generator(this,function(C){switch(C.label){case 0:(z=k(v,y,x),A=y.O[z.v],B=z.v,C.label=1);case 1:return [4,B];case 2:(C.Ua(),B=A.Eb,A=y.O[B],C.label=3);case 3:if((null === A || void 0 === A?void 0:A.cc) === x.v && B !== z.v)return [3,1];C.label=4;case 4:return [2];}});};},62483:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.aaa=void 0;c=a(10506);b.aaa=function(l,f,k){var d;d=new c.vq();d.nz(f).S$("lazy").Swa(k).De(f,{J:l,ta:0,va:Infinity});return d.Lg();};},94315:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.c4b=void 0;c=a(10506);b.c4b=function(l,f,k){var d;d=new c.vq();d.nz("s0").S$("immediate").Swa(k).De("s0",{J:l,ta:0,va:1E3 * f,weight:.5,next:{s1:{weight:.5}}}).De("s1",{J:l,ta:1E3 * f,va:Infinity});return d.Lg();};},61386:function(r,b,a){var d,g,n,h;function c(m){var p,q,u;if("Object" !== n(this))throw new TypeError("receiver is not an Object");p=g(this,h);q=m;u=m;d(m) && (q=f(p,m),u=l(p,m));return this.then(q,u);}function l(m,p){return function(q){var u;u=p();return k(m,u).then(function(){throw q;});};}function f(m,p){return function(q){var u;u=p();return k(m,u).then(function(){return q;});};}function k(m,p){return new m(function(q){q(p);});}a(57897)();d=a(83317);g=a(88251);n=a(18132);h=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},32887:function(r,b,a){var c,l;c=a(57897);l=a(61386);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:l;};},57897:function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},65574:function(r,b,a){var c,l,f;c=a(57897);l=a(32887);f=a(14926);r.exports=function(){var k;c();k=l();f(Promise.prototype,{"finally":k},{"finally":function(){return Promise.prototype["finally"] !== k;}});return k;};},23614:function(r,b,a){var c;c=a(35375);b=a(31187)(function(l,f){return c(l.length,function(){return l.apply(f,arguments);});});r.exports=b;},57301:function(r,b,a){var c,l,f,k,d;b=a(31187);c=a(55446);l=a(89028);f=a(77894);k=a(67758);d=a(75850);a=b(function(g,n){return l(d(f,0,k("length",n)),function(){var h,m;h=arguments;m=this;return g.apply(m,c(function(p){return p.apply(m,h);},n));});});r.exports=a;},89028:function(r,b,a){var c,l,f;c=a(35375);l=a(16805);b=a(31187);f=a(16500);a=b(function(k,d){return 1 === k?l(d):c(k,f(k,[],d));});r.exports=a;},5154:function(r,b,a){var c;c=a(25701);b=a(20239)(function(l,f,k){for(var d=[],g=0,n=f.length;g < n;){c(l,f[g],k) || c(l,f[g],d) || d.push(f[g]);g+=1;}return d;});r.exports=b;},42514:function(r,b,a){var c,l,f,k,d,g;b=a(31187);c=a(8414);l=a(46458);f=a(78678);k=a(18468);d=a(14128);g=a(93358);a=b(c(["filter"],d,function(n,h){return f(h)?k(function(m,p){n(h[p]) && (m[p]=h[p]);return m;},{},g(h)):l(n,h);}));r.exports=a;},56663:function(r,b,a){b=a(31187)(function(c,l){for(var f=[],k=0,d=l.length;k < d;){for(var g=k + 1;g < d && c(l[g - 1],l[g]);){g+=1;}f.push(l.slice(k,g));k=g;}return f;});r.exports=b;},35375:function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,l){return a.apply(this,arguments);};case 3:return function(c,l,f){return a.apply(this,arguments);};case 4:return function(c,l,f,k){return a.apply(this,arguments);};case 5:return function(c,l,f,k,d){return a.apply(this,arguments);};case 6:return function(c,l,f,k,d,g){return a.apply(this,arguments);};case 7:return function(c,l,f,k,d,g,n){return a.apply(this,arguments);};case 8:return function(c,l,f,k,d,g,n,h){return a.apply(this,arguments);};case 9:return function(c,l,f,k,d,g,n,h,m){return a.apply(this,arguments);};case 10:return function(c,l,f,k,d,g,n,h,m,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48925:function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},86614:function(r){r.exports=function(b,a){var c,l,f,k;b=b || [];a=a || [];l=b.length;f=a.length;k=[];for(c=0;c < l;){k[k.length]=b[c];c+=1;}for(c=0;c < f;){k[k.length]=a[c];c+=1;}return k;};},25701:function(r){r.exports=function(b,a,c){for(var l=0,f=c.length;l < f;){if(b(a,c[l]))return !0;l+=1;}return !1;};},16805:function(r,b,a){var c;c=a(28198);r.exports=function(l){return function d(k){return 0 === arguments.length || c(k)?d:l.apply(this,arguments);};};},31187:function(r,b,a){var c,l;c=a(16805);l=a(28198);r.exports=function(f){return function n(d,g){switch(arguments.length){case 0:return n;case 1:return l(d)?n:c(function(h){return f(d,h);});default:return l(d) && l(g)?n:l(d)?c(function(h){return f(h,g);}):l(g)?c(function(h){return f(d,h);}):f(d,g);}};};},20239:function(r,b,a){var c,l,f;c=a(16805);l=a(31187);f=a(28198);r.exports=function(k){return function m(g,n,h){switch(arguments.length){case 0:return m;case 1:return f(g)?m:l(function(p,q){return k(g,p,q);});case 2:return f(g) && f(n)?m:f(g)?l(function(p,q){return k(p,n,q);}):f(n)?l(function(p,q){return k(g,p,q);}):c(function(p){return k(g,n,p);});default:return f(g) && f(n) && f(h)?m:f(g) && f(n)?l(function(p,q){return k(p,q,h);}):f(g) && f(h)?l(function(p,q){return k(p,n,q);}):f(n) && f(h)?l(function(p,q){return k(g,p,q);}):f(g)?c(function(p){return k(p,n,h);}):f(n)?c(function(p){return k(g,p,h);}):f(h)?c(function(p){return k(g,n,p);}):k(g,n,h);}};};},16500:function(r,b,a){var l,f;function c(k,d,g){return function(){var q;for(var n=[],h=0,m=k,p=0;p < d.length || h < arguments.length;){if(p < d.length && (!f(d[p]) || h >= arguments.length))q=d[p];else (q=arguments[h],h+=1);n[p]=q;f(q) || --m;p+=1;}return 0 >= m?g.apply(this,n):l(m,c(k,n,g));};}l=a(35375);f=a(28198);r.exports=c;},8414:function(r,b,a){var c,l;c=a(84357);l=a(11972);r.exports=function(f,k,d){return function(){var g,n;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);n=g.pop();if(!c(n)){for(var h=0;h < f.length;){if("function" === typeof n[f[h]])return n[f[h]].apply(n,g);h+=1;}if(l(n))return k.apply(null,g)(n);}return d.apply(this,arguments);};};},46458:function(r){r.exports=function(b,a){for(var c=0,l=a.length,f=[];c < l;){b(a[c]) && (f[f.length]=a[c]);c+=1;}return f;};},58380:function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},46546:function(r,b,a){var c,l;c=a(58380);l=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === l.call(arguments)?function(f){return "[object Arguments]" === l.call(f);}:function(f){return c("callee",f);};};},84357:function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},33905:function(r,b,a){var c,l;b=a(16805);c=a(84357);l=a(86807);a=b(function(f){return c(f)?!0:!f || "object" !== typeof f || l(f)?!1:1 === f.nodeType?!!f.length:0 === f.length?!0:0 < f.length?f.hasOwnProperty(0) && f.hasOwnProperty(f.length - 1):!1;});r.exports=a;},78678:function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},28198:function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},86807:function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},11972:function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},55446:function(r){r.exports=function(b,a){for(var c=0,l=a.length,f=Array(l);c < l;){f[c]=b(a[c]);c+=1;}return f;};},18468:function(r,b,a){var f,k,d,g;function c(n,h,m){for(var p=m.next();!p.done;){if((h=n["@@transducer/step"](h,p.value)) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p=m.next();}return n["@@transducer/result"](h);}function l(n,h,m,p){return n["@@transducer/result"](m[p](d(n["@@transducer/step"],n),h));}f=a(33905);k=a(33367);d=a(23614);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(n,h,m){"function" === typeof n && (n=k(n));if(f(m)){for(var p=0,q=m.length;p < q;){if((h=n["@@transducer/step"](h,m[p])) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p+=1;}return n["@@transducer/result"](h);}if("function" === typeof m["fantasy-land/reduce"])return l(n,h,m,"fantasy-land/reduce");if(null != m[g])return c(n,h,m[g]());if("function" === typeof m.next)return c(n,h,m);if("function" === typeof m.reduce)return l(n,h,m,"reduce");throw new TypeError("reduce: list must be array or iterable");};},18610:function(r){r.exports={Cb:function(){return this.RY["@@transducer/init"]();},result:function(b){return this.RY["@@transducer/result"](b);}};},14128:function(r,b,a){var c,l;b=a(31187);c=a(18610);l=(function(){function f(k,d){this.RY=d;this.f=k;}f.prototype["@@transducer/init"]=c.Cb;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(k,d){return this.f(d)?this.RY["@@transducer/step"](k,d):k;};return f;})();a=b(function(f,k){return new l(f,k);});r.exports=a;},94406:function(r,b,a){var c,l;b=a(31187);c=a(18610);l=(function(){function f(k,d){this.RY=d;this.f=k;}f.prototype["@@transducer/init"]=c.Cb;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(k,d){return this.RY["@@transducer/step"](k,this.f(d));};return f;})();a=b(function(f,k){return new l(f,k);});r.exports=a;},33367:function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,l){return this.f(c,l);};return a;})();r.exports=function(a){return new b(a);};},72849:function(r,b,a){var c;b=a(16805);c=a(57301);a=b(function(l){return c(function(){return Array.prototype.slice.call(arguments,0);},l);});r.exports=a;},93358:function(r,b,a){var c,l,f,k,d;b=a(16805);c=a(58380);l=a(46546);f=!({toString:null}).propertyIsEnumerable("toString");k=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var n,h,m,p;if(Object(g) !== g)return [];n=[];h=d && l(g);for(m in g){!c(m,g) || h && "length" === m || (n[n.length]=m);}if(f)for(h=k.length - 1;0 <= h;){m=k[h];if(p=c(m,g)){a:{for(p=0;p < n.length;){if(n[p] === m){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (n[n.length]=m);--h;}return n;}:function(g){return Object(g) !== g?[]:Object.keys(g);});r.exports=a;},81057:function(r,b,a){var c,l,f,k,d,g;b=a(31187);c=a(8414);l=a(55446);f=a(18468);k=a(94406);d=a(89028);g=a(93358);a=b(c(["fantasy-land/map","map"],k,function(n,h){switch(Object.prototype.toString.call(h)){case "[object Function]":return d(h.length,function(){return n.call(this,h.apply(this,arguments));});case "[object Object]":return f(function(m,p){m[p]=n(h[p]);return m;},{},g(h));default:return l(n,h);}}));r.exports=a;},77894:function(r,b,a){b=a(31187)(function(c,l){return l > c?l:c;});r.exports=b;},29664:function(r,b,a){var c;b=a(20239);c=a(29924);a=b(function(l,f,k){return c(function(d,g,n){return l(g,n);},f,k);});r.exports=a;},29924:function(r,b,a){var c,l;b=a(20239);c=a(78678);l=a(48796);a=b(function n(k,d,g){return l(function(h,m,p){return c(m) && c(p)?n(k,m,p):k(h,m,p);},d,g);});r.exports=a;},48796:function(r,b,a){var c;b=a(20239);c=a(58380);a=b(function(l,f,k){var d,g;d={};for(g in f){c(g,f) && (d[g]=c(g,k)?l(g,f[g],k[g]):f[g]);}for(g in k){c(g,k) && !c(g,d) && (d[g]=k[g]);}return d;});r.exports=a;},31435:function(r,b,a){var c;b=a(42514);c=a(72849);a=a(64580);a=c([b,a]);r.exports=a;},23335:function(r,b,a){b=a(31187)(function(c,l){for(var f=0;f < c.length;){if(null == l)return;l=l[c[f]];f+=1;}return l;});r.exports=b;},67758:function(r,b,a){var c,l;b=a(31187);c=a(81057);l=a(38695);a=b(function(f,k){return c(l(f),k);});r.exports=a;},38695:function(r,b,a){var c;b=a(31187);c=a(23335);a=b(function(l,f){return c([l],f);});r.exports=a;},75850:function(r,b,a){b=a(20239);a=a(18468);a=b(a);r.exports=a;},64580:function(r,b,a){var c,l;c=a(48925);b=a(31187);l=a(42514);a=b(function(f,k){return l(c(f),k);});r.exports=a;},60024:function(r,b,a){var c,l;c=a(86614);b=a(20239);l=a(25228);a=b(function(f,k,d){return l(f,c(k,d));});r.exports=a;},25228:function(r,b,a){var c;c=a(25701);b=a(31187)(function(l,f){for(var k=0,d=f.length,g=[],n;k < d;){n=f[k];c(l,n,g) || (g[g.length]=n);k+=1;}return g;});r.exports=b;},1738:function(r,b,a){var c;(function(l){var F,G,E,I,M,L,K,O,H;function f(J,N,R){var T;T=H.get(J);if(!T){if(!R)return;T=new K();H.set(J,T);}J=T.get(N);if(!J){if(!R)return;J=new K();T.set(N,J);}return J;}function k(J,N,R){if(d(J,N,R))return !0;N=w(N);return null !== N?k(J,N,R):!1;}function d(J,N,R){N=f(N,R,!1);return void 0 !== N && !!N.has(J);}function g(J,N,R){if(d(J,N,R))return n(J,N,R);N=w(N);return null !== N?g(J,N,R):void 0;}function n(J,N,R){N=f(N,R,!1);return void 0 === N?void 0:N.get(J);}function h(J,N){var R,ka;R=m(J,N);J=w(J);if(null === J)return R;N=h(J,N);if(0 >= N.length)return R;if(0 >= R.length)return N;J=new O();for(var T=0;T < R.length;T++){ka=R[T];J.add(ka);}for(R=0;R < N.length;R++){ka=N[R];J.add(ka);}return x(J);}function m(J,N){var R;J=f(J,N,!1);R=[];J && y(J,function(T,ka){return R.push(ka);});return R;}function p(J){return void 0 === J;}function q(J){return Array.isArray?Array.isArray(J):J instanceof Array || "[object Array]" === Object.prototype.toString.call(J);}function u(J){return "object" === typeof J?null !== J:"function" === typeof J;}function t(J){return "symbol" === typeof J?J:String(J);}function w(J){var N,R;N=Object.getPrototypeOf(J);if("function" !== typeof J || J === L || N !== L)return N;R=J.prototype;R=R && Object.getPrototypeOf(R);if(null == R || R === Object.prototype)return N;R=R.constructor;return "function" !== typeof R || R === J?N:R;}function v(J){J=J.next();return J.done?void 0:J;}function y(J,N,R){var T,ka,sa;T=J.entries;if("function" === typeof T){T=T.call(J);try{for(;ka=v(T);){sa=ka.value;N.call(R,sa[1],sa[0],J);}}finally{ka && (J=T["return"]) && J.call(T);}}else (T=J.forEach,"function" === typeof T && T.call(J,N,R));}function x(J){var N;N=[];y(J,function(R,T){N.push(T);});return N;}function z(J,N,R){var T;T=0;return {next:function(){var ka;if((J || N) && T < (J || N).length){ka=T++;switch(R){case "key":return {value:J[ka],done:!1};case "value":return {value:N[ka],done:!1};case "key+value":return {value:[J[ka],N[ka]],done:!1};}}N=J=void 0;return {value:void 0,done:!0};},"throw":function(ka){if(J || N)N=J=void 0;throw ka;},"return":function(ka){if(J || N)N=J=void 0;return {value:ka,done:!0};}};}function A(){var J;J={};return (function(){function N(){this.Se=[];this.tf=[];this.Pu=J;this.xs=-2;}Object.defineProperty(N.prototype,"size",{get:function(){return this.Se.length;},enumerable:!0,configurable:!0});N.prototype.has=function(R){return 0 <= this.px(R,!1);};N.prototype.get=function(R){R=this.px(R,!1);return 0 <= R?this.tf[R]:void 0;};N.prototype.set=function(R,T){R=this.px(R,!0);this.tf[R]=T;return this;};N.prototype.delete=function(R){var T;T=this.px(R,!1);if(0 <= T){R=this.Se.length;for(T+=1;T < R;T++){this.Se[T - 1]=this.Se[T];this.tf[T - 1]=this.tf[T];}this.Se.length--;this.tf.length--;this.Pu=J;this.xs=-2;return !0;}return !1;};N.prototype.clear=function(){this.Se.length=0;this.tf.length=0;this.Pu=J;this.xs=-2;};N.prototype.keys=function(){return z(this.Se,void 0,"key");};N.prototype.values=function(){return z(void 0,this.tf,"value");};N.prototype.entries=function(){return z(this.Se,this.tf,"key+value");};N.prototype.px=function(R,T){var ka;if(this.Pu === R)return this.xs;ka=this.Se.indexOf(R);0 > ka && T && (ka=this.Se.length,this.Se.push(R),this.tf.push(void 0));return (this.Pu=R,this.xs=ka);};return N;})();}function B(){return (function(){function J(){this.rf=new K();}Object.defineProperty(J.prototype,"size",{get:function(){return this.rf.size;},enumerable:!0,configurable:!0});J.prototype.has=function(N){return this.rf.has(N);};J.prototype.add=function(N){return (this.rf.set(N,N),this);};J.prototype.delete=function(N){return this.rf.delete(N);};J.prototype.clear=function(){this.rf.clear();};J.prototype.keys=function(){return this.rf.keys();};J.prototype.values=function(){return this.rf.values();};J.prototype.entries=function(){return this.rf.entries();};return J;})();}function C(){var T,ka;function J(sa,ia){for(var wa=0;wa < ia;++wa){sa[wa]=255 * Math.random() | 0;}return sa;}function N(){var sa,Aa;do {sa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):J(new Uint8Array(16),16):J(Array(16),16);sa[6]=sa[6] & 79 | 64;sa[8]=sa[8] & 191 | 128;for(var ia="",wa=0;16 > wa;++wa){Aa=sa[wa];if(4 === wa || 6 === wa || 8 === wa)ia+="-";16 > Aa && (ia+="0");ia+=Aa.toString(16).toLowerCase();}sa="@@WeakMap@@" + ia;}while(M.has(T,sa));T[sa]=!0;return sa;}function R(sa,ia){if(!F.call(sa,ka)){if(!ia)return;Object.defineProperty(sa,ka,{value:I()});}return sa[ka];}T=I();ka=N();return (function(){function sa(){this.Es=N();}sa.prototype.has=function(ia){ia=R(ia,!1);return void 0 !== ia?M.has(ia,this.Es):!1;};sa.prototype.get=function(ia){ia=R(ia,!1);return void 0 !== ia?M.get(ia,this.Es):void 0;};sa.prototype.set=function(ia,wa){R(ia,!0)[this.Es]=wa;return this;};sa.prototype.delete=function(ia){ia=R(ia,!1);return void 0 !== ia?delete ia[this.Es]:!1;};sa.prototype.clear=function(){this.Es=N();};return sa;})();}function D(J){J.Ydc=1;delete J.Zdc;return J;}F=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;E=(function(){var N;function J(){}N={};J.prototype=N;return new J().__proto__ === N;})();I=G?function(){return D(Object.create(null));}:E?function(){return D({__proto__:null});}:function(){return D({});};(function(J){var N;N=!G && !E;J.has=N?function(R,T){return F.call(R,T);}:function(R,T){return (T in R);};J.get=N?function(R,T){return F.call(R,T)?R[T]:void 0;}:function(R,T){return R[T];};})(M || (M={}));L=Object.getPrototypeOf(Function);K="function" === typeof Map?Map:A();O="function" === typeof Set?Set:B();H=new ("function" === typeof WeakMap?WeakMap:C())();l.dB=function(J,N,R,T){var sa;if(p(T)){if(p(R)){if(!q(J))throw new TypeError();if("function" !== typeof N)throw new TypeError();for(R=J.length - 1;0 <= R;--R){if((T=(0,J[R])(N),!p(T))){if("function" !== typeof T)throw new TypeError();N=T;}}return N;}if(!q(J))throw new TypeError();if(!u(N))throw new TypeError();R=t(R);for(T=J.length - 1;0 <= T;--T){(0,J[T])(N,R);}}else {if(!q(J))throw new TypeError();if(!u(N))throw new TypeError();if(p(R))throw new TypeError();if(!u(T))throw new TypeError();R=t(R);for(var ka=J.length - 1;0 <= ka;--ka){sa=(0,J[ka])(N,R,T);if(!p(sa)){if(!u(sa))throw new TypeError();T=sa;}}return T;}};l.Vd=function(J,N){return function(R,T){if(p(T)){if("function" !== typeof R)throw new TypeError();f(R,void 0,!0).set(J,N);}else {if(!u(R))throw new TypeError();T=t(T);f(R,T,!0).set(J,N);}};};l.i4=function(J,N,R,T){if(!u(R))throw new TypeError();p(T) || (T=t(T));f(R,T,!0).set(J,N);};l.cNb=function(J,N){var R;if(!u(N))throw new TypeError();p(R) || (R=t(R));return k(J,N,R);};l.Woa=function(J,N){var R;if(!u(N))throw new TypeError();p(R) || (R=t(R));return d(J,N,R);};l.getMetadata=function(J,N,R){if(!u(N))throw new TypeError();p(R) || (R=t(R));return g(J,N,R);};l.M0a=function(J,N,R){if(!u(N))throw new TypeError();p(R) || (R=t(R));return n(J,N,R);};l.ugc=function(J,N){if(!u(J))throw new TypeError();p(N) || (N=t(N));return h(J,N);};l.wgc=function(J,N){if(!u(J))throw new TypeError();p(N) || (N=t(N));return m(J,N);};l.zfc=function(J,N,R){var T;if(!u(N))throw new TypeError();p(R) || (R=t(R));T=f(N,R,!1);if(p(T) || !T.delete(J))return !1;if(0 < T.size)return !0;J=H.get(N);J.delete(R);if(0 < J.size)return !0;H.delete(N);return !0;};(function(J){if("undefined" !== typeof J.Reflect){if(J.Reflect !== l)for(var N in l){F.call(l,N) && (J.Reflect[N]=l[N]);}}else J.Reflect=l;})("undefined" !== typeof ob?ob:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.r5?a.r5:Function("return this;")());})(c || (c={}));},63671:function(r,b,a){var c,l,f,k;b=a(62680);c=a(67286);l=a(58786);f=b("RegExp.prototype.exec");k=c("%TypeError%");r.exports=function(d){if(!l(d))throw new k("`regex` must be a RegExp");return function(g){return null !== f(d,g);};};},15913:function(r,b,a){var d;function c(g,n,h){this.MK=!1 === g;this.Rn=g || .01;this.kda=void 0 === n?25:n;this.fCa=void 0 === h?1.1:h;this.tj=new d(l);this.reset();}function l(g,n){return g.Hf > n.Hf?1:g.Hf < n.Hf?-1:0;}function f(g,n){return g.Lv - n.Lv;}function k(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.Rn:!1);this.DDb=this.config.ratio || .9;this.EDb=this.config.Ijc || 1E3;this.y8=0;}d=a(35558).Bnb;c.prototype.reset=function(){this.tj.clear();this.Hqa=this.n=0;};c.prototype.size=function(){return this.tj.size;};c.prototype.wk=function(g){var n;n=[];g?(this.p1(!0),this.tj.yp(function(h){n.push(h);})):this.tj.yp(function(h){n.push({Hf:h.Hf,n:h.n});});return n;};c.prototype.summary=function(){return [(this.MK?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.wi(0),"Q1  = " + this.wi(.25),"Q2  = " + this.wi(.5),"Q3  = " + this.wi(.75),"max = " + this.wi(1)].join("\n");};c.prototype.push=function(g,n){n=n || 1;g=Array.isArray(g)?g:[g];for(var h=0;h < g.length;h++){this.JPa(g[h],n);}};c.prototype.Zua=function(g){g=Array.isArray(g)?g:[g];for(var n=0;n < g.length;n++){this.JPa(g[n].Hf,g[n].n);}};c.prototype.p1=function(g){var n;if(!(this.n === this.Hqa || !g && this.fCa && this.fCa > this.n / this.Hqa)){n=0;this.tj.yp(function(h){h.Lv=n + h.n / 2;n=h.DK=n + h.n;});this.n=this.Hqa=n;}};c.prototype.jHb=function(g){var n,h;if(0 === this.size())return null;n=this.tj.lowerBound({Hf:g});h=null === n.data()?n.lH():n.data();return h.Hf === g || this.MK?h:(n=n.lH()) && Math.abs(n.Hf - g) < Math.abs(h.Hf - g)?n:h;};c.prototype.NJ=function(g,n,h){this.tj.xt({Hf:g,n:n,DK:h});this.n+=n;};c.prototype.f1=function(g,n,h){n !== g.Hf && (g.Hf+=h * (n - g.Hf) / (g.n + h));g.DK+=h;g.Lv+=h / 2;g.n+=h;this.n+=h;};c.prototype.JPa=function(g,n){var h,m,p;h=this.tj.min();m=this.tj.max();p=this.jHb(g);p && p.Hf === g?this.f1(p,g,n):p === h?this.NJ(g,n,0):p === m?this.NJ(g,n,this.n):this.MK?this.NJ(g,n,p.DK):(h=p.Lv / this.n,Math.floor(4 * this.n * this.Rn * h * (1 - h)) - p.n >= n?this.f1(p,g,n):this.NJ(g,n,p.DK));this.p1(!1);!this.MK && this.kda && this.size() > this.kda / this.Rn && this.Qx();};c.prototype.Jvb=function(g){var n,h;this.tj.zs=f;n=this.tj.upperBound({Lv:g});this.tj.zs=l;h=n.lH();g=h && h.Lv === g?h:n.next();return [h,g];};c.prototype.wi=function(g){var n;n=(Array.isArray(g)?g:[g]).map(this.erb,this);return Array.isArray(g)?n:n[0];};c.prototype.erb=function(g){var n,h;if(0 !== this.size()){this.p1(!0);this.tj.min();this.tj.max();g*=this.n;n=this.Jvb(g);h=n[0];n=n[1];return n === h || null === h || null === n?(h || n).Hf:this.MK?g <= h.DK?h.Hf:n.Hf:h.Hf + (g - h.Lv) * (n.Hf - h.Hf) / (n.Lv - h.Lv);}};c.prototype.Qx=function(){var g;if(!this.DVa){g=this.wk();this.reset();for(this.DVa=!0;0 < g.length;){this.Zua(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.p1(!0);this.DVa=!1;}};k.prototype=Object.create(c.prototype);k.prototype.constructor=k;k.prototype.push=function(g){c.prototype.push.call(this,g);this.Pxb();};k.prototype.NJ=function(g,n,h){this.y8+=1;c.prototype.NJ.call(this,g,n,h);};k.prototype.f1=function(g,n,h){1 === g.n && --this.y8;c.prototype.f1.call(this,g,n,h);};k.prototype.Pxb=function(){!("auto" !== this.mode || this.size() < this.EDb) && this.y8 / this.size() > this.DDb && (this.mode="cont",this.MK=!1,this.Rn=this.config.Rn || .01,this.Qx());};r.exports={TDigest:c,Digest:k};},5163:function(r,b,a){var I,M;function c(){c=Object.assign || (function(L){for(var K,O=1,H=arguments.length;O < H;O++){K=arguments[O];for(var J in K){Object.prototype.hasOwnProperty.call(K,J) && (L[J]=K[J]);}}return L;});return c.apply(this,arguments);}function l(L,K){l=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(O,H){O.__proto__=H;}) || (function(O,H){for(var J in H){Object.prototype.hasOwnProperty.call(H,J) && (O[J]=H[J]);}});return l(L,K);}function f(L,K){function O(){this.constructor=L;}if("function" !== typeof K && null !== K)throw new TypeError("Class extends value " + String(K) + " is not a constructor or null");l(L,K);L.prototype=null === K?Object.create(K):(O.prototype=K.prototype,new O());}function k(L,K){var O,H,J;O={};for(H in L){Object.prototype.hasOwnProperty.call(L,H) && 0 > K.indexOf(H) && (O[H]=L[H]);}if(null != L && "function" === typeof Object.getOwnPropertySymbols){J=0;for(H=Object.getOwnPropertySymbols(L);J < H.length;J++){0 > K.indexOf(H[J]) && Object.prototype.propertyIsEnumerable.call(L,H[J]) && (O[H[J]]=L[H[J]]);}}return O;}function d(L,K,O,H){var J,N,R;J=arguments.length;N=3 > J?K:null === H?H=Object.getOwnPropertyDescriptor(K,O):H;if("object" === typeof Reflect && "function" === typeof Reflect.dB)N=Reflect.dB(L,K,O,H);else for(var T=L.length - 1;0 <= T;T--){if(R=L[T])N=(3 > J?R(N):3 < J?R(K,O,N):R(K,O)) || N;}return (3 < J && N && Object.defineProperty(K,O,N),N);}function g(L,K){return function(O,H){K(O,H,L);};}function n(L,K){if("object" === typeof Reflect && "function" === typeof Reflect.Vd)return Reflect.Vd(L,K);}function h(L,K,O,H){function J(N){return N instanceof O?N:new O(function(R){R(N);});}return new (O || (O=Promise))(function(N,R){function T(ia){try{sa(H.next(ia));}catch(wa){R(wa);}}function ka(ia){try{sa(H["throw"](ia));}catch(wa){R(wa);}}function sa(ia){ia.done?N(ia.value):J(ia.value).then(T,ka);}sa((H=H.apply(L,K || [])).next());});}function m(L,K){var J,N,R,T,ka;function O(sa){return function(ia){return H([sa,ia]);};}function H(sa){if(N)throw new TypeError("Generator is already executing.");for(;(ka && (ka=0,sa[0] && (J=0)),J);){try{if((N=1,R && (T=sa[0] & 2?R["return"]:sa[0]?R["throw"] || ((T=R["return"]) && T.call(R),0):R.next) && !(T=T.call(R,sa[1])).done))return T;if((R=0,T))sa=[sa[0] & 2,T.value];switch(sa[0]){case 0:case 1:T=sa;break;case 4:return (J.label++,{value:sa[1],done:!1});case 5:J.label++;R=sa[1];sa=[0];continue;case 7:sa=J.VG.pop();J.Rj.pop();continue;default:if(!(T=J.Rj,T=0 < T.length && T[T.length - 1]) && (6 === sa[0] || 2 === sa[0])){J=0;continue;}if(3 === sa[0] && (!T || sa[1] > T[0] && sa[1] < T[3]))J.label=sa[1];else if(6 === sa[0] && J.label < T[1])(J.label=T[1],T=sa);else if(T && J.label < T[2])(J.label=T[2],J.VG.push(sa));else {T[2] && J.VG.pop();J.Rj.pop();continue;}}sa=K.call(L,J);}catch(ia){sa=[6,ia];R=0;}finally{N=T=0;}}if(sa[0] & 5)throw sa[1];return {value:sa[0]?sa[1]:void 0,done:!0};}J={label:0,Ua:function(){if(T[0] & 1)throw T[1];return T[1];},Rj:[],VG:[]};return (ka={next:O(0),"throw":O(1),"return":O(2)},"function" === typeof Symbol && (ka[Symbol.iterator]=function(){return this;}),ka);}function p(L,K){for(var O in L){"default" === O || Object.prototype.hasOwnProperty.call(K,O) || I(K,L,O);}}function q(L){var K,O,H;K="function" === typeof Symbol && Symbol.iterator;O=K && L[K];H=0;if(O)return O.call(L);if(L && "number" === typeof L.length)return {next:function(){L && H >= L.length && (L=void 0);return {value:L && L[H++],done:!L};}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(L,K){var O,H,J;O="function" === typeof Symbol && L[Symbol.iterator];if(!O)return L;L=O.call(L);J=[];try{for(;(void 0 === K || 0 < K--) && !(H=L.next()).done;){J.push(H.value);}}catch(R){var N;N={error:R};}finally{try{H && !H.done && (O=L["return"]) && O.call(L);}finally{if(N)throw N.error;}}return J;}function t(){for(var L=[],K=0;K < arguments.length;K++){L=L.concat(u(arguments[K]));}return L;}function w(){var H;for(var L=0,K=0,O=arguments.length;K < O;K++){L+=arguments[K].length;}L=Array(L);H=0;for(K=0;K < O;K++){for(var J=arguments[K],N=0,R=J.length;N < R;(N++,H++)){L[H]=J[N];}}return L;}function v(L,K,O){if(O || 2 === arguments.length)for(var H=0,J=K.length,N;H < J;H++){!N && (H in K) || (N || (N=Array.prototype.slice.call(K,0,H)),N[H]=K[H]);}return L.concat(N || Array.prototype.slice.call(K));}function y(L){return this instanceof y?(this.Waa=L,this):new y(L);}function x(L,K,O){var ka,sa,ia;function H(wa){ka[wa] && (sa[wa]=function(Aa){return new Promise(function(La,Ya){1 < ia.push([wa,Aa,La,Ya]) || J(wa,Aa);});});}function J(wa,Aa){var La;try{La=ka[wa](Aa);La.value instanceof y?Promise.resolve(La.value.Waa).then(N,R):T(ia[0][2],La);}catch(Ya){T(ia[0][3],Ya);}}function N(wa){J("next",wa);}function R(wa){J("throw",wa);}function T(wa,Aa){(wa(Aa),ia.shift(),ia.length) && J(ia[0][0],ia[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");ka=O.apply(L,K || []);ia=[];return (sa={},H("next"),H("throw"),H("return"),sa[Symbol.asyncIterator]=function(){return this;},sa);}function z(L){var O,H;function K(J,N){O[J]=L[J]?function(R){return (H=!H)?{value:y(L[J](R)),done:"return" === J}:N?N(R):R;}:N;}return (O={},K("next"),K("throw",function(J){throw J;}),K("return"),O[Symbol.iterator]=function(){return this;},O);}function A(L){var H,J;function K(N){J[N]=L[N] && (function(R){return new Promise(function(T,ka){R=L[N](R);O(T,ka,R.done,R.value);});});}function O(N,R,T,ka){Promise.resolve(ka).then(function(sa){N({value:sa,done:T});},R);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=L[Symbol.asyncIterator];return H?H.call(L):(L="function" === typeof q?q(L):L[Symbol.iterator](),J={},K("next"),K("throw"),K("return"),J[Symbol.asyncIterator]=function(){return this;},J);}function B(L,K){Object.defineProperty?Object.defineProperty(L,"raw",{value:K}):L.raw=K;return L;}function C(L){var K;if(L && L.__esModule)return L;K={};if(null != L)for(var O in L){"default" !== O && Object.prototype.hasOwnProperty.call(L,O) && I(K,L,O);}M(K,L);return K;}function D(L){return L && L.__esModule?L:{default:L};}function F(L,K,O,H){if("a" === O && !H)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof K?L !== K || !H:!K.has(L))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === O?H:"a" === O?H.call(L):H?H.value:K.get(L);}function G(L,K,O,H,J){if("m" === H)throw new TypeError("Private method is not writable");if("a" === H && !J)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof K?L !== K || !J:!K.has(L))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === H?J.call(L,O):J?J.value=O:K.set(L,O),O);}function E(L,K){if(null === K || "object" !== typeof K && "function" !== typeof K)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof L?K === L:L.has(K);}a.r(b);a.d(b,{__assign:function(){return c;},__asyncDelegator:function(){return z;},__asyncGenerator:function(){return x;},__asyncValues:function(){return A;},__await:function(){return y;},__awaiter:function(){return h;},__classPrivateFieldGet:function(){return F;},__classPrivateFieldIn:function(){return E;},__classPrivateFieldSet:function(){return G;},__createBinding:function(){return I;},__decorate:function(){return d;},__exportStar:function(){return p;},__extends:function(){return f;},__generator:function(){return m;},__importDefault:function(){return D;},__importStar:function(){return C;},__makeTemplateObject:function(){return B;},__metadata:function(){return n;},__param:function(){return g;},__read:function(){return u;},__rest:function(){return k;},__spread:function(){return t;},__spreadArray:function(){return v;},__spreadArrays:function(){return w;},__values:function(){return q;}});I=Object.create?function(L,K,O,H){var J;void 0 === H && (H=O);J=Object.getOwnPropertyDescriptor(K,O);if(!J || (("get" in J)?!K.__esModule:J.writable || J.configurable))J={enumerable:!0,get:function(){return K[O];}};Object.defineProperty(L,H,J);}:function(L,K,O,H){void 0 === H && (H=O);L[H]=K[O];};M=Object.create?function(L,K){Object.defineProperty(L,"default",{enumerable:!0,value:K});}:function(L,K){L["default"]=K;};},794:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;c=a(67286)("%TypeError%");l=a(57017);f=a(32249);k=a(70126);d=a(38476);g=a(38733);n=a(80907);h=a(4);m=a(83891);p=a(18132);r.exports=function(q,u,t){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!n(u))throw new c("Assertion failed: IsPropertyKey(P) is not true");t=l({COa:p,HGa:g,GGa:d},t)?t:m(t);if(!l({COa:p,HGa:g,GGa:d},t))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return f(g,h,k,q,u,t);};},70126:function(r,b,a){var c,l,f;c=a(10487);l=a(84902);f=a(18132);r.exports=function(k){"undefined" !== typeof k && c(f,"Property Descriptor","Desc",k);return l(k);};},38476:function(r,b,a){var c,l,f;c=a(23198);l=a(10487);f=a(18132);r.exports=function(k){if("undefined" === typeof k)return !1;l(f,"Property Descriptor","Desc",k);return c(k,"[[Get]]") || c(k,"[[Set]]")?!0:!1;};},83317:function(r,b,a){r.exports=a(9680);},20451:function(r,b,a){var c,l,f;c=a(90982)("%Reflect.construct%",!0);b=a(794);try{b({},"",{"[[Get]]":function(){}});}catch(k){b=null;}if(b && c){l={};f={};b(f,"length",{"[[Get]]":function(){throw l;},"[[Enumerable]]":!0});r.exports=function(k){try{c(k,f);}catch(d){return d === l;}};}else r.exports=function(k){return "function" === typeof k && !!k.prototype;};},38733:function(r,b,a){var c,l,f;c=a(23198);l=a(10487);f=a(18132);r.exports=function(k){if("undefined" === typeof k)return !1;l(f,"Property Descriptor","Desc",k);return c(k,"[[Value]]") || c(k,"[[Writable]]")?!0:!1;};},80907:function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},77850:function(r,b,a){r.exports=a(94566);},4:function(r,b,a){var c;c=a(97911);r.exports=function(l,f){return l === f?0 === l?1 / l === 1 / f:!0:c(l) && c(f);};},99939:function(r,b,a){var c;c=a(97911);r.exports=function(l,f){return l === f || c(l) && c(f);};},88251:function(r,b,a){var c,l,f,k;b=a(67286);c=b("%Symbol.species%",!0);l=b("%TypeError%");f=a(20451);k=a(18132);r.exports=function(d,g){if("Object" !== k(d))throw new l("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return g;if("Object" !== k(d))throw new l("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return g;if(f(d))return d;throw new l("no constructor found");};},14463:function(r){r.exports=function(b){return !!b;};},76113:function(r,b,a){var c,l,f,k,d,g;c=a(46382);l=a(26827);f=a(84583);k=a(97911);d=a(51832);g=a(79747);r.exports=function(n){var h;n=f(n);if(k(n) || 0 === n)return 0;if(!d(n))return n;h=l(c(n));return 0 === h?0:g(n) * h;};},69808:function(r,b,a){var c,l;c=a(74339);l=a(76113);r.exports=function(f){f=l(f);return 0 >= f?0:f > c?c:f;};},84583:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w;c=a(67286);l=c("%TypeError%");f=c("%Number%");b=c("%RegExp%");k=c("%parseInt%");c=a(62680);d=a(63671);g=a(45819);n=c("String.prototype.slice");h=d(/^0b[01]+$/i);m=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);u=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;t=c("String.prototype.replace");w=a(99197);r.exports=function x(y){var z;y=g(y)?y:w(y,f);if("symbol" === typeof y)throw new l("Cannot convert a Symbol value to a number");if("bigint" === typeof y)throw new l("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof y){if(h(y))return x(k(n(y,2),2));if(m(y))return x(k(n(y,2),8));if(q(y) || p(y))return NaN;z=t(y,u,"");if(z !== y)return x(z);}return f(y);};},48668:function(r,b,a){var c,l;c=a(67286)("%Object%");l=a(77850);r.exports=function(f){l(f);return c(f);};},99197:function(r,b,a){var c;c=a(5885);r.exports=function(l){return 1 < arguments.length?c(l,arguments[1]):c(l);};},83891:function(r,b,a){var c,l,f,k,d;c=a(23198);l=a(67286)("%TypeError%");f=a(18132);k=a(14463);d=a(83317);r.exports=function(g){var n,h;if("Object" !== f(g))throw new l("ToPropertyDescriptor requires an object");n={};c(g,"enumerable") && (n["[[Enumerable]]"]=k(g.enumerable));c(g,"configurable") && (n["[[Configurable]]"]=k(g.configurable));c(g,"value") && (n["[[Value]]"]=g.value);c(g,"writable") && (n["[[Writable]]"]=k(g.writable));if(c(g,"get")){h=g.get;if("undefined" !== typeof h && !d(h))throw new l("getter must be a function");n["[[Get]]"]=h;}if(c(g,"set")){g=g.set;if("undefined" !== typeof g && !d(g))throw new l("setter must be a function");n["[[Set]]"]=g;}if((c(n,"[[Get]]") || c(n,"[[Set]]")) && (c(n,"[[Value]]") || c(n,"[[Writable]]")))throw new l("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n;};},18132:function(r,b,a){var c;c=a(96222);r.exports=function(l){return "symbol" === typeof l?"Symbol":"bigint" === typeof l?"BigInt":c(l);};},46382:function(r,b,a){var c;c=a(67286)("%Math.abs%");r.exports=function(l){return c(l);};},26827:function(r,b,a){var c,l;c=a(18132);l=Math.floor;r.exports=function(f){return "BigInt" === c(f)?f:l(f);};},94566:function(r,b,a){var c;c=a(67286)("%TypeError%");r.exports=function(l,f){if(null == l)throw new c(f || "Cannot call method on " + l);return l;};},96222:function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},90982:function(r,b,a){r.exports=a(67286);},32249:function(r,b,a){var c,l,f,k,d;b=a(81181);c=a(67286);l=b() && c("%Object.defineProperty%",!0);f=b.VMb();k=f && a(27595);d=a(62680)("Object.prototype.propertyIsEnumerable");r.exports=function(g,n,h,m,p,q){if(!l){if(!g(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in m) && d(m,p) !== !!q["[[Enumerable]]"])return !1;g=q["[[Value]]"];m[p]=g;return n(m[p],g);}if(f && "length" === p && ("[[Value]]" in q) && k(m) && m.length !== q["[[Value]]"])return (m.length=q["[[Value]]"],m.length === q["[[Value]]"]);l(m,p,h(q));return !0;};},27595:function(r,b,a){var c;b=a(67286)("%Array%");c=!b.isArray && a(62680)("Object.prototype.toString");r.exports=b.isArray || (function(l){return "[object Array]" === c(l);});},10487:function(r,b,a){var c,l,f,k;b=a(67286);c=b("%TypeError%");l=b("%SyntaxError%");f=a(23198);k={"Property Descriptor":function(d){var g,n;g={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(n in d){if(f(d,n) && !g[n])return !1;}g=f(d,"[[Value]]");d=f(d,"[[Get]]") || f(d,"[[Set]]");if(g && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(40508),"Iterator Record":function(d){return f(d,"[[Iterator]]") && f(d,"[[NextMethod]]") && f(d,"[[Done]]");},"PromiseCapability Record":function(d){return d && f(d,"[[Resolve]]") && "function" === typeof d["[[Resolve]]"] && f(d,"[[Reject]]") && "function" === typeof d["[[Reject]]"] && f(d,"[[Promise]]") && d["[[Promise]]"] && "function" === typeof d["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(d){return d && f(d,"[[Completion]]") && f(d,"[[Capability]]") && k["PromiseCapability Record"](d["[[Capability]]"]);}};r.exports=function(d,g,n,h){var m;m=k[g];if("function" !== typeof m)throw new l("unknown record type: " + g);if("Object" !== d(h) || !m(h))throw new c(n + " must be a " + g);};},84902:function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},51832:function(r,b,a){var c;c=a(97911);r.exports=function(l){return ("number" === typeof l || "bigint" === typeof l) && !c(l) && Infinity !== l && -Infinity !== l;};},40508:function(r,b,a){var c;c=a(23198);r.exports=function(l){return c(l,"[[StartIndex]]") && c(l,"[[EndIndex]]") && 0 <= l["[[StartIndex]]"] && l["[[EndIndex]]"] >= l["[[StartIndex]]"] && String(parseInt(l["[[StartIndex]]"],10)) === String(l["[[StartIndex]]"]) && String(parseInt(l["[[EndIndex]]"],10)) === String(l["[[EndIndex]]"]);};},97911:function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},45819:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},57017:function(r,b,a){var c,l;b=a(67286);c=a(23198);l=b("%TypeError%");r.exports=function(f,k){var d,g;if("Object" !== f.COa(k))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(g in k){if(c(k,g) && !d[g])return !1;}if(f.HGa(k) && f.GGa(k))throw new l("Property Descriptors may not be both accessor and data descriptors");return !0;};},74339:function(r,b,a){a=a(67286);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},79747:function(r){r.exports=function(b){return 0 <= b?1:-1;};}};Oa={};(function(){pa.d=function(r,b){for(var a in b){pa.P7a(b,a) && !pa.P7a(r,a) && Object.defineProperty(r,a,{enumerable:!0,get:b[a]});}};})();(function(){pa.r5=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(r){if("object" === typeof ob)return ob;}})();})();(function(){pa.P7a=function(r,b){return Object.prototype.hasOwnProperty.call(r,b);};})();(function(){pa.r=function(r){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});Object.defineProperty(r,"__esModule",{value:!0});};})();pa(1738);pa(30026)();pa(65574)();ob._cad_global={};ob.DEBUG=!1;pa(33096);pa(22365);pa(32687);pa(3887);pa(52569);pa(8825);pa(87051);pa(22894);pa(32219);pa(24066);pa(45146);pa(94886);pa(37509);pa(2734);pa(77705);pa(31298);pa(15208);pa(981);pa(73100);pa(7953);pa(15531);pa(97154);pa(33579);pa(50350);pa(75876);pa(19630);pa(59416);pa(50040);pa(70);pa(29204);pa(99732);pa(52828);pa(1481);pa(61726);pa(24427);pa(62604);pa(78857);pa(74413);pa(84281);pa(991);pa(46493);pa(24674);pa(93114);pa(36792);pa(43422);pa(74098);pa(86258);pa(18128);pa(45526);pa(90762);pa(73056);pa(67263);pa(53754);pa(20318);pa(70632);pa(59032);pa(45706);pa(3390);pa(2898);pa(76563);pa(39480);pa(13044);pa(62439);pa(6305);pa(42654);pa(78719);pa(59405);pa(58343);pa(59219);pa(61524);pa(13777);pa(41325);pa(42433);pa(30689);pa(66093);})();}).call(ob);})(window);}).call(window);